file,type,line,method,source
/test/setup.js,NonFunctionalStatement,"{'startLine':19,'endLine':19}",Unknown,snuts
/test/setup.js,NonFunctionalStatement,"{'startLine':20,'endLine':20}",Unknown,snuts
/test/setup.js,NonFunctionalStatement,"{'startLine':33,'endLine':33}",Unknown,snuts
/test/index.js,IdenticalTestDescription,"{'startLine':99,'endLine':113}","it('should load the image', (done) => {
      const node = document.querySelector('img')
      const newSrc = Math.random()
        .toString(36)
        .substring(7)
      const observer = lozad(node)
      observer.observe()
      assert.strictEqual('true', node.dataset.loaded)
      assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      node.dataset.src = newSrc
      setTimeout(() => {
        assert.notStrictEqual(node.getAttribute('src'), newSrc)
        done()
      }, 200) // Reduzido o tempo para o teste rodar mais rápido
    })",snuts
/test/index.js,IdenticalTestDescription,"{'startLine':203,'endLine':217}","it('should load the image with data-background-image-set attribute', () => {
      const bgImageSetAttr = 'url(""photo.jpg"") 1x, url(""photo@2x.jpg"") 2x'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.style.background = 'white'
      image.setAttribute('data-background-image-set', bgImageSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // O teste original aqui estava complexo e testando a implementação do navegador.
      // Simplificamos para checar se a imagem principal foi carregada.
      assert(
        image.style.backgroundImage.includes('photo.jpg')
      )
    })",snuts
/test/index.js,IdenticalTestDescription,"{'startLine':219,'endLine':231}","it('should load the image with data-background-image-set attribute', () => {
      const bgImageSetAttr = 'url(""photo.jpg"") 1x'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-background-image-set', bgImageSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // LINHA CORRIGIDA:
      assert(
        image.style.backgroundImage.includes('photo.jpg')
      )
    })",snuts
/test/index.js,IdenticalTestDescription,"{'startLine':418,'endLine':422}","it('should not toggle till observe function is called', () => {
      lozad()
      const el = document.querySelectorAll('video')[0]
      assert.strictEqual(false, el.classList.contains('test'))
    })",snuts
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 63}","it('should load an image after observe function is called', () => {
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.getAttribute('src'), image.dataset.src)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 64}","it('should load an image after observe function is called', () => {
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.getAttribute('src'), image.dataset.src)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 84}","it('should load the image', () => {
      const className = 'test-class'
      const observer = lozad('.' + className)
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', className)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.getAttribute('src'), image.dataset.src)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 85}","it('should load the image', () => {
      const className = 'test-class'
      const observer = lozad('.' + className)
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', className)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.getAttribute('src'), image.dataset.src)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 106}","it('should load the image', (done) => {
      const node = document.querySelector('img')
      const newSrc = Math.random()
        .toString(36)
        .substring(7)
      const observer = lozad(node)
      observer.observe()
      assert.strictEqual('true', node.dataset.loaded)
      assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      node.dataset.src = newSrc
      setTimeout(() => {
        assert.notStrictEqual(node.getAttribute('src'), newSrc)
        done()
      }, 200) // Reduzido o tempo para o teste rodar mais rápido
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 107}","it('should load the image', (done) => {
      const node = document.querySelector('img')
      const newSrc = Math.random()
        .toString(36)
        .substring(7)
      const observer = lozad(node)
      observer.observe()
      assert.strictEqual('true', node.dataset.loaded)
      assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      node.dataset.src = newSrc
      setTimeout(() => {
        assert.notStrictEqual(node.getAttribute('src'), newSrc)
        done()
      }, 200) // Reduzido o tempo para o teste rodar mais rápido
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 151}","it('should load the images', () => {
      const nodes = document.querySelectorAll('img')
      const observer = lozad(nodes)
      observer.observe()
      assert.strictEqual(nodes.length, 2)
      nodes.forEach(node => {
        assert.strictEqual('true', node.dataset.loaded)
        assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      })
    })",steel
/test/index.js,Assertion Roulette,"{'column': 8, 'line': 153}","it('should load the images', () => {
      const nodes = document.querySelectorAll('img')
      const observer = lozad(nodes)
      observer.observe()
      assert.strictEqual(nodes.length, 2)
      nodes.forEach(node => {
        assert.strictEqual('true', node.dataset.loaded)
        assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      })
    })",steel
/test/index.js,Assertion Roulette,"{'column': 8, 'line': 154}","it('should load the images', () => {
      const nodes = document.querySelectorAll('img')
      const observer = lozad(nodes)
      observer.observe()
      assert.strictEqual(nodes.length, 2)
      nodes.forEach(node => {
        assert.strictEqual('true', node.dataset.loaded)
        assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      })
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 173}","it('should load the image with data-srcset attribute', () => {
      const dataSrcSetAttr = 'test-srcset'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-srcset', dataSrcSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.getAttribute('srcset'), dataSrcSetAttr)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 174}","it('should load the image with data-srcset attribute', () => {
      const dataSrcSetAttr = 'test-srcset'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-srcset', dataSrcSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.getAttribute('srcset'), dataSrcSetAttr)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 184}","it('should load the image with data-background-image attribute', () => {
      const bgImageAttr = 'test-bg-image'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-background-image', bgImageAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // ESTA LINHA FOI CORRIGIDA (como você já tinha feito):
      assert(image.style.backgroundImage.includes('test-bg-image'))
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 186}","it('should load the image with data-background-image attribute', () => {
      const bgImageAttr = 'test-bg-image'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-background-image', bgImageAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // ESTA LINHA FOI CORRIGIDA (como você já tinha feito):
      assert(image.style.backgroundImage.includes('test-bg-image'))
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 196}","it('should load the image with data-background-image-set attribute', () => {
      const bgImageSetAttr = 'url(""photo.jpg"")'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-background-image-set', bgImageSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // LINHA CORRIGIDA:
      assert(
        image.style.backgroundImage.includes('photo.jpg')
      )
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 198}","it('should load the image with data-background-image-set attribute', () => {
      const bgImageSetAttr = 'url(""photo.jpg"")'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-background-image-set', bgImageSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // LINHA CORRIGIDA:
      assert(
        image.style.backgroundImage.includes('photo.jpg')
      )
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 211}","it('should load the image with data-background-image-set attribute', () => {
      const bgImageSetAttr = 'url(""photo.jpg"") 1x, url(""photo@2x.jpg"") 2x'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.style.background = 'white'
      image.setAttribute('data-background-image-set', bgImageSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // O teste original aqui estava complexo e testando a implementação do navegador.
      // Simplificamos para checar se a imagem principal foi carregada.
      assert(
        image.style.backgroundImage.includes('photo.jpg')
      )
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 214}","it('should load the image with data-background-image-set attribute', () => {
      const bgImageSetAttr = 'url(""photo.jpg"") 1x, url(""photo@2x.jpg"") 2x'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.style.background = 'white'
      image.setAttribute('data-background-image-set', bgImageSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // O teste original aqui estava complexo e testando a implementação do navegador.
      // Simplificamos para checar se a imagem principal foi carregada.
      assert(
        image.style.backgroundImage.includes('photo.jpg')
      )
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 226}","it('should load the image with data-background-image-set attribute', () => {
      const bgImageSetAttr = 'url(""photo.jpg"") 1x'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-background-image-set', bgImageSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // LINHA CORRIGIDA:
      assert(
        image.style.backgroundImage.includes('photo.jpg')
      )
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 228}","it('should load the image with data-background-image-set attribute', () => {
      const bgImageSetAttr = 'url(""photo.jpg"") 1x'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-background-image-set', bgImageSetAttr)
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      // LINHA CORRIGIDA:
      assert(
        image.style.backgroundImage.includes('photo.jpg')
      )
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 240}","it('should load the image with data-placeholder-background attribute', () => {
      const image = document.querySelectorAll('img')[0]
      const bgImageSetAttr = 'red'
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-placeholder-background', bgImageSetAttr)
      const observer = lozad()
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.style.cssText, 'background: red;')
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 241}","it('should load the image with data-placeholder-background attribute', () => {
      const image = document.querySelectorAll('img')[0]
      const bgImageSetAttr = 'red'
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-placeholder-background', bgImageSetAttr)
      const observer = lozad()
      observer.observe()
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.style.cssText, 'background: red;')
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 264}","it('should not load elements by default when custom load option is passed in', () => {
      const observer = lozad('.lozad', {
        load(element) {
          element.classList.add('loaded')
        }
      })
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      observer.observe()
      assert.strictEqual(true, image.classList.contains('loaded'))
      assert.strictEqual(null, image.getAttribute('src'))
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 265}","it('should not load elements by default when custom load option is passed in', () => {
      const observer = lozad('.lozad', {
        load(element) {
          element.classList.add('loaded')
        }
      })
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      observer.observe()
      assert.strictEqual(true, image.classList.contains('loaded'))
      assert.strictEqual(null, image.getAttribute('src'))
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 289}","it('should set data attribute when loaded option is passed in', () => {
      const observer = lozad('.lozad', {
        loaded(element) {
          element.classList.add('loaded')
        }
      })
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      observer.observe()
      assert.strictEqual(true, image.classList.contains('loaded'))
      assert.strictEqual('true', image.dataset.loaded)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 290}","it('should set data attribute when loaded option is passed in', () => {
      const observer = lozad('.lozad', {
        loaded(element) {
          element.classList.add('loaded')
        }
      })
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      observer.observe()
      assert.strictEqual(true, image.classList.contains('loaded'))
      assert.strictEqual('true', image.dataset.loaded)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 312}","it('should load image via triggerLoad function', () => {
      const dataSrcSetAttr = 'test-srcset'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-srcset', dataSrcSetAttr)
      observer.triggerLoad(image)
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.getAttribute('src'), image.dataset.src)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 313}","it('should load image via triggerLoad function', () => {
      const dataSrcSetAttr = 'test-srcset'
      const observer = lozad()
      const image = document.querySelectorAll('img')[0]
      image.setAttribute('class', 'lozad')
      image.setAttribute('data-srcset', dataSrcSetAttr)
      observer.triggerLoad(image)
      assert.strictEqual('true', image.dataset.loaded)
      assert.strictEqual(image.getAttribute('src'), image.dataset.src)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 428}","it('should toggle class and poster value after observe function is called', () => {
      const observer = lozad()
      const el = document.querySelectorAll('video')[0]
      observer.observe()
      assert.strictEqual(true, el.classList.contains('test'))
      assert.strictEqual(el.dataset.poster, el.poster)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 429}","it('should toggle class and poster value after observe function is called', () => {
      const observer = lozad()
      const el = document.querySelectorAll('video')[0]
      observer.observe()
      assert.strictEqual(true, el.classList.contains('test'))
      assert.strictEqual(el.dataset.poster, el.poster)
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 445}","it('should export the IntersectionObserver instance and MutationObserver instance', () => {
      const observer = lozad()

      assert.strictEqual(true, Object.keys(observer).includes('observer'))
      assert.strictEqual(
        true,
        Object.keys(observer).includes('mutationObserver')
      )
    })",steel
/test/index.js,Assertion Roulette,"{'column': 6, 'line': 446}","it('should export the IntersectionObserver instance and MutationObserver instance', () => {
      const observer = lozad()

      assert.strictEqual(true, Object.keys(observer).includes('observer'))
      assert.strictEqual(
        true,
        Object.keys(observer).includes('mutationObserver')
      )
    })",steel
/test/index.js,Magic Number,"{'line': 151, 'column': 39, 'index': 4807}","it('should load the images', () => {
      const nodes = document.querySelectorAll('img')
      const observer = lozad(nodes)
      observer.observe()
      assert.strictEqual(nodes.length, 2)
      nodes.forEach(node => {
        assert.strictEqual('true', node.dataset.loaded)
        assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      })
    })",steel
/test/index.js,Sleepy Test,"{'line': 109, 'column': 6, 'index': 3388}","it('should load the image', (done) => {
      const node = document.querySelector('img')
      const newSrc = Math.random()
        .toString(36)
        .substring(7)
      const observer = lozad(node)
      observer.observe()
      assert.strictEqual('true', node.dataset.loaded)
      assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      node.dataset.src = newSrc
      setTimeout(() => {
        assert.notStrictEqual(node.getAttribute('src'), newSrc)
        done()
      }, 200) // Reduzido o tempo para o teste rodar mais rápido
    })",steel
/test/index.js,Sleepy Test,"{'line': 125, 'column': 6, 'index': 3941}","it('should load the new image when sets enableAutoReload true and validating attributes changes', (done) => {
      const node = document.querySelector('img')
      const newSrc = Math.random()
        .toString(36)
        .substring(7)
      const observer = lozad(node, {
        enableAutoReload: true
      })
      observer.observe()
      node.dataset.src = newSrc
      setTimeout(() => {
        assert.strictEqual(node.getAttribute('src'), newSrc)
        done()
      }, 200) // Reduzido o tempo para o teste rodar mais rápido
    })",steel
