file,type,line,frame
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 63}","  61 |       const image = document.querySelectorAll('img')[0]
  62 |       observer.observe()
> 63 |       assert.strictEqual('true', image.dataset.loaded)
     |      ^ Assertion Roulette
  64 |       assert.strictEqual(image.getAttribute('src'), image.dataset.src)
  65 |     })
  66 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 64}","  62 |       observer.observe()
  63 |       assert.strictEqual('true', image.dataset.loaded)
> 64 |       assert.strictEqual(image.getAttribute('src'), image.dataset.src)
     |      ^ Assertion Roulette
  65 |     })
  66 |   })
  67 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 84}","  82 |       image.setAttribute('class', className)
  83 |       observer.observe()
> 84 |       assert.strictEqual('true', image.dataset.loaded)
     |      ^ Assertion Roulette
  85 |       assert.strictEqual(image.getAttribute('src'), image.dataset.src)
  86 |     })
  87 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 85}","  83 |       observer.observe()
  84 |       assert.strictEqual('true', image.dataset.loaded)
> 85 |       assert.strictEqual(image.getAttribute('src'), image.dataset.src)
     |      ^ Assertion Roulette
  86 |     })
  87 |   })
  88 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 106}","  104 |       const observer = lozad(node)
  105 |       observer.observe()
> 106 |       assert.strictEqual('true', node.dataset.loaded)
      |      ^ Assertion Roulette
  107 |       assert.strictEqual(node.getAttribute('src'), node.dataset.src)
  108 |       node.dataset.src = newSrc
  109 |       setTimeout(() => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 107}","  105 |       observer.observe()
  106 |       assert.strictEqual('true', node.dataset.loaded)
> 107 |       assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      |      ^ Assertion Roulette
  108 |       node.dataset.src = newSrc
  109 |       setTimeout(() => {
  110 |         assert.notStrictEqual(node.getAttribute('src'), newSrc)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 151}","  149 |       const observer = lozad(nodes)
  150 |       observer.observe()
> 151 |       assert.strictEqual(nodes.length, 2)
      |      ^ Assertion Roulette
  152 |       nodes.forEach(node => {
  153 |         assert.strictEqual('true', node.dataset.loaded)
  154 |         assert.strictEqual(node.getAttribute('src'), node.dataset.src)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 8, 'line': 153}","  151 |       assert.strictEqual(nodes.length, 2)
  152 |       nodes.forEach(node => {
> 153 |         assert.strictEqual('true', node.dataset.loaded)
      |        ^ Assertion Roulette
  154 |         assert.strictEqual(node.getAttribute('src'), node.dataset.src)
  155 |       })
  156 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 8, 'line': 154}","  152 |       nodes.forEach(node => {
  153 |         assert.strictEqual('true', node.dataset.loaded)
> 154 |         assert.strictEqual(node.getAttribute('src'), node.dataset.src)
      |        ^ Assertion Roulette
  155 |       })
  156 |     })
  157 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 173}","  171 |       image.setAttribute('data-srcset', dataSrcSetAttr)
  172 |       observer.observe()
> 173 |       assert.strictEqual('true', image.dataset.loaded)
      |      ^ Assertion Roulette
  174 |       assert.strictEqual(image.getAttribute('srcset'), dataSrcSetAttr)
  175 |     })
  176 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 174}","  172 |       observer.observe()
  173 |       assert.strictEqual('true', image.dataset.loaded)
> 174 |       assert.strictEqual(image.getAttribute('srcset'), dataSrcSetAttr)
      |      ^ Assertion Roulette
  175 |     })
  176 |
  177 |     it('should load the image with data-background-image attribute', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 184}","  182 |       image.setAttribute('data-background-image', bgImageAttr)
  183 |       observer.observe()
> 184 |       assert.strictEqual('true', image.dataset.loaded)
      |      ^ Assertion Roulette
  185 |       // ESTA LINHA FOI CORRIGIDA (como você já tinha feito):
  186 |       assert(image.style.backgroundImage.includes('test-bg-image'))
  187 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 186}","  184 |       assert.strictEqual('true', image.dataset.loaded)
  185 |       // ESTA LINHA FOI CORRIGIDA (como você já tinha feito):
> 186 |       assert(image.style.backgroundImage.includes('test-bg-image'))
      |      ^ Assertion Roulette
  187 |     })
  188 |     // Handle a single image src
  189 |     it('should load the image with data-background-image-set attribute', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 196}","  194 |       image.setAttribute('data-background-image-set', bgImageSetAttr)
  195 |       observer.observe()
> 196 |       assert.strictEqual('true', image.dataset.loaded)
      |      ^ Assertion Roulette
  197 |       // LINHA CORRIGIDA:
  198 |       assert(
  199 |         image.style.backgroundImage.includes('photo.jpg')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 198}","  196 |       assert.strictEqual('true', image.dataset.loaded)
  197 |       // LINHA CORRIGIDA:
> 198 |       assert(
      |      ^ Assertion Roulette
  199 |         image.style.backgroundImage.includes('photo.jpg')
  200 |       )
  201 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 211}","  209 |       image.setAttribute('data-background-image-set', bgImageSetAttr)
  210 |       observer.observe()
> 211 |       assert.strictEqual('true', image.dataset.loaded)
      |      ^ Assertion Roulette
  212 |       // O teste original aqui estava complexo e testando a implementação do navegador.
  213 |       // Simplificamos para checar se a imagem principal foi carregada.
  214 |       assert("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 214}","  212 |       // O teste original aqui estava complexo e testando a implementação do navegador.
  213 |       // Simplificamos para checar se a imagem principal foi carregada.
> 214 |       assert(
      |      ^ Assertion Roulette
  215 |         image.style.backgroundImage.includes('photo.jpg')
  216 |       )
  217 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 226}","  224 |       image.setAttribute('data-background-image-set', bgImageSetAttr)
  225 |       observer.observe()
> 226 |       assert.strictEqual('true', image.dataset.loaded)
      |      ^ Assertion Roulette
  227 |       // LINHA CORRIGIDA:
  228 |       assert(
  229 |         image.style.backgroundImage.includes('photo.jpg')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 228}","  226 |       assert.strictEqual('true', image.dataset.loaded)
  227 |       // LINHA CORRIGIDA:
> 228 |       assert(
      |      ^ Assertion Roulette
  229 |         image.style.backgroundImage.includes('photo.jpg')
  230 |       )
  231 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 240}","  238 |       const observer = lozad()
  239 |       observer.observe()
> 240 |       assert.strictEqual('true', image.dataset.loaded)
      |      ^ Assertion Roulette
  241 |       assert.strictEqual(image.style.cssText, 'background: red;')
  242 |     })
  243 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 241}","  239 |       observer.observe()
  240 |       assert.strictEqual('true', image.dataset.loaded)
> 241 |       assert.strictEqual(image.style.cssText, 'background: red;')
      |      ^ Assertion Roulette
  242 |     })
  243 |   })
  244 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 264}","  262 |       image.setAttribute('class', 'lozad')
  263 |       observer.observe()
> 264 |       assert.strictEqual(true, image.classList.contains('loaded'))
      |      ^ Assertion Roulette
  265 |       assert.strictEqual(null, image.getAttribute('src'))
  266 |     })
  267 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 265}","  263 |       observer.observe()
  264 |       assert.strictEqual(true, image.classList.contains('loaded'))
> 265 |       assert.strictEqual(null, image.getAttribute('src'))
      |      ^ Assertion Roulette
  266 |     })
  267 |
  268 |     it('should run loaded option after loading an element', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 289}","  287 |       image.setAttribute('class', 'lozad')
  288 |       observer.observe()
> 289 |       assert.strictEqual(true, image.classList.contains('loaded'))
      |      ^ Assertion Roulette
  290 |       assert.strictEqual('true', image.dataset.loaded)
  291 |     })
  292 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 290}","  288 |       observer.observe()
  289 |       assert.strictEqual(true, image.classList.contains('loaded'))
> 290 |       assert.strictEqual('true', image.dataset.loaded)
      |      ^ Assertion Roulette
  291 |     })
  292 |   })
  293 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 312}","  310 |       image.setAttribute('data-srcset', dataSrcSetAttr)
  311 |       observer.triggerLoad(image)
> 312 |       assert.strictEqual('true', image.dataset.loaded)
      |      ^ Assertion Roulette
  313 |       assert.strictEqual(image.getAttribute('src'), image.dataset.src)
  314 |     })
  315 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 313}","  311 |       observer.triggerLoad(image)
  312 |       assert.strictEqual('true', image.dataset.loaded)
> 313 |       assert.strictEqual(image.getAttribute('src'), image.dataset.src)
      |      ^ Assertion Roulette
  314 |     })
  315 |   })
  316 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 428}","  426 |       const el = document.querySelectorAll('video')[0]
  427 |       observer.observe()
> 428 |       assert.strictEqual(true, el.classList.contains('test'))
      |      ^ Assertion Roulette
  429 |       assert.strictEqual(el.dataset.poster, el.poster)
  430 |     })
  431 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 429}","  427 |       observer.observe()
  428 |       assert.strictEqual(true, el.classList.contains('test'))
> 429 |       assert.strictEqual(el.dataset.poster, el.poster)
      |      ^ Assertion Roulette
  430 |     })
  431 |   })
  432 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 445}","  443 |       const observer = lozad()
  444 |
> 445 |       assert.strictEqual(true, Object.keys(observer).includes('observer'))
      |      ^ Assertion Roulette
  446 |       assert.strictEqual(
  447 |         true,
  448 |         Object.keys(observer).includes('mutationObserver')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Assertion Roulette,"{'column': 6, 'line': 446}","  444 |
  445 |       assert.strictEqual(true, Object.keys(observer).includes('observer'))
> 446 |       assert.strictEqual(
      |      ^ Assertion Roulette
  447 |         true,
  448 |         Object.keys(observer).includes('mutationObserver')
  449 |       )"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Magic Number,"{'line': 151, 'column': 39, 'index': 4807}","  149 |       const observer = lozad(nodes)
  150 |       observer.observe()
> 151 |       assert.strictEqual(nodes.length, 2)
      |                                       ^ Magic Number
  152 |       nodes.forEach(node => {
  153 |         assert.strictEqual('true', node.dataset.loaded)
  154 |         assert.strictEqual(node.getAttribute('src'), node.dataset.src)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Sleepy Test,"{'line': 109, 'column': 6, 'index': 3388}","  107 |       assert.strictEqual(node.getAttribute('src'), node.dataset.src)
  108 |       node.dataset.src = newSrc
> 109 |       setTimeout(() => {
      |      ^ Sleepy Test
  110 |         assert.notStrictEqual(node.getAttribute('src'), newSrc)
  111 |         done()
  112 |       }, 200) // Reduzido o tempo para o teste rodar mais rápido"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lozad.js/test/index.js,Sleepy Test,"{'line': 125, 'column': 6, 'index': 3941}","  123 |       observer.observe()
  124 |       node.dataset.src = newSrc
> 125 |       setTimeout(() => {
      |      ^ Sleepy Test
  126 |         assert.strictEqual(node.getAttribute('src'), newSrc)
  127 |         done()
  128 |       }, 200) // Reduzido o tempo para o teste rodar mais rápido"
