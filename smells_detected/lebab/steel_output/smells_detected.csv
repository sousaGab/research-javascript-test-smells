file,type,line,frame
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/whitespaceTest.js,Unknown Test,"{'column': 2, 'line': 17}","  15 |
  16 | describe('Whitespace', () => {
> 17 |   it('should not eliminate leading newlines', () => {
     |  ^ Unknown Test
  18 |     expectTransform(
  19 |       '\n\nvar x = 42;'
  20 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/whitespaceTest.js,Unknown Test,"{'column': 2, 'line': 25}","  23 |   });
  24 |
> 25 |   it('should not eliminate trailing newlines', () => {
     |  ^ Unknown Test
  26 |     expectTransform(
  27 |       'var x = 42;\n\n'
  28 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/whitespaceTest.js,Unknown Test,"{'column': 2, 'line': 33}","  31 |   });
  32 |
> 33 |   it('ignores #! comment at the beginning of file', () => {
     |  ^ Unknown Test
  34 |     expectTransform(
  35 |       '#!/usr/bin/env node\n' +
  36 |       'var x = 42;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/whitespaceTest.js,Unknown Test,"{'column': 2, 'line': 43}","  41 |   });
  42 |
> 43 |   it('ignores #! comment almost at the beginning of file', () => {
     |  ^ Unknown Test
  44 |     expectTransform(
  45 |       '\n' +
  46 |       '#!/usr/local/bin/node\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/whitespaceTest.js,Unknown Test,"{'column': 2, 'line': 59}","  57 |   });
  58 |
> 59 |   it('should preserve #! comment using CRLF', () => {
     |  ^ Unknown Test
  60 |     expectTransform(
  61 |       '#!/usr/bin/env node\r\n' +
  62 |       'var x = 42;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/whitespaceTest.js,Unknown Test,"{'column': 2, 'line': 69}","  67 |   });
  68 |
> 69 |   it('should preserve CRLF line terminators', () => {
     |  ^ Unknown Test
  70 |     expectTransform(
  71 |       'var f = function(x) {\r\n' +
  72 |       '  if (x > 10)\r\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/whitespaceTest.js,Unknown Test,"{'column': 2, 'line': 83}","  81 |   });
  82 |
> 83 |   it('should use LF in case of mixed line terminators', () => {
     |  ^ Unknown Test
  84 |     expectTransform(
  85 |       'var f = function(x) {\n' +
  86 |       '  if (x > 10)\r\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/whitespaceTest.js,Unknown Test,"{'column': 2, 'line': 97}","   95 |   });
   96 |
>  97 |   it('should preserve TABs', () => {
      |  ^ Unknown Test
   98 |     expectTransform(
   99 |       'var f = function(x) {\n' +
  100 |       '\tif (x > 10) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Template string', () => {
> 5 |   it('should not convert non-concatenated strings', () => {
    |  ^ Unknown Test
  6 |     expectNoChange('var result = ""test"";');
  7 |   });
  8 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 9}","   7 |   });
   8 |
>  9 |   it('should not convert non-string binary expressions with + operator', () => {
     |  ^ Unknown Test
  10 |     expectNoChange('var result = 1 + 2;');
  11 |     expectNoChange('var result = a + b;');
  12 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 14}","  12 |   });
  13 |
> 14 |   it('should not convert only string concatenation', () => {
     |  ^ Unknown Test
  15 |     expectNoChange('var result = ""Hello "" + "" World!"";');
  16 |   });
  17 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 18}","  16 |   });
  17 |
> 18 |   it('should convert string and one variable concatenation', () => {
     |  ^ Unknown Test
  19 |     expectTransform(
  20 |       'var result = ""Firstname: "" + firstname;'
  21 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 26}","  24 |   });
  25 |
> 26 |   it('should convert string and multiple variables concatenation', () => {
     |  ^ Unknown Test
  27 |     expectTransform(
  28 |       'var result = ""Fullname: "" + firstname + lastname;'
  29 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 34}","  32 |   });
  33 |
> 34 |   it('should convert parenthized string concatenations', () => {
     |  ^ Unknown Test
  35 |     expectTransform(
  36 |       '""str1 "" + (x + "" str2"");'
  37 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 42}","  40 |   });
  41 |
> 42 |   it('should convert parenthized string concatenations and other concatenations', () => {
     |  ^ Unknown Test
  43 |     expectTransform(
  44 |       'x + "" str1 "" + (y + "" str2"");'
  45 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 50}","  48 |   });
  49 |
> 50 |   it('should convert parenthized non-string concatenations', () => {
     |  ^ Unknown Test
  51 |     expectTransform(
  52 |       '(x + y) + "" string "" + (a + b);'
  53 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 58}","  56 |   });
  57 |
> 58 |   it('should convert non-parenthized non-string concatenations', () => {
     |  ^ Unknown Test
  59 |     expectTransform(
  60 |       'x + y + "" string "" + a + b;'
  61 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 66}","  64 |   });
  65 |
> 66 |   it('should convert string and call expressions', () => {
     |  ^ Unknown Test
  67 |     expectTransform(
  68 |       'var result = ""Firstname: "" + person.getFirstname() + ""Lastname: "" + person.getLastname();'
  69 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 74}","  72 |   });
  73 |
> 74 |   it('should convert string and number literals', () => {
     |  ^ Unknown Test
  75 |     expectTransform(
  76 |       '""foo "" + 25 + "" bar"";'
  77 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 82}","  80 |   });
  81 |
> 82 |   it('should convert string and member-expressions', () => {
     |  ^ Unknown Test
  83 |     expectTransform(
  84 |       '""foo "" + foo.bar + "" bar"";'
  85 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 90}","  88 |   });
  89 |
> 90 |   it('should escape ` characters', () => {
     |  ^ Unknown Test
  91 |     expectTransform(
  92 |       'var result = ""Firstname: `"" + firstname + ""`"";'
  93 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 98}","   96 |   });
   97 |
>  98 |   it('should leave \\t, \\r, \\n, \\v, \\f, \\b, \\0, \\\\ escaped as is', () => {
      |  ^ Unknown Test
   99 |     expectTransform('x = ""\\t"" + y;').toReturn('x = `\\t${y}`;');
  100 |     expectTransform('x = ""\\r"" + y;').toReturn('x = `\\r${y}`;');
  101 |     expectTransform('x = ""\\n"" + y;').toReturn('x = `\\n${y}`;');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 109}","  107 |   });
  108 |
> 109 |   it('should leave hex- and unicode-escapes as is', () => {
      |  ^ Unknown Test
  110 |     expectTransform('x = ""\\xA9"" + y;').toReturn('x = `\\xA9${y}`;');
  111 |     expectTransform('x = ""\\u00A9"" + y;').toReturn('x = `\\u00A9${y}`;');
  112 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 114}","  112 |   });
  113 |
> 114 |   it('should eliminate escaping of quotes', () => {
      |  ^ Unknown Test
  115 |     expectTransform('x = ""\\\'"" + y;').toReturn('x = `\'${y}`;');
  116 |     expectTransform('x = ""\\"""" + y;').toReturn('x = `""${y}`;');
  117 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 119}","  117 |   });
  118 |
> 119 |   it('should preserve comments', () => {
      |  ^ Unknown Test
  120 |     expectTransform(
  121 |       'var foo =\n' +
  122 |       '    // First comment\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/templateTest.js,Unknown Test,"{'column': 2, 'line': 137}","  135 |   });
  136 |
> 137 |   it('should transform nested concatenation', () => {
      |  ^ Unknown Test
  138 |     expectTransform(
  139 |       '"""" + (() => ""a"" + 2)'
  140 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/restSpreadTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Rest and Spread support', () => {
> 5 |   it('should support object rest in destructuring', () => {
    |  ^ Unknown Test
  6 |     expectTransform(
  7 |       'var { foo, ...other } = bar;'
  8 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/restSpreadTest.js,Unknown Test,"{'column': 2, 'line': 13}","  11 |   });
  12 |
> 13 |   it('should support object spread', () => {
     |  ^ Unknown Test
  14 |     expectTransform(
  15 |       'var foo = { bar, ...other };'
  16 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objShorthandTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Object shorthands', () => {
> 5 |   it('should convert matching key-value entries to shorthand notation', () => {
    |  ^ Unknown Test
  6 |     expectTransform('({foo: foo})').toReturn('({foo})');
  7 |   });
  8 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objShorthandTest.js,Unknown Test,"{'column': 2, 'line': 9}","   7 |   });
   8 |
>  9 |   it('should not convert non-matching key-value entries to shorthand notation', () => {
     |  ^ Unknown Test
  10 |     expectNoChange('({foo: bar})');
  11 |   });
  12 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objShorthandTest.js,Unknown Test,"{'column': 2, 'line': 13}","  11 |   });
  12 |
> 13 |   it('should not convert numeric properties to shorthands', () => {
     |  ^ Unknown Test
  14 |     expectNoChange('({10: 10})');
  15 |   });
  16 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objShorthandTest.js,Unknown Test,"{'column': 2, 'line': 22}","  20 |   // like when using Advanced compilation mode of Google Closure Compiler,
  21 |   // where string keys signify that they should not be minified.
> 22 |   it('should not convert string properties to shorthands', () => {
     |  ^ Unknown Test
  23 |     expectNoChange('({""foo"": foo})');
  24 |   });
  25 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objMethodTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Object methods', () => {
> 5 |   it('should convert a function inside an object to method', () => {
    |  ^ Unknown Test
  6 |     expectTransform(
  7 |       '({\n' +
  8 |       '  someMethod: function(a, b, c) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objMethodTest.js,Unknown Test,"{'column': 2, 'line': 21}","  19 |   });
  20 |
> 21 |   it('should ignore non-function properties of object', () => {
     |  ^ Unknown Test
  22 |     expectTransform(
  23 |       '({\n' +
  24 |       '  foo: 123,\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objMethodTest.js,Unknown Test,"{'column': 2, 'line': 43}","  41 |   });
  42 |
> 43 |   it('should convert function properties in nested object literal', () => {
     |  ^ Unknown Test
  44 |     expectTransform(
  45 |       '({\n' +
  46 |       '  nested: {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objMethodTest.js,Unknown Test,"{'column': 2, 'line': 61}","  59 |   });
  60 |
> 61 |   it('should not convert named function expressions', () => {
     |  ^ Unknown Test
  62 |     expectNoChange(
  63 |       '({\n' +
  64 |       '  foo: function foo() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objMethodTest.js,Unknown Test,"{'column': 2, 'line': 73}","  71 |   });
  72 |
> 73 |   it('should not convert computed properties', () => {
     |  ^ Unknown Test
  74 |     expectNoChange(
  75 |       '({\n' +
  76 |       '  [""foo"" + count]: function() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objMethodTest.js,Unknown Test,"{'column': 2, 'line': 82}","  80 |   });
  81 |
> 82 |   it('should not convert string properties', () => {
     |  ^ Unknown Test
  83 |     expectNoChange(
  84 |       '({\n' +
  85 |       '  ""foo"": function() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/objMethodTest.js,Unknown Test,"{'column': 2, 'line': 91}","  89 |   });
  90 |
> 91 |   it('should not convert numeric properties', () => {
     |  ^ Unknown Test
  92 |     expectNoChange(
  93 |       '({\n' +
  94 |       '  123: function() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/noStrictTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Removal of ""use strict""', () => {
> 5 |   it('should remove statement with ""use strict"" string', () => {
    |  ^ Unknown Test
  6 |     expectTransform('""use strict"";').toReturn('');
  7 |     expectTransform('\'use strict\';').toReturn('');
  8 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/noStrictTest.js,Unknown Test,"{'column': 2, 'line': 10}","   8 |   });
   9 |
> 10 |   it('should remove the whole line where ""use strict"" used to be', () => {
     |  ^ Unknown Test
  11 |     expectTransform(
  12 |       '""use strict"";\n' +
  13 |       'foo();'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/noStrictTest.js,Unknown Test,"{'column': 2, 'line': 28}","  26 |   });
  27 |
> 28 |   it('should not remove comments before ""use strict""', () => {
     |  ^ Unknown Test
  29 |     expectTransform(
  30 |       '// comment\n' +
  31 |       '""use strict"";\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/noStrictTest.js,Unknown Test,"{'column': 2, 'line': 39}","  37 |   });
  38 |
> 39 |   it('should preserve comments when no other code besides ""use strict""', () => {
     |  ^ Unknown Test
  40 |     expectTransform(
  41 |       '// some comment\n' +
  42 |       '""use strict"";'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/noStrictTest.js,Unknown Test,"{'column': 2, 'line': 48}","  46 |   });
  47 |
> 48 |   it('should keep ""use strict"" used inside other code', () => {
     |  ^ Unknown Test
  49 |     expectNoChange('x = ""use strict"";');
  50 |     expectNoChange('foo(""use strict"");');
  51 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 6}","  4 | describe('Multi-var', () => {
  5 |   describe('with only one variable per declaration', () => {
> 6 |     it('should not change anything', () => {
    |    ^ Unknown Test
  7 |       expectTransform(
  8 |         'var x;'
  9 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 16}","  14 |
  15 |   describe('with only uninitialized variables', () => {
> 16 |     it('should split into separate declarations', () => {
     |    ^ Unknown Test
  17 |       expectTransform(
  18 |         'var x,y;'
  19 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 27}","  25 |
  26 |   describe('with uninitialized and initialized variables', () => {
> 27 |     it('should split into separate declarations', () => {
     |    ^ Unknown Test
  28 |       expectTransform(
  29 |         'var x,y=100;'
  30 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 38}","  36 |
  37 |   describe('with various type of declarations', () => {
> 38 |     it('should split into separate declarations', () => {
     |    ^ Unknown Test
  39 |       expectTransform(
  40 |         'var x,y=100;\n' +
  41 |         'let a,b=123;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 55}","  53 |
  54 |   describe('with inline comment', () => {
> 55 |     it('should split into separate declarations', () => {
     |    ^ Unknown Test
  56 |       expectTransform(
  57 |         'var x,y=100;// hello'
  58 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 66}","  64 |
  65 |   describe('with block comment', () => {
> 66 |     it('should split into separate declarations(comment before declaration)', () => {
     |    ^ Unknown Test
  67 |       expectTransform(
  68 |         '/* hello */var x,y=100;'
  69 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 75}","  73 |     });
  74 |
> 75 |     it('should split into separate declarations(comment after declaration)', () => {
     |    ^ Unknown Test
  76 |       expectTransform(
  77 |         'var x,y=100;/* hello */'
  78 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 84}","  82 |     });
  83 |
> 84 |     it('should split into separate declarations(comment inside declaration)', () => {
     |    ^ Unknown Test
  85 |       expectTransform(
  86 |         'var x,/* hello */y=100;'
  87 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 95}","  93 |
  94 |   describe('inside case statement', () => {
> 95 |     it('should split into separate declarations', () => {
     |    ^ Unknown Test
  96 |       expectTransform(
  97 |         'switch (nr) {\n' +
  98 |         '  case 1:\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 112}","  110 |
  111 |   describe('when var can not be split', () => {
> 112 |     it('should not split in for-loop head', () => {
      |    ^ Unknown Test
  113 |       expectNoChange(
  114 |         'for (var i=0,j=0; i<j; i++) j++;'
  115 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/multiVarTest.js,Unknown Test,"{'column': 4, 'line': 120}","  118 |     });
  119 |
> 120 |     it('should not split when not in block statement', () => {
      |    ^ Unknown Test
  121 |       expectNoChange(
  122 |         'if (true) var a=1, b=2;'
  123 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 6}","  4 | describe('Let/const', () => {
  5 |   describe('with uninitialized variable', () => {
> 6 |     it('should use let when never used afterwards', () => {
    |    ^ Unknown Test
  7 |       expectTransform(
  8 |         'var x;'
  9 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 14}","  12 |     });
  13 |
> 14 |     it('should use let when assigned aftwerwards', () => {
     |    ^ Unknown Test
  15 |       expectTransform(
  16 |         'var x;\n' +
  17 |         'x = 6;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 26}","  24 |
  25 |   describe('with initialized variable', () => {
> 26 |     it('should use const when never used afterwards', () => {
     |    ^ Unknown Test
  27 |       expectTransform(
  28 |         'var x = 2;'
  29 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 34}","  32 |     });
  33 |
> 34 |     it('should use const when only referenced afterwards', () => {
     |    ^ Unknown Test
  35 |       expectTransform(
  36 |         'var x = 2;\n' +
  37 |         'foo(x);'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 44}","  42 |     });
  43 |
> 44 |     it('should use let when re-assigned afterwards', () => {
     |    ^ Unknown Test
  45 |       expectTransform(
  46 |         'var x = 5;\n' +
  47 |         'x = 6;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 54}","  52 |     });
  53 |
> 54 |     it('should use let when updated aftwerwards', () => {
     |    ^ Unknown Test
  55 |       expectTransform(
  56 |         'var x = 5;\n' +
  57 |         'x++;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 64}","  62 |     });
  63 |
> 64 |     it('should handle variables names identical to Object prototype methods', () => {
     |    ^ Unknown Test
  65 |       expectTransform(
  66 |         'var constructor = 1;\n' +
  67 |         'var toString = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 80}","  78 |
  79 |   describe('with multi-variable declaration', () => {
> 80 |     it('should use const when not referenced afterwards', () => {
     |    ^ Unknown Test
  81 |       expectTransform(
  82 |         'var x = 1, y = 2;'
  83 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 88}","  86 |     });
  87 |
> 88 |     it('should use let when assigned to afterwards', () => {
     |    ^ Unknown Test
  89 |       expectTransform(
  90 |         'var x = 1, y = 2;\n' +
  91 |         'x = 3;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 100}","   98 |     });
   99 |
> 100 |     it('should use let when initially unassigned but assigned afterwards', () => {
      |    ^ Unknown Test
  101 |       expectTransform(
  102 |         'var x, y;\n' +
  103 |         'x = 3;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 112}","  110 |     });
  111 |
> 112 |     it('should split to let & const when only some vars assigned to afterwards', () => {
      |    ^ Unknown Test
  113 |       expectTransform(
  114 |         'var x = 1, y = 2;\n' +
  115 |         'y = 4;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 123}","  121 |     });
  122 |
> 123 |     it('should split to let & var when only some vars are block-scoped', () => {
      |    ^ Unknown Test
  124 |       expectTransform(
  125 |         'if (true) {\n' +
  126 |         '  var x = 1, y = 2;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 140}","  138 |     });
  139 |
> 140 |     it('should split to let & const inside switch case', () => {
      |    ^ Unknown Test
  141 |       expectTransform(
  142 |         'switch (nr) {\n' +
  143 |         'case 15:\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 157}","  155 |     });
  156 |
> 157 |     it('should use let when both let & const in for-loop head', () => {
      |    ^ Unknown Test
  158 |       expectTransform(
  159 |         'for (var i=0, len=arr.length; i<len; i++) {}'
  160 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 165}","  163 |     });
  164 |
> 165 |     it('should use var in multi-variable declaration when a variable was previously initialized', () => {
      |    ^ Unknown Test
  166 |       expectTransform(
  167 |         'var x;\n' +
  168 |         'var x, y;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 179}","  177 |     });
  178 |
> 179 |     it('should use var in multi-variable declaration when a variable was previously initialized in the function parameters', () => {
      |    ^ Unknown Test
  180 |       expectTransform(
  181 |         'function func(x) {\n' +
  182 |          '  var x, y;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 194}","  192 |     });
  193 |
> 194 |     it('should use var in multi-variable declaration in a for head when a variable was previously initialized in the function parameters', () => {
      |    ^ Unknown Test
  195 |       expectNoChange(
  196 |         'function func(x) {\n' +
  197 |         '  for (var x, y;;) {}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 204}","  202 |     });
  203 |
> 204 |     it('should not use let in a for head when previously initialized with var', () => {
      |    ^ Unknown Test
  205 |       expectNoChange(
  206 |         'var x;\n' +
  207 |         'for (var x;;);'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 214}","  212 |     });
  213 |
> 214 |     it('should not use let in multi-variable declaration in a for head when previously initialized with var', () => {
      |    ^ Unknown Test
  215 |       expectNoChange(
  216 |         'var x;\n' +
  217 |         'for (var y, x;;);'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 224}","  222 |     });
  223 |
> 224 |     it('should not use let in multi-variable declaration in a for head when previously initialized with var and other variable is initialized', () => {
      |    ^ Unknown Test
  225 |       expectNoChange(
  226 |         'var x;\n' +
  227 |         'for (var y = 1, x;;);'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 236}","  234 |
  235 |   describe('with variable declaration in restrictive parent', () => {
> 236 |     it('should not transform var directly within if-statement body', () => {
      |    ^ Unknown Test
  237 |       expectNoChange(
  238 |         'if (true) var x = 1;'
  239 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 244}","  242 |     });
  243 |
> 244 |     it('should not transform var directly within else-side of if-statement body', () => {
      |    ^ Unknown Test
  245 |       expectNoChange(
  246 |         'if (true); else var x = 1;'
  247 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 252}","  250 |     });
  251 |
> 252 |     it('should not transform var directly within for-loop body', () => {
      |    ^ Unknown Test
  253 |       expectNoChange(
  254 |         'for (item in array) var x = 1;'
  255 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 260}","  258 |     });
  259 |
> 260 |     it('should not transform var directly within for-in-loop body', () => {
      |    ^ Unknown Test
  261 |       expectNoChange(
  262 |         'for (item in array) var x = 1;'
  263 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 268}","  266 |     });
  267 |
> 268 |     it('should not transform var directly within for-of-loop body', () => {
      |    ^ Unknown Test
  269 |       expectNoChange(
  270 |         'for (item of array) var x = 1;'
  271 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 276}","  274 |     });
  275 |
> 276 |     it('should not transform var directly within while-loop body', () => {
      |    ^ Unknown Test
  277 |       expectNoChange(
  278 |         'while (true) var x = 1;'
  279 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 284}","  282 |     });
  283 |
> 284 |     it('should not transform var directly within do-while-loop body', () => {
      |    ^ Unknown Test
  285 |       expectNoChange(
  286 |         'do var x = 1; while (true)'
  287 |       ).withWarnings(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 294}","  292 |
  293 |   describe('with destructured variable declaration', () => {
> 294 |     it('should use const when not referenced afterwards', () => {
      |    ^ Unknown Test
  295 |       expectTransform(
  296 |         'var [x, y] = [1, 2];\n' +
  297 |         'var {foo, bar} = {foo: 1, bar: 2};'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 304}","  302 |     });
  303 |
> 304 |     it('should use let when assigned to afterwards', () => {
      |    ^ Unknown Test
  305 |       expectTransform(
  306 |         'var [x, y] = [1, 2];\n' +
  307 |         'x = 3;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 316}","  314 |     });
  315 |
> 316 |     it('should use let when only some vars assigned to afterwards', () => {
      |    ^ Unknown Test
  317 |       expectTransform(
  318 |         'var [x, y] = [1, 2];\n' +
  319 |         'y = 4;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 326}","  324 |     });
  325 |
> 326 |     it('should use var when only some vars are block-scoped', () => {
      |    ^ Unknown Test
  327 |       expectNoChange(
  328 |         'if (true) {\n' +
  329 |         '  var [x, y] = [1, 2];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 339}","  337 |
  338 |     // Issue #236
> 339 |     it('should not choke for ignored array values', () => {
      |    ^ Unknown Test
  340 |       expectTransform(
  341 |         'var [, x, y] = [1, 2, 3];\n' +
  342 |         'y = 2;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 353}","  351 |
  352 |   describe('with nested function', () => {
> 353 |     it('should use let when variable re-declared inside it', () => {
      |    ^ Unknown Test
  354 |       expectTransform(
  355 |         'var a = 0;\n' +
  356 |         'function foo() { var a = 1; }\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 365}","  363 |     });
  364 |
> 365 |     it('should use let when variable assigned inside it', () => {
      |    ^ Unknown Test
  366 |       expectTransform(
  367 |         'var a = 0;\n' +
  368 |         'function foo() { a = 1; }'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 375}","  373 |     });
  374 |
> 375 |     it('should use const when variable referenced inside it', () => {
      |    ^ Unknown Test
  376 |       expectTransform(
  377 |         'var a = 0;\n' +
  378 |         'function foo() { bar(a); }'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 385}","  383 |     });
  384 |
> 385 |     it('should use const when variable redeclared as parameter', () => {
      |    ^ Unknown Test
  386 |       expectTransform(
  387 |         'var a = 0;\n' +
  388 |         'function foo(a) { a = 1; }'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 395}","  393 |     });
  394 |
> 395 |     it('should work with anonymous function declaration', () => {
      |    ^ Unknown Test
  396 |       expectTransform(
  397 |         'export default function () { var a = 1; }'
  398 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 405}","  403 |
  404 |   describe('with nested arrow-function', () => {
> 405 |     it('should use let when variable re-declared inside it', () => {
      |    ^ Unknown Test
  406 |       expectTransform(
  407 |         'var a = 0;\n' +
  408 |         '() => { var a = 1; };\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 417}","  415 |     });
  416 |
> 417 |     it('should use let when variable assigned inside it', () => {
      |    ^ Unknown Test
  418 |       expectTransform(
  419 |         'var a = 0;\n' +
  420 |         '() => { a = 1; };'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 427}","  425 |     });
  426 |
> 427 |     it('should use const when variable referenced inside it', () => {
      |    ^ Unknown Test
  428 |       expectTransform(
  429 |         'var a = 0;\n' +
  430 |         '() => { bar(a); };'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 437}","  435 |     });
  436 |
> 437 |     it('should use const when variable redeclared as parameter', () => {
      |    ^ Unknown Test
  438 |       expectTransform(
  439 |         'var a = 0;\n' +
  440 |         '(a) => a = 1;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 449}","  447 |
  448 |   describe('with nested function that uses destructured parameters', () => {
> 449 |     it('should use const when variable redeclared as parameter', () => {
      |    ^ Unknown Test
  450 |       expectTransform(
  451 |         'var a = 0;\n' +
  452 |         'function foo({a}) { a = 1; };'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 461}","  459 |
  460 |   describe('with nested block', () => {
> 461 |     it('should use let when variable assigned in it', () => {
      |    ^ Unknown Test
  462 |       expectTransform(
  463 |         'var a = 0;\n' +
  464 |         'if (true) { a = 1; }'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 471}","  469 |     });
  470 |
> 471 |     it('should use const when variable referenced in it', () => {
      |    ^ Unknown Test
  472 |       expectTransform(
  473 |         'var a = 0;\n' +
  474 |         'if (true) { foo(a); }'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 481}","  479 |     });
  480 |
> 481 |     it('should use let when variable only assigned inside a single block', () => {
      |    ^ Unknown Test
  482 |       expectTransform(
  483 |         'if (true) {\n' +
  484 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 495}","  493 |     });
  494 |
> 495 |     it('should use const when variable only referenced inside a single block', () => {
      |    ^ Unknown Test
  496 |       expectTransform(
  497 |         'if (true) {\n' +
  498 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 509}","  507 |     });
  508 |
> 509 |     it('should use let when variable assigned inside further nested block', () => {
      |    ^ Unknown Test
  510 |       expectTransform(
  511 |         'if (true) {\n' +
  512 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 523}","  521 |     });
  522 |
> 523 |     it('should use const when variable referenced inside further nested block', () => {
      |    ^ Unknown Test
  524 |       expectTransform(
  525 |         'if (true) {\n' +
  526 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 537}","  535 |     });
  536 |
> 537 |     it('should ignore variable declared inside a block but assigned outside', () => {
      |    ^ Unknown Test
  538 |       expectNoChange(
  539 |         'if (true) {\n' +
  540 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 546}","  544 |     });
  545 |
> 546 |     it('should ignore variable declared inside a block but referenced outside', () => {
      |    ^ Unknown Test
  547 |       expectNoChange(
  548 |         'if (true) {\n' +
  549 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 555}","  553 |     });
  554 |
> 555 |     it('should ignore variable declared inside a block but referenced through computed property outside', () => {
      |    ^ Unknown Test
  556 |       expectNoChange(
  557 |         'if (true) {\n' +
  558 |         '  var x = 0;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 564}","  562 |     });
  563 |
> 564 |     it('should use const when variable name used in object property outside the block', () => {
      |    ^ Unknown Test
  565 |       expectTransform(
  566 |         'if (true) {\n' +
  567 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 580}","  578 |     });
  579 |
> 580 |     it('should use const when variable name used as function expression name outside the block', () => {
      |    ^ Unknown Test
  581 |       expectTransform(
  582 |         'if (true) {\n' +
  583 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 594}","  592 |     });
  593 |
> 594 |     it('should use const when variable name used as function parameter name outside the block', () => {
      |    ^ Unknown Test
  595 |       expectTransform(
  596 |         'if (true) {\n' +
  597 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 608}","  606 |     });
  607 |
> 608 |     it('should use const when variable name used as arrow-function parameter name outside the block', () => {
      |    ^ Unknown Test
  609 |       expectTransform(
  610 |         'if (true) {\n' +
  611 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 622}","  620 |     });
  621 |
> 622 |     it('should use const when variable name used as destructured function parameter name outside the block', () => {
      |    ^ Unknown Test
  623 |       expectTransform(
  624 |         'if (true) {\n' +
  625 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 636}","  634 |     });
  635 |
> 636 |     it('should ignore variable referenced in function body outside the block', () => {
      |    ^ Unknown Test
  637 |       expectNoChange(
  638 |         'if (true) {\n' +
  639 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 647}","  645 |     });
  646 |
> 647 |     it('should ignore variable referenced in shorthand arrow-function body outside the block', () => {
      |    ^ Unknown Test
  648 |       expectNoChange(
  649 |         'if (true) {\n' +
  650 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 658}","  656 |     });
  657 |
> 658 |     it('should ignore variable referenced in variable declaration outside the block', () => {
      |    ^ Unknown Test
  659 |       expectNoChange(
  660 |         'if (true) {\n' +
  661 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 671}","  669 |
  670 |   describe('in loop heads', () => {
> 671 |     it('should convert var in for-loop head to let', () => {
      |    ^ Unknown Test
  672 |       expectTransform(
  673 |         'for (var i=0; i<10; i++) { foo(i); }'
  674 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 679}","  677 |     });
  678 |
> 679 |     it('should convert var in for-in head to const', () => {
      |    ^ Unknown Test
  680 |       expectTransform(
  681 |         'for (var key in obj) { foo(key); }'
  682 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 687}","  685 |     });
  686 |
> 687 |     it('should convert var in for-of head to const', () => {
      |    ^ Unknown Test
  688 |       expectTransform(
  689 |         'for (var item of array) { foo(item); }'
  690 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 695}","  693 |     });
  694 |
> 695 |     it('should ignore var in for-loop head that is referenced outside the loop', () => {
      |    ^ Unknown Test
  696 |       expectNoChange(
  697 |         'for (var i=0; i<10; i++) {}\n' +
  698 |         'foo(i);'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 704}","  702 |     });
  703 |
> 704 |     it('should ignore var in for-in-loop head that is referenced outside the loop', () => {
      |    ^ Unknown Test
  705 |       expectNoChange(
  706 |         'for (var key in obj) {}\n' +
  707 |         'foo(key);'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 713}","  711 |     });
  712 |
> 713 |     it('should ignore var in for-of-loop head that is referenced outside the loop', () => {
      |    ^ Unknown Test
  714 |       expectNoChange(
  715 |         'for (var item of array) {}\n' +
  716 |         'foo(item);'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 725}","  723 |   // Variable hoisting
  724 |   describe('with variable assigned before declared', () => {
> 725 |     it('should ignore', () => {
      |    ^ Unknown Test
  726 |       expectNoChange(
  727 |         'a = 1;\n' +
  728 |         'var a = 2;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 734}","  732 |     });
  733 |
> 734 |     it('should ignore when similar variable in outer scope', () => {
      |    ^ Unknown Test
  735 |       expectTransform(
  736 |         'var a = 0;\n' +
  737 |         'function foo() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 754}","  752 |
  753 |   describe('with variable referenced before declared', () => {
> 754 |     it('should ignore', () => {
      |    ^ Unknown Test
  755 |       expectNoChange(
  756 |         'foo(a);\n' +
  757 |         'var a = 2;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 765}","  763 |
  764 |   describe('with repeated variable declarations', () => {
> 765 |     it('should ignore', () => {
      |    ^ Unknown Test
  766 |       expectNoChange(
  767 |         'var a = 1;\n' +
  768 |         'var a = 2;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 775}","  773 |     });
  774 |
> 775 |     it('should ignore when declarations in different blocks', () => {
      |    ^ Unknown Test
  776 |       expectNoChange(
  777 |         'if (true) {\n' +
  778 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 790}","  788 |     });
  789 |
> 790 |     it('should ignore when re-declaring of function parameter', () => {
      |    ^ Unknown Test
  791 |       expectNoChange(
  792 |         'function foo(a) {\n' +
  793 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 798}","  796 |     });
  797 |
> 798 |     it('should ignore when re-declaring of destructured function parameter', () => {
      |    ^ Unknown Test
  799 |       expectNoChange(
  800 |         'function foo({a}) {\n' +
  801 |         '  var a = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 806}","  804 |     });
  805 |
> 806 |     it('should ignore when re-declaring of function expression name', () => {
      |    ^ Unknown Test
  807 |       expectNoChange(
  808 |         '(function foo(a) {\n' +
  809 |         '  var foo;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 815}","  813 |     });
  814 |
> 815 |     it('should allow re-declaring of function declaration name', () => {
      |    ^ Unknown Test
  816 |       expectTransform(
  817 |         'function foo(a) {\n' +
  818 |         '  var foo;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 831}","  829 |
  830 |   describe('with destructuring assignment', () => {
> 831 |     it('should use let when array destructuring used', () => {
      |    ^ Unknown Test
  832 |       expectTransform(
  833 |         'var foo = 1;\n' +
  834 |         '[foo] = [1, 2, 3];'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 841}","  839 |     });
  840 |
> 841 |     it('should use let when object destructuring used', () => {
      |    ^ Unknown Test
  842 |       expectTransform(
  843 |         'var foo = 1;\n' +
  844 |         '({foo} = {foo: 2});'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 851}","  849 |     });
  850 |
> 851 |     it('should use let when nested destructuring used', () => {
      |    ^ Unknown Test
  852 |       expectTransform(
  853 |         'var foo = 1;\n' +
  854 |         '[{foo}] = [{foo: 2}];'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 861}","  859 |     });
  860 |
> 861 |     it('should use let for all variables modified through destructuring', () => {
      |    ^ Unknown Test
  862 |       expectTransform(
  863 |         'var a = 1;\n' +
  864 |         'var b = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 875}","  873 |     });
  874 |
> 875 |     it('should use const when name is used as property key in object destructor', () => {
      |    ^ Unknown Test
  876 |       expectTransform(
  877 |         'var foo = 1;\n' +
  878 |         '({foo: a} = {foo: 2});'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 891}","  889 |   // the edge cases.)
  890 |   describe('existing let/const', () => {
> 891 |     it('should not convert existing let to const', () => {
      |    ^ Unknown Test
  892 |       expectNoChange(
  893 |         'let x = 1;'
  894 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 897}","  895 |     });
  896 |
> 897 |     it('should not convert existing const to var', () => {
      |    ^ Unknown Test
  898 |       expectNoChange(
  899 |         'if (true) {\n' +
  900 |         '  const x = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 907}","  905 |     });
  906 |
> 907 |     it('should not convert existing let to var', () => {
      |    ^ Unknown Test
  908 |       expectNoChange(
  909 |         'if (true) {\n' +
  910 |         '  let x = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 920}","  918 |   // Possible errors (Issues #31 and #53)
  919 |   describe('regression tests', () => {
> 920 |     it('should not throw error for assignment to undeclared variable', () => {
      |    ^ Unknown Test
  921 |       expectNoChange('x = 2;');
  922 |     });
  923 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 924}","  922 |     });
  923 |
> 924 |     it('should not throw error for assignment to object property', () => {
      |    ^ Unknown Test
  925 |       expectNoChange('this.y = 5;');
  926 |     });
  927 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 928}","  926 |     });
  927 |
> 928 |     it('should use const when similarly-named property is assigned to', () => {
      |    ^ Unknown Test
  929 |       expectTransform(
  930 |         'var x = 2;\n' +
  931 |         'b.x += 1;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 938}","  936 |     });
  937 |
> 938 |     it('should use const when similarly-named property is updated', () => {
      |    ^ Unknown Test
  939 |       expectTransform(
  940 |         'var x = 2;\n' +
  941 |         'b.x++;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 950}","  948 |
  949 |   describe('comments', () => {
> 950 |     it('should preserve comment line', () => {
      |    ^ Unknown Test
  951 |       expectTransform(
  952 |         '// comment line\n' +
  953 |         'var x = 42;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 960}","  958 |     });
  959 |
> 960 |     it('should preserve trailing comment', () => {
      |    ^ Unknown Test
  961 |       expectTransform(
  962 |         'var x = 42; // trailing comment'
  963 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 968}","  966 |     });
  967 |
> 968 |     it('should preserve comment before var broken up to let & const', () => {
      |    ^ Unknown Test
  969 |       // For some reason Recast creates an additional line-break after const.
  970 |       // Unsure whether it's a bug in Recast or problem with how we preserve
  971 |       // comments."
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/letTest.js,Unknown Test,"{'column': 4, 'line': 985}","  983 |     });
  984 |
> 985 |     it('should preserve comment between var broken up to let & const', () => {
      |    ^ Unknown Test
  986 |       // This is another weird behavior of Recast.
  987 |       // The comment gets preserved, but placed in pretty strange spot.
  988 |       expectTransform("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 17}","  15 |
  16 | describe('JSX support', () => {
> 17 |   it('should support self-closing element', () => {
     |  ^ Unknown Test
  18 |     expectTransform(
  19 |       'var foo = <div/>;'
  20 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 25}","  23 |   });
  24 |
> 25 |   it('should support attributes', () => {
     |  ^ Unknown Test
  26 |     expectTransform(
  27 |       'var foo = <div foo=""hello"" bar={2}/>;'
  28 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 33}","  31 |   });
  32 |
> 33 |   it('should support spread attributes', () => {
     |  ^ Unknown Test
  34 |     expectTransform(
  35 |       'var foo = <div {...attrs}/>;'
  36 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 41}","  39 |   });
  40 |
> 41 |   it('should support nested elements', () => {
     |  ^ Unknown Test
  42 |     expectTransform(
  43 |       'var foo = <div>\n' +
  44 |       '    <Foo/>\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 55}","  53 |   });
  54 |
> 55 |   it('should support member-expressions as element name', () => {
     |  ^ Unknown Test
  56 |     expectTransform(
  57 |       'var foo = <Foo.bar/>;'
  58 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 63}","  61 |   });
  62 |
> 63 |   it('should support XML namespaces', () => {
     |  ^ Unknown Test
  64 |     expectTransform(
  65 |       'var foo = <xml:foo/>;'
  66 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 71}","  69 |   });
  70 |
> 71 |   it('should support content', () => {
     |  ^ Unknown Test
  72 |     expectTransform(
  73 |       'var foo = <div>Hello {a + b}</div>;'
  74 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 79}","  77 |   });
  78 |
> 79 |   it('should support empty content expressions', () => {
     |  ^ Unknown Test
  80 |     expectTransform(
  81 |       'var foo = <div> {/* some comments */} </div>;'
  82 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/jsxTest.js,Unknown Test,"{'column': 2, 'line': 87}","  85 |   });
  86 |
> 87 |   it('should support JSX fragments', () => {
     |  ^ Unknown Test
  88 |     expectTransform(
  89 |       'var foo = <>{a}</>;'
  90 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('indexOf() to includes()', () => {
> 5 |   it('should replace !== -1 with includes()', () => {
    |  ^ Unknown Test
  6 |     expectTransform(
  7 |       'if (array.indexOf(foo) !== -1) { /* */ }'
  8 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 13}","  11 |   });
  12 |
> 13 |   it('should NOT transform !== 0', () => {
     |  ^ Unknown Test
  14 |     expectNoChange(
  15 |       'if (array.indexOf(foo) !== 0) { /* */ }'
  16 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 19}","  17 |   });
  18 |
> 19 |   it('should replace === -1 with !includes()', () => {
     |  ^ Unknown Test
  20 |     expectTransform(
  21 |       'if (array.indexOf(foo) === -1) { /* */ }'
  22 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 27}","  25 |   });
  26 |
> 27 |   it('should NOT transform === 0', () => {
     |  ^ Unknown Test
  28 |     expectNoChange(
  29 |       'if (array.indexOf(foo) === 0) { /* */ }'
  30 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 33}","  31 |   });
  32 |
> 33 |   it('should replace != -1 with includes()', () => {
     |  ^ Unknown Test
  34 |     expectTransform(
  35 |       'if (array.indexOf(foo) != -1) { /* */ }'
  36 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 41}","  39 |   });
  40 |
> 41 |   it('should NOT transform != 0', () => {
     |  ^ Unknown Test
  42 |     expectNoChange(
  43 |       'if (array.indexOf(foo) != 0) { /* */ }'
  44 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 47}","  45 |   });
  46 |
> 47 |   it('should replace == -1 with !includes()', () => {
     |  ^ Unknown Test
  48 |     expectTransform(
  49 |       'if (array.indexOf(foo) == -1) { /* */ }'
  50 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 55}","  53 |   });
  54 |
> 55 |   it('should NOT transform == 0', () => {
     |  ^ Unknown Test
  56 |     expectNoChange(
  57 |       'if (array.indexOf(foo) == 0) { /* */ }'
  58 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 61}","  59 |   });
  60 |
> 61 |   it('should replace > -1 with includes()', () => {
     |  ^ Unknown Test
  62 |     expectTransform(
  63 |       'if (array.indexOf(foo) > -1) { /* */ }'
  64 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 69}","  67 |   });
  68 |
> 69 |   it('should NOT transform > 0', () => {
     |  ^ Unknown Test
  70 |     expectNoChange(
  71 |       'if (array.indexOf(foo) > 0) { /* */ }'
  72 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 75}","  73 |   });
  74 |
> 75 |   it('should NOT transform >= -1', () => {
     |  ^ Unknown Test
  76 |     expectNoChange(
  77 |       'if (array.indexOf(foo) >= -1) { /* */ }'
  78 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 81}","  79 |   });
  80 |
> 81 |   it('should replace >= 0 with includes()', () => {
     |  ^ Unknown Test
  82 |     expectTransform(
  83 |       'if (array.indexOf(foo) >= 0) { /* */ }'
  84 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 89}","  87 |   });
  88 |
> 89 |   it('should NOT transform < -1', () => {
     |  ^ Unknown Test
  90 |     expectNoChange(
  91 |       'if (array.indexOf(foo) < -1) { /* */ }'
  92 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 95}","  93 |   });
  94 |
> 95 |   it('should replace < 0 with !includes()', () => {
     |  ^ Unknown Test
  96 |     expectTransform(
  97 |       'if (array.indexOf(foo) < 0) { /* */ }'
  98 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 103}","  101 |   });
  102 |
> 103 |   it('should NOT transform <= -1', () => {
      |  ^ Unknown Test
  104 |     expectNoChange(
  105 |       'if (array.indexOf(foo) <= -1) { /* */ }'
  106 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 2, 'line': 109}","  107 |   });
  108 |
> 109 |   it('should NOT transform <= 0', () => {
      |  ^ Unknown Test
  110 |     expectNoChange(
  111 |       'if (array.indexOf(foo) <= 0) { /* */ }'
  112 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 116}","  114 |
  115 |   describe('reversed operands', () => {
> 116 |     it('should transform -1 !== indexOf()', () => {
      |    ^ Unknown Test
  117 |       expectTransform(
  118 |         'if (-1 !== array.indexOf(foo)) { /* */ }'
  119 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 124}","  122 |     });
  123 |
> 124 |     it('should transform -1 === indexOf()', () => {
      |    ^ Unknown Test
  125 |       expectTransform(
  126 |         'if (-1 === array.indexOf(foo)) { /* */ }'
  127 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 132}","  130 |     });
  131 |
> 132 |     it('should transform -1 < indexOf()', () => {
      |    ^ Unknown Test
  133 |       expectTransform(
  134 |         'if (-1 < array.indexOf(foo)) { /* */ }'
  135 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 140}","  138 |     });
  139 |
> 140 |     it('should transform 0 <= indexOf()', () => {
      |    ^ Unknown Test
  141 |       expectTransform(
  142 |         'if (0 <= array.indexOf(foo)) { /* */ }'
  143 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 148}","  146 |     });
  147 |
> 148 |     it('should transform 0 > indexOf()', () => {
      |    ^ Unknown Test
  149 |       expectTransform(
  150 |         'if (0 > array.indexOf(foo)) { /* */ }'
  151 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 156}","  154 |     });
  155 |
> 156 |     it('should NOT transform 0 >= indexOf()', () => {
      |    ^ Unknown Test
  157 |       expectNoChange(
  158 |         'if (0 >= array.indexOf(foo)) { /* */ }'
  159 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 164}","  162 |
  163 |   describe('additional checks', () => {
> 164 |     it('should allow complex array expression', () => {
      |    ^ Unknown Test
  165 |       expectTransform(
  166 |         'if ([1,2,3].indexOf(foo) !== -1) { /* */ }'
  167 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 172}","  170 |     });
  171 |
> 172 |     it('should allow complex string expression', () => {
      |    ^ Unknown Test
  173 |       expectTransform(
  174 |         'if ((""foo"" + ""bar"").indexOf(foo) !== -1) { /* */ }'
  175 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 180}","  178 |     });
  179 |
> 180 |     it('should allow complex searchElement expression', () => {
      |    ^ Unknown Test
  181 |       expectTransform(
  182 |         'if (array.indexOf(a + b + c) !== -1) { /* */ }'
  183 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/includesTest.js,Unknown Test,"{'column': 4, 'line': 188}","  186 |     });
  187 |
> 188 |     it('should NOT transform indexOf() with multiple parameters', () => {
      |    ^ Unknown Test
  189 |       expectNoChange(
  190 |         'if (array.indexOf(a, b) !== -1) { /* */ }'
  191 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 4, 'line': 6}","  4 | describe('For loops to for-of', () => {
  5 |   describe('with existing array element alias', () => {
> 6 |     it('should use the existing alias as loop variable', () => {
    |    ^ Unknown Test
  7 |       expectTransform(
  8 |         'for (let i=0; i < array.length; i++) {\n' +
  9 |         '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 4, 'line': 19}","  17 |     });
  18 |
> 19 |     it('should work with different variables and long for-loop body', () => {
     |    ^ Unknown Test
  20 |       expectTransform(
  21 |         'for (let idx=0; idx < fruitList.length; idx++) {\n' +
  22 |         '  let fruit = fruitList[idx];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 4, 'line': 38}","  36 |     });
  37 |
> 38 |     it('should support complex expressions for array', () => {
     |    ^ Unknown Test
  39 |       expectTransform(
  40 |         'for (let i=0; i < store[current].fruits.length; i++) {\n' +
  41 |         '  let item = store[current].fruits[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 4, 'line': 51}","  49 |     });
  50 |
> 51 |     it('should preserve original const-kind of loop variable', () => {
     |    ^ Unknown Test
  52 |       expectTransform(
  53 |         'for (let i=0; i < array.length; i++) {\n' +
  54 |         '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 4, 'line': 64}","  62 |     });
  63 |
> 64 |     it('should transform ++i loop-increment', () => {
     |    ^ Unknown Test
  65 |       expectTransform(
  66 |         'for (let i=0; i < array.length; ++i) {\n' +
  67 |         '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 4, 'line': 77}","  75 |     });
  76 |
> 77 |     it('should transform i+=1 loop-increment', () => {
     |    ^ Unknown Test
  78 |       expectTransform(
  79 |         'for (let i=0; i < array.length; i+=1) {\n' +
  80 |         '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 4, 'line': 90}","  88 |     });
  89 |
> 90 |     it('should transform when index identifier used as object literal key', () => {
     |    ^ Unknown Test
  91 |       expectTransform(
  92 |         'for (let i=0; i < array.length; i++) {\n' +
  93 |         '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 4, 'line': 103}","  101 |     });
  102 |
> 103 |     it('should transform when index identifier used as object property', () => {
      |    ^ Unknown Test
  104 |       expectTransform(
  105 |         'for (let i=0; i < array.length; i++) {\n' +
  106 |         '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 117}","  115 |
  116 |     describe('should not transform', () => {
> 117 |       it('when index variable used in loop body', () => {
      |      ^ Unknown Test
  118 |         expectNoChange(
  119 |           'for (let i=0; i < array.length; i++) {\n' +
  120 |           '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 128}","  126 |       });
  127 |
> 128 |       it('when index variable used inside a function in loop body', () => {
      |      ^ Unknown Test
  129 |         expectNoChange(
  130 |           'for (let i=0; i < array.length; i++) {\n' +
  131 |           '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 139}","  137 |       });
  138 |
> 139 |       it('when loop variable defined with var', () => {
      |      ^ Unknown Test
  140 |         expectNoChange(
  141 |           'for (let i=0; i < array.length; i++) {\n' +
  142 |           '  var item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 150}","  148 |       });
  149 |
> 150 |       it('when loop index variable defined with var', () => {
      |      ^ Unknown Test
  151 |         expectNoChange(
  152 |           'for (var i=0; i < array.length; i++) {\n' +
  153 |           '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 161}","  159 |       });
  160 |
> 161 |       it('when loop initializes several variables', () => {
      |      ^ Unknown Test
  162 |         expectNoChange(
  163 |           'for (let i=0, j=0; i < array.length; i++) {\n' +
  164 |           '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 172}","  170 |       });
  171 |
> 172 |       it('when loop runs backwards', () => {
      |      ^ Unknown Test
  173 |         expectNoChange(
  174 |           'for (let i = array.length-1; i >= 0; i--) {\n' +
  175 |           '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 183}","  181 |       });
  182 |
> 183 |       it('when elements taken from different array', () => {
      |      ^ Unknown Test
  184 |         expectNoChange(
  185 |           'for (let i=0; i < array.length; i++) {\n' +
  186 |           '  let item = otherArray[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 194}","  192 |       });
  193 |
> 194 |       it('when elements taken from different index', () => {
      |      ^ Unknown Test
  195 |         expectNoChange(
  196 |           'for (let i=0; i < array.length; i++) {\n' +
  197 |           '  let item = array[otherIndex];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 205}","  203 |       });
  204 |
> 205 |       it('when incrementing a different index', () => {
      |      ^ Unknown Test
  206 |         expectNoChange(
  207 |           'for (let i=0; i < array.length; otherIndex++) {\n' +
  208 |           '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 216}","  214 |       });
  215 |
> 216 |       it('when comparing a different index', () => {
      |      ^ Unknown Test
  217 |         expectNoChange(
  218 |           'for (let i=0; otherIndex < array.length; i++) {\n' +
  219 |           '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 227}","  225 |       });
  226 |
> 227 |       it('when variable declaration is not the first one in loop body', () => {
      |      ^ Unknown Test
  228 |         expectNoChange(
  229 |           'for (let i=0; i < array.length; i++) {\n' +
  230 |           '  const x = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 241}","  239 |
  240 |     describe('comments', () => {
> 241 |       it('should preserve for-loop comments', () => {
      |      ^ Unknown Test
  242 |         expectTransform(
  243 |           '// Some comments\n' +
  244 |           'for (let i=0; i < array.length; i++) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forOfTest.js,Unknown Test,"{'column': 6, 'line': 256}","  254 |       });
  255 |
> 256 |       it('should preserve loop variable comments', () => {
      |      ^ Unknown Test
  257 |         expectTransform(
  258 |           'for (let i=0; i < array.length; i++) {\n' +
  259 |           '  // Some comments\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Conditional Test Logic,"{'line': 166, 'column': 30, 'index': 5172}","  164 |       // Ignore break and continue inside all kinds of nested loops
  165 |       LOOP_TYPES.forEach(({name, begin, end}) => {
> 166 |         ['break', 'continue'].forEach((keyword) => {
      |                              ^ Conditional Test Logic
  167 |           it(`${keyword} inside nested ${name} loop`, () => {
  168 |             expectTransform(
  169 |               'for (let i = 0; i < array.length; i++) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Conditional Test Logic,"{'line': 188, 'column': 28, 'index': 5817}","  186 |
  187 |     describe('should not transform', () => {
> 188 |       ['break', 'continue'].forEach((keyword) => {
      |                            ^ Conditional Test Logic
  189 |         const keywordMsg = capitalize(keyword);
  190 |
  191 |         it(`when loop itself contains a ${keyword} statement`, () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 15}","  13 | describe('For loops to Array.forEach()', () => {
  14 |   describe('with existing array element alias', () => {
> 15 |     it('should use the existing alias as loop variable', () => {
     |    ^ Unknown Test
  16 |       expectTransform(
  17 |         'for (let i=0; i < array.length; i++) {\n' +
  18 |         '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 28}","  26 |     });
  27 |
> 28 |     it('should work with different variables and long for-loop body', () => {
     |    ^ Unknown Test
  29 |       expectTransform(
  30 |         'for (let idx=0; idx < fruitList.length; idx++) {\n' +
  31 |         '  const fruit = fruitList[idx];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 47}","  45 |     });
  46 |
> 47 |     it('should support complex expressions for array', () => {
     |    ^ Unknown Test
  48 |       expectTransform(
  49 |         'for (let i=0; i < store[current].fruits.length; i++) {\n' +
  50 |         '  const item = store[current].fruits[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 60}","  58 |     });
  59 |
> 60 |     it('should transform ++i loop-increment', () => {
     |    ^ Unknown Test
  61 |       expectTransform(
  62 |         'for (let i=0; i < array.length; ++i) {\n' +
  63 |         '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 73}","  71 |     });
  72 |
> 73 |     it('should transform i+=1 loop-increment', () => {
     |    ^ Unknown Test
  74 |       expectTransform(
  75 |         'for (let i=0; i < array.length; i+=1) {\n' +
  76 |         '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 86}","  84 |     });
  85 |
> 86 |     it('should transform when the array itself is used in the loop body', () => {
     |    ^ Unknown Test
  87 |       expectTransform(
  88 |         'for (let i=0; i < array.length; i++) {\n' +
  89 |         '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 99}","   97 |     });
   98 |
>  99 |     it('should transform without index parameter when index identifier used as object literal key', () => {
      |    ^ Unknown Test
  100 |       expectTransform(
  101 |         'for (let i=0; i < array.length; i++) {\n' +
  102 |         '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 112}","  110 |     });
  111 |
> 112 |     it('should transform without index parameter when index identifier used as object property', () => {
      |    ^ Unknown Test
  113 |       expectTransform(
  114 |         'for (let i=0; i < array.length; i++) {\n' +
  115 |         '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 4, 'line': 125}","  123 |     });
  124 |
> 125 |     it('should transform with index parameter when index variable used in loop body', () => {
      |    ^ Unknown Test
  126 |       expectTransform(
  127 |         'for (let i=0; i < array.length; i++) {\n' +
  128 |         '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 139}","  137 |
  138 |     describe('should transform when loop contains', () => {
> 139 |       it('break inside switch statement', () => {
      |      ^ Unknown Test
  140 |         expectTransform(
  141 |           'for (let i=0; i < xs.length; i++) {\n' +
  142 |           '  const x = xs[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 8, 'line': 202}","  200 |         });
  201 |
> 202 |         it('when loop itself contains a ${keyword} statement with label', () => {
      |        ^ Unknown Test
  203 |           expectNoChange(
  204 |             'loop1:\n' +
  205 |             'for (let i=0; i < array.length; i++) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 251}","  249 |       });
  250 |
> 251 |       it('when loop index variable defined with var', () => {
      |      ^ Unknown Test
  252 |         expectNoChange(
  253 |           'for (var i=0; i < array.length; i++) {\n' +
  254 |           '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 262}","  260 |       });
  261 |
> 262 |       it('when loop array item variable defined with var', () => {
      |      ^ Unknown Test
  263 |         expectNoChange(
  264 |           'for (let i=0; i < array.length; i++) {\n' +
  265 |           '  var item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 273}","  271 |       });
  272 |
> 273 |       it('when loop array item variable defined with let', () => {
      |      ^ Unknown Test
  274 |         expectNoChange(
  275 |           'for (let i=0; i < array.length; i++) {\n' +
  276 |           '  let item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 284}","  282 |       });
  283 |
> 284 |       it('when loop initializes several variables', () => {
      |      ^ Unknown Test
  285 |         expectNoChange(
  286 |           'for (let i=0, j=0; i < array.length; i++) {\n' +
  287 |           '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 295}","  293 |       });
  294 |
> 295 |       it('when loop runs backwards', () => {
      |      ^ Unknown Test
  296 |         expectNoChange(
  297 |           'for (let i = array.length-1; i >= 0; i--) {\n' +
  298 |           '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 306}","  304 |       });
  305 |
> 306 |       it('when elements taken from different array', () => {
      |      ^ Unknown Test
  307 |         expectNoChange(
  308 |           'for (let i=0; i < array.length; i++) {\n' +
  309 |           '  const item = otherArray[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 317}","  315 |       });
  316 |
> 317 |       it('when elements taken from different index', () => {
      |      ^ Unknown Test
  318 |         expectNoChange(
  319 |           'for (let i=0; i < array.length; i++) {\n' +
  320 |           '  const item = array[otherIndex];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 328}","  326 |       });
  327 |
> 328 |       it('when incrementing a different index', () => {
      |      ^ Unknown Test
  329 |         expectNoChange(
  330 |           'for (let i=0; i < array.length; otherIndex++) {\n' +
  331 |           '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 339}","  337 |       });
  338 |
> 339 |       it('when comparing a different index', () => {
      |      ^ Unknown Test
  340 |         expectNoChange(
  341 |           'for (let i=0; otherIndex < array.length; i++) {\n' +
  342 |           '  const item = array[i];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 350}","  348 |       });
  349 |
> 350 |       it('when variable declaration is not the first one in loop body', () => {
      |      ^ Unknown Test
  351 |         expectNoChange(
  352 |           'for (let i=0; i < array.length; i++) {\n' +
  353 |           '  const x = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 364}","  362 |
  363 |     describe('comments', () => {
> 364 |       it('should preserve for-loop comments', () => {
      |      ^ Unknown Test
  365 |         expectTransform(
  366 |           '// Some comments\n' +
  367 |           'for (let i=0; i < array.length; i++) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/forEachTest.js,Unknown Test,"{'column': 6, 'line': 379}","  377 |       });
  378 |
> 379 |       it('should preserve loop variable comments', () => {
      |      ^ Unknown Test
  380 |         expectTransform(
  381 |           'for (let i=0; i < array.length; i++) {\n' +
  382 |           '  // Some comments\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/exponentTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Exponentiation operator', () => {
> 5 |   it('should convert Math.pow()', () => {
    |  ^ Unknown Test
  6 |     expectTransform(
  7 |       'result = Math.pow(a, b);'
  8 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/exponentTest.js,Unknown Test,"{'column': 2, 'line': 13}","  11 |   });
  12 |
> 13 |   it('should parenthesize arguments when needed', () => {
     |  ^ Unknown Test
  14 |     expectTransform(
  15 |       'result = Math.pow(a + 1, b + 2);'
  16 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/exponentTest.js,Unknown Test,"{'column': 2, 'line': 21}","  19 |   });
  20 |
> 21 |   it('should parenthesize multiplication', () => {
     |  ^ Unknown Test
  22 |     expectTransform(
  23 |       'Math.pow(x * 2, 2);'
  24 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/exponentTest.js,Unknown Test,"{'column': 2, 'line': 29}","  27 |   });
  28 |
> 29 |   it('should not convert Math.pow() without exactly two arguments', () => {
     |  ^ Unknown Test
  30 |     expectNoChange('Math.pow();');
  31 |     expectNoChange('Math.pow(1);');
  32 |     expectNoChange('Math.pow(1, 2, 3);');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/ecmaVersionTest.js,Unknown Test,"{'column': 2, 'line': 17}","  15 |
  16 | describe('ECMAScript version', () => {
> 17 |   it('supports optional catch binding in ECMAScript 2019', () => {
     |  ^ Unknown Test
  18 |     expectNoChange('try { ohNo(); } catch { console.log(""error!""); }');
  19 |   });
  20 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/ecmaVersionTest.js,Unknown Test,"{'column': 2, 'line': 21}","  19 |   });
  20 |
> 21 |   it('supports optional chaining in ECMAScript 2020', () => {
     |  ^ Unknown Test
  22 |     expectNoChange('foo?.bar();');
  23 |   });
  24 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/ecmaVersionTest.js,Unknown Test,"{'column': 2, 'line': 25}","  23 |   });
  24 |
> 25 |   it('supports numeric separators in ECMAScript 2021', () => {
     |  ^ Unknown Test
  26 |     expectNoChange('const nr = 10_000_000;');
  27 |   });
  28 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/ecmaVersionTest.js,Unknown Test,"{'column': 2, 'line': 29}","  27 |   });
  28 |
> 29 |   it('supports private class fields ECMAScript 2022', () => {
     |  ^ Unknown Test
  30 |     expectNoChange('class Foo { #field = 42; #method() {} }');
  31 |   });
  32 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Ignored Test,"{'line': 144, 'column': 5, 'index': 3595}","  142 |   });
  143 |
> 144 |   it.skip('should not transform second param when this results in conflict', () => {
      |     ^ Ignored Test
  145 |     expectTransform(
  146 |       'function fn(a, b) {\n' +
  147 |       '  console.log(a.foo, b.foo);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Ignored Test,"{'line': 156, 'column': 5, 'index': 3899}","  154 |   });
  155 |
> 156 |   it.skip('should not perform second transform when it results in conflict', () => {
      |     ^ Ignored Test
  157 |     expectTransform(
  158 |       'function fn(a) {\n' +
  159 |       '  console.log(a.foo);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Destruct function param', () => {
> 5 |   it('should transform when only props are accessed', () => {
    |  ^ Unknown Test
  6 |     expectTransform(
  7 |       'function fn(cfg) {\n' +
  8 |       '  console.log(cfg.foo, cfg.bar);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 17}","  15 |   });
  16 |
> 17 |   it('should transform when the same prop accessed multiple times', () => {
     |  ^ Unknown Test
  18 |     expectTransform(
  19 |       'function fn(cfg) {\n' +
  20 |       '  console.log(cfg.foo, cfg.bar, cfg.foo);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 29}","  27 |   });
  28 |
> 29 |   it('should not transform when re-defined as variable', () => {
     |  ^ Unknown Test
  30 |     expectNoChange(
  31 |       'function fn(cfg) {\n' +
  32 |       '  var cfg;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 38}","  36 |   });
  37 |
> 38 |   it('should not transform when is used without props-access', () => {
     |  ^ Unknown Test
  39 |     expectNoChange(
  40 |       'function fn(cfg) {\n' +
  41 |       '  console.log(cfg, cfg.foo, cfg.bar);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 46}","  44 |   });
  45 |
> 46 |   it('should not transform computed props-access', () => {
     |  ^ Unknown Test
  47 |     expectNoChange(
  48 |       'function fn(cfg) {\n' +
  49 |       '  console.log(cfg, cfg[""foo-hoo""], cfg[""bar-haa""]);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 54}","  52 |   });
  53 |
> 54 |   it('should not transform when props are assigned', () => {
     |  ^ Unknown Test
  55 |     expectNoChange(
  56 |       'function fn(cfg) {\n' +
  57 |       '  cfg.foo = 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 63}","  61 |   });
  62 |
> 63 |   it('should not transform when props are updated', () => {
     |  ^ Unknown Test
  64 |     expectNoChange(
  65 |       'function fn(cfg) {\n' +
  66 |       '  cfg.foo++;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 72}","  70 |   });
  71 |
> 72 |   it('should not transform when props are methods', () => {
     |  ^ Unknown Test
  73 |     expectNoChange(
  74 |       'function fn(cfg) {\n' +
  75 |       '  console.log(cfg.foo(), cfg.bar);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 80}","  78 |   });
  79 |
> 80 |   it('should not transform when props are keywords', () => {
     |  ^ Unknown Test
  81 |     expectNoChange(
  82 |       'function fn(cfg) {\n' +
  83 |       '  console.log(cfg.let, cfg.for);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 88}","  86 |   });
  87 |
> 88 |   it('should not transform when param with name of prop already exists', () => {
     |  ^ Unknown Test
  89 |     expectNoChange(
  90 |       'function fn(cfg, bar) {\n' +
  91 |       '  console.log(cfg.foo, cfg.bar);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 96}","  94 |   });
  95 |
> 96 |   it('should not transform when variable with name of prop already exists', () => {
     |  ^ Unknown Test
  97 |     expectNoChange(
  98 |       'function fn(cfg) {\n' +
  99 |       '  var foo = 10;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 105}","  103 |   });
  104 |
> 105 |   it('should not transform when import with name of prop already exists', () => {
      |  ^ Unknown Test
  106 |     expectNoChange(
  107 |       'import foo from ""./myFooModule"";\n' +
  108 |       'function fn(cfg) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 114}","  112 |   });
  113 |
> 114 |   it('should not transform when shadowing a global variable', () => {
      |  ^ Unknown Test
  115 |     expectNoChange(
  116 |       'function fn(cfg) {\n' +
  117 |       '  console.log(cfg.window);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 123}","  121 |   });
  122 |
> 123 |   it('should not transform when shadowing a global variable in separate function', () => {
      |  ^ Unknown Test
  124 |     expectNoChange(
  125 |       'function fn(cfg) {\n' +
  126 |       '  function fn1() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 136}","  134 |   });
  135 |
> 136 |   it('should not transform already destructed param', () => {
      |  ^ Unknown Test
  137 |     expectNoChange(
  138 |       'function fn({cfg, cfg2}) {\n' +
  139 |       '  console.log(cfg.foo, cfg.bar);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 174}","  172 |   });
  173 |
> 174 |   it('should transform when MAX_PROPS props', () => {
      |  ^ Unknown Test
  175 |     expectTransform(
  176 |       'function fn(cfg) {\n' +
  177 |       '  console.log(cfg.p1, cfg.p2, cfg.p3, cfg.p4);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/destructParamTest.js,Unknown Test,"{'column': 2, 'line': 186}","  184 |   });
  185 |
> 186 |   it('should not transform more than MAX_PROPS props', () => {
      |  ^ Unknown Test
  187 |     expectNoChange(
  188 |       'function fn(cfg) {\n' +
  189 |       '  console.log(cfg.p1, cfg.p2, cfg.p3, cfg.p4, cfg.p5);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 6}","  4 | describe('Default parameters', () => {
  5 |   describe('detected from or-assignment', () => {
> 6 |     it('should work for simple case', () => {
    |    ^ Unknown Test
  7 |       expectTransform(
  8 |         'function x(a) {\n' +
  9 |         '  a = a || 2;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 16}","  14 |     });
  15 |
> 16 |     it('should work for different types of parameters', () => {
     |    ^ Unknown Test
  17 |       expectTransform(
  18 |         'function x(a, b, c) {\n' +
  19 |         '  a = a || ""salam"";\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 28}","  26 |     });
  27 |
> 28 |     it('should not work when variable not in left of ||', () => {
     |    ^ Unknown Test
  29 |       expectNoChange(
  30 |         'function x(a) {\n' +
  31 |         '  a = 10 || a;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 38}","  36 |
  37 |   describe('detected from ternary-assignment', () => {
> 38 |     it('should work for simple case', () => {
     |    ^ Unknown Test
  39 |       expectTransform(
  40 |         'function x(a) {\n' +
  41 |         '  a = a ? a : 4;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 48}","  46 |     });
  47 |
> 48 |     it('should work for different types of parameters', () => {
     |    ^ Unknown Test
  49 |       expectTransform(
  50 |         'function x(a, b, c) {\n' +
  51 |         '  a = a ? a : ""salam"";\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 60}","  58 |     });
  59 |
> 60 |     it('should not work when variable in alternate position', () => {
     |    ^ Unknown Test
  61 |       expectNoChange(
  62 |         'function x(a) {\n' +
  63 |         '  a = a ? 5 : a;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 70}","  68 |
  69 |   describe('detected from equals-undefined assignment', () => {
> 70 |     it('should work for ===', () => {
     |    ^ Unknown Test
  71 |       expectTransform(
  72 |         'function x(a) {\n' +
  73 |         '  a = a === undefined ? 4 : a;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 80}","  78 |     });
  79 |
> 80 |     it('should work for !==', () => {
     |    ^ Unknown Test
  81 |       expectTransform(
  82 |         'function x(a) {\n' +
  83 |         '  a = a !== undefined ? a : 4;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 90}","  88 |     });
  89 |
> 90 |     it('should work for ==', () => {
     |    ^ Unknown Test
  91 |       expectTransform(
  92 |         'function x(a) {\n' +
  93 |         '  a = a == undefined ? 4 : a;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 100}","   98 |     });
   99 |
> 100 |     it('should work for !=', () => {
      |    ^ Unknown Test
  101 |       expectTransform(
  102 |         'function x(a) {\n' +
  103 |         '  a = a != undefined ? a : 4;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 110}","  108 |     });
  109 |
> 110 |     it('should not work for other operators (like >)', () => {
      |    ^ Unknown Test
  111 |       expectNoChange(
  112 |         'function x(a) {\n' +
  113 |         '  a = a > undefined ? a : 4;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 118}","  116 |     });
  117 |
> 118 |     it('should not work for === when variable in wrong location', () => {
      |    ^ Unknown Test
  119 |       expectNoChange(
  120 |         'function x(a) {\n' +
  121 |         '  a = a === undefined ? a : 5;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 126}","  124 |     });
  125 |
> 126 |     it('should not work for !== when variable in wrong location', () => {
      |    ^ Unknown Test
  127 |       expectNoChange(
  128 |         'function x(a) {\n' +
  129 |         '  a = a !== undefined ? 5 : a;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 136}","  134 |
  135 |   describe('detected from typeof equals-undefined assignment', () => {
> 136 |     it('should work for ===', () => {
      |    ^ Unknown Test
  137 |       expectTransform(
  138 |         'function x(a) {\n' +
  139 |         '  a = typeof a === ""undefined"" ? 4 : a;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 146}","  144 |     });
  145 |
> 146 |     it('should work for !==', () => {
      |    ^ Unknown Test
  147 |       expectTransform(
  148 |         'function x(a) {\n' +
  149 |         '  a = typeof a !== ""undefined"" ? a : 4;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 156}","  154 |     });
  155 |
> 156 |     it('should work for ==', () => {
      |    ^ Unknown Test
  157 |       expectTransform(
  158 |         'function x(a) {\n' +
  159 |         '  a = typeof a == ""undefined"" ? 4 : a;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 166}","  164 |     });
  165 |
> 166 |     it('should work for !=', () => {
      |    ^ Unknown Test
  167 |       expectTransform(
  168 |         'function x(a) {\n' +
  169 |         '  a = typeof a != ""undefined"" ? a : 4;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 176}","  174 |     });
  175 |
> 176 |     it('should not work for other operators (like >)', () => {
      |    ^ Unknown Test
  177 |       expectNoChange(
  178 |         'function x(a) {\n' +
  179 |         '  a = typeof a > undefined ? a : 4;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 184}","  182 |     });
  183 |
> 184 |     it('should not work for === when variable in wrong location', () => {
      |    ^ Unknown Test
  185 |       expectNoChange(
  186 |         'function x(a) {\n' +
  187 |         '  a = typeof a === ""undefined"" ? a : 5;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 4, 'line': 192}","  190 |     });
  191 |
> 192 |     it('should not work for !== when variable in wrong location', () => {
      |    ^ Unknown Test
  193 |       expectNoChange(
  194 |         'function x(a) {\n' +
  195 |         '  a = typeof a !== ""undefined"" ? 5 : a;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 201}","  199 |   });
  200 |
> 201 |   it('should work when only some parameters have defaults', () => {
      |  ^ Unknown Test
  202 |     expectTransform(
  203 |       'function x(a, b, c) {\n' +
  204 |       '  b = b || 3;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 211}","  209 |   });
  210 |
> 211 |   it('should work for multiple functions', () => {
      |  ^ Unknown Test
  212 |     expectTransform(
  213 |       'function x(a) { a = a || 2; }\n' +
  214 |       'function y(a) { a = a || 3; }'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 221}","  219 |   });
  220 |
> 221 |   it('should work for nested functions with similar parameter names', () => {
      |  ^ Unknown Test
  222 |     expectTransform(
  223 |       'function x(a) {\n' +
  224 |       '  function y(a) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 237}","  235 |   });
  236 |
> 237 |   it('should ignore parameters modified before assigning default', () => {
      |  ^ Unknown Test
  238 |     expectNoChange(
  239 |       'function x(a) {\n' +
  240 |       '  a = foo();\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 246}","  244 |   });
  245 |
> 246 |   it('should ignore parameters when any other code executed before assigning default', () => {
      |  ^ Unknown Test
  247 |     expectNoChange(
  248 |       'function x(a) {\n' +
  249 |       '  foo();\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 258}","  256 |   });
  257 |
> 258 |   it('should work for function expressions', () => {
      |  ^ Unknown Test
  259 |     expectTransform(
  260 |       'foo(function(a) {\n' +
  261 |       '  a = a || 2;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 268}","  266 |   });
  267 |
> 268 |   it('should work for arrow functions', () => {
      |  ^ Unknown Test
  269 |     expectTransform(
  270 |       'foo((a) => {\n' +
  271 |       '  a = a || 2;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 278}","  276 |   });
  277 |
> 278 |   it('should preserve existing default parameters', () => {
      |  ^ Unknown Test
  279 |     expectNoChange(
  280 |       'function x(a = ""salam"", b = {}, c = []) {}'
  281 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 284}","  282 |   });
  283 |
> 284 |   it('should not override existing default parameters', () => {
      |  ^ Unknown Test
  285 |     expectNoChange(
  286 |       'function x(a=25) {\n' +
  287 |       '  a = a || 2;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 293}","  291 |
  292 |   // Regression test for issue #89
> 293 |   it('should preserve long parameter lists as is when there are no defaults', () => {
      |  ^ Unknown Test
  294 |     expectNoChange(
  295 |       'function foo(variable1, variable2, variable3, variable4, variable5, variable6, variable7, variable8) {}'
  296 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 301}","  299 |   // Regression tests for issue #238 (https://github.com/lebab/lebab/issues/238)
  300 |
> 301 |   it('should not work when default value is next parameter', () => {
      |  ^ Unknown Test
  302 |     expectNoChange(
  303 |       'function f(a, b) { a = a || b }'
  304 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 307}","  305 |   });
  306 |
> 307 |   it('should not work when default value contains next parameter', () => {
      |  ^ Unknown Test
  308 |     expectNoChange(
  309 |       'function f(a, b) { a = a || foo(1/b+2) }'
  310 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 313}","  311 |   });
  312 |
> 313 |   it('should not work when default value contains the parameter itself', () => {
      |  ^ Unknown Test
  314 |     expectNoChange(
  315 |       'function f(a, b) { a = a || foo(1/a+2) }'
  316 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 319}","  317 |   });
  318 |
> 319 |   it('should work OK when default value is previous parameter', () => {
      |  ^ Unknown Test
  320 |     expectTransform(
  321 |       'function f(a, b) { b = b || a }'
  322 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 327}","  325 |   });
  326 |
> 327 |   it('should not work when default value is next destructured parameter', () => {
      |  ^ Unknown Test
  328 |     expectNoChange(
  329 |       'function f(a, [{b}]) { a = a || b }'
  330 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 333}","  331 |   });
  332 |
> 333 |   it('should not work when default value is next param with a default', () => {
      |  ^ Unknown Test
  334 |     expectNoChange(
  335 |       'function f(a, b = 1) { a = a || b }'
  336 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 339}","  337 |   });
  338 |
> 339 |   it('should not work when default value is next destructured param with a default', () => {
      |  ^ Unknown Test
  340 |     expectNoChange(
  341 |       'function f(a, {b = 1}) { a = a || b }'
  342 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/defaultParamTest.js,Unknown Test,"{'column': 2, 'line': 345}","  343 |   });
  344 |
> 345 |   it('should skip transform if function body type is not a BlockStatement', () => {
      |  ^ Unknown Test
  346 |     expectNoChange(
  347 |       'const f = (a) => a'
  348 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Classes', () => {
> 5 |   it('should not convert functions without prototype assignment to class', () => {
    |  ^ Unknown Test
  6 |     expectNoChange(
  7 |       'function myFunc() {\n' +
  8 |       '}'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 2, 'line': 12}","  10 |   });
  11 |
> 12 |   it('should warn about functions that are named like classes', () => {
     |  ^ Unknown Test
  13 |     expectNoChange(
  14 |       'function MyClass() {\n' +
  15 |       '}'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 2, 'line': 21}","  19 |   });
  20 |
> 21 |   it('should convert static function declarations with assignment to static class methods', () => {
     |  ^ Unknown Test
  22 |     expectTransform(
  23 |       'function MyClass() {\n' +
  24 |       '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 2, 'line': 35}","  33 |   });
  34 |
> 35 |   it('should convert static function declarations with static class methods and prototype assignment', () => {
     |  ^ Unknown Test
  36 |     expectTransform(
  37 |       'function MyClass() {\n' +
  38 |       '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 2, 'line': 53}","  51 |   });
  52 |
> 53 |   it('should ignore anonymous function declaration', () => {
     |  ^ Unknown Test
  54 |     expectNoChange(
  55 |       'export default function () {}'
  56 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 60}","  58 |
  59 |   describe('assignment to prototype field', () => {
> 60 |     it('should convert to class (when function declaration used)', () => {
     |    ^ Unknown Test
  61 |       expectTransform(
  62 |         'function MyClass() {\n' +
  63 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 74}","  72 |     });
  73 |
> 74 |     it('should convert to class (when function variable used)', () => {
     |    ^ Unknown Test
  75 |       expectTransform(
  76 |         'var MyClass = function() {\n' +
  77 |         '};\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 88}","  86 |     });
  87 |
> 88 |     it('should not convert arrow-function to class', () => {
     |    ^ Unknown Test
  89 |       expectNoChange(
  90 |         'var MyClass = () => {\n' +
  91 |         '  this.foo = 10;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 99}","   97 |     });
   98 |
>  99 |     it('should not convert arrow-function to method when it uses this', () => {
      |    ^ Unknown Test
  100 |       expectNoChange(
  101 |         'function MyClass() {\n' +
  102 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 109}","  107 |     });
  108 |
> 109 |     it('should not convert arrow-function to method when it uses this inside nested arrow-function', () => {
      |    ^ Unknown Test
  110 |       expectNoChange(
  111 |         'function MyClass() {\n' +
  112 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 119}","  117 |     });
  118 |
> 119 |     it('should convert arrow-function to method when it does not use this', () => {
      |    ^ Unknown Test
  120 |       expectTransform(
  121 |         'function MyClass() {\n' +
  122 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 135}","  133 |     });
  134 |
> 135 |     it('should convert shorthand arrow-function to method when it does not use this', () => {
      |    ^ Unknown Test
  136 |       expectTransform(
  137 |         'function MyClass() {\n' +
  138 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 149}","  147 |     });
  148 |
> 149 |     it('should convert non-empty function to constructor method', () => {
      |    ^ Unknown Test
  150 |       expectTransform(
  151 |         'function MyClass(a, b) {\n' +
  152 |         '  this.params = [a, b];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 168}","  166 |     });
  167 |
> 168 |     it('should preserve ""async"" keyword when converting methods', () => {
      |    ^ Unknown Test
  169 |       expectTransform(
  170 |         'function MyClass(a, b) {\n' +
  171 |         '  this.params = [a, b];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 187}","  185 |     });
  186 |
> 187 |     it('should not convert non-anonymous functions to methods', () => {
      |    ^ Unknown Test
  188 |       expectNoChange(
  189 |         'function MyClass() {\n' +
  190 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 197}","  195 |     });
  196 |
> 197 |     it('should ignore non-function assignments to prototype', () => {
      |    ^ Unknown Test
  198 |       expectTransform(
  199 |         'function MyClass() {\n' +
  200 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 218}","  216 |
  217 |   describe('object assigned to prototype', () => {
> 218 |     it('should transform plain functions to methods', () => {
      |    ^ Unknown Test
  219 |       expectTransform(
  220 |         'function MyClass() {\n' +
  221 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 239}","  237 |     });
  238 |
> 239 |     it('should move over ES6 methods', () => {
      |    ^ Unknown Test
  240 |       expectTransform(
  241 |         'function MyClass() {\n' +
  242 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 260}","  258 |     });
  259 |
> 260 |     it('should move over getters/setters', () => {
      |    ^ Unknown Test
  261 |       expectTransform(
  262 |         'function MyClass() {\n' +
  263 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 281}","  279 |     });
  280 |
> 281 |     it('should ignore when it contains non-functions', () => {
      |    ^ Unknown Test
  282 |       expectNoChange(
  283 |         'function MyClass() {\n' +
  284 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 293}","  291 |     });
  292 |
> 293 |     it('should ignore when it contains arrow-functions that use this', () => {
      |    ^ Unknown Test
  294 |       expectNoChange(
  295 |         'function MyClass() {\n' +
  296 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 303}","  301 |     });
  302 |
> 303 |     it('should transform when it contains arrow-functions that do not use this', () => {
      |    ^ Unknown Test
  304 |       expectTransform(
  305 |         'function MyClass() {\n' +
  306 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 319}","  317 |     });
  318 |
> 319 |     it('should preserve ""async"" when converting arrow-functions', () => {
      |    ^ Unknown Test
  320 |       expectTransform(
  321 |         'function MyClass() {\n' +
  322 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 337}","  335 |
  336 |   describe('Object.defineProperties', () => {
> 337 |     it('should convert setters and getters', () => {
      |    ^ Unknown Test
  338 |       expectTransform(
  339 |         'function MyClass() {\n' +
  340 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 384}","  382 |     });
  383 |
> 384 |     it('should convert satic setters and getters', () => {
      |    ^ Unknown Test
  385 |       expectTransform(
  386 |         'function MyClass() {\n' +
  387 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 431}","  429 |     });
  430 |
> 431 |     it('should ignore other options when converting get/set', () => {
      |    ^ Unknown Test
  432 |       expectTransform(
  433 |         'function MyClass() {\n' +
  434 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 464}","  462 |     });
  463 |
> 464 |     it('should ignore non-function property', () => {
      |    ^ Unknown Test
  465 |       expectNoChange(
  466 |         'function MyClass() {\n' +
  467 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 478}","  476 |     });
  477 |
> 478 |     it('should ignore non-function property even when mixed', () => {
      |    ^ Unknown Test
  479 |       expectTransform(
  480 |         'function MyClass() {\n' +
  481 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 513}","  511 |     });
  512 |
> 513 |     it('should transform arrow-function that does not use this', () => {
      |    ^ Unknown Test
  514 |       expectTransform(
  515 |         'function MyClass() {\n' +
  516 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 531}","  529 |     });
  530 |
> 531 |     it('should transform arrow-function that does not use this when mixed', () => {
      |    ^ Unknown Test
  532 |       expectTransform(
  533 |         'function MyClass() {\n' +
  534 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 560}","  558 |     });
  559 |
> 560 |     it('should ignore arrow-function that uses this', () => {
      |    ^ Unknown Test
  561 |       expectNoChange(
  562 |         'function MyClass() {\n' +
  563 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 572}","  570 |     });
  571 |
> 572 |     it('should ignore arrow-function that uses this when mixed', () => {
      |    ^ Unknown Test
  573 |       expectTransform(
  574 |         'function MyClass() {\n' +
  575 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 605}","  603 |
  604 |   describe('Object.defineProperty', () => {
> 605 |     it('should convert setters and getters', () => {
      |    ^ Unknown Test
  606 |       expectTransform(
  607 |         'function MyClass() {\n' +
  608 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 632}","  630 |     });
  631 |
> 632 |     it('should convert static setters and getters', () => {
      |    ^ Unknown Test
  633 |       expectTransform(
  634 |         'function MyClass() {\n' +
  635 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 659}","  657 |     });
  658 |
> 659 |     it('should ignore other options when converting get/set', () => {
      |    ^ Unknown Test
  660 |       expectTransform(
  661 |         'function MyClass() {\n' +
  662 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 679}","  677 |     });
  678 |
> 679 |     it('should ignore non-function property', () => {
      |    ^ Unknown Test
  680 |       expectNoChange(
  681 |         'function MyClass() {\n' +
  682 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 691}","  689 |     });
  690 |
> 691 |     it('should transform arrow-function that does not use this', () => {
      |    ^ Unknown Test
  692 |       expectTransform(
  693 |         'function MyClass() {\n' +
  694 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 707}","  705 |     });
  706 |
> 707 |     it('should ignore arrow-function that uses this', () => {
      |    ^ Unknown Test
  708 |       expectNoChange(
  709 |         'function MyClass() {\n' +
  710 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 719}","  717 |
  718 |   describe('comments', () => {
> 719 |     it('should preserve class comments', () => {
      |    ^ Unknown Test
  720 |       expectTransform(
  721 |         '/** My nice class. */\n' +
  722 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 735}","  733 |     });
  734 |
> 735 |     it('should preserve method comments', () => {
      |    ^ Unknown Test
  736 |       expectTransform(
  737 |         'function MyClass() {\n' +
  738 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 751}","  749 |     });
  750 |
> 751 |     it('should preserve class with constructor comments', () => {
      |    ^ Unknown Test
  752 |       expectTransform(
  753 |         '/** My nice class. */\n' +
  754 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 772}","  770 |     });
  771 |
> 772 |     it('should preserve multiple comments in various places', () => {
      |    ^ Unknown Test
  773 |       expectTransform(
  774 |         '// My class\n' +
  775 |         '// it is nice\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 800}","  798 |     });
  799 |
> 800 |     it('should preserve prototype = {} comments', () => {
      |    ^ Unknown Test
  801 |       expectTransform(
  802 |         'function MyClass() {\n' +
  803 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classTest.js,Unknown Test,"{'column': 4, 'line': 823}","  821 |     });
  822 |
> 823 |     it('should preserve Object.defineProperty comments', () => {
      |    ^ Unknown Test
  824 |       expectTransform(
  825 |         'function MyClass() {\n' +
  826 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 6}","  4 | describe('Class Inheritance', () => {
  5 |   describe('node.js util.inherits', () => {
> 6 |     it('determines a function is a class when util.inherits() is used', () => {
    |    ^ Unknown Test
  7 |       expectTransform(
  8 |         'var util2 = require(""util"");\n' +
  9 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 18}","  16 |     });
  17 |
> 18 |     it('tracks assignment of require(""util"").inherits', () => {
     |    ^ Unknown Test
  19 |       expectTransform(
  20 |         'var inherits2 = require(""util"").inherits;\n' +
  21 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 30}","  28 |     });
  29 |
> 30 |     it('supports import from ""util""', () => {
     |    ^ Unknown Test
  31 |       expectTransform(
  32 |         'import util from ""util"";\n' +
  33 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 42}","  40 |     });
  41 |
> 42 |     it('ignores import of anything else than ""util""', () => {
     |    ^ Unknown Test
  43 |       expectNoChange(
  44 |         'import util from ""./util"";\n' +
  45 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 51}","  49 |     });
  50 |
> 51 |     it('ignores named imports from ""util""', () => {
     |    ^ Unknown Test
  52 |       expectNoChange(
  53 |         'import {util} from ""util"";\n' +
  54 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 60}","  58 |     });
  59 |
> 60 |     it('preserves inheritance when the inherited class is a member expression', () => {
     |    ^ Unknown Test
  61 |       expectTransform(
  62 |         'var util = require(""util"");\n' +
  63 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 72}","  70 |     });
  71 |
> 72 |     it('ignores require(""util"") which is not top-level', () => {
     |    ^ Unknown Test
  73 |       expectNoChange(
  74 |         'function foo() {\n' +
  75 |         '  var util = require(""util"");\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 83}","  81 |     });
  82 |
> 83 |     it('ignores util.inherits() when not from require(""util"")', () => {
     |    ^ Unknown Test
  84 |       expectNoChange(
  85 |         'var util = require(""./util"");\n' +
  86 |         'function MyClass() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 100}","   98 |
   99 |   describe('prototype = new ParentClass()', () => {
> 100 |     it('determines a function is a class', () => {
      |    ^ Unknown Test
  101 |       expectTransform(
  102 |         'function MyClass() {\n' +
  103 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 110}","  108 |     });
  109 |
> 110 |     it('discards the prototype.constructor assignment', () => {
      |    ^ Unknown Test
  111 |       expectTransform(
  112 |         'function MyClass() {\n' +
  113 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 121}","  119 |     });
  120 |
> 121 |     it('ignores bogus prototype.constructor assignments', () => {
      |    ^ Unknown Test
  122 |       expectTransform(
  123 |         'function MyClass() {\n' +
  124 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 135}","  133 |     });
  134 |
> 135 |     it('does not detect inheritance from prototype.constructor assignment alone', () => {
      |    ^ Unknown Test
  136 |       expectNoChange(
  137 |         'function MyClass() {\n' +
  138 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 145}","  143 |
  144 |   describe('prototype = Object.create(ParentClass.prototype)', () => {
> 145 |     it('determines a function is a class', () => {
      |    ^ Unknown Test
  146 |       expectTransform(
  147 |         'function MyClass() {\n' +
  148 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 155}","  153 |     });
  154 |
> 155 |     it('discards the prototype.constructor assignment', () => {
      |    ^ Unknown Test
  156 |       expectTransform(
  157 |         'function MyClass() {\n' +
  158 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 168}","  166 |
  167 |   describe('super() calls in constructor', () => {
> 168 |     it('converts ParentClass.call(this, args...) to super()', () => {
      |    ^ Unknown Test
  169 |       expectTransform(
  170 |         'function MyClass(name) {\n' +
  171 |         '  ParentClass.call(this, name);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 185}","  183 |     });
  184 |
> 185 |     it('does not convert ParentClass.call(args...) without this to super() ', () => {
      |    ^ Unknown Test
  186 |       expectTransform(
  187 |         'function MyClass(name) {\n' +
  188 |         '  ParentClass.call(null, name);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 202}","  200 |     });
  201 |
> 202 |     it('converts nested ParentClass.call(this, args...) in constructor to super()', () => {
      |    ^ Unknown Test
  203 |       expectTransform(
  204 |         'function MyClass(name) {\n' +
  205 |         '  if (true)\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 221}","  219 |
  220 |   describe('super.foo() calls in methods', () => {
> 221 |     it('converts ParentClass.prototype.foo.call(this, args...) to super.foo()', () => {
      |    ^ Unknown Test
  222 |       expectTransform(
  223 |         'function MyClass(name) {\n' +
  224 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 240}","  238 |     });
  239 |
> 240 |     it('converts nested ParentClass.prototype.foo.call(this, args...) to super.foo()', () => {
      |    ^ Unknown Test
  241 |       expectTransform(
  242 |         'function MyClass(name) {\n' +
  243 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/classInheritanceTest.js,Unknown Test,"{'column': 4, 'line': 259}","  257 |     });
  258 |
> 259 |     it('does not convert SomeOtherClass.prototype.foo.call(this, args...) to super.foo()', () => {
      |    ^ Unknown Test
  260 |       expectTransform(
  261 |         'function MyClass(name) {\n' +
  262 |         '}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Arrow functions', () => {
> 5 |   it('should convert simple callbacks', () => {
    |  ^ Unknown Test
  6 |     expectTransform(
  7 |       'setTimeout(function() { return 2; });'
  8 |     ).toReturn('setTimeout(() => { return 2; });');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 11}","   9 |   });
  10 |
> 11 |   it('should convert callbacks with a single argument', () => {
     |  ^ Unknown Test
  12 |     expectTransform(
  13 |       'a(function(b) { return b; });'
  14 |     ).toReturn('a(b => { return b; });');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 17}","  15 |   });
  16 |
> 17 |   it('should convert callbacks with multiple arguments', () => {
     |  ^ Unknown Test
  18 |     expectTransform(
  19 |       'a(function(b, c) { return b; });'
  20 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 25}","  23 |   });
  24 |
> 25 |   it('should preserve async on anonymous function expression with no argument', () => {
     |  ^ Unknown Test
  26 |     expectTransform(
  27 |       'f = async function() { return 1; };'
  28 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 33}","  31 |   });
  32 |
> 33 |   it('should preserve async on anonymous function expression with single argument', () => {
     |  ^ Unknown Test
  34 |     expectTransform(
  35 |       'f = async function(a) { return a; };'
  36 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 41}","  39 |   });
  40 |
> 41 |   it('should preserve async on anonymous function assignment with multiple arguments', () => {
     |  ^ Unknown Test
  42 |     expectTransform(
  43 |       'f = async function(a,b) { return a; };'
  44 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 49}","  47 |   });
  48 |
> 49 |   it('should preserve async on immediate function invocation', () => {
     |  ^ Unknown Test
  50 |     expectTransform(
  51 |       '(async function () { await foo(); }());'
  52 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 57}","  55 |   });
  56 |
> 57 |   it('should preserve async on immediate function invocation with arguments', () => {
     |  ^ Unknown Test
  58 |     expectTransform(
  59 |       '(async function (a) { await foo(a); }());'
  60 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 65}","  63 |   });
  64 |
> 65 |   it('should convert function assignment', () => {
     |  ^ Unknown Test
  66 |     expectTransform(
  67 |       'x = function () { foo(); };'
  68 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 74}","  72 |
  73 |   // Issue #187
> 74 |   it('should convert immediate function invocation', () => {
     |  ^ Unknown Test
  75 |     expectTransform(
  76 |       '(function () { foo(); }());'
  77 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 82}","  80 |   });
  81 |
> 82 |   it('should convert returning of a function', () => {
     |  ^ Unknown Test
  83 |     expectTransform(
  84 |       'function foo () { return function() { foo(); }; }'
  85 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 90}","  88 |   });
  89 |
> 90 |   it('should convert functions using `this` keyword inside a nested function', () => {
     |  ^ Unknown Test
  91 |     expectTransform(
  92 |       'a(function () { return function() { this; }; });'
  93 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 98}","   96 |   });
   97 |
>  98 |   it('should convert functions using `arguments` inside a nested function', () => {
      |  ^ Unknown Test
   99 |     expectTransform(
  100 |       'a(function () { return function() { arguments; }; });'
  101 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 106}","  104 |   });
  105 |
> 106 |   it('should preserve default parameters', () => {
      |  ^ Unknown Test
  107 |     expectTransform(
  108 |       'foo(function (a=1, b=2, c) { });'
  109 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 114}","  112 |   });
  113 |
> 114 |   it('should preserve rest parameters', () => {
      |  ^ Unknown Test
  115 |     expectTransform(
  116 |       'foo(function (x, ...xs) { });'
  117 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 122}","  120 |   });
  121 |
> 122 |   it('should preserve code after return statement', () => {
      |  ^ Unknown Test
  123 |     expectTransform(
  124 |       'a(function() {\n' +
  125 |       '  return func;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 136}","  134 |   });
  135 |
> 136 |   it('should not convert function declarations', () => {
      |  ^ Unknown Test
  137 |     expectNoChange('function foo() {};');
  138 |   });
  139 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 140}","  138 |   });
  139 |
> 140 |   it('should not convert named function expressions', () => {
      |  ^ Unknown Test
  141 |     expectNoChange('f = function fact(n) { return n * fact(n-1); };');
  142 |   });
  143 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 144}","  142 |   });
  143 |
> 144 |   it('should not convert generators', () => {
      |  ^ Unknown Test
  145 |     expectNoChange('f = function* (n) { };');
  146 |   });
  147 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 148}","  146 |   });
  147 |
> 148 |   it('should not convert functions using `this` keyword', () => {
      |  ^ Unknown Test
  149 |     expectNoChange('a(function () { this; });');
  150 |     expectNoChange('a(function () { this.x = 2; });');
  151 |     expectNoChange('a(function () { this.bar(); });');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 159}","  157 |   });
  158 |
> 159 |   it('should not convert functions using `arguments`', () => {
      |  ^ Unknown Test
  160 |     expectNoChange('a(function () { arguments; });').withWarnings([
  161 |       {line: 1, msg: 'Can not use arguments in arrow function', type: 'arrow'}
  162 |     ]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 177}","  175 |   });
  176 |
> 177 |   it('should not convert object methods', () => {
      |  ^ Unknown Test
  178 |     expectNoChange('({foo() {}});');
  179 |     expectNoChange('({foo: function() {}});');
  180 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 182}","  180 |   });
  181 |
> 182 |   it('should not convert class methods', () => {
      |  ^ Unknown Test
  183 |     expectNoChange(
  184 |       'class Foo {\n' +
  185 |       '  bar() {}\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 4, 'line': 191}","  189 |
  190 |   describe('bound functions', () => {
> 191 |     it('should convert this-using functions', () => {
      |    ^ Unknown Test
  192 |       expectTransform(
  193 |         'a(function (a, b=2, ...c) { this.x = 3; }.bind(this));'
  194 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 4, 'line': 199}","  197 |     });
  198 |
> 199 |     it('should convert immediately returning functions', () => {
      |    ^ Unknown Test
  200 |       expectTransform(
  201 |         'a(function () { return 123; }.bind(this));'
  202 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 4, 'line': 207}","  205 |     });
  206 |
> 207 |     it('should convert object members', () => {
      |    ^ Unknown Test
  208 |       expectTransform(
  209 |         '({foo: function() { this.x = 3; }.bind(this)});'
  210 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 4, 'line': 215}","  213 |     });
  214 |
> 215 |     it('should not convert functions using `arguments`', () => {
      |    ^ Unknown Test
  216 |       expectNoChange('a(function () { arguments; }.bind(this));').withWarnings([
  217 |         {line: 1, msg: 'Can not use arguments in arrow function', type: 'arrow'}
  218 |       ]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 4, 'line': 221}","  219 |     });
  220 |
> 221 |     it('should not convert generator functions', () => {
      |    ^ Unknown Test
  222 |       expectNoChange('a(function* () { }.bind(this));');
  223 |     });
  224 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 4, 'line': 225}","  223 |     });
  224 |
> 225 |     it('should not convert named function expressions', () => {
      |    ^ Unknown Test
  226 |       expectNoChange('a(function foo() { });');
  227 |     });
  228 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 4, 'line': 229}","  227 |     });
  228 |
> 229 |     it('should not convert when arguments also bound', () => {
      |    ^ Unknown Test
  230 |       expectNoChange('a(function(a,b,c) { return this; }.bind(this, 1, 2, 3));');
  231 |     });
  232 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 4, 'line': 235}","  233 |
  234 |   describe('functions with methods invoked', () => {
> 235 |     it('get parentheses added around the arrow function when needed', () => {
      |    ^ Unknown Test
  236 |       expectTransform(
  237 |         'x = function(a) { return a; }.call(null, 1);'
  238 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowTest.js,Unknown Test,"{'column': 2, 'line': 244}","  242 |   });
  243 |
> 244 |   it('should preserve comments', () => {
      |  ^ Unknown Test
  245 |     expectTransform(
  246 |       'a(\n' +
  247 |       '  // comment before\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Arrow functions with return', () => {
> 5 |   it('should convert basic arrow function', () => {
    |  ^ Unknown Test
  6 |     expectTransform(
  7 |       'a(() => { return 123; });'
  8 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 13}","  11 |   });
  12 |
> 13 |   it('should convert arrow function inside variable declaration', () => {
     |  ^ Unknown Test
  14 |     expectTransform(
  15 |       'const a = () => { return 123; }'
  16 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 21}","  19 |   });
  20 |
> 21 |   it('should convert arrow function inside object', () => {
     |  ^ Unknown Test
  22 |     expectTransform(
  23 |       '({ foo: () => { return 123; } })'
  24 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 29}","  27 |   });
  28 |
> 29 |   it('should convert nested arrow functions', () => {
     |  ^ Unknown Test
  30 |     expectTransform(
  31 |       'a(() => { return () => { const b = c => { return c; } }; })'
  32 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 41}","  39 |   // (We need to watch out for these in `arrow` transform though.)
  40 |
> 41 |   it('should convert arrow function using `this` keyword', () => {
     |  ^ Unknown Test
  42 |     expectTransform(
  43 |       'function Foo() {\n' +
  44 |       '  setTimeout(() => { return this; });\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 53}","  51 |   });
  52 |
> 53 |   it('should convert arrow function using `arguments` keyword', () => {
     |  ^ Unknown Test
  54 |     expectTransform(
  55 |       'function func() {\n' +
  56 |       '  setTimeout(() => { return arguments; });\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 65}","  63 |   });
  64 |
> 65 |   it('should convert returning an object', () => {
     |  ^ Unknown Test
  66 |     expectTransform(
  67 |       'var f = a => { return {a: 1}; };'
  68 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 75}","  73 |   });
  74 |
> 75 |   it('should convert returning an object property access', () => {
     |  ^ Unknown Test
  76 |     expectTransform(
  77 |       'var f = (a) => { return {a: 1}[a]; };'
  78 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 85}","  83 |   });
  84 |
> 85 |   it('should convert return statements inside a parenthesized arrow function', () => {
     |  ^ Unknown Test
  86 |     expectTransform(
  87 |       'const x = (a => { return a; }).call(null, 1);'
  88 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 93}","  91 |   });
  92 |
> 93 |   it('should preserve comments', () => {
     |  ^ Unknown Test
  94 |     expectTransform(
  95 |       'a(b => {\n' +
  96 |       '  // comment\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 105}","  103 |   });
  104 |
> 105 |   it('should not convert arrow functions without return keyword', () => {
      |  ^ Unknown Test
  106 |     expectNoChange('a(() => {});');
  107 |   });
  108 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 109}","  107 |   });
  108 |
> 109 |   it('should not convert empty return', () => {
      |  ^ Unknown Test
  110 |     expectNoChange(
  111 |       'var f = () => { return; };'
  112 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 115}","  113 |   });
  114 |
> 115 |   it('should not convert return statements from non-arrow function', () => {
      |  ^ Unknown Test
  116 |     expectNoChange('const a = function(b) { return b; };');
  117 |   });
  118 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 119}","  117 |   });
  118 |
> 119 |   it('should not convert return statements from non-arrow function inside a nested arrow function', () => {
      |  ^ Unknown Test
  120 |     expectNoChange('const a = b => { const c = function(d) { return d; } };');
  121 |   });
  122 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/arrowReturnTest.js,Unknown Test,"{'column': 2, 'line': 123}","  121 |   });
  122 |
> 123 |   it('should preserve code after return statement', () => {
      |  ^ Unknown Test
  124 |     expectNoChange(
  125 |       'a(() => {\n' +
  126 |       '  return func;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Arguments apply() to spread', () => {
> 5 |   it('should convert basic obj.fn.apply()', () => {
    |  ^ Unknown Test
  6 |     expectTransform(
  7 |       'obj.fn.apply(obj, someArray);'
  8 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 13}","  11 |   });
  12 |
> 13 |   it('should convert this.method.apply()', () => {
     |  ^ Unknown Test
  14 |     expectTransform(
  15 |       'this.method.apply(this, someArray);'
  16 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 21}","  19 |   });
  20 |
> 21 |   it('should not convert obj.fn.apply() without obj as parameter', () => {
     |  ^ Unknown Test
  22 |     expectNoChange('obj.fn.apply(otherObj, someArray);');
  23 |     expectNoChange('obj.fn.apply(undefined, someArray);');
  24 |     expectNoChange('obj.fn.apply(null, someArray);');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 29}","  27 |   });
  28 |
> 29 |   it('should convert plain fn.apply()', () => {
     |  ^ Unknown Test
  30 |     expectTransform('fn.apply(undefined, someArray);').toReturn('fn(...someArray);');
  31 |     expectTransform('fn.apply(null, someArray);').toReturn('fn(...someArray);');
  32 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 34}","  32 |   });
  33 |
> 34 |   it('should not convert plain fn.apply() when actual object used as this parameter', () => {
     |  ^ Unknown Test
  35 |     expectNoChange('fn.apply(obj, someArray);');
  36 |     expectNoChange('fn.apply(this, someArray);');
  37 |     expectNoChange('fn.apply({}, someArray);');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 40}","  38 |   });
  39 |
> 40 |   it('should convert obj.fn.apply() with array expression', () => {
     |  ^ Unknown Test
  41 |     expectTransform(
  42 |       'obj.fn.apply(obj, [1, 2, 3]);'
  43 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 48}","  46 |   });
  47 |
> 48 |   it('should convert <long-expression>.fn.apply()', () => {
     |  ^ Unknown Test
  49 |     expectTransform(
  50 |       'foo[bar+1].baz.fn.apply(foo[bar+1].baz, someArray);'
  51 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 56}","  54 |   });
  55 |
> 56 |   it('should convert <literal>.fn.apply()', () => {
     |  ^ Unknown Test
  57 |     expectTransform(
  58 |       '[].fn.apply([], someArray);'
  59 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argSpreadTest.js,Unknown Test,"{'column': 2, 'line': 64}","  62 |   });
  63 |
> 64 |   it('should convert obj[fn].apply()', () => {
     |  ^ Unknown Test
  65 |     expectTransform(
  66 |       'obj[fn].apply(obj, someArray);'
  67 |     ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 5}","  3 |
  4 | describe('Arguments variable to ...args', () => {
> 5 |   it('does not replace arguments outside a function', () => {
    |  ^ Unknown Test
  6 |     expectNoChange(
  7 |       'console.log(arguments);'
  8 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 11}","   9 |   });
  10 |
> 11 |   it('replaces arguments in function declaration', () => {
     |  ^ Unknown Test
  12 |     expectTransform(
  13 |       'function foo() {\n' +
  14 |       '  console.log(arguments);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 23}","  21 |   });
  22 |
> 23 |   it('replaces arguments in function expression', () => {
     |  ^ Unknown Test
  24 |     expectTransform(
  25 |       'var foo = function() {\n' +
  26 |       '  console.log(arguments);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 35}","  33 |   });
  34 |
> 35 |   it('replaces arguments in class method', () => {
     |  ^ Unknown Test
  36 |     expectTransform(
  37 |       'class Foo {\n' +
  38 |       '  bar() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 53}","  51 |   // `arguments` in arrow function reference the `arguments` in enclosing scope
  52 |
> 53 |   it('does not replace arguments in arrow function', () => {
     |  ^ Unknown Test
  54 |     expectNoChange(
  55 |       'var foo = () => console.log(arguments);'
  56 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 59}","  57 |   });
  58 |
> 59 |   it('replaces arguments in nested arrow function', () => {
     |  ^ Unknown Test
  60 |     expectTransform(
  61 |       'function foo() {\n' +
  62 |       '  var bar = () => console.log(arguments);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 72}","  70 |
  71 |   // Handling of conflicts with existing variables
> 72 |   it('does not replace arguments when args variable already exists', () => {
     |  ^ Unknown Test
  73 |     expectNoChange(
  74 |       'function foo() {\n' +
  75 |       '  var args = [];\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 81}","  79 |   });
  80 |
> 81 |   it('does not replace arguments when args variable exists in parent scope', () => {
     |  ^ Unknown Test
  82 |     expectNoChange(
  83 |       'var args = [];\n' +
  84 |       'function foo() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 90}","  88 |   });
  89 |
> 90 |   it('does not replace arguments when args variable exists in parent function param', () => {
     |  ^ Unknown Test
  91 |     expectNoChange(
  92 |       'function parent(args) {\n' +
  93 |       '  function foo() {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 100}","   98 |   });
   99 |
> 100 |   it('does not replace arguments when args variable exists in child block scope that uses arguments', () => {
      |  ^ Unknown Test
  101 |     expectNoChange(
  102 |       'function foo() {\n' +
  103 |       '  if (true) {\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 111}","  109 |   });
  110 |
> 111 |   it('does not replace arguments in function declaration with existing formal params', () => {
      |  ^ Unknown Test
  112 |     expectNoChange(
  113 |       'function foo(a, b ,c) {\n' +
  114 |       '  console.log(arguments);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/argRestTest.js,Unknown Test,"{'column': 2, 'line': 119}","  117 |   });
  118 |
> 119 |   it('does not add ...args to function that does not use arguments', () => {
      |  ^ Unknown Test
  120 |     expectNoChange(
  121 |       'function foo() {\n' +
  122 |       '  console.log(a, b, c);\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 6}","  4 | describe('Import CommonJS', () => {
  5 |   describe('default import', () => {
> 6 |     it('should convert basic var/let/const with require()', () => {
    |    ^ Unknown Test
  7 |       expectTransform('var   foo = require(""foo"");').toReturn('import foo from ""foo"";');
  8 |       expectTransform('const foo = require(""foo"");').toReturn('import foo from ""foo"";');
  9 |       expectTransform('let   foo = require(""foo"");').toReturn('import foo from ""foo"";');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 12}","  10 |     });
  11 |
> 12 |     it('should do nothing with var that contains no require()', () => {
     |    ^ Unknown Test
  13 |       expectNoChange('var foo = ""bar"";');
  14 |       expectNoChange('var foo;');
  15 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 17}","  15 |     });
  16 |
> 17 |     it('should do nothing with require() that does not have a single string argument', () => {
     |    ^ Unknown Test
  18 |       expectNoChange('var foo = require();');
  19 |       expectNoChange('var foo = require(""foo"", {});');
  20 |       expectNoChange('var foo = require(bar);');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 24}","  22 |     });
  23 |
> 24 |     it('should convert var with multiple require() calls', () => {
     |    ^ Unknown Test
  25 |       expectTransform(
  26 |         'var foo = require(""foo""), bar = require(""bar"");'
  27 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 33}","  31 |     });
  32 |
> 33 |     it('should convert var/let/const with intermixed require() calls and normal initializations', () => {
     |    ^ Unknown Test
  34 |       expectTransform(
  35 |         'var foo = require(""foo""), bar = 15;'
  36 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 58}","  56 |     // It would be nice to preserve the combined declarations,
  57 |     // but this kind of intermixed vars should really be a rare edge case.
> 58 |     it('does not need to preserve combined variable declarations', () => {
     |    ^ Unknown Test
  59 |       expectTransform(
  60 |         'var foo = require(""foo""), bar = 1, baz = 2;'
  61 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 68}","  66 |     });
  67 |
> 68 |     it('should ignore require calls inside statements', () => {
     |    ^ Unknown Test
  69 |       expectNoChange(
  70 |         'if (true) {\n' +
  71 |         '  var foo = require(""foo"");\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 78}","  76 |     });
  77 |
> 78 |     it('should treat require().default as default import', () => {
     |    ^ Unknown Test
  79 |       expectTransform(
  80 |         'var foo = require(""foolib"").default;'
  81 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 86}","  84 |     });
  85 |
> 86 |     it('should treat {default: foo} destructuring as default import', () => {
     |    ^ Unknown Test
  87 |       expectTransform(
  88 |         'var {default: foo} = require(""foolib"");'
  89 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 94}","  92 |     });
  93 |
> 94 |     it('should recognize default import inside several destructurings', () => {
     |    ^ Unknown Test
  95 |       expectTransform(
  96 |         'var {default: foo, bar: bar} = require(""foolib"");'
  97 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 104}","  102 |
  103 |   describe('named import', () => {
> 104 |     it('should convert foo = require().foo to named import', () => {
      |    ^ Unknown Test
  105 |       expectTransform(
  106 |         'var foo = require(""foolib"").foo;'
  107 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 112}","  110 |     });
  111 |
> 112 |     it('should convert bar = require().foo to aliased named import', () => {
      |    ^ Unknown Test
  113 |       expectTransform(
  114 |         'var bar = require(""foolib"").foo;'
  115 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 120}","  118 |     });
  119 |
> 120 |     it('should convert simple object destructuring to named import', () => {
      |    ^ Unknown Test
  121 |       expectTransform(
  122 |         'var {foo} = require(""foolib"");'
  123 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 128}","  126 |     });
  127 |
> 128 |     it('should convert aliased object destructuring to named import', () => {
      |    ^ Unknown Test
  129 |       expectTransform(
  130 |         'var {foo: bar} = require(""foolib"");'
  131 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 136}","  134 |     });
  135 |
> 136 |     it('should convert multi-field object destructurings to named imports', () => {
      |    ^ Unknown Test
  137 |       expectTransform(
  138 |         'var {foo, bar: myBar, baz} = require(""foolib"");'
  139 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 144}","  142 |     });
  143 |
> 144 |     it('should ignore array destructuring', () => {
      |    ^ Unknown Test
  145 |       expectNoChange(
  146 |         'var [a, b, c] = require(""foolib"");'
  147 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 150}","  148 |     });
  149 |
> 150 |     it('should ignore nested object destructuring', () => {
      |    ^ Unknown Test
  151 |       expectNoChange(
  152 |         'var {foo: {bar}} = require(""foolib"");'
  153 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 156}","  154 |     });
  155 |
> 156 |     it('should ignore destructuring of require().foo', () => {
      |    ^ Unknown Test
  157 |       expectNoChange(
  158 |         'var {foo} = require(""foolib"").foo;'
  159 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 164}","  162 |
  163 |   describe('comments', () => {
> 164 |     it('should preserve comments before var declaration', () => {
      |    ^ Unknown Test
  165 |       expectTransform(
  166 |         '// Comments\n' +
  167 |         'var foo = require(""foo"");'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 2, 'line': 177}","  175 |   // Not yet supported things...
  176 |
> 177 |   it('should not convert assignment of require() call', () => {
      |  ^ Unknown Test
  178 |     expectNoChange('foo = require(""foo"");');
  179 |   });
  180 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/importCommonjsTest.js,Unknown Test,"{'column': 2, 'line': 181}","  179 |   });
  180 |
> 181 |   it('should not convert unassigned require() call', () => {
      |  ^ Unknown Test
  182 |     expectNoChange('require(""foo"");');
  183 |   });
  184 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 6}","  4 | describe('Export CommonJS', () => {
  5 |   describe('default export', () => {
> 6 |     it('should convert module.exports assignment to default export', () => {
    |    ^ Unknown Test
  7 |       expectTransform('module.exports = 123;').toReturn('export default 123;');
  8 |       expectTransform('module.exports = function() {};').toReturn('export default function() {};');
  9 |       expectTransform('module.exports = x => x;').toReturn('export default x => x;');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 13}","  11 |     });
  12 |
> 13 |     it('should not convert assignment to exports', () => {
     |    ^ Unknown Test
  14 |       expectNoChange('exports = function() {};');
  15 |     });
  16 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 17}","  15 |     });
  16 |
> 17 |     it('should not convert weird assignment to module.exports', () => {
     |    ^ Unknown Test
  18 |       expectNoChange('module.exports += function() {};');
  19 |       expectNoChange('module.exports -= function() {};');
  20 |       expectNoChange('module.exports *= function() {};');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 26}","  24 |     // A pretty weird thing to do...
  25 |     // shouldn't bother supporting it.
> 26 |     it('should not convert assignment to module[""exports""]', () => {
     |    ^ Unknown Test
  27 |       expectNoChange('module[""exports""] = function() {};');
  28 |     });
  29 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 30}","  28 |     });
  29 |
> 30 |     it('should ignore module.exports inside statements', () => {
     |    ^ Unknown Test
  31 |       expectNoChange(
  32 |         'if (true) {\n' +
  33 |         '  module.exports = function() {};\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 42}","  40 |
  41 |   describe('named export', () => {
> 42 |     it('should convert module.exports.foo = function () {}', () => {
     |    ^ Unknown Test
  43 |       expectTransform('module.exports.foo = function () {};').toReturn('export function foo() {}');
  44 |     });
  45 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 46}","  44 |     });
  45 |
> 46 |     it('should convert exports.foo = function () {}', () => {
     |    ^ Unknown Test
  47 |       expectTransform('exports.foo = function () {};').toReturn('export function foo() {}');
  48 |     });
  49 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 50}","  48 |     });
  49 |
> 50 |     it('should convert exports.foo = function foo() {}', () => {
     |    ^ Unknown Test
  51 |       expectTransform('exports.foo = function foo() {};').toReturn('export function foo() {}');
  52 |     });
  53 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 54}","  52 |     });
  53 |
> 54 |     it('should ignore function export when function name does not match with exported name', () => {
     |    ^ Unknown Test
  55 |       expectNoChange('exports.foo = function bar() {};');
  56 |     });
  57 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 58}","  56 |     });
  57 |
> 58 |     it('should convert exports.foo = arrow function', () => {
     |    ^ Unknown Test
  59 |       expectTransform(
  60 |         'exports.foo = () => {\n' +
  61 |         '  return 1;\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 70}","  68 |     });
  69 |
> 70 |     it('should convert exports.foo = arrow function short form', () => {
     |    ^ Unknown Test
  71 |       expectTransform(
  72 |         'exports.foo = x => x;'
  73 |       ).toReturn("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 80}","  78 |     });
  79 |
> 80 |     it('should convert exports.Foo = class {};', () => {
     |    ^ Unknown Test
  81 |       expectTransform('exports.Foo = class {};').toReturn('export class Foo {}');
  82 |     });
  83 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 84}","  82 |     });
  83 |
> 84 |     it('should convert exports.Foo = class Foo {};', () => {
     |    ^ Unknown Test
  85 |       expectTransform('exports.Foo = class Foo {};').toReturn('export class Foo {}');
  86 |     });
  87 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 88}","  86 |     });
  87 |
> 88 |     it('should ignore class export when class name does not match with exported name', () => {
     |    ^ Unknown Test
  89 |       expectNoChange('exports.Foo = class Bar {};');
  90 |     });
  91 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 92}","  90 |     });
  91 |
> 92 |     it('should convert exports.foo = foo;', () => {
     |    ^ Unknown Test
  93 |       expectTransform('exports.foo = foo;').toReturn('export {foo};');
  94 |     });
  95 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 96}","  94 |     });
  95 |
> 96 |     it('should convert exports.foo = bar;', () => {
     |    ^ Unknown Test
  97 |       expectTransform('exports.foo = bar;').toReturn('export {bar as foo};');
  98 |     });
  99 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 100}","   98 |     });
   99 |
> 100 |     it('should export undefined & NaN like any other identifier', () => {
      |    ^ Unknown Test
  101 |       expectTransform('exports.foo = undefined;').toReturn('export {undefined as foo};');
  102 |       expectTransform('exports.foo = NaN;').toReturn('export {NaN as foo};');
  103 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 105}","  103 |     });
  104 |
> 105 |     it('should convert exports.foo = <literal> to export var', () => {
      |    ^ Unknown Test
  106 |       expectTransform('exports.foo = 123;').toReturn('export var foo = 123;');
  107 |       expectTransform('exports.foo = {a: 1, b: 2};').toReturn('export var foo = {a: 1, b: 2};');
  108 |       expectTransform('exports.foo = [1, 2, 3];').toReturn('export var foo = [1, 2, 3];');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 115}","  113 |     });
  114 |
> 115 |     it('should ignore exports.foo inside statements', () => {
      |    ^ Unknown Test
  116 |       expectNoChange(
  117 |         'if (true) {\n' +
  118 |         '  exports.foo = function() {};\n' +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 125}","  123 |
  124 |   describe('comments', () => {
> 125 |     it('should preserve comments before default export', () => {
      |    ^ Unknown Test
  126 |       expectTransform(
  127 |         '// Comments\n' +
  128 |         'module.exports = function() {};'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 135}","  133 |     });
  134 |
> 135 |     it('should preserve comments before named function export', () => {
      |    ^ Unknown Test
  136 |       expectTransform(
  137 |         '// Comments\n' +
  138 |         'exports.foo = function() {};'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 145}","  143 |     });
  144 |
> 145 |     it('should preserve comments before named class export', () => {
      |    ^ Unknown Test
  146 |       expectTransform(
  147 |         '// Comments\n' +
  148 |         'exports.Foo = class {};'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 155}","  153 |     });
  154 |
> 155 |     it('should preserve comments before identifier export', () => {
      |    ^ Unknown Test
  156 |       expectTransform(
  157 |         '// Comments\n' +
  158 |         'exports.foo = foo;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/test/transform/commonjs/exportCommonjsTest.js,Unknown Test,"{'column': 4, 'line': 165}","  163 |     });
  164 |
> 165 |     it('should preserve comments before named literal value export', () => {
      |    ^ Unknown Test
  166 |       expectTransform(
  167 |         '// Comments\n' +
  168 |         'exports.FOO = 123;'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/system-test/binTest.js,Conditional Test Logic,"{'line': 21, 'column': 4, 'index': 557}","  19 |   afterEach(() => {
  20 |     fs.unlinkSync(INPUT_FILE);
> 21 |     if (fs.existsSync(OUTPUT_FILE)) {
     |    ^ Conditional Test Logic
  22 |       fs.unlinkSync(OUTPUT_FILE);
  23 |     }
  24 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/system-test/binTest.js,Mystery Guest,"{'column': 15, 'line': 33}","  31 |         expect(stdout).to.equal('');
  32 |
> 33 |         expect(fs.readFileSync(OUTPUT_FILE).toString()).to.equal(
     |               ^ Mystery Guest
  34 |           'const foo = 10;\n' +
  35 |           '[1, 2, 3].map(x => { return x*x });'
  36 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/system-test/binTest.js,Mystery Guest,"{'column': 15, 'line': 49}","  47 |         expect(stdout).to.equal('');
  48 |
> 49 |         expect(fs.readFileSync(OUTPUT_FILE).toString()).to.equal(
     |               ^ Mystery Guest
  50 |           'const foo = 10;\n' +
  51 |           '[1, 2, 3].map(x => { return x*x });'
  52 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/lebab/system-test/binTest.js,Mystery Guest,"{'column': 15, 'line': 65}","  63 |         expect(stdout).to.equal('');
  64 |
> 65 |         expect(fs.existsSync(OUTPUT_FILE)).to.equal(false);
     |               ^ Mystery Guest
  66 |         done();
  67 |       });
  68 |     });"
