{"project":"steel","version":"1.0.0","testSuites":1,"testCases":81,"smelledTestSuites":1,"smelledTestCases":0,"smells":343,"smelledFiles":[{"path":"/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/morgan/test/morgan.js","testCases":81,"smells":343,"smellInfo":[{"name":"Assertion Roulette","packageName":"assertionRoulette","items":[{"frame":"  16 |       var cb = after(2, function (err, res, line) {\n  17 |         if (err) return done(err)\n> 18 |         assert(res.text.length > 0)\n     |        ^ Assertion Roulette\n  19 |         assert.strictEqual(line.substr(0, res.text.length), res.text)\n  20 |         done()\n  21 |       })","start":{"column":8,"line":18}},{"frame":"  17 |         if (err) return done(err)\n  18 |         assert(res.text.length > 0)\n> 19 |         assert.strictEqual(line.substr(0, res.text.length), res.text)\n     |        ^ Assertion Roulette\n  20 |         done()\n  21 |       })\n  22 |","start":{"column":8,"line":19}},{"frame":"  91 |           var cb = after(2, function (err, res, line) {\n  92 |             if (err) return done(err)\n> 93 |             assert(res.text.length > 0)\n     |            ^ Assertion Roulette\n  94 |             assert.strictEqual(line.substr(0, res.text.length), res.text)\n  95 |             done()\n  96 |           })","start":{"column":12,"line":93}},{"frame":"  92 |             if (err) return done(err)\n  93 |             assert(res.text.length > 0)\n> 94 |             assert.strictEqual(line.substr(0, res.text.length), res.text)\n     |            ^ Assertion Roulette\n  95 |             done()\n  96 |           })\n  97 |","start":{"column":12,"line":94}},{"frame":"  157 |         var cb = after(2, function (err, res, line) {\n  158 |           if (err) return done(err)\n> 159 |           assert(res.text.length > 0)\n      |          ^ Assertion Roulette\n  160 |           assert.strictEqual(line.substr(0, res.text.length), res.text)\n  161 |           done()\n  162 |         })","start":{"column":10,"line":159}},{"frame":"  158 |           if (err) return done(err)\n  159 |           assert(res.text.length > 0)\n> 160 |           assert.strictEqual(line.substr(0, res.text.length), res.text)\n      |          ^ Assertion Roulette\n  161 |           done()\n  162 |         })\n  163 |","start":{"column":10,"line":160}},{"frame":"  178 |         var cb = after(2, function (err, res, line) {\n  179 |           if (err) return done(err)\n> 180 |           assert(res.text.length > 0)\n      |          ^ Assertion Roulette\n  181 |           assert.strictEqual(line.substr(0, res.text.length), res.text)\n  182 |           done()\n  183 |         })","start":{"column":10,"line":180}},{"frame":"  179 |           if (err) return done(err)\n  180 |           assert(res.text.length > 0)\n> 181 |           assert.strictEqual(line.substr(0, res.text.length), res.text)\n      |          ^ Assertion Roulette\n  182 |           done()\n  183 |         })\n  184 |","start":{"column":10,"line":181}},{"frame":"  375 |         var cb = after(2, function (err, res, line) {\n  376 |           if (err) return done(err)\n> 377 |           assert.ok(res.text.length > 0)\n      |          ^ Assertion Roulette\n  378 |           assert.strictEqual(line, res.text)\n  379 |           done()\n  380 |         })","start":{"column":10,"line":377}},{"frame":"  376 |           if (err) return done(err)\n  377 |           assert.ok(res.text.length > 0)\n> 378 |           assert.strictEqual(line, res.text)\n      |          ^ Assertion Roulette\n  379 |           done()\n  380 |         })\n  381 |","start":{"column":10,"line":378}},{"frame":"  412 |         var cb = after(2, function (err, res, line) {\n  413 |           if (err) return done(err)\n> 414 |           assert.ok(res.text.length > 0)\n      |          ^ Assertion Roulette\n  415 |           assert.strictEqual(line, res.text)\n  416 |           done()\n  417 |         })","start":{"column":10,"line":414}},{"frame":"  413 |           if (err) return done(err)\n  414 |           assert.ok(res.text.length > 0)\n> 415 |           assert.strictEqual(line, res.text)\n      |          ^ Assertion Roulette\n  416 |           done()\n  417 |         })\n  418 |","start":{"column":10,"line":415}},{"frame":"  432 |         var cb = after(2, function (err, res, line) {\n  433 |           if (err) return done(err)\n> 434 |           assert.ok(res.text.length > 0)\n      |          ^ Assertion Roulette\n  435 |           assert.strictEqual(line, res.text)\n  436 |           done()\n  437 |         })","start":{"column":10,"line":434}},{"frame":"  433 |           if (err) return done(err)\n  434 |           assert.ok(res.text.length > 0)\n> 435 |           assert.strictEqual(line, res.text)\n      |          ^ Assertion Roulette\n  436 |           done()\n  437 |         })\n  438 |","start":{"column":10,"line":435}},{"frame":"  450 |         var cb = after(2, function (err, res, line) {\n  451 |           if (err) return done(err)\n> 452 |           assert.ok(res.text.length > 0)\n      |          ^ Assertion Roulette\n  453 |           assert.strictEqual(line, res.text)\n  454 |\n  455 |           res.req.connection.destroy()","start":{"column":10,"line":452}},{"frame":"  451 |           if (err) return done(err)\n  452 |           assert.ok(res.text.length > 0)\n> 453 |           assert.strictEqual(line, res.text)\n      |          ^ Assertion Roulette\n  454 |\n  455 |           res.req.connection.destroy()\n  456 |           server.close(done)","start":{"column":10,"line":453}},{"frame":"  498 |         var cb = after(2, function (err, res, line) {\n  499 |           if (err) return done(err)\n> 500 |           assert.ok(res.text.length > 0)\n      |          ^ Assertion Roulette\n  501 |           assert.strictEqual(line, res.text)\n  502 |\n  503 |           res.req.connection.destroy()","start":{"column":10,"line":500}},{"frame":"  499 |           if (err) return done(err)\n  500 |           assert.ok(res.text.length > 0)\n> 501 |           assert.strictEqual(line, res.text)\n      |          ^ Assertion Roulette\n  502 |\n  503 |           res.req.connection.destroy()\n  504 |           server.close(done)","start":{"column":10,"line":501}},{"frame":"  578 |           var end = Date.now()\n  579 |           var ms = parseFloat(line)\n> 580 |           assert(ms > 0)\n      |          ^ Assertion Roulette\n  581 |           assert(ms < end - start + 1)\n  582 |           done()\n  583 |         })","start":{"column":10,"line":580}},{"frame":"  579 |           var ms = parseFloat(line)\n  580 |           assert(ms > 0)\n> 581 |           assert(ms < end - start + 1)\n      |          ^ Assertion Roulette\n  582 |           done()\n  583 |         })\n  584 |","start":{"column":10,"line":581}},{"frame":"  647 |           var end = Date.now()\n  648 |           var ms = parseFloat(line)\n> 649 |           assert(ms > 0)\n      |          ^ Assertion Roulette\n  650 |           assert(ms < end - start + 1)\n  651 |           assert(ms < write - start + 1)\n  652 |           done()","start":{"column":10,"line":649}},{"frame":"  648 |           var ms = parseFloat(line)\n  649 |           assert(ms > 0)\n> 650 |           assert(ms < end - start + 1)\n      |          ^ Assertion Roulette\n  651 |           assert(ms < write - start + 1)\n  652 |           done()\n  653 |         })","start":{"column":10,"line":650}},{"frame":"  649 |           assert(ms > 0)\n  650 |           assert(ms < end - start + 1)\n> 651 |           assert(ms < write - start + 1)\n      |          ^ Assertion Roulette\n  652 |           done()\n  653 |         })\n  654 |","start":{"column":10,"line":651}},{"frame":"  805 |           var end = Date.now()\n  806 |           var ms = parseFloat(line)\n> 807 |           assert(ms > 0)\n      |          ^ Assertion Roulette\n  808 |           assert(ms < end - start + 1)\n  809 |           done()\n  810 |         })","start":{"column":10,"line":807}},{"frame":"  806 |           var ms = parseFloat(line)\n  807 |           assert(ms > 0)\n> 808 |           assert(ms < end - start + 1)\n      |          ^ Assertion Roulette\n  809 |           done()\n  810 |         })\n  811 |","start":{"column":10,"line":808}},{"frame":"  874 |           var end = Date.now()\n  875 |           var ms = parseFloat(line)\n> 876 |           assert(ms > 0)\n      |          ^ Assertion Roulette\n  877 |           assert(ms > write - start - 1)\n  878 |           assert(ms < end - start + 1)\n  879 |           done()","start":{"column":10,"line":876}},{"frame":"  875 |           var ms = parseFloat(line)\n  876 |           assert(ms > 0)\n> 877 |           assert(ms > write - start - 1)\n      |          ^ Assertion Roulette\n  878 |           assert(ms < end - start + 1)\n  879 |           done()\n  880 |         })","start":{"column":10,"line":877}},{"frame":"  876 |           assert(ms > 0)\n  877 |           assert(ms > write - start - 1)\n> 878 |           assert(ms < end - start + 1)\n      |          ^ Assertion Roulette\n  879 |           done()\n  880 |         })\n  881 |","start":{"column":10,"line":878}},{"frame":"  1197 |         var cb = after(2, function (err, res, line) {\n  1198 |           if (err) return done(err)\n> 1199 |           assert.strictEqual(line.substr(0, 36), '_color_0_GET / _color_0_102_color_0_')\n       |          ^ Assertion Roulette\n  1200 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1201 |           done()\n  1202 |         })","start":{"column":10,"line":1199}},{"frame":"  1198 |           if (err) return done(err)\n  1199 |           assert.strictEqual(line.substr(0, 36), '_color_0_GET / _color_0_102_color_0_')\n> 1200 |           assert.strictEqual(line.substr(-9), '_color_0_')\n       |          ^ Assertion Roulette\n  1201 |           done()\n  1202 |         })\n  1203 |","start":{"column":10,"line":1200}},{"frame":"  1228 |         var cb = after(2, function (err, res, line) {\n  1229 |           if (err) return done(err)\n> 1230 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_32_200_color_0_')\n       |          ^ Assertion Roulette\n  1231 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1232 |           done()\n  1233 |         })","start":{"column":10,"line":1230}},{"frame":"  1229 |           if (err) return done(err)\n  1230 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_32_200_color_0_')\n> 1231 |           assert.strictEqual(line.substr(-9), '_color_0_')\n       |          ^ Assertion Roulette\n  1232 |           done()\n  1233 |         })\n  1234 |","start":{"column":10,"line":1231}},{"frame":"  1250 |         var cb = after(2, function (err, res, line) {\n  1251 |           if (err) return done(err)\n> 1252 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_36_300_color_0_')\n       |          ^ Assertion Roulette\n  1253 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1254 |           done()\n  1255 |         })","start":{"column":10,"line":1252}},{"frame":"  1251 |           if (err) return done(err)\n  1252 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_36_300_color_0_')\n> 1253 |           assert.strictEqual(line.substr(-9), '_color_0_')\n       |          ^ Assertion Roulette\n  1254 |           done()\n  1255 |         })\n  1256 |","start":{"column":10,"line":1253}},{"frame":"  1272 |         var cb = after(2, function (err, res, line) {\n  1273 |           if (err) return done(err)\n> 1274 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_33_400_color_0_')\n       |          ^ Assertion Roulette\n  1275 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1276 |           done()\n  1277 |         })","start":{"column":10,"line":1274}},{"frame":"  1273 |           if (err) return done(err)\n  1274 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_33_400_color_0_')\n> 1275 |           assert.strictEqual(line.substr(-9), '_color_0_')\n       |          ^ Assertion Roulette\n  1276 |           done()\n  1277 |         })\n  1278 |","start":{"column":10,"line":1275}},{"frame":"  1294 |         var cb = after(2, function (err, res, line) {\n  1295 |           if (err) return done(err)\n> 1296 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_31_500_color_0_')\n       |          ^ Assertion Roulette\n  1297 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1298 |           done()\n  1299 |         })","start":{"column":10,"line":1296}},{"frame":"  1295 |           if (err) return done(err)\n  1296 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_31_500_color_0_')\n> 1297 |           assert.strictEqual(line.substr(-9), '_color_0_')\n       |          ^ Assertion Roulette\n  1298 |           done()\n  1299 |         })\n  1300 |","start":{"column":10,"line":1297}},{"frame":"  1381 |       var cb = after(2, function (err, res, log) {\n  1382 |         if (err) return done(err)\n> 1383 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n       |        ^ Assertion Roulette\n  1384 |         assert.ok(Date.now() - time >= 1000)\n  1385 |         assert.ok(Date.now() - time <= 1100)\n  1386 |         done()","start":{"column":8,"line":1383}},{"frame":"  1382 |         if (err) return done(err)\n  1383 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n> 1384 |         assert.ok(Date.now() - time >= 1000)\n       |        ^ Assertion Roulette\n  1385 |         assert.ok(Date.now() - time <= 1100)\n  1386 |         done()\n  1387 |       })","start":{"column":8,"line":1384}},{"frame":"  1383 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n  1384 |         assert.ok(Date.now() - time >= 1000)\n> 1385 |         assert.ok(Date.now() - time <= 1100)\n       |        ^ Assertion Roulette\n  1386 |         done()\n  1387 |       })\n  1388 |       var server = createServer(':method :url', {","start":{"column":8,"line":1385}},{"frame":"  1409 |       var cb = after(2, function (err, res, log) {\n  1410 |         if (err) return done(err)\n> 1411 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n       |        ^ Assertion Roulette\n  1412 |         assert.ok(Date.now() - time >= 200)\n  1413 |         assert.ok(Date.now() - time <= 300)\n  1414 |         done()","start":{"column":8,"line":1411}},{"frame":"  1410 |         if (err) return done(err)\n  1411 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n> 1412 |         assert.ok(Date.now() - time >= 200)\n       |        ^ Assertion Roulette\n  1413 |         assert.ok(Date.now() - time <= 300)\n  1414 |         done()\n  1415 |       })","start":{"column":8,"line":1412}},{"frame":"  1411 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n  1412 |         assert.ok(Date.now() - time >= 200)\n> 1413 |         assert.ok(Date.now() - time <= 300)\n       |        ^ Assertion Roulette\n  1414 |         done()\n  1415 |       })\n  1416 |       var server = createServer(':method :url', {","start":{"column":8,"line":1413}},{"frame":"  1503 |       var cb = after(2, function (err, res, line) {\n  1504 |         if (err) return done(err)\n> 1505 |         assert.strictEqual(line, 'GET / -')\n       |        ^ Assertion Roulette\n  1506 |         done()\n  1507 |       })\n  1508 |","start":{"column":8,"line":1505}},{"frame":"  1513 |\n  1514 |       var server = createServer(':method :url :res[x-sent]', { immediate: true, stream: stream }, function (req, res, next) {\n> 1515 |         assert.ok(lineLogged)\n       |        ^ Assertion Roulette\n  1516 |         next()\n  1517 |       })\n  1518 |","start":{"column":8,"line":1515}},{"frame":"  1572 |       it('should compile a string into a function', function () {\n  1573 |         var fn = morgan.compile(':method')\n> 1574 |         assert.ok(typeof fn === 'function')\n       |        ^ Assertion Roulette\n  1575 |         assert.ok(fn.length === 3)\n  1576 |       })\n  1577 |     })","start":{"column":8,"line":1574}},{"frame":"  1573 |         var fn = morgan.compile(':method')\n  1574 |         assert.ok(typeof fn === 'function')\n> 1575 |         assert.ok(fn.length === 3)\n       |        ^ Assertion Roulette\n  1576 |       })\n  1577 |     })\n  1578 |   })","start":{"column":8,"line":1575}}]},{"name":"Conditional Test Logic","packageName":"conditionalTestLogic","items":[{"frame":"  15 |     it('should use default format', function (done) {\n  16 |       var cb = after(2, function (err, res, line) {\n> 17 |         if (err) return done(err)\n     |        ^ Conditional Test Logic\n  18 |         assert(res.text.length > 0)\n  19 |         assert.strictEqual(line.substr(0, res.text.length), res.text)\n  20 |         done()","start":{"line":17,"column":8,"index":461}},{"frame":"  33 |       it('should accept format as format name', function (done) {\n  34 |         var cb = after(2, function (err, res, line) {\n> 35 |           if (err) return done(err)\n     |          ^ Conditional Test Logic\n  36 |           assert(/^GET \\/ 200 - - \\d+\\.\\d{3} ms$/.test(line))\n  37 |           done()\n  38 |         })","start":{"line":35,"column":10,"index":988}},{"frame":"  49 |       it('should accept format as format string', function (done) {\n  50 |         var cb = after(2, function (err, res, line) {\n> 51 |           if (err) return done(err)\n     |          ^ Conditional Test Logic\n  52 |           assert.strictEqual(line, 'GET /')\n  53 |           done()\n  54 |         })","start":{"line":51,"column":10,"index":1451}},{"frame":"  65 |       it('should accept format as function', function (done) {\n  66 |         var cb = after(2, function (err, res, line) {\n> 67 |           if (err) return done(err)\n     |          ^ Conditional Test Logic\n  68 |           assert.strictEqual(line, 'GET / 200')\n  69 |           done()\n  70 |         })","start":{"line":67,"column":10,"index":1899}},{"frame":"  90 |         it('should accept options object', function (done) {\n  91 |           var cb = after(2, function (err, res, line) {\n> 92 |             if (err) return done(err)\n     |            ^ Conditional Test Logic\n  93 |             assert(res.text.length > 0)\n  94 |             assert.strictEqual(line.substr(0, res.text.length), res.text)\n  95 |             done()","start":{"line":92,"column":12,"index":2647}},{"frame":"  107 |         it('should accept format in options for back-compat', function (done) {\n  108 |           var cb = after(2, function (err, res, line) {\n> 109 |             if (err) return done(err)\n      |            ^ Conditional Test Logic\n  110 |             assert.strictEqual(line, 'GET /')\n  111 |             done()\n  112 |           })","start":{"line":109,"column":12,"index":3188}},{"frame":"  123 |         it('should accept format function in options for back-compat', function (done) {\n  124 |           var cb = after(2, function (err, res, line) {\n> 125 |             if (err) return done(err)\n      |            ^ Conditional Test Logic\n  126 |             assert.strictEqual(line, 'apple')\n  127 |             done()\n  128 |           })","start":{"line":125,"column":12,"index":3694}},{"frame":"  156 |       it('should default to process.stdout', function (done) {\n  157 |         var cb = after(2, function (err, res, line) {\n> 158 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  159 |           assert(res.text.length > 0)\n  160 |           assert.strictEqual(line.substr(0, res.text.length), res.text)\n  161 |           done()","start":{"line":158,"column":10,"index":4495}},{"frame":"  177 |       it('should set stream to write logs to', function (done) {\n  178 |         var cb = after(2, function (err, res, line) {\n> 179 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  180 |           assert(res.text.length > 0)\n  181 |           assert.strictEqual(line.substr(0, res.text.length), res.text)\n  182 |           done()","start":{"line":179,"column":10,"index":5096}},{"frame":"  198 |       it('should get current date in \"web\" format by default', function (done) {\n  199 |         var cb = after(2, function (err, res, line) {\n> 200 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  201 |           assert.ok(/^\\w{3}, \\d{2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} GMT$/.test(line))\n  202 |           done()\n  203 |         })","start":{"line":200,"column":10,"index":5706}},{"frame":"  214 |       it('should get current date in \"clf\" format', function (done) {\n  215 |         var cb = after(2, function (err, res, line) {\n> 216 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  217 |           assert.ok(/^\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000$/.test(line))\n  218 |           done()\n  219 |         })","start":{"line":216,"column":10,"index":6193}},{"frame":"  230 |       it('should get current date in \"iso\" format', function (done) {\n  231 |         var cb = after(2, function (err, res, line) {\n> 232 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  233 |           assert.ok(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$/.test(line))\n  234 |           done()\n  235 |         })","start":{"line":232,"column":10,"index":6683}},{"frame":"  246 |       it('should get current date in \"web\" format', function (done) {\n  247 |         var cb = after(2, function (err, res, line) {\n> 248 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  249 |           assert.ok(/^\\w{3}, \\d{2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} GMT$/.test(line))\n  250 |           done()\n  251 |         })","start":{"line":248,"column":10,"index":7175}},{"frame":"  262 |       it('should be blank for unknown format', function (done) {\n  263 |         var cb = after(2, function (err, res, line) {\n> 264 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  265 |           assert.strictEqual(line, '-')\n  266 |           done()\n  267 |         })","start":{"line":264,"column":10,"index":7662}},{"frame":"  280 |       it('should be 1.0 or 1.1', function (done) {\n  281 |         var cb = after(2, function (err, res, line) {\n> 282 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  283 |           assert.ok(/^1\\.[01]$/.test(line))\n  284 |           done()\n  285 |         })","start":{"line":282,"column":10,"index":8145}},{"frame":"  298 |       it('should get request properties', function (done) {\n  299 |         var cb = after(2, function (err, res, line) {\n> 300 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  301 |           assert.strictEqual(line, 'me')\n  302 |           done()\n  303 |         })","start":{"line":300,"column":10,"index":8633}},{"frame":"  315 |       it('should display all values of array headers', function (done) {\n  316 |         var cb = after(2, function (err, res, line) {\n> 317 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  318 |           assert.strictEqual(line, 'foo=bar, fizz=buzz')\n  319 |           done()\n  320 |         })","start":{"line":317,"column":10,"index":9133}},{"frame":"  334 |       it('should get response properties', function (done) {\n  335 |         var cb = after(2, function (err, res, line) {\n> 336 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  337 |           assert.strictEqual(line, 'true')\n  338 |           done()\n  339 |         })","start":{"line":336,"column":10,"index":9693}},{"frame":"  350 |       it('should display all values of array headers', function (done) {\n  351 |         var cb = after(2, function (err, res, line) {\n> 352 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  353 |           assert.strictEqual(line, 'foo, bar')\n  354 |           done()\n  355 |         })","start":{"line":352,"column":10,"index":10150}},{"frame":"  374 |       it('should get remote address', function (done) {\n  375 |         var cb = after(2, function (err, res, line) {\n> 376 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  377 |           assert.ok(res.text.length > 0)\n  378 |           assert.strictEqual(line, res.text)\n  379 |           done()","start":{"line":376,"column":10,"index":10819}},{"frame":"  391 |       it('should use req.ip if there', function (done) {\n  392 |         var cb = after(2, function (err, res, line) {\n> 393 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  394 |           assert.strictEqual(line, '10.0.0.1')\n  395 |           done()\n  396 |         })","start":{"line":393,"column":10,"index":11303}},{"frame":"  411 |       it('should work on https server', function (done) {\n  412 |         var cb = after(2, function (err, res, line) {\n> 413 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  414 |           assert.ok(res.text.length > 0)\n  415 |           assert.strictEqual(line, res.text)\n  416 |           done()","start":{"line":413,"column":10,"index":11842}},{"frame":"  431 |       it('should work when connection: close', function (done) {\n  432 |         var cb = after(2, function (err, res, line) {\n> 433 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  434 |           assert.ok(res.text.length > 0)\n  435 |           assert.strictEqual(line, res.text)\n  436 |           done()","start":{"line":433,"column":10,"index":12396}},{"frame":"  449 |       it('should work when connection: keep-alive', function (done) {\n  450 |         var cb = after(2, function (err, res, line) {\n> 451 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  452 |           assert.ok(res.text.length > 0)\n  453 |           assert.strictEqual(line, res.text)\n  454 |","start":{"line":451,"column":10,"index":12931}},{"frame":"  474 |       it('should work when req.ip is a getter', function (done) {\n  475 |         var cb = after(2, function (err, res, line) {\n> 476 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  477 |           assert.strictEqual(line, '10.0.0.1')\n  478 |           done()\n  479 |         })","start":{"line":476,"column":10,"index":13649}},{"frame":"  497 |       it('should not fail if req.connection missing', function (done) {\n  498 |         var cb = after(2, function (err, res, line) {\n> 499 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  500 |           assert.ok(res.text.length > 0)\n  501 |           assert.strictEqual(line, res.text)\n  502 |","start":{"line":499,"column":10,"index":14362}},{"frame":"  523 |       it('should be empty if none present', function (done) {\n  524 |         var cb = after(2, function (err, res, line) {\n> 525 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  526 |           assert.strictEqual(line, '-')\n  527 |           done()\n  528 |         })","start":{"line":525,"column":10,"index":15100}},{"frame":"  539 |       it('should support Basic authorization', function (done) {\n  540 |         var cb = after(2, function (err, res, line) {\n> 541 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  542 |           assert.strictEqual(line, 'tj')\n  543 |           done()\n  544 |         })","start":{"line":541,"column":10,"index":15546}},{"frame":"  556 |       it('should be empty for empty Basic authorization user', function (done) {\n  557 |         var cb = after(2, function (err, res, line) {\n> 558 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  559 |           assert.strictEqual(line, '-')\n  560 |           done()\n  561 |         })","start":{"line":558,"column":10,"index":16055}},{"frame":"  575 |       it('should be in milliseconds', function (done) {\n  576 |         var cb = after(2, function (err, res, line) {\n> 577 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  578 |           var end = Date.now()\n  579 |           var ms = parseFloat(line)\n  580 |           assert(ms > 0)","start":{"line":577,"column":10,"index":16590}},{"frame":"  596 |       it('should have three digits by default', function (done) {\n  597 |         var cb = after(2, function (err, res, line) {\n> 598 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  599 |           assert.ok(/^[0-9]+\\.[0-9]{3}$/.test(line))\n  600 |           done()\n  601 |         })","start":{"line":598,"column":10,"index":17162}},{"frame":"  612 |       it('should have five digits with argument \"5\"', function (done) {\n  613 |         var cb = after(2, function (err, res, line) {\n> 614 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  615 |           assert.ok(/^[0-9]+\\.[0-9]{5}$/.test(line))\n  616 |           done()\n  617 |         })","start":{"line":614,"column":10,"index":17630}},{"frame":"  628 |       it('should have no digits with argument \"0\"', function (done) {\n  629 |         var cb = after(2, function (err, res, line) {\n> 630 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  631 |           assert.ok(/^[0-9]+$/.test(line))\n  632 |           done()\n  633 |         })","start":{"line":630,"column":10,"index":18099}},{"frame":"  644 |       it('should not include response write time', function (done) {\n  645 |         var cb = after(2, function (err, res, line) {\n> 646 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  647 |           var end = Date.now()\n  648 |           var ms = parseFloat(line)\n  649 |           assert(ms > 0)","start":{"line":646,"column":10,"index":18557}},{"frame":"  676 |       it('should be empty without hidden property', function (done) {\n  677 |         var cb = after(2, function (err, res, line) {\n> 678 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  679 |           assert.strictEqual(line, '-')\n  680 |           done()\n  681 |         })","start":{"line":678,"column":10,"index":19404}},{"frame":"  697 |       it('should be empty before response', function (done) {\n  698 |         var cb = after(2, function (err, res, line) {\n> 699 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  700 |           assert.strictEqual(line, '-')\n  701 |           done()\n  702 |         })","start":{"line":699,"column":10,"index":19964}},{"frame":"  718 |       it('should be empty if morgan invoked after response sent', function (done) {\n  719 |         var cb = after(3, function (err, res, line) {\n> 720 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  721 |           assert.strictEqual(line, '-')\n  722 |           done()\n  723 |         })","start":{"line":720,"column":10,"index":20505}},{"frame":"  749 |       it('should get response status', function (done) {\n  750 |         var cb = after(2, function (err, res, line) {\n> 751 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  752 |           assert.strictEqual(line, String(res.statusCode))\n  753 |           done()\n  754 |         })","start":{"line":751,"column":10,"index":21237}},{"frame":"  765 |       it('should not exist before response sent', function (done) {\n  766 |         var cb = after(2, function (err, res, line) {\n> 767 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  768 |           assert.strictEqual(line, '-')\n  769 |           done()\n  770 |         })","start":{"line":767,"column":10,"index":21700}},{"frame":"  802 |       it('should be in milliseconds', function (done) {\n  803 |         var cb = after(2, function (err, res, line) {\n> 804 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  805 |           var end = Date.now()\n  806 |           var ms = parseFloat(line)\n  807 |           assert(ms > 0)","start":{"line":804,"column":10,"index":22652}},{"frame":"  823 |       it('should have three digits by default', function (done) {\n  824 |         var cb = after(2, function (err, res, line) {\n> 825 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  826 |           assert.ok(/^[0-9]+\\.[0-9]{3}$/.test(line))\n  827 |           done()\n  828 |         })","start":{"line":825,"column":10,"index":23221}},{"frame":"  839 |       it('should have five digits with argument \"5\"', function (done) {\n  840 |         var cb = after(2, function (err, res, line) {\n> 841 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  842 |           assert.ok(/^[0-9]+\\.[0-9]{5}$/.test(line))\n  843 |           done()\n  844 |         })","start":{"line":841,"column":10,"index":23686}},{"frame":"  855 |       it('should have no digits with argument \"0\"', function (done) {\n  856 |         var cb = after(2, function (err, res, line) {\n> 857 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  858 |           assert.ok(/^[0-9]+$/.test(line))\n  859 |           done()\n  860 |         })","start":{"line":857,"column":10,"index":24152}},{"frame":"  871 |       it('should include response write time', function (done) {\n  872 |         var cb = after(2, function (err, res, line) {\n> 873 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  874 |           var end = Date.now()\n  875 |           var ms = parseFloat(line)\n  876 |           assert(ms > 0)","start":{"line":873,"column":10,"index":24603}},{"frame":"  903 |       it('should be empty without hidden property', function (done) {\n  904 |         var cb = after(2, function (err, res, line) {\n> 905 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  906 |           assert.strictEqual(line, '-')\n  907 |           done()\n  908 |         })","start":{"line":905,"column":10,"index":25447}},{"frame":"  924 |       it('should be empty before response', function (done) {\n  925 |         var cb = after(2, function (err, res, line) {\n> 926 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  927 |           assert.strictEqual(line, '-')\n  928 |           done()\n  929 |         })","start":{"line":926,"column":10,"index":26004}},{"frame":"  945 |       it('should be empty if morgan invoked after response sent', function (done) {\n  946 |         var cb = after(3, function (err, res, line) {\n> 947 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  948 |           assert.strictEqual(line, '-')\n  949 |           done()\n  950 |         })","start":{"line":947,"column":10,"index":26542}},{"frame":"  976 |       it('should get request URL', function (done) {\n  977 |         var cb = after(2, function (err, res, line) {\n> 978 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  979 |           assert.strictEqual(line, '/foo')\n  980 |           done()\n  981 |         })","start":{"line":978,"column":10,"index":27264}},{"frame":"  992 |       it('should use req.originalUrl if exists', function (done) {\n  993 |         var cb = after(2, function (err, res, line) {\n> 994 |           if (err) return done(err)\n      |          ^ Conditional Test Logic\n  995 |           assert.strictEqual(line, '/bar')\n  996 |           done()\n  997 |         })","start":{"line":994,"column":10,"index":27710}},{"frame":"  1031 |       it('should log result of function', function (done) {\n  1032 |         var cb = after(2, function (err, res, line) {\n> 1033 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1034 |           assert.strictEqual(line, 'GET / 200')\n  1035 |           done()\n  1036 |         })","start":{"line":1033,"column":10,"index":28752}},{"frame":"  1081 |       it('should accept format as format string of tokens', function (done) {\n  1082 |         var cb = after(2, function (err, res, line) {\n> 1083 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1084 |           assert.strictEqual(line, 'GET /')\n  1085 |           done()\n  1086 |         })","start":{"line":1083,"column":10,"index":30126}},{"frame":"  1097 |       it('should accept text mixed with tokens', function (done) {\n  1098 |         var cb = after(2, function (err, res, line) {\n> 1099 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1100 |           assert.strictEqual(line, 'method=GET url=/')\n  1101 |           done()\n  1102 |         })","start":{"line":1099,"column":10,"index":30578}},{"frame":"  1113 |       it('should accept special characters', function (done) {\n  1114 |         var cb = after(2, function (err, res, line) {\n> 1115 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1116 |           assert.strictEqual(line, 'LOCAL\\\\tobi \"GET /\" 200')\n  1117 |           done()\n  1118 |         })","start":{"line":1115,"column":10,"index":31048}},{"frame":"  1132 |       it('should match expectations', function (done) {\n  1133 |         var cb = after(2, function (err, res, line) {\n> 1134 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1135 |           var masked = line.replace(/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/, '_timestamp_')\n  1136 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"')\n  1137 |           done()","start":{"line":1134,"column":10,"index":31637}},{"frame":"  1154 |       it('should match expectations', function (done) {\n  1155 |         var cb = after(2, function (err, res, line) {\n> 1156 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1157 |           var masked = line.replace(/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/, '_timestamp_')\n  1158 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 -')\n  1159 |           done()","start":{"line":1156,"column":10,"index":32426}},{"frame":"  1174 |       it('should match expectations', function (done) {\n  1175 |         var cb = after(2, function (err, res, line) {\n> 1176 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1177 |           var masked = line.replace(/\\w+, \\d+ \\w+ \\d+ \\d+:\\d+:\\d+ \\w+/, '_timestamp_')\n  1178 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"')\n  1179 |           done()","start":{"line":1176,"column":10,"index":33101}},{"frame":"  1196 |       it('should not color 1xx', function (done) {\n  1197 |         var cb = after(2, function (err, res, line) {\n> 1198 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1199 |           assert.strictEqual(line.substr(0, 36), '_color_0_GET / _color_0_102_color_0_')\n  1200 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1201 |           done()","start":{"line":1198,"column":10,"index":33869}},{"frame":"  1214 |           .get('/')\n  1215 |           .expect(102, function (err, res) {\n> 1216 |             if (err && err.code === 'ECONNRESET') {\n       |            ^ Conditional Test Logic\n  1217 |               // finishing response with 1xx is invalid http\n  1218 |               // but node.js server lets the server do this, so\n  1219 |               // morgan needs to test in this condition even if","start":{"line":1216,"column":12,"index":34433}},{"frame":"  1227 |       it('should color 2xx green', function (done) {\n  1228 |         var cb = after(2, function (err, res, line) {\n> 1229 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1230 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_32_200_color_0_')\n  1231 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1232 |           done()","start":{"line":1229,"column":10,"index":34915}},{"frame":"  1249 |       it('should color 3xx cyan', function (done) {\n  1250 |         var cb = after(2, function (err, res, line) {\n> 1251 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1252 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_36_300_color_0_')\n  1253 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1254 |           done()","start":{"line":1251,"column":10,"index":35576}},{"frame":"  1271 |       it('should color 4xx yelow', function (done) {\n  1272 |         var cb = after(2, function (err, res, line) {\n> 1273 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1274 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_33_400_color_0_')\n  1275 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1276 |           done()","start":{"line":1273,"column":10,"index":36238}},{"frame":"  1293 |       it('should color 5xx red', function (done) {\n  1294 |         var cb = after(2, function (err, res, line) {\n> 1295 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1296 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_31_500_color_0_')\n  1297 |           assert.strictEqual(line.substr(-9), '_color_0_')\n  1298 |           done()","start":{"line":1295,"column":10,"index":36898}},{"frame":"  1316 |         it('should not have color or response values', function (done) {\n  1317 |           var cb = after(2, function (err, res, line) {\n> 1318 |             if (err) return done(err)\n       |            ^ Conditional Test Logic\n  1319 |             assert.strictEqual(line, '_color_0_GET / _color_0_-_color_0_ - ms - -_color_0_')\n  1320 |             done()\n  1321 |           })","start":{"line":1318,"column":12,"index":37646}},{"frame":"  1340 |       it('should match expectations', function (done) {\n  1341 |         var cb = after(2, function (err, res, line) {\n> 1342 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1343 |           var masked = line.replace(/\\d+\\.\\d{3} ms/, '_timer_')\n  1344 |           assert.strictEqual(masked, res.text + ' tj GET / HTTP/1.1 200 - - _timer_')\n  1345 |           done()","start":{"line":1342,"column":10,"index":38291}},{"frame":"  1360 |       it('should match expectations', function (done) {\n  1361 |         var cb = after(2, function (err, res, line) {\n> 1362 |           if (err) return done(err)\n       |          ^ Conditional Test Logic\n  1363 |           var masked = line.replace(/\\d+\\.\\d{3} ms/, '_timer_')\n  1364 |           assert.strictEqual(masked, 'GET / 200 - - _timer_')\n  1365 |           done()","start":{"line":1362,"column":10,"index":38919}},{"frame":"  1380 |     it('should flush log periodically', function (done) {\n  1381 |       var cb = after(2, function (err, res, log) {\n> 1382 |         if (err) return done(err)\n       |        ^ Conditional Test Logic\n  1383 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n  1384 |         assert.ok(Date.now() - time >= 1000)\n  1385 |         assert.ok(Date.now() - time <= 1100)","start":{"line":1382,"column":8,"index":39490}},{"frame":"  1399 |         .get('/first')\n  1400 |         .expect(200, function (err) {\n> 1401 |           if (err) return cb(err)\n       |          ^ Conditional Test Logic\n  1402 |           request(server)\n  1403 |             .get('/second')\n  1404 |             .expect(200, cb)","start":{"line":1401,"column":10,"index":39999}},{"frame":"  1408 |     it('should accept custom interval', function (done) {\n  1409 |       var cb = after(2, function (err, res, log) {\n> 1410 |         if (err) return done(err)\n       |        ^ Conditional Test Logic\n  1411 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n  1412 |         assert.ok(Date.now() - time >= 200)\n  1413 |         assert.ok(Date.now() - time <= 300)","start":{"line":1410,"column":8,"index":40242}},{"frame":"  1427 |         .get('/first')\n  1428 |         .expect(200, function (err) {\n> 1429 |           if (err) return cb(err)\n       |          ^ Conditional Test Logic\n  1430 |           request(server)\n  1431 |             .get('/second')\n  1432 |             .expect(200, cb)","start":{"line":1429,"column":10,"index":40748}},{"frame":"  1438 |     it('should not have value for :res', function (done) {\n  1439 |       var cb = after(2, function (err, res, line) {\n> 1440 |         if (err) return done(err)\n       |        ^ Conditional Test Logic\n  1441 |         assert.strictEqual(line, 'GET / -')\n  1442 |         done()\n  1443 |       })","start":{"line":1440,"column":8,"index":41048}},{"frame":"  1459 |     it('should not have value for :response-time', function (done) {\n  1460 |       var cb = after(2, function (err, res, line) {\n> 1461 |         if (err) return done(err)\n       |        ^ Conditional Test Logic\n  1462 |         assert.strictEqual(line, 'GET / -')\n  1463 |         done()\n  1464 |       })","start":{"line":1461,"column":8,"index":41559}},{"frame":"  1480 |     it('should not have value for :status', function (done) {\n  1481 |       var cb = after(2, function (err, res, line) {\n> 1482 |         if (err) return done(err)\n       |        ^ Conditional Test Logic\n  1483 |         assert.strictEqual(line, 'GET / -')\n  1484 |         done()\n  1485 |       })","start":{"line":1482,"column":8,"index":42065}},{"frame":"  1502 |       var lineLogged = false\n  1503 |       var cb = after(2, function (err, res, line) {\n> 1504 |         if (err) return done(err)\n       |        ^ Conditional Test Logic\n  1505 |         assert.strictEqual(line, 'GET / -')\n  1506 |         done()\n  1507 |       })","start":{"line":1504,"column":8,"index":42586}},{"frame":"  1590 |     args[2] = args[2] || arg2\n  1591 |\n> 1592 |     if (count === i) {\n       |    ^ Conditional Test Logic\n  1593 |       callback.apply(null, args)\n  1594 |     }\n  1595 |   }","start":{"line":1592,"column":4,"index":44954}},{"frame":"  1612 |   return function onRequest (req, res) {\n  1613 |     // prior alterations\n> 1614 |     if (fn1) {\n       |    ^ Conditional Test Logic\n  1615 |       fn1(req, res)\n  1616 |     }\n  1617 |","start":{"line":1614,"column":4,"index":45444}},{"frame":"  1619 |       // allow req, res alterations\n  1620 |       middle(req, res, function onDone () {\n> 1621 |         if (err) {\n       |        ^ Conditional Test Logic\n  1622 |           res.statusCode = 500\n  1623 |           res.end(err.message)\n  1624 |         }","start":{"line":1621,"column":8,"index":45615}}]},{"name":"Exception Handling","packageName":"exceptionHandling","items":[{"frame":"  1051 |       it('should not log for undefined return', function (done) {\n  1052 |         var stream = createLineStream(function () {\n> 1053 |           throw new Error('should not log line')\n       |          ^ Exception Handling\n  1054 |         })\n  1055 |\n  1056 |         function format (tokens, req, res) {","start":{"line":1053,"column":10,"index":29318}},{"frame":"  1065 |       it('should not log for null return', function (done) {\n  1066 |         var stream = createLineStream(function () {\n> 1067 |           throw new Error('should not log line')\n       |          ^ Exception Handling\n  1068 |         })\n  1069 |\n  1070 |         function format (tokens, req, res) {","start":{"line":1067,"column":10,"index":29692}},{"frame":"  1526 |     it('should be able to skip based on request', function (done) {\n  1527 |       var stream = createLineStream(function () {\n> 1528 |         throw new Error('should not log line')\n       |        ^ Exception Handling\n  1529 |       })\n  1530 |\n  1531 |       function skip (req) {","start":{"line":1528,"column":8,"index":43230}},{"frame":"  1541 |     it('should be able to skip based on response', function (done) {\n  1542 |       var stream = createLineStream(function () {\n> 1543 |         throw new Error('should not log line')\n       |        ^ Exception Handling\n  1544 |       })\n  1545 |\n  1546 |       function skip (req, res) {","start":{"line":1543,"column":8,"index":43672}}]},{"name":"Global Variable","packageName":"globalVariable","items":[{"frame":"  14 |   describe('arguments', function () {\n  15 |     it('should use default format', function (done) {\n> 16 |       var cb = after(2, function (err, res, line) {\n     |      ^ Global Variable\n  17 |         if (err) return done(err)\n  18 |         assert(res.text.length > 0)\n  19 |         assert.strictEqual(line.substr(0, res.text.length), res.text)","start":{"line":16,"column":6,"index":407}},{"frame":"  21 |       })\n  22 |\n> 23 |       var stream = createLineStream(function (line) {\n     |      ^ Global Variable\n  24 |         cb(null, null, line)\n  25 |       })\n  26 |","start":{"line":23,"column":6,"index":624}},{"frame":"  32 |     describe('format', function () {\n  33 |       it('should accept format as format name', function (done) {\n> 34 |         var cb = after(2, function (err, res, line) {\n     |        ^ Global Variable\n  35 |           if (err) return done(err)\n  36 |           assert(/^GET \\/ 200 - - \\d+\\.\\d{3} ms$/.test(line))\n  37 |           done()","start":{"line":34,"column":8,"index":932}},{"frame":"  38 |         })\n  39 |\n> 40 |         var stream = createLineStream(function (line) {\n     |        ^ Global Variable\n  41 |           cb(null, null, line)\n  42 |         })\n  43 |","start":{"line":40,"column":8,"index":1113}},{"frame":"  48 |\n  49 |       it('should accept format as format string', function (done) {\n> 50 |         var cb = after(2, function (err, res, line) {\n     |        ^ Global Variable\n  51 |           if (err) return done(err)\n  52 |           assert.strictEqual(line, 'GET /')\n  53 |           done()","start":{"line":50,"column":8,"index":1395}},{"frame":"  54 |         })\n  55 |\n> 56 |         var stream = createLineStream(function (line) {\n     |        ^ Global Variable\n  57 |           cb(null, null, line)\n  58 |         })\n  59 |","start":{"line":56,"column":8,"index":1558}},{"frame":"  64 |\n  65 |       it('should accept format as function', function (done) {\n> 66 |         var cb = after(2, function (err, res, line) {\n     |        ^ Global Variable\n  67 |           if (err) return done(err)\n  68 |           assert.strictEqual(line, 'GET / 200')\n  69 |           done()","start":{"line":66,"column":8,"index":1843}},{"frame":"  70 |         })\n  71 |\n> 72 |         var stream = createLineStream(function (line) {\n     |        ^ Global Variable\n  73 |           cb(null, null, line)\n  74 |         })\n  75 |","start":{"line":72,"column":8,"index":2010}},{"frame":"  89 |       describe('back-compat', function () {\n  90 |         it('should accept options object', function (done) {\n> 91 |           var cb = after(2, function (err, res, line) {\n     |          ^ Global Variable\n  92 |             if (err) return done(err)\n  93 |             assert(res.text.length > 0)\n  94 |             assert.strictEqual(line.substr(0, res.text.length), res.text)","start":{"line":91,"column":10,"index":2589}},{"frame":"   96 |           })\n   97 |\n>  98 |           var stream = createLineStream(function (line) {\n      |          ^ Global Variable\n   99 |             cb(null, null, line)\n  100 |           })\n  101 |","start":{"line":98,"column":10,"index":2830}},{"frame":"  106 |\n  107 |         it('should accept format in options for back-compat', function (done) {\n> 108 |           var cb = after(2, function (err, res, line) {\n      |          ^ Global Variable\n  109 |             if (err) return done(err)\n  110 |             assert.strictEqual(line, 'GET /')\n  111 |             done()","start":{"line":108,"column":10,"index":3130}},{"frame":"  112 |           })\n  113 |\n> 114 |           var stream = createLineStream(function (line) {\n      |          ^ Global Variable\n  115 |             cb(null, null, line)\n  116 |           })\n  117 |","start":{"line":114,"column":10,"index":3303}},{"frame":"  122 |\n  123 |         it('should accept format function in options for back-compat', function (done) {\n> 124 |           var cb = after(2, function (err, res, line) {\n      |          ^ Global Variable\n  125 |             if (err) return done(err)\n  126 |             assert.strictEqual(line, 'apple')\n  127 |             done()","start":{"line":124,"column":10,"index":3636}},{"frame":"  128 |           })\n  129 |\n> 130 |           var stream = createLineStream(function (line) {\n      |          ^ Global Variable\n  131 |             cb(null, null, line)\n  132 |           })\n  133 |","start":{"line":130,"column":10,"index":3809}},{"frame":"  155 |\n  156 |       it('should default to process.stdout', function (done) {\n> 157 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  158 |           if (err) return done(err)\n  159 |           assert(res.text.length > 0)\n  160 |           assert.strictEqual(line.substr(0, res.text.length), res.text)","start":{"line":157,"column":8,"index":4439}},{"frame":"  162 |         })\n  163 |\n> 164 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  165 |           cb(null, null, line)\n  166 |         })\n  167 |","start":{"line":164,"column":8,"index":4668}},{"frame":"  176 |\n  177 |       it('should set stream to write logs to', function (done) {\n> 178 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  179 |           if (err) return done(err)\n  180 |           assert(res.text.length > 0)\n  181 |           assert.strictEqual(line.substr(0, res.text.length), res.text)","start":{"line":178,"column":8,"index":5040}},{"frame":"  183 |         })\n  184 |\n> 185 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  186 |           cb(null, null, line)\n  187 |         })\n  188 |","start":{"line":185,"column":8,"index":5269}},{"frame":"  197 |     describe(':date', function () {\n  198 |       it('should get current date in \"web\" format by default', function (done) {\n> 199 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  200 |           if (err) return done(err)\n  201 |           assert.ok(/^\\w{3}, \\d{2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} GMT$/.test(line))\n  202 |           done()","start":{"line":199,"column":8,"index":5650}},{"frame":"  203 |         })\n  204 |\n> 205 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  206 |           cb(null, null, line)\n  207 |         })\n  208 |","start":{"line":205,"column":8,"index":5852}},{"frame":"  213 |\n  214 |       it('should get current date in \"clf\" format', function (done) {\n> 215 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  216 |           if (err) return done(err)\n  217 |           assert.ok(/^\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000$/.test(line))\n  218 |           done()","start":{"line":215,"column":8,"index":6137}},{"frame":"  219 |         })\n  220 |\n> 221 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  222 |           cb(null, null, line)\n  223 |         })\n  224 |","start":{"line":221,"column":8,"index":6337}},{"frame":"  229 |\n  230 |       it('should get current date in \"iso\" format', function (done) {\n> 231 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  232 |           if (err) return done(err)\n  233 |           assert.ok(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$/.test(line))\n  234 |           done()","start":{"line":231,"column":8,"index":6627}},{"frame":"  235 |         })\n  236 |\n> 237 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  238 |           cb(null, null, line)\n  239 |         })\n  240 |","start":{"line":237,"column":8,"index":6829}},{"frame":"  245 |\n  246 |       it('should get current date in \"web\" format', function (done) {\n> 247 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  248 |           if (err) return done(err)\n  249 |           assert.ok(/^\\w{3}, \\d{2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} GMT$/.test(line))\n  250 |           done()","start":{"line":247,"column":8,"index":7119}},{"frame":"  251 |         })\n  252 |\n> 253 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  254 |           cb(null, null, line)\n  255 |         })\n  256 |","start":{"line":253,"column":8,"index":7321}},{"frame":"  261 |\n  262 |       it('should be blank for unknown format', function (done) {\n> 263 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  264 |           if (err) return done(err)\n  265 |           assert.strictEqual(line, '-')\n  266 |           done()","start":{"line":263,"column":8,"index":7606}},{"frame":"  267 |         })\n  268 |\n> 269 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  270 |           cb(null, null, line)\n  271 |         })\n  272 |","start":{"line":269,"column":8,"index":7765}},{"frame":"  279 |     describe(':http-version', function () {\n  280 |       it('should be 1.0 or 1.1', function (done) {\n> 281 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  282 |           if (err) return done(err)\n  283 |           assert.ok(/^1\\.[01]$/.test(line))\n  284 |           done()","start":{"line":281,"column":8,"index":8089}},{"frame":"  285 |         })\n  286 |\n> 287 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  288 |           cb(null, null, line)\n  289 |         })\n  290 |","start":{"line":287,"column":8,"index":8252}},{"frame":"  297 |     describe(':req', function () {\n  298 |       it('should get request properties', function (done) {\n> 299 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  300 |           if (err) return done(err)\n  301 |           assert.strictEqual(line, 'me')\n  302 |           done()","start":{"line":299,"column":8,"index":8577}},{"frame":"  303 |         })\n  304 |\n> 305 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  306 |           cb(null, null, line)\n  307 |         })\n  308 |","start":{"line":305,"column":8,"index":8737}},{"frame":"  314 |\n  315 |       it('should display all values of array headers', function (done) {\n> 316 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  317 |           if (err) return done(err)\n  318 |           assert.strictEqual(line, 'foo=bar, fizz=buzz')\n  319 |           done()","start":{"line":316,"column":8,"index":9077}},{"frame":"  320 |         })\n  321 |\n> 322 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  323 |           cb(null, null, line)\n  324 |         })\n  325 |","start":{"line":322,"column":8,"index":9253}},{"frame":"  333 |     describe(':res', function () {\n  334 |       it('should get response properties', function (done) {\n> 335 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  336 |           if (err) return done(err)\n  337 |           assert.strictEqual(line, 'true')\n  338 |           done()","start":{"line":335,"column":8,"index":9637}},{"frame":"  339 |         })\n  340 |\n> 341 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  342 |           cb(null, null, line)\n  343 |         })\n  344 |","start":{"line":341,"column":8,"index":9799}},{"frame":"  349 |\n  350 |       it('should display all values of array headers', function (done) {\n> 351 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  352 |           if (err) return done(err)\n  353 |           assert.strictEqual(line, 'foo, bar')\n  354 |           done()","start":{"line":351,"column":8,"index":10094}},{"frame":"  355 |         })\n  356 |\n> 357 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  358 |           cb(null, null, line)\n  359 |         })\n  360 |","start":{"line":357,"column":8,"index":10260}},{"frame":"  359 |         })\n  360 |\n> 361 |         var server = createServer(':res[x-keys]', { stream: stream }, function (req, res, next) {\n      |        ^ Global Variable\n  362 |           res.setHeader('X-Keys', ['foo', 'bar'])\n  363 |           next()\n  364 |         })","start":{"line":361,"column":8,"index":10359}},{"frame":"  373 |     describe(':remote-addr', function () {\n  374 |       it('should get remote address', function (done) {\n> 375 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  376 |           if (err) return done(err)\n  377 |           assert.ok(res.text.length > 0)\n  378 |           assert.strictEqual(line, res.text)","start":{"line":375,"column":8,"index":10763}},{"frame":"  380 |         })\n  381 |\n> 382 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  383 |           cb(null, null, line)\n  384 |         })\n  385 |","start":{"line":382,"column":8,"index":10968}},{"frame":"  390 |\n  391 |       it('should use req.ip if there', function (done) {\n> 392 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  393 |           if (err) return done(err)\n  394 |           assert.strictEqual(line, '10.0.0.1')\n  395 |           done()","start":{"line":392,"column":8,"index":11247}},{"frame":"  396 |         })\n  397 |\n> 398 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  399 |           cb(null, null, line)\n  400 |         })\n  401 |","start":{"line":398,"column":8,"index":11413}},{"frame":"  400 |         })\n  401 |\n> 402 |         var server = createServer(':remote-addr', { stream: stream }, null, function (req) {\n      |        ^ Global Variable\n  403 |           req.ip = '10.0.0.1'\n  404 |         })\n  405 |","start":{"line":402,"column":8,"index":11512}},{"frame":"  410 |\n  411 |       it('should work on https server', function (done) {\n> 412 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  413 |           if (err) return done(err)\n  414 |           assert.ok(res.text.length > 0)\n  415 |           assert.strictEqual(line, res.text)","start":{"line":412,"column":8,"index":11786}},{"frame":"  417 |         })\n  418 |\n> 419 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  420 |           cb(null, null, line)\n  421 |         })\n  422 |","start":{"line":419,"column":8,"index":11991}},{"frame":"  421 |         })\n  422 |\n> 423 |         var server = createSecureServer(':remote-addr', { stream: stream })\n      |        ^ Global Variable\n  424 |\n  425 |         request(server)\n  426 |           .get('/')","start":{"line":423,"column":8,"index":12090}},{"frame":"  430 |\n  431 |       it('should work when connection: close', function (done) {\n> 432 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  433 |           if (err) return done(err)\n  434 |           assert.ok(res.text.length > 0)\n  435 |           assert.strictEqual(line, res.text)","start":{"line":432,"column":8,"index":12340}},{"frame":"  437 |         })\n  438 |\n> 439 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  440 |           cb(null, null, line)\n  441 |         })\n  442 |","start":{"line":439,"column":8,"index":12545}},{"frame":"  448 |\n  449 |       it('should work when connection: keep-alive', function (done) {\n> 450 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  451 |           if (err) return done(err)\n  452 |           assert.ok(res.text.length > 0)\n  453 |           assert.strictEqual(line, res.text)","start":{"line":450,"column":8,"index":12875}},{"frame":"  457 |         })\n  458 |\n> 459 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  460 |           cb(null, null, line)\n  461 |         })\n  462 |","start":{"line":459,"column":8,"index":13132}},{"frame":"  461 |         })\n  462 |\n> 463 |         var server = createServer(':remote-addr', { stream: stream }, function (req, res, next) {\n      |        ^ Global Variable\n  464 |           delete req._remoteAddress\n  465 |           next()\n  466 |         })","start":{"line":463,"column":8,"index":13231}},{"frame":"  473 |\n  474 |       it('should work when req.ip is a getter', function (done) {\n> 475 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  476 |           if (err) return done(err)\n  477 |           assert.strictEqual(line, '10.0.0.1')\n  478 |           done()","start":{"line":475,"column":8,"index":13593}},{"frame":"  479 |         })\n  480 |\n> 481 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  482 |           cb(null, null, line)\n  483 |         })\n  484 |","start":{"line":481,"column":8,"index":13759}},{"frame":"  483 |         })\n  484 |\n> 485 |         var server = createServer(':remote-addr', { stream: stream }, null, function (req) {\n      |        ^ Global Variable\n  486 |           Object.defineProperty(req, 'ip', {\n  487 |             get: function () { return req.connection.remoteAddress ? '10.0.0.1' : undefined }\n  488 |           })","start":{"line":485,"column":8,"index":13858}},{"frame":"  496 |\n  497 |       it('should not fail if req.connection missing', function (done) {\n> 498 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  499 |           if (err) return done(err)\n  500 |           assert.ok(res.text.length > 0)\n  501 |           assert.strictEqual(line, res.text)","start":{"line":498,"column":8,"index":14306}},{"frame":"  505 |         })\n  506 |\n> 507 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  508 |           cb(null, null, line)\n  509 |         })\n  510 |","start":{"line":507,"column":8,"index":14563}},{"frame":"  509 |         })\n  510 |\n> 511 |         var server = createServer(':remote-addr', { stream: stream }, null, function (req) {\n      |        ^ Global Variable\n  512 |           delete req.connection\n  513 |         })\n  514 |","start":{"line":511,"column":8,"index":14662}},{"frame":"  522 |     describe(':remote-user', function () {\n  523 |       it('should be empty if none present', function (done) {\n> 524 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  525 |           if (err) return done(err)\n  526 |           assert.strictEqual(line, '-')\n  527 |           done()","start":{"line":524,"column":8,"index":15044}},{"frame":"  528 |         })\n  529 |\n> 530 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  531 |           cb(null, null, line)\n  532 |         })\n  533 |","start":{"line":530,"column":8,"index":15203}},{"frame":"  538 |\n  539 |       it('should support Basic authorization', function (done) {\n> 540 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  541 |           if (err) return done(err)\n  542 |           assert.strictEqual(line, 'tj')\n  543 |           done()","start":{"line":540,"column":8,"index":15490}},{"frame":"  544 |         })\n  545 |\n> 546 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  547 |           cb(null, null, line)\n  548 |         })\n  549 |","start":{"line":546,"column":8,"index":15650}},{"frame":"  555 |\n  556 |       it('should be empty for empty Basic authorization user', function (done) {\n> 557 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  558 |           if (err) return done(err)\n  559 |           assert.strictEqual(line, '-')\n  560 |           done()","start":{"line":557,"column":8,"index":15999}},{"frame":"  561 |         })\n  562 |\n> 563 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  564 |           cb(null, null, line)\n  565 |         })\n  566 |","start":{"line":563,"column":8,"index":16158}},{"frame":"  574 |     describe(':response-time', function () {\n  575 |       it('should be in milliseconds', function (done) {\n> 576 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  577 |           if (err) return done(err)\n  578 |           var end = Date.now()\n  579 |           var ms = parseFloat(line)","start":{"line":576,"column":8,"index":16534}},{"frame":"  576 |         var cb = after(2, function (err, res, line) {\n  577 |           if (err) return done(err)\n> 578 |           var end = Date.now()\n      |          ^ Global Variable\n  579 |           var ms = parseFloat(line)\n  580 |           assert(ms > 0)\n  581 |           assert(ms < end - start + 1)","start":{"line":578,"column":10,"index":16626}},{"frame":"  577 |           if (err) return done(err)\n  578 |           var end = Date.now()\n> 579 |           var ms = parseFloat(line)\n      |          ^ Global Variable\n  580 |           assert(ms > 0)\n  581 |           assert(ms < end - start + 1)\n  582 |           done()","start":{"line":579,"column":10,"index":16657}},{"frame":"  583 |         })\n  584 |\n> 585 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  586 |           cb(null, null, line)\n  587 |         })\n  588 |","start":{"line":585,"column":8,"index":16784}},{"frame":"  587 |         })\n  588 |\n> 589 |         var start = Date.now()\n      |        ^ Global Variable\n  590 |\n  591 |         request(createServer(':response-time', { stream: stream }))\n  592 |           .get('/')","start":{"line":589,"column":8,"index":16883}},{"frame":"  595 |\n  596 |       it('should have three digits by default', function (done) {\n> 597 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  598 |           if (err) return done(err)\n  599 |           assert.ok(/^[0-9]+\\.[0-9]{3}$/.test(line))\n  600 |           done()","start":{"line":597,"column":8,"index":17106}},{"frame":"  601 |         })\n  602 |\n> 603 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  604 |           cb(null, null, line)\n  605 |         })\n  606 |","start":{"line":603,"column":8,"index":17278}},{"frame":"  611 |\n  612 |       it('should have five digits with argument \"5\"', function (done) {\n> 613 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  614 |           if (err) return done(err)\n  615 |           assert.ok(/^[0-9]+\\.[0-9]{5}$/.test(line))\n  616 |           done()","start":{"line":613,"column":8,"index":17574}},{"frame":"  617 |         })\n  618 |\n> 619 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  620 |           cb(null, null, line)\n  621 |         })\n  622 |","start":{"line":619,"column":8,"index":17746}},{"frame":"  627 |\n  628 |       it('should have no digits with argument \"0\"', function (done) {\n> 629 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  630 |           if (err) return done(err)\n  631 |           assert.ok(/^[0-9]+$/.test(line))\n  632 |           done()","start":{"line":629,"column":8,"index":18043}},{"frame":"  633 |         })\n  634 |\n> 635 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  636 |           cb(null, null, line)\n  637 |         })\n  638 |","start":{"line":635,"column":8,"index":18205}},{"frame":"  643 |\n  644 |       it('should not include response write time', function (done) {\n> 645 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  646 |           if (err) return done(err)\n  647 |           var end = Date.now()\n  648 |           var ms = parseFloat(line)","start":{"line":645,"column":8,"index":18501}},{"frame":"  645 |         var cb = after(2, function (err, res, line) {\n  646 |           if (err) return done(err)\n> 647 |           var end = Date.now()\n      |          ^ Global Variable\n  648 |           var ms = parseFloat(line)\n  649 |           assert(ms > 0)\n  650 |           assert(ms < end - start + 1)","start":{"line":647,"column":10,"index":18593}},{"frame":"  646 |           if (err) return done(err)\n  647 |           var end = Date.now()\n> 648 |           var ms = parseFloat(line)\n      |          ^ Global Variable\n  649 |           assert(ms > 0)\n  650 |           assert(ms < end - start + 1)\n  651 |           assert(ms < write - start + 1)","start":{"line":648,"column":10,"index":18624}},{"frame":"  653 |         })\n  654 |\n> 655 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  656 |           cb(null, null, line)\n  657 |         })\n  658 |","start":{"line":655,"column":8,"index":18792}},{"frame":"  657 |         })\n  658 |\n> 659 |         var server = createServer(':response-time', { stream: stream }, function (req, res) {\n      |        ^ Global Variable\n  660 |           res.write('hello, ')\n  661 |           write = Date.now()\n  662 |","start":{"line":659,"column":8,"index":18891}},{"frame":"  666 |         })\n  667 |\n> 668 |         var start = Date.now()\n      |        ^ Global Variable\n  669 |         var write = null\n  670 |\n  671 |         request(server)","start":{"line":668,"column":8,"index":19140}},{"frame":"  667 |\n  668 |         var start = Date.now()\n> 669 |         var write = null\n      |        ^ Global Variable\n  670 |\n  671 |         request(server)\n  672 |           .get('/')","start":{"line":669,"column":8,"index":19171}},{"frame":"  675 |\n  676 |       it('should be empty without hidden property', function (done) {\n> 677 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  678 |           if (err) return done(err)\n  679 |           assert.strictEqual(line, '-')\n  680 |           done()","start":{"line":677,"column":8,"index":19348}},{"frame":"  681 |         })\n  682 |\n> 683 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  684 |           cb(null, null, line)\n  685 |         })\n  686 |","start":{"line":683,"column":8,"index":19507}},{"frame":"  685 |         })\n  686 |\n> 687 |         var server = createServer(':response-time', { stream: stream }, function (req, res, next) {\n      |        ^ Global Variable\n  688 |           delete req._startAt\n  689 |           next()\n  690 |         })","start":{"line":687,"column":8,"index":19606}},{"frame":"  696 |\n  697 |       it('should be empty before response', function (done) {\n> 698 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  699 |           if (err) return done(err)\n  700 |           assert.strictEqual(line, '-')\n  701 |           done()","start":{"line":698,"column":8,"index":19908}},{"frame":"  702 |         })\n  703 |\n> 704 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  705 |           cb(null, null, line)\n  706 |         })\n  707 |","start":{"line":704,"column":8,"index":20067}},{"frame":"  706 |         })\n  707 |\n> 708 |         var server = createServer(':response-time', {\n      |        ^ Global Variable\n  709 |           immediate: true,\n  710 |           stream: stream\n  711 |         })","start":{"line":708,"column":8,"index":20166}},{"frame":"  717 |\n  718 |       it('should be empty if morgan invoked after response sent', function (done) {\n> 719 |         var cb = after(3, function (err, res, line) {\n      |        ^ Global Variable\n  720 |           if (err) return done(err)\n  721 |           assert.strictEqual(line, '-')\n  722 |           done()","start":{"line":719,"column":8,"index":20449}},{"frame":"  723 |         })\n  724 |\n> 725 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  726 |           cb(null, null, line)\n  727 |         })\n  728 |","start":{"line":725,"column":8,"index":20608}},{"frame":"  727 |         })\n  728 |\n> 729 |         var logger = morgan(':response-time', {\n      |        ^ Global Variable\n  730 |           immediate: true,\n  731 |           stream: stream\n  732 |         })","start":{"line":729,"column":8,"index":20707}},{"frame":"  732 |         })\n  733 |\n> 734 |         var server = http.createServer(function (req, res) {\n      |        ^ Global Variable\n  735 |           setTimeout(function () {\n  736 |             logger(req, res, cb)\n  737 |           }, 10)","start":{"line":734,"column":8,"index":20819}},{"frame":"  748 |     describe(':status', function () {\n  749 |       it('should get response status', function (done) {\n> 750 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  751 |           if (err) return done(err)\n  752 |           assert.strictEqual(line, String(res.statusCode))\n  753 |           done()","start":{"line":750,"column":8,"index":21181}},{"frame":"  754 |         })\n  755 |\n> 756 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  757 |           cb(null, null, line)\n  758 |         })\n  759 |","start":{"line":756,"column":8,"index":21359}},{"frame":"  764 |\n  765 |       it('should not exist before response sent', function (done) {\n> 766 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  767 |           if (err) return done(err)\n  768 |           assert.strictEqual(line, '-')\n  769 |           done()","start":{"line":766,"column":8,"index":21644}},{"frame":"  770 |         })\n  771 |\n> 772 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  773 |           cb(null, null, line)\n  774 |         })\n  775 |","start":{"line":772,"column":8,"index":21803}},{"frame":"  774 |         })\n  775 |\n> 776 |         var server = createServer(':status', {\n      |        ^ Global Variable\n  777 |           immediate: true,\n  778 |           stream: stream\n  779 |         })","start":{"line":776,"column":8,"index":21902}},{"frame":"  785 |\n  786 |       it('should not exist for aborted request', function (done) {\n> 787 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  788 |           assert.strictEqual(line, '-')\n  789 |           server.close(done)\n  790 |         })","start":{"line":787,"column":8,"index":22161}},{"frame":"  790 |         })\n  791 |\n> 792 |         var server = createServer(':status', { stream: stream }, function () {\n      |        ^ Global Variable\n  793 |           test.abort()\n  794 |         })\n  795 |","start":{"line":792,"column":8,"index":22298}},{"frame":"  794 |         })\n  795 |\n> 796 |         var test = request(server).post('/')\n      |        ^ Global Variable\n  797 |         test.write('0')\n  798 |       })\n  799 |     })","start":{"line":796,"column":8,"index":22412}},{"frame":"  801 |     describe(':total-time', function () {\n  802 |       it('should be in milliseconds', function (done) {\n> 803 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  804 |           if (err) return done(err)\n  805 |           var end = Date.now()\n  806 |           var ms = parseFloat(line)","start":{"line":803,"column":8,"index":22596}},{"frame":"  803 |         var cb = after(2, function (err, res, line) {\n  804 |           if (err) return done(err)\n> 805 |           var end = Date.now()\n      |          ^ Global Variable\n  806 |           var ms = parseFloat(line)\n  807 |           assert(ms > 0)\n  808 |           assert(ms < end - start + 1)","start":{"line":805,"column":10,"index":22688}},{"frame":"  804 |           if (err) return done(err)\n  805 |           var end = Date.now()\n> 806 |           var ms = parseFloat(line)\n      |          ^ Global Variable\n  807 |           assert(ms > 0)\n  808 |           assert(ms < end - start + 1)\n  809 |           done()","start":{"line":806,"column":10,"index":22719}},{"frame":"  810 |         })\n  811 |\n> 812 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  813 |           cb(null, null, line)\n  814 |         })\n  815 |","start":{"line":812,"column":8,"index":22846}},{"frame":"  814 |         })\n  815 |\n> 816 |         var start = Date.now()\n      |        ^ Global Variable\n  817 |\n  818 |         request(createServer(':total-time', { stream: stream }))\n  819 |           .get('/')","start":{"line":816,"column":8,"index":22945}},{"frame":"  822 |\n  823 |       it('should have three digits by default', function (done) {\n> 824 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  825 |           if (err) return done(err)\n  826 |           assert.ok(/^[0-9]+\\.[0-9]{3}$/.test(line))\n  827 |           done()","start":{"line":824,"column":8,"index":23165}},{"frame":"  828 |         })\n  829 |\n> 830 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  831 |           cb(null, null, line)\n  832 |         })\n  833 |","start":{"line":830,"column":8,"index":23337}},{"frame":"  838 |\n  839 |       it('should have five digits with argument \"5\"', function (done) {\n> 840 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  841 |           if (err) return done(err)\n  842 |           assert.ok(/^[0-9]+\\.[0-9]{5}$/.test(line))\n  843 |           done()","start":{"line":840,"column":8,"index":23630}},{"frame":"  844 |         })\n  845 |\n> 846 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  847 |           cb(null, null, line)\n  848 |         })\n  849 |","start":{"line":846,"column":8,"index":23802}},{"frame":"  854 |\n  855 |       it('should have no digits with argument \"0\"', function (done) {\n> 856 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  857 |           if (err) return done(err)\n  858 |           assert.ok(/^[0-9]+$/.test(line))\n  859 |           done()","start":{"line":856,"column":8,"index":24096}},{"frame":"  860 |         })\n  861 |\n> 862 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  863 |           cb(null, null, line)\n  864 |         })\n  865 |","start":{"line":862,"column":8,"index":24258}},{"frame":"  870 |\n  871 |       it('should include response write time', function (done) {\n> 872 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  873 |           if (err) return done(err)\n  874 |           var end = Date.now()\n  875 |           var ms = parseFloat(line)","start":{"line":872,"column":8,"index":24547}},{"frame":"  872 |         var cb = after(2, function (err, res, line) {\n  873 |           if (err) return done(err)\n> 874 |           var end = Date.now()\n      |          ^ Global Variable\n  875 |           var ms = parseFloat(line)\n  876 |           assert(ms > 0)\n  877 |           assert(ms > write - start - 1)","start":{"line":874,"column":10,"index":24639}},{"frame":"  873 |           if (err) return done(err)\n  874 |           var end = Date.now()\n> 875 |           var ms = parseFloat(line)\n      |          ^ Global Variable\n  876 |           assert(ms > 0)\n  877 |           assert(ms > write - start - 1)\n  878 |           assert(ms < end - start + 1)","start":{"line":875,"column":10,"index":24670}},{"frame":"  880 |         })\n  881 |\n> 882 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  883 |           cb(null, null, line)\n  884 |         })\n  885 |","start":{"line":882,"column":8,"index":24838}},{"frame":"  884 |         })\n  885 |\n> 886 |         var server = createServer(':total-time', { stream: stream }, function (req, res) {\n      |        ^ Global Variable\n  887 |           res.write('hello, ')\n  888 |           write = Date.now()\n  889 |","start":{"line":886,"column":8,"index":24937}},{"frame":"  893 |         })\n  894 |\n> 895 |         var start = Date.now()\n      |        ^ Global Variable\n  896 |         var write = null\n  897 |\n  898 |         request(server)","start":{"line":895,"column":8,"index":25183}},{"frame":"  894 |\n  895 |         var start = Date.now()\n> 896 |         var write = null\n      |        ^ Global Variable\n  897 |\n  898 |         request(server)\n  899 |           .get('/')","start":{"line":896,"column":8,"index":25214}},{"frame":"  902 |\n  903 |       it('should be empty without hidden property', function (done) {\n> 904 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  905 |           if (err) return done(err)\n  906 |           assert.strictEqual(line, '-')\n  907 |           done()","start":{"line":904,"column":8,"index":25391}},{"frame":"  908 |         })\n  909 |\n> 910 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  911 |           cb(null, null, line)\n  912 |         })\n  913 |","start":{"line":910,"column":8,"index":25550}},{"frame":"  912 |         })\n  913 |\n> 914 |         var server = createServer(':total-time', { stream: stream }, function (req, res, next) {\n      |        ^ Global Variable\n  915 |           delete req._startAt\n  916 |           next()\n  917 |         })","start":{"line":914,"column":8,"index":25649}},{"frame":"  923 |\n  924 |       it('should be empty before response', function (done) {\n> 925 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  926 |           if (err) return done(err)\n  927 |           assert.strictEqual(line, '-')\n  928 |           done()","start":{"line":925,"column":8,"index":25948}},{"frame":"  929 |         })\n  930 |\n> 931 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  932 |           cb(null, null, line)\n  933 |         })\n  934 |","start":{"line":931,"column":8,"index":26107}},{"frame":"  933 |         })\n  934 |\n> 935 |         var server = createServer(':total-time', {\n      |        ^ Global Variable\n  936 |           immediate: true,\n  937 |           stream: stream\n  938 |         })","start":{"line":935,"column":8,"index":26206}},{"frame":"  944 |\n  945 |       it('should be empty if morgan invoked after response sent', function (done) {\n> 946 |         var cb = after(3, function (err, res, line) {\n      |        ^ Global Variable\n  947 |           if (err) return done(err)\n  948 |           assert.strictEqual(line, '-')\n  949 |           done()","start":{"line":946,"column":8,"index":26486}},{"frame":"  950 |         })\n  951 |\n> 952 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  953 |           cb(null, null, line)\n  954 |         })\n  955 |","start":{"line":952,"column":8,"index":26645}},{"frame":"  954 |         })\n  955 |\n> 956 |         var logger = morgan(':total-time', {\n      |        ^ Global Variable\n  957 |           immediate: true,\n  958 |           stream: stream\n  959 |         })","start":{"line":956,"column":8,"index":26744}},{"frame":"  959 |         })\n  960 |\n> 961 |         var server = http.createServer(function (req, res) {\n      |        ^ Global Variable\n  962 |           setTimeout(function () {\n  963 |             logger(req, res, cb)\n  964 |           }, 10)","start":{"line":961,"column":8,"index":26853}},{"frame":"  975 |     describe(':url', function () {\n  976 |       it('should get request URL', function (done) {\n> 977 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  978 |           if (err) return done(err)\n  979 |           assert.strictEqual(line, '/foo')\n  980 |           done()","start":{"line":977,"column":8,"index":27208}},{"frame":"  981 |         })\n  982 |\n> 983 |         var stream = createLineStream(function (line) {\n      |        ^ Global Variable\n  984 |           cb(null, null, line)\n  985 |         })\n  986 |","start":{"line":983,"column":8,"index":27370}},{"frame":"  991 |\n  992 |       it('should use req.originalUrl if exists', function (done) {\n> 993 |         var cb = after(2, function (err, res, line) {\n      |        ^ Global Variable\n  994 |           if (err) return done(err)\n  995 |           assert.strictEqual(line, '/bar')\n  996 |           done()","start":{"line":993,"column":8,"index":27654}},{"frame":"   997 |         })\n   998 |\n>  999 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1000 |           cb(null, null, line)\n  1001 |         })\n  1002 |","start":{"line":999,"column":8,"index":27816}},{"frame":"  1001 |         })\n  1002 |\n> 1003 |         var server = createServer(':url', { stream: stream }, function (req, res, next) {\n       |        ^ Global Variable\n  1004 |           req.originalUrl = '/bar'\n  1005 |           next()\n  1006 |         })","start":{"line":1003,"column":8,"index":27915}},{"frame":"  1012 |\n  1013 |       it('should not exist for aborted request', function (done) {\n> 1014 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1015 |           assert.strictEqual(line, '-')\n  1016 |           server.close(done)\n  1017 |         })","start":{"line":1014,"column":8,"index":28217}},{"frame":"  1017 |         })\n  1018 |\n> 1019 |         var server = createServer(':status', { stream: stream }, function () {\n       |        ^ Global Variable\n  1020 |           test.abort()\n  1021 |         })\n  1022 |","start":{"line":1019,"column":8,"index":28354}},{"frame":"  1021 |         })\n  1022 |\n> 1023 |         var test = request(server).post('/')\n       |        ^ Global Variable\n  1024 |         test.write('0')\n  1025 |       })\n  1026 |     })","start":{"line":1023,"column":8,"index":28468}},{"frame":"  1030 |     describe('a function', function () {\n  1031 |       it('should log result of function', function (done) {\n> 1032 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1033 |           if (err) return done(err)\n  1034 |           assert.strictEqual(line, 'GET / 200')\n  1035 |           done()","start":{"line":1032,"column":8,"index":28696}},{"frame":"  1036 |         })\n  1037 |\n> 1038 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1039 |           cb(null, null, line)\n  1040 |         })\n  1041 |","start":{"line":1038,"column":8,"index":28863}},{"frame":"  1050 |\n  1051 |       it('should not log for undefined return', function (done) {\n> 1052 |         var stream = createLineStream(function () {\n       |        ^ Global Variable\n  1053 |           throw new Error('should not log line')\n  1054 |         })\n  1055 |","start":{"line":1052,"column":8,"index":29264}},{"frame":"  1064 |\n  1065 |       it('should not log for null return', function (done) {\n> 1066 |         var stream = createLineStream(function () {\n       |        ^ Global Variable\n  1067 |           throw new Error('should not log line')\n  1068 |         })\n  1069 |","start":{"line":1066,"column":8,"index":29638}},{"frame":"  1080 |     describe('a string', function () {\n  1081 |       it('should accept format as format string of tokens', function (done) {\n> 1082 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1083 |           if (err) return done(err)\n  1084 |           assert.strictEqual(line, 'GET /')\n  1085 |           done()","start":{"line":1082,"column":8,"index":30070}},{"frame":"  1086 |         })\n  1087 |\n> 1088 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1089 |           cb(null, null, line)\n  1090 |         })\n  1091 |","start":{"line":1088,"column":8,"index":30233}},{"frame":"  1096 |\n  1097 |       it('should accept text mixed with tokens', function (done) {\n> 1098 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1099 |           if (err) return done(err)\n  1100 |           assert.strictEqual(line, 'method=GET url=/')\n  1101 |           done()","start":{"line":1098,"column":8,"index":30522}},{"frame":"  1102 |         })\n  1103 |\n> 1104 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1105 |           cb(null, null, line)\n  1106 |         })\n  1107 |","start":{"line":1104,"column":8,"index":30696}},{"frame":"  1112 |\n  1113 |       it('should accept special characters', function (done) {\n> 1114 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1115 |           if (err) return done(err)\n  1116 |           assert.strictEqual(line, 'LOCAL\\\\tobi \"GET /\" 200')\n  1117 |           done()","start":{"line":1114,"column":8,"index":30992}},{"frame":"  1118 |         })\n  1119 |\n> 1120 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1121 |           cb(null, null, line)\n  1122 |         })\n  1123 |","start":{"line":1120,"column":8,"index":31173}},{"frame":"  1131 |     describe('combined', function () {\n  1132 |       it('should match expectations', function (done) {\n> 1133 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1134 |           if (err) return done(err)\n  1135 |           var masked = line.replace(/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/, '_timestamp_')\n  1136 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"')","start":{"line":1133,"column":8,"index":31581}},{"frame":"  1133 |         var cb = after(2, function (err, res, line) {\n  1134 |           if (err) return done(err)\n> 1135 |           var masked = line.replace(/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/, '_timestamp_')\n       |          ^ Global Variable\n  1136 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"')\n  1137 |           done()\n  1138 |         })","start":{"line":1135,"column":10,"index":31673}},{"frame":"  1138 |         })\n  1139 |\n> 1140 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1141 |           cb(null, null, line)\n  1142 |         })\n  1143 |","start":{"line":1140,"column":8,"index":31921}},{"frame":"  1153 |     describe('common', function () {\n  1154 |       it('should match expectations', function (done) {\n> 1155 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1156 |           if (err) return done(err)\n  1157 |           var masked = line.replace(/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/, '_timestamp_')\n  1158 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 -')","start":{"line":1155,"column":8,"index":32370}},{"frame":"  1155 |         var cb = after(2, function (err, res, line) {\n  1156 |           if (err) return done(err)\n> 1157 |           var masked = line.replace(/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/, '_timestamp_')\n       |          ^ Global Variable\n  1158 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 -')\n  1159 |           done()\n  1160 |         })","start":{"line":1157,"column":10,"index":32462}},{"frame":"  1160 |         })\n  1161 |\n> 1162 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1163 |           cb(null, null, line)\n  1164 |         })\n  1165 |","start":{"line":1162,"column":8,"index":32682}},{"frame":"  1173 |     describe('default', function () {\n  1174 |       it('should match expectations', function (done) {\n> 1175 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1176 |           if (err) return done(err)\n  1177 |           var masked = line.replace(/\\w+, \\d+ \\w+ \\d+ \\d+:\\d+:\\d+ \\w+/, '_timestamp_')\n  1178 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"')","start":{"line":1175,"column":8,"index":33045}},{"frame":"  1175 |         var cb = after(2, function (err, res, line) {\n  1176 |           if (err) return done(err)\n> 1177 |           var masked = line.replace(/\\w+, \\d+ \\w+ \\d+ \\d+:\\d+:\\d+ \\w+/, '_timestamp_')\n       |          ^ Global Variable\n  1178 |           assert.strictEqual(masked, res.text + ' - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"')\n  1179 |           done()\n  1180 |         })","start":{"line":1177,"column":10,"index":33137}},{"frame":"  1180 |         })\n  1181 |\n> 1182 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1183 |           cb(null, null, line)\n  1184 |         })\n  1185 |","start":{"line":1182,"column":8,"index":33373}},{"frame":"  1195 |     describe('dev', function () {\n  1196 |       it('should not color 1xx', function (done) {\n> 1197 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1198 |           if (err) return done(err)\n  1199 |           assert.strictEqual(line.substr(0, 36), '_color_0_GET / _color_0_102_color_0_')\n  1200 |           assert.strictEqual(line.substr(-9), '_color_0_')","start":{"line":1197,"column":8,"index":33813}},{"frame":"  1202 |         })\n  1203 |\n> 1204 |         var stream = createColorLineStream(function onLine (line) {\n       |        ^ Global Variable\n  1205 |           cb(null, null, line)\n  1206 |         })\n  1207 |","start":{"line":1204,"column":8,"index":34080}},{"frame":"  1206 |         })\n  1207 |\n> 1208 |         var server = createServer('dev', { stream: stream }, function (req, res, next) {\n       |        ^ Global Variable\n  1209 |           res.statusCode = 102\n  1210 |           next()\n  1211 |         })","start":{"line":1208,"column":8,"index":34191}},{"frame":"  1226 |\n  1227 |       it('should color 2xx green', function (done) {\n> 1228 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1229 |           if (err) return done(err)\n  1230 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_32_200_color_0_')\n  1231 |           assert.strictEqual(line.substr(-9), '_color_0_')","start":{"line":1228,"column":8,"index":34859}},{"frame":"  1233 |         })\n  1234 |\n> 1235 |         var stream = createColorLineStream(function onLine (line) {\n       |        ^ Global Variable\n  1236 |           cb(null, null, line)\n  1237 |         })\n  1238 |","start":{"line":1235,"column":8,"index":35127}},{"frame":"  1237 |         })\n  1238 |\n> 1239 |         var server = createServer('dev', { stream: stream }, function (req, res, next) {\n       |        ^ Global Variable\n  1240 |           res.statusCode = 200\n  1241 |           next()\n  1242 |         })","start":{"line":1239,"column":8,"index":35238}},{"frame":"  1248 |\n  1249 |       it('should color 3xx cyan', function (done) {\n> 1250 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1251 |           if (err) return done(err)\n  1252 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_36_300_color_0_')\n  1253 |           assert.strictEqual(line.substr(-9), '_color_0_')","start":{"line":1250,"column":8,"index":35520}},{"frame":"  1255 |         })\n  1256 |\n> 1257 |         var stream = createColorLineStream(function onLine (line) {\n       |        ^ Global Variable\n  1258 |           cb(null, null, line)\n  1259 |         })\n  1260 |","start":{"line":1257,"column":8,"index":35788}},{"frame":"  1259 |         })\n  1260 |\n> 1261 |         var server = createServer('dev', { stream: stream }, function (req, res, next) {\n       |        ^ Global Variable\n  1262 |           res.statusCode = 300\n  1263 |           next()\n  1264 |         })","start":{"line":1261,"column":8,"index":35899}},{"frame":"  1270 |\n  1271 |       it('should color 4xx yelow', function (done) {\n> 1272 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1273 |           if (err) return done(err)\n  1274 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_33_400_color_0_')\n  1275 |           assert.strictEqual(line.substr(-9), '_color_0_')","start":{"line":1272,"column":8,"index":36182}},{"frame":"  1277 |         })\n  1278 |\n> 1279 |         var stream = createColorLineStream(function onLine (line) {\n       |        ^ Global Variable\n  1280 |           cb(null, null, line)\n  1281 |         })\n  1282 |","start":{"line":1279,"column":8,"index":36450}},{"frame":"  1281 |         })\n  1282 |\n> 1283 |         var server = createServer('dev', { stream: stream }, function (req, res, next) {\n       |        ^ Global Variable\n  1284 |           res.statusCode = 400\n  1285 |           next()\n  1286 |         })","start":{"line":1283,"column":8,"index":36561}},{"frame":"  1292 |\n  1293 |       it('should color 5xx red', function (done) {\n> 1294 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1295 |           if (err) return done(err)\n  1296 |           assert.strictEqual(line.substr(0, 37), '_color_0_GET / _color_31_500_color_0_')\n  1297 |           assert.strictEqual(line.substr(-9), '_color_0_')","start":{"line":1294,"column":8,"index":36842}},{"frame":"  1299 |         })\n  1300 |\n> 1301 |         var stream = createColorLineStream(function onLine (line) {\n       |        ^ Global Variable\n  1302 |           cb(null, null, line)\n  1303 |         })\n  1304 |","start":{"line":1301,"column":8,"index":37110}},{"frame":"  1303 |         })\n  1304 |\n> 1305 |         var server = createServer('dev', { stream: stream }, function (req, res, next) {\n       |        ^ Global Variable\n  1306 |           res.statusCode = 500\n  1307 |           next()\n  1308 |         })","start":{"line":1305,"column":8,"index":37221}},{"frame":"  1315 |       describe('with \"immediate: true\" option', function () {\n  1316 |         it('should not have color or response values', function (done) {\n> 1317 |           var cb = after(2, function (err, res, line) {\n       |          ^ Global Variable\n  1318 |             if (err) return done(err)\n  1319 |             assert.strictEqual(line, '_color_0_GET / _color_0_-_color_0_ - ms - -_color_0_')\n  1320 |             done()","start":{"line":1317,"column":10,"index":37588}},{"frame":"  1321 |           })\n  1322 |\n> 1323 |           var stream = createColorLineStream(function onLine (line) {\n       |          ^ Global Variable\n  1324 |             cb(null, null, line)\n  1325 |           })\n  1326 |","start":{"line":1323,"column":10,"index":37808}},{"frame":"  1325 |           })\n  1326 |\n> 1327 |           var server = createServer('dev', {\n       |          ^ Global Variable\n  1328 |             immediate: true,\n  1329 |             stream: stream\n  1330 |           })","start":{"line":1327,"column":10,"index":37925}},{"frame":"  1339 |     describe('short', function () {\n  1340 |       it('should match expectations', function (done) {\n> 1341 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1342 |           if (err) return done(err)\n  1343 |           var masked = line.replace(/\\d+\\.\\d{3} ms/, '_timer_')\n  1344 |           assert.strictEqual(masked, res.text + ' tj GET / HTTP/1.1 200 - - _timer_')","start":{"line":1341,"column":8,"index":38235}},{"frame":"  1341 |         var cb = after(2, function (err, res, line) {\n  1342 |           if (err) return done(err)\n> 1343 |           var masked = line.replace(/\\d+\\.\\d{3} ms/, '_timer_')\n       |          ^ Global Variable\n  1344 |           assert.strictEqual(masked, res.text + ' tj GET / HTTP/1.1 200 - - _timer_')\n  1345 |           done()\n  1346 |         })","start":{"line":1343,"column":10,"index":38327}},{"frame":"  1346 |         })\n  1347 |\n> 1348 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1349 |           cb(null, null, line)\n  1350 |         })\n  1351 |","start":{"line":1348,"column":8,"index":38504}},{"frame":"  1359 |     describe('tiny', function () {\n  1360 |       it('should match expectations', function (done) {\n> 1361 |         var cb = after(2, function (err, res, line) {\n       |        ^ Global Variable\n  1362 |           if (err) return done(err)\n  1363 |           var masked = line.replace(/\\d+\\.\\d{3} ms/, '_timer_')\n  1364 |           assert.strictEqual(masked, 'GET / 200 - - _timer_')","start":{"line":1361,"column":8,"index":38863}},{"frame":"  1361 |         var cb = after(2, function (err, res, line) {\n  1362 |           if (err) return done(err)\n> 1363 |           var masked = line.replace(/\\d+\\.\\d{3} ms/, '_timer_')\n       |          ^ Global Variable\n  1364 |           assert.strictEqual(masked, 'GET / 200 - - _timer_')\n  1365 |           done()\n  1366 |         })","start":{"line":1363,"column":10,"index":38955}},{"frame":"  1366 |         })\n  1367 |\n> 1368 |         var stream = createLineStream(function (line) {\n       |        ^ Global Variable\n  1369 |           cb(null, null, line)\n  1370 |         })\n  1371 |","start":{"line":1368,"column":8,"index":39108}},{"frame":"  1379 |   describe('with buffer option', function () {\n  1380 |     it('should flush log periodically', function (done) {\n> 1381 |       var cb = after(2, function (err, res, log) {\n       |      ^ Global Variable\n  1382 |         if (err) return done(err)\n  1383 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n  1384 |         assert.ok(Date.now() - time >= 1000)","start":{"line":1381,"column":6,"index":39437}},{"frame":"  1386 |         done()\n  1387 |       })\n> 1388 |       var server = createServer(':method :url', {\n       |      ^ Global Variable\n  1389 |         buffer: true,\n  1390 |         stream: { write: writeLog }\n  1391 |       })","start":{"line":1388,"column":6,"index":39697}},{"frame":"  1390 |         stream: { write: writeLog }\n  1391 |       })\n> 1392 |       var time = Date.now()\n       |      ^ Global Variable\n  1393 |\n  1394 |       function writeLog (log) {\n  1395 |         cb(null, null, log)","start":{"line":1392,"column":6,"index":39814}},{"frame":"  1407 |\n  1408 |     it('should accept custom interval', function (done) {\n> 1409 |       var cb = after(2, function (err, res, log) {\n       |      ^ Global Variable\n  1410 |         if (err) return done(err)\n  1411 |         assert.strictEqual(log, 'GET /first\\nGET /second\\n')\n  1412 |         assert.ok(Date.now() - time >= 200)","start":{"line":1409,"column":6,"index":40189}},{"frame":"  1414 |         done()\n  1415 |       })\n> 1416 |       var server = createServer(':method :url', {\n       |      ^ Global Variable\n  1417 |         buffer: 200,\n  1418 |         stream: { write: writeLog }\n  1419 |       })","start":{"line":1416,"column":6,"index":40447}},{"frame":"  1418 |         stream: { write: writeLog }\n  1419 |       })\n> 1420 |       var time = Date.now()\n       |      ^ Global Variable\n  1421 |\n  1422 |       function writeLog (log) {\n  1423 |         cb(null, null, log)","start":{"line":1420,"column":6,"index":40563}},{"frame":"  1437 |   describe('with immediate option', function () {\n  1438 |     it('should not have value for :res', function (done) {\n> 1439 |       var cb = after(2, function (err, res, line) {\n       |      ^ Global Variable\n  1440 |         if (err) return done(err)\n  1441 |         assert.strictEqual(line, 'GET / -')\n  1442 |         done()","start":{"line":1439,"column":6,"index":40994}},{"frame":"  1443 |       })\n  1444 |\n> 1445 |       var stream = createLineStream(function (line) {\n       |      ^ Global Variable\n  1446 |         cb(null, null, line)\n  1447 |       })\n  1448 |","start":{"line":1445,"column":6,"index":41149}},{"frame":"  1447 |       })\n  1448 |\n> 1449 |       var server = createServer(':method :url :res[x-sent]', {\n       |      ^ Global Variable\n  1450 |         immediate: true,\n  1451 |         stream: stream\n  1452 |       })","start":{"line":1449,"column":6,"index":41242}},{"frame":"  1458 |\n  1459 |     it('should not have value for :response-time', function (done) {\n> 1460 |       var cb = after(2, function (err, res, line) {\n       |      ^ Global Variable\n  1461 |         if (err) return done(err)\n  1462 |         assert.strictEqual(line, 'GET / -')\n  1463 |         done()","start":{"line":1460,"column":6,"index":41505}},{"frame":"  1464 |       })\n  1465 |\n> 1466 |       var stream = createLineStream(function (line) {\n       |      ^ Global Variable\n  1467 |         cb(null, null, line)\n  1468 |       })\n  1469 |","start":{"line":1466,"column":6,"index":41660}},{"frame":"  1468 |       })\n  1469 |\n> 1470 |       var server = createServer(':method :url :response-time', {\n       |      ^ Global Variable\n  1471 |         immediate: true,\n  1472 |         stream: stream\n  1473 |       })","start":{"line":1470,"column":6,"index":41753}},{"frame":"  1479 |\n  1480 |     it('should not have value for :status', function (done) {\n> 1481 |       var cb = after(2, function (err, res, line) {\n       |      ^ Global Variable\n  1482 |         if (err) return done(err)\n  1483 |         assert.strictEqual(line, 'GET / -')\n  1484 |         done()","start":{"line":1481,"column":6,"index":42011}},{"frame":"  1485 |       })\n  1486 |\n> 1487 |       var stream = createLineStream(function (line) {\n       |      ^ Global Variable\n  1488 |         cb(null, null, line)\n  1489 |       })\n  1490 |","start":{"line":1487,"column":6,"index":42166}},{"frame":"  1489 |       })\n  1490 |\n> 1491 |       var server = createServer(':method :url :status', {\n       |      ^ Global Variable\n  1492 |         immediate: true,\n  1493 |         stream: stream\n  1494 |       })","start":{"line":1491,"column":6,"index":42259}},{"frame":"  1500 |\n  1501 |     it('should log before response', function (done) {\n> 1502 |       var lineLogged = false\n       |      ^ Global Variable\n  1503 |       var cb = after(2, function (err, res, line) {\n  1504 |         if (err) return done(err)\n  1505 |         assert.strictEqual(line, 'GET / -')","start":{"line":1502,"column":6,"index":42503}},{"frame":"  1501 |     it('should log before response', function (done) {\n  1502 |       var lineLogged = false\n> 1503 |       var cb = after(2, function (err, res, line) {\n       |      ^ Global Variable\n  1504 |         if (err) return done(err)\n  1505 |         assert.strictEqual(line, 'GET / -')\n  1506 |         done()","start":{"line":1503,"column":6,"index":42532}},{"frame":"  1507 |       })\n  1508 |\n> 1509 |       var stream = createLineStream(function (line) {\n       |      ^ Global Variable\n  1510 |         lineLogged = true\n  1511 |         cb(null, null, line)\n  1512 |       })","start":{"line":1509,"column":6,"index":42687}},{"frame":"  1512 |       })\n  1513 |\n> 1514 |       var server = createServer(':method :url :res[x-sent]', { immediate: true, stream: stream }, function (req, res, next) {\n       |      ^ Global Variable\n  1515 |         assert.ok(lineLogged)\n  1516 |         next()\n  1517 |       })","start":{"line":1514,"column":6,"index":42806}},{"frame":"  1525 |   describe('with skip option', function () {\n  1526 |     it('should be able to skip based on request', function (done) {\n> 1527 |       var stream = createLineStream(function () {\n       |      ^ Global Variable\n  1528 |         throw new Error('should not log line')\n  1529 |       })\n  1530 |","start":{"line":1527,"column":6,"index":43178}},{"frame":"  1540 |\n  1541 |     it('should be able to skip based on response', function (done) {\n> 1542 |       var stream = createLineStream(function () {\n       |      ^ Global Variable\n  1543 |         throw new Error('should not log line')\n  1544 |       })\n  1545 |","start":{"line":1542,"column":6,"index":43620}},{"frame":"  1571 |\n  1572 |       it('should compile a string into a function', function () {\n> 1573 |         var fn = morgan.compile(':method')\n       |        ^ Global Variable\n  1574 |         assert.ok(typeof fn === 'function')\n  1575 |         assert.ok(fn.length === 3)\n  1576 |       })","start":{"line":1573,"column":8,"index":44542}},{"frame":"  1580 |\n  1581 | function after (count, callback) {\n> 1582 |   var args = new Array(3)\n       |  ^ Global Variable\n  1583 |   var i = 0\n  1584 |\n  1585 |   return function (err, arg1, arg2) {","start":{"line":1582,"column":2,"index":44718}},{"frame":"  1581 | function after (count, callback) {\n  1582 |   var args = new Array(3)\n> 1583 |   var i = 0\n       |  ^ Global Variable\n  1584 |\n  1585 |   return function (err, arg1, arg2) {\n  1586 |     assert.ok(i++ < count, 'callback called ' + count + ' times')","start":{"line":1583,"column":2,"index":44744}},{"frame":"  1607 |\n  1608 | function createRequestListener (format, opts, fn, fn1) {\n> 1609 |   var logger = morgan(format, opts)\n       |  ^ Global Variable\n  1610 |   var middle = fn || noopMiddleware\n  1611 |\n  1612 |   return function onRequest (req, res) {","start":{"line":1609,"column":2,"index":45303}},{"frame":"  1608 | function createRequestListener (format, opts, fn, fn1) {\n  1609 |   var logger = morgan(format, opts)\n> 1610 |   var middle = fn || noopMiddleware\n       |  ^ Global Variable\n  1611 |\n  1612 |   return function onRequest (req, res) {\n  1613 |     // prior alterations","start":{"line":1610,"column":2,"index":45339}},{"frame":"  1632 |\n  1633 | function createSecureServer (format, opts, fn, fn1) {\n> 1634 |   var cert = fs.readFileSync(join(__dirname, 'fixtures', 'server.crt'), 'ascii')\n       |  ^ Global Variable\n  1635 |   var key = fs.readFileSync(join(__dirname, 'fixtures', 'server.key'), 'ascii')\n  1636 |\n  1637 |   return https.createServer({ cert: cert, key: key })","start":{"line":1634,"column":2,"index":45891}},{"frame":"  1633 | function createSecureServer (format, opts, fn, fn1) {\n  1634 |   var cert = fs.readFileSync(join(__dirname, 'fixtures', 'server.crt'), 'ascii')\n> 1635 |   var key = fs.readFileSync(join(__dirname, 'fixtures', 'server.key'), 'ascii')\n       |  ^ Global Variable\n  1636 |\n  1637 |   return https.createServer({ cert: cert, key: key })\n  1638 |     .on('request', createRequestListener(format, opts, fn, fn1))","start":{"line":1635,"column":2,"index":45972}}]},{"name":"Sleepy Test","packageName":"sleepyTest","items":[{"frame":"  661 |           write = Date.now()\n  662 |\n> 663 |           setTimeout(function () {\n      |          ^ Sleepy Test\n  664 |             res.end('world!')\n  665 |           }, 50)\n  666 |         })","start":{"line":663,"column":10,"index":19048}},{"frame":"  733 |\n  734 |         var server = http.createServer(function (req, res) {\n> 735 |           setTimeout(function () {\n      |          ^ Sleepy Test\n  736 |             logger(req, res, cb)\n  737 |           }, 10)\n  738 |","start":{"line":735,"column":10,"index":20882}},{"frame":"  888 |           write = Date.now()\n  889 |\n> 890 |           setTimeout(function () {\n      |          ^ Sleepy Test\n  891 |             res.end('world!')\n  892 |           }, 50)\n  893 |         })","start":{"line":890,"column":10,"index":25091}},{"frame":"  960 |\n  961 |         var server = http.createServer(function (req, res) {\n> 962 |           setTimeout(function () {\n      |          ^ Sleepy Test\n  963 |             logger(req, res, cb)\n  964 |           }, 10)\n  965 |","start":{"line":962,"column":10,"index":26916}}]},{"name":"Unknown Test","packageName":"unknownTest","items":[{"frame":"  1049 |       })\n  1050 |\n> 1051 |       it('should not log for undefined return', function (done) {\n       |      ^ Unknown Test\n  1052 |         var stream = createLineStream(function () {\n  1053 |           throw new Error('should not log line')\n  1054 |         })","start":{"column":6,"line":1051}},{"frame":"  1063 |       })\n  1064 |\n> 1065 |       it('should not log for null return', function (done) {\n       |      ^ Unknown Test\n  1066 |         var stream = createLineStream(function () {\n  1067 |           throw new Error('should not log line')\n  1068 |         })","start":{"column":6,"line":1065}},{"frame":"  1524 |\n  1525 |   describe('with skip option', function () {\n> 1526 |     it('should be able to skip based on request', function (done) {\n       |    ^ Unknown Test\n  1527 |       var stream = createLineStream(function () {\n  1528 |         throw new Error('should not log line')\n  1529 |       })","start":{"column":4,"line":1526}},{"frame":"  1539 |     })\n  1540 |\n> 1541 |     it('should be able to skip based on response', function (done) {\n       |    ^ Unknown Test\n  1542 |       var stream = createLineStream(function () {\n  1543 |         throw new Error('should not log line')\n  1544 |       })","start":{"column":4,"line":1541}}]}],"metrics":{"aggregate":{"cyclomatic":395,"cyclomaticDensity":21.351,"halstead":{"bugs":17.551,"difficulty":147.621,"effort":7772607.338,"length":6166,"time":431811.519,"vocabulary":372,"volume":52652.453,"operands":{"distinct":343,"total":3492,"identifiers":["process","env","NO_DEPRECATION","\"morgan\"","assert","require","\"assert\"","fs","\"fs\"","http","\"http\"","https","\"https\"","join","\"path\"","morgan","\"..\"","request","\"supertest\"","split","\"split\"","describe","\"morgan()\"","\"arguments\"","it","\"should use default format\"","done","cb","after","2","err","res","line","text","length","0","strictEqual","substr","stream","createLineStream","null","createServer","undefined","get","\"/\"","expect","200","\"format\"","\"should accept format as format name\"","/^GET \\/ 200 - - \\d+\\.\\d{3} ms$/","test","\"tiny\"","\"should accept format as format string\"","\"GET /\"","\":method :url\"","\"should accept format as function\"","\"GET / 200\"","format","tokens","req","method","url","statusCode","\" \"","\"should reject format as bool\"","throws","bind","true","/argument format/","\"back-compat\"","\"should accept options object\"","\"should accept format in options for back-compat\"","\"should accept format function in options for back-compat\"","\"apple\"","\"stream\"","beforeEach","stdout","afterEach","Object","defineProperty","\"stdout\"","value","\"should default to process.stdout\"","\"should set stream to write logs to\"","\"tokens\"","\":date\"","\"should get current date in \"web\" format by default\"","ok","/^\\w{3}, \\d{2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} GMT$/","\"should get current date in \"clf\" format\"","/^\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000$/","\":date[clf]\"","\"should get current date in \"iso\" format\"","/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$/","\":date[iso]\"","\"should get current date in \"web\" format\"","\":date[web]\"","\"should be blank for unknown format\"","\"-\"","\":date[bogus]\"","\":http-version\"","\"should be 1.0 or 1.1\"","/^1\\.[01]$/","\":req\"","\"should get request properties\"","\"me\"","\":req[x-from-string]\"","set","\"x-from-string\"","\"should display all values of array headers\"","\"foo=bar, fizz=buzz\"","\":req[set-cookie]\"","\"Set-Cookie\"","\"foo=bar\"","\"fizz=buzz\"","\":res\"","\"should get response properties\"","\"true\"","\":res[x-sent]\"","\"foo, bar\"","server","\":res[x-keys]\"","next","setHeader","\"X-Keys\"","\"foo\"","\"bar\"","\":remote-addr\"","\"should get remote address\"","\"should use req.ip if there\"","\"10.0.0.1\"","ip","\"should work on https server\"","createSecureServer","ca","cert","\"should work when connection: close\"","\"Connection\"","\"close\"","\"should work when connection: keep-alive\"","connection","destroy","close","_remoteAddress","listen","\"keep-alive\"","\"should work when req.ip is a getter\"","\"ip\"","remoteAddress","\"should not fail if req.connection missing\"","\":remote-user\"","\"should be empty if none present\"","\"should support Basic authorization\"","\"tj\"","\"Authorization\"","\"Basic dGo6\"","\"should be empty for empty Basic authorization user\"","\"Basic Og==\"","\":response-time\"","\"should be in milliseconds\"","end","Date","now","ms","parseFloat","start","1","\"should have three digits by default\"","/^[0-9]+\\.[0-9]{3}$/","\"should have five digits with argument \"5\"\"","/^[0-9]+\\.[0-9]{5}$/","\":response-time[5]\"","\"should have no digits with argument \"0\"\"","/^[0-9]+$/","\":response-time[0]\"","\"should not include response write time\"","write","\"hello, \"","setTimeout","\"world!\"","50","\"should be empty without hidden property\"","_startAt","\"should be empty before response\"","immediate","\"should be empty if morgan invoked after response sent\"","3","logger","10","\":status\"","\"should get response status\"","String","\"should not exist before response sent\"","\"should not exist for aborted request\"","abort","post","\"0\"","\":total-time\"","\":total-time[5]\"","\":total-time[0]\"","\"should include response write time\"","\":url\"","\"should get request URL\"","\"/foo\"","\"should use req.originalUrl if exists\"","\"/bar\"","originalUrl","\"formats\"","\"a function\"","\"should log result of function\"","\"should not log for undefined return\"","Error","\"should not log line\"","\"should not log for null return\"","\"a string\"","\"should accept format as format string of tokens\"","\"should accept text mixed with tokens\"","\"method=GET url=/\"","\"method=:method url=:url\"","\"should accept special characters\"","\"LOCAL\\tobi \"GET /\" 200\"","\"LOCAL\\:remote-user \":method :url\" :status\"","\"Basic dG9iaTpsb2tp\"","\"combined\"","\"should match expectations\"","masked","replace","/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/","\"_timestamp_\"","\" - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"\"","\"Referer\"","\"http://localhost/\"","\"User-Agent\"","\"my-ua\"","\"common\"","\" - tj [_timestamp_] \"GET / HTTP/1.1\" 200 -\"","\"default\"","/\\w+, \\d+ \\w+ \\d+ \\d+:\\d+:\\d+ \\w+/","\"dev\"","\"should not color 1xx\"","36","\"_color_0_GET / _color_0_102_color_0_\"","9","\"_color_0_\"","createColorLineStream","onLine","102","code","\"ECONNRESET\"","\"should color 2xx green\"","37","\"_color_0_GET / _color_32_200_color_0_\"","\"should color 3xx cyan\"","\"_color_0_GET / _color_36_300_color_0_\"","300","\"should color 4xx yelow\"","\"_color_0_GET / _color_33_400_color_0_\"","400","\"should color 5xx red\"","\"_color_0_GET / _color_31_500_color_0_\"","500","\"with \"immediate: true\" option\"","\"should not have color or response values\"","\"_color_0_GET / _color_0_-_color_0_ - ms - -_color_0_\"","\"short\"","/\\d+\\.\\d{3} ms/","\"_timer_\"","\" tj GET / HTTP/1.1 200 - - _timer_\"","\"GET / 200 - - _timer_\"","\"with buffer option\"","\"should flush log periodically\"","log","\"GET /first\nGET /second\n\"","time","1000","1100","buffer","writeLog","\"/first\"","\"/second\"","\"should accept custom interval\"","\"with immediate option\"","\"should not have value for :res\"","\"GET / -\"","\":method :url :res[x-sent]\"","\"should not have value for :response-time\"","\":method :url :response-time\"","\"should not have value for :status\"","\":method :url :status\"","\"should log before response\"","lineLogged","false","\"with skip option\"","\"should be able to skip based on request\"","skip","indexOf","\"skip=true\"","\"/?skip=true\"","\"should be able to skip based on response\"","\"morgan.compile(format)\"","\"should be required\"","compile","\"should reject functions\"","\"should reject numbers\"","42","\"should compile a string into a function\"","fn","\":method\"","\"function\"","count","callback","args","Array","i","arg1","arg2","\"callback called \"","\" times\"","apply","expandColorCharacters","on","\"data\"","createRequestListener","opts","fn1","middle","noopMiddleware","onRequest","onNext","onDone","message","\"X-Sent\"","readFileSync","__dirname","\"fixtures\"","\"server.crt\"","\"ascii\"","key","\"server.key\"","\"request\"","str","/\\x1b\\[(\\d+)m/g","\"_color_$1_\""]},"operators":{"distinct":29,"total":2674,"identifiers":["=",".","var","()","function","if","return",">","{}",":","[]",",","this","delete (prefix)",":?","<","+","-","throw","new","- (prefix)","&&","===",">=","<=","!==","typeof (prefix)","++ (postfix)","||"]}},"paramCount":448,"sloc":{"logical":1850,"physical":1654}},"settings":{"commonjs":false,"esmImportExport":{"halstead":false,"lloc":false},"forin":false,"logicalor":true,"switchcase":true,"templateExpression":{"halstead":true,"lloc":true},"trycatch":false,"newmi":false},"classes":[],"dependencies":[],"errors":[],"lineEnd":1654,"lineStart":1,"maintainability":107.242,"methods":[{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.025,"difficulty":1.714,"effort":130.42,"length":24,"time":7.246,"vocabulary":9,"volume":76.078,"operands":{"distinct":7,"total":12,"identifiers":["describe","\"arguments\"","\"tokens\"","\"formats\"","\"with buffer option\"","\"with immediate option\"","\"with skip option\""]},"operators":{"distinct":2,"total":12,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":12,"physical":1543},"errors":[],"lineEnd":1555,"lineStart":13,"name":"<anon method-1>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":16.667,"halstead":{"bugs":0.013,"difficulty":1.167,"effort":45.5,"length":13,"time":2.528,"vocabulary":8,"volume":39,"operands":{"distinct":6,"total":7,"identifiers":["it","\"should use default format\"","done","describe","\"format\"","\"stream\""]},"operators":{"distinct":2,"total":6,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":6,"physical":181},"errors":[],"lineEnd":194,"lineStart":14,"name":"<anon method-2>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","undefined","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":16},"errors":[],"lineEnd":30,"lineStart":15,"name":"<anon method-3>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.044,"difficulty":4.75,"effort":630.963,"length":34,"time":35.053,"vocabulary":15,"volume":132.834,"operands":{"distinct":10,"total":19,"identifiers":["err","done","assert","res","text","length","0","strictEqual","line","substr"]},"operators":{"distinct":5,"total":15,"identifiers":["if","return","()",">","."]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":21,"lineStart":16,"name":"<anon method-4>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":25,"lineStart":23,"name":"<anon method-5>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":10,"halstead":{"bugs":0.025,"difficulty":1.625,"effort":124.157,"length":23,"time":6.898,"vocabulary":10,"volume":76.404,"operands":{"distinct":8,"total":13,"identifiers":["it","\"should accept format as format name\"","done","\"should accept format as format string\"","\"should accept format as function\"","\"should reject format as bool\"","describe","\"back-compat\""]},"operators":{"distinct":2,"total":10,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":10,"physical":112},"errors":[],"lineEnd":143,"lineStart":32,"name":"<anon method-6>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\"tiny\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":47,"lineStart":33,"name":"<anon method-7>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.017,"difficulty":2.667,"effort":132.877,"length":15,"time":7.382,"vocabulary":10,"volume":49.829,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","/^GET \\/ 200 - - \\d+\\.\\d{3} ms$/","test","line"]},"operators":{"distinct":4,"total":7,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":38,"lineStart":34,"name":"<anon method-8>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":42,"lineStart":40,"name":"<anon method-9>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":method :url\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":63,"lineStart":49,"name":"<anon method-10>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET /\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":54,"lineStart":50,"name":"<anon method-11>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":58,"lineStart":56,"name":"<anon method-12>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.061,"difficulty":4.735,"effort":868.446,"length":40,"time":48.247,"vocabulary":24,"volume":183.399,"operands":{"distinct":17,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","format","tokens","req","request","createServer","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":17,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":19},"errors":[],"lineEnd":83,"lineStart":65,"name":"<anon method-13>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET / 200\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":70,"lineStart":66,"name":"<anon method-14>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":74,"lineStart":72,"name":"<anon method-15>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.02,"difficulty":2.857,"effort":174.127,"length":17,"time":9.674,"vocabulary":12,"volume":60.944,"operands":{"distinct":7,"total":8,"identifiers":["req","method","url","res","statusCode","join","\" \""]},"operators":{"distinct":5,"total":9,"identifiers":["return","()",".","[]",","]}},"paramCount":3,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":78,"lineStart":76,"name":"format","paramNames":["tokens","req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.012,"difficulty":1,"effort":34.869,"length":11,"time":1.937,"vocabulary":9,"volume":34.869,"operands":{"distinct":7,"total":7,"identifiers":["assert","throws","createServer","bind","null","true","/argument format/"]},"operators":{"distinct":2,"total":4,"identifiers":["()","."]}},"paramCount":0,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":87,"lineStart":85,"name":"<anon method-16>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":16.667,"halstead":{"bugs":0.014,"difficulty":1.8,"effort":75.799,"length":15,"time":4.211,"vocabulary":7,"volume":42.11,"operands":{"distinct":5,"total":9,"identifiers":["it","\"should accept options object\"","done","\"should accept format in options for back-compat\"","\"should accept format function in options for back-compat\""]},"operators":{"distinct":2,"total":6,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":6,"physical":54},"errors":[],"lineEnd":142,"lineStart":89,"name":"<anon method-17>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.05,"difficulty":4.5,"effort":672.025,"length":34,"time":37.335,"vocabulary":21,"volume":149.339,"operands":{"distinct":14,"total":18,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":16},"errors":[],"lineEnd":105,"lineStart":90,"name":"<anon method-18>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.044,"difficulty":4.75,"effort":630.963,"length":34,"time":35.053,"vocabulary":15,"volume":132.834,"operands":{"distinct":10,"total":19,"identifiers":["err","done","assert","res","text","length","0","strictEqual","line","substr"]},"operators":{"distinct":5,"total":15,"identifiers":["if","return","()",">","."]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":96,"lineStart":91,"name":"<anon method-19>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":100,"lineStart":98,"name":"<anon method-20>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.056,"difficulty":4.375,"effort":732.252,"length":37,"time":40.681,"vocabulary":23,"volume":167.372,"operands":{"distinct":16,"total":20,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","format","\":method :url\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":17,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":15},"errors":[],"lineEnd":121,"lineStart":107,"name":"<anon method-21>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET /\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":112,"lineStart":108,"name":"<anon method-22>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":116,"lineStart":114,"name":"<anon method-23>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.058,"difficulty":4.9,"effort":852.197,"length":39,"time":47.344,"vocabulary":22,"volume":173.918,"operands":{"distinct":15,"total":21,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","format","request","createServer","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":18,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":13,"physical":19},"errors":[],"lineEnd":141,"lineStart":123,"name":"<anon method-24>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"apple\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":128,"lineStart":124,"name":"<anon method-25>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":132,"lineStart":130,"name":"<anon method-26>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.001,"difficulty":0.5,"effort":1,"length":2,"time":0.056,"vocabulary":2,"volume":2,"operands":{"distinct":1,"total":1,"identifiers":["\"apple\""]},"operators":{"distinct":1,"total":1,"identifiers":["return"]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":136,"lineStart":134,"name":"format","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.016,"difficulty":1.333,"effort":64,"length":16,"time":3.556,"vocabulary":8,"volume":48,"operands":{"distinct":6,"total":8,"identifiers":["beforeEach","afterEach","it","\"should default to process.stdout\"","done","\"should set stream to write logs to\""]},"operators":{"distinct":2,"total":8,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":8,"physical":49},"errors":[],"lineEnd":193,"lineStart":145,"name":"<anon method-27>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.005,"difficulty":2.25,"effort":36.57,"length":7,"time":2.032,"vocabulary":5,"volume":16.253,"operands":{"distinct":2,"total":3,"identifiers":["stdout","process"]},"operators":{"distinct":3,"total":4,"identifiers":["=",".","this"]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":148,"lineStart":146,"name":"<anon method-28>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.014,"difficulty":2.5,"effort":103.783,"length":12,"time":5.766,"vocabulary":11,"volume":41.513,"operands":{"distinct":6,"total":6,"identifiers":["Object","defineProperty","process","\"stdout\"","value","stdout"]},"operators":{"distinct":5,"total":6,"identifiers":["()",".","{}",":","this"]}},"paramCount":0,"sloc":{"logical":2,"physical":5},"errors":[],"lineEnd":154,"lineStart":150,"name":"<anon method-29>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.071,"difficulty":4.375,"effort":936.118,"length":45,"time":52.007,"vocabulary":27,"volume":213.97,"operands":{"distinct":20,"total":25,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","Object","defineProperty","process","\"stdout\"","value","request","createServer","undefined","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":20,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":175,"lineStart":156,"name":"<anon method-30>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.044,"difficulty":4.75,"effort":630.963,"length":34,"time":35.053,"vocabulary":15,"volume":132.834,"operands":{"distinct":10,"total":19,"identifiers":["err","done","assert","res","text","length","0","strictEqual","line","substr"]},"operators":{"distinct":5,"total":15,"identifiers":["if","return","()",">","."]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":162,"lineStart":157,"name":"<anon method-31>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":166,"lineStart":164,"name":"<anon method-32>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","undefined","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":16},"errors":[],"lineEnd":192,"lineStart":177,"name":"<anon method-33>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.044,"difficulty":4.75,"effort":630.963,"length":34,"time":35.053,"vocabulary":15,"volume":132.834,"operands":{"distinct":10,"total":19,"identifiers":["err","done","assert","res","text","length","0","strictEqual","line","substr"]},"operators":{"distinct":5,"total":15,"identifiers":["if","return","()",">","."]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":183,"lineStart":178,"name":"<anon method-34>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":187,"lineStart":185,"name":"<anon method-35>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":5,"halstead":{"bugs":0.049,"difficulty":1.818,"effort":269.123,"length":40,"time":14.951,"vocabulary":13,"volume":148.018,"operands":{"distinct":11,"total":20,"identifiers":["describe","\":date\"","\":http-version\"","\":req\"","\":res\"","\":remote-addr\"","\":remote-user\"","\":response-time\"","\":status\"","\":total-time\"","\":url\""]},"operators":{"distinct":2,"total":20,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":20,"physical":832},"errors":[],"lineEnd":1027,"lineStart":196,"name":"<anon method-36>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":10,"halstead":{"bugs":0.026,"difficulty":2.143,"effort":169.817,"length":25,"time":9.434,"vocabulary":9,"volume":79.248,"operands":{"distinct":7,"total":15,"identifiers":["it","\"should get current date in \"web\" format by default\"","done","\"should get current date in \"clf\" format\"","\"should get current date in \"iso\" format\"","\"should get current date in \"web\" format\"","\"should be blank for unknown format\""]},"operators":{"distinct":2,"total":10,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":10,"physical":81},"errors":[],"lineEnd":277,"lineStart":197,"name":"<anon method-37>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":date\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":212,"lineStart":198,"name":"<anon method-38>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^\\w{3}, \\d{2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} GMT$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":203,"lineStart":199,"name":"<anon method-39>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":207,"lineStart":205,"name":"<anon method-40>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":date[clf]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":228,"lineStart":214,"name":"<anon method-41>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":219,"lineStart":215,"name":"<anon method-42>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":223,"lineStart":221,"name":"<anon method-43>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":date[iso]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":244,"lineStart":230,"name":"<anon method-44>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":235,"lineStart":231,"name":"<anon method-45>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":239,"lineStart":237,"name":"<anon method-46>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":date[web]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":260,"lineStart":246,"name":"<anon method-47>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^\\w{3}, \\d{2} \\w{3} \\d{4} \\d{2}:\\d{2}:\\d{2} GMT$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":251,"lineStart":247,"name":"<anon method-48>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":255,"lineStart":253,"name":"<anon method-49>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":date[bogus]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":276,"lineStart":262,"name":"<anon method-50>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":267,"lineStart":263,"name":"<anon method-51>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":271,"lineStart":269,"name":"<anon method-52>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["it","\"should be 1.0 or 1.1\"","done"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":17},"errors":[],"lineEnd":295,"lineStart":279,"name":"<anon method-53>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":http-version\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":294,"lineStart":280,"name":"<anon method-54>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^1\\.[01]$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":285,"lineStart":281,"name":"<anon method-55>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":289,"lineStart":287,"name":"<anon method-56>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.009,"difficulty":1.5,"effort":38.774,"length":10,"time":2.154,"vocabulary":6,"volume":25.85,"operands":{"distinct":4,"total":6,"identifiers":["it","\"should get request properties\"","done","\"should display all values of array headers\""]},"operators":{"distinct":2,"total":4,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":4,"physical":35},"errors":[],"lineEnd":331,"lineStart":297,"name":"<anon method-57>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.062,"difficulty":4.278,"effort":794.615,"length":40,"time":44.145,"vocabulary":25,"volume":185.754,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":req[x-from-string]\"","get","\"/\"","set","\"x-from-string\"","\"me\"","expect","200"]},"operators":{"distinct":7,"total":18,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":16},"errors":[],"lineEnd":313,"lineStart":298,"name":"<anon method-58>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"me\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":303,"lineStart":299,"name":"<anon method-59>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":307,"lineStart":305,"name":"<anon method-60>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.069,"difficulty":5.447,"effort":1126.06,"length":43,"time":62.559,"vocabulary":28,"volume":206.716,"operands":{"distinct":19,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":req[set-cookie]\"","get","\"/\"","set","\"Set-Cookie\"","\"foo=bar\"","\"fizz=buzz\"","expect","200"]},"operators":{"distinct":9,"total":20,"identifiers":["var","=","()","function",".","{}",":","[]",","]}},"paramCount":1,"sloc":{"logical":12,"physical":16},"errors":[],"lineEnd":330,"lineStart":315,"name":"<anon method-61>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"foo=bar, fizz=buzz\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":320,"lineStart":316,"name":"<anon method-62>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":324,"lineStart":322,"name":"<anon method-63>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.009,"difficulty":1.5,"effort":38.774,"length":10,"time":2.154,"vocabulary":6,"volume":25.85,"operands":{"distinct":4,"total":6,"identifiers":["it","\"should get response properties\"","done","\"should display all values of array headers\""]},"operators":{"distinct":2,"total":4,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":4,"physical":39},"errors":[],"lineEnd":371,"lineStart":333,"name":"<anon method-64>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":res[x-sent]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":348,"lineStart":334,"name":"<anon method-65>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"true\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":339,"lineStart":335,"name":"<anon method-66>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":343,"lineStart":341,"name":"<anon method-67>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.143,"halstead":{"bugs":0.076,"difficulty":4.725,"effort":1078.408,"length":48,"time":59.912,"vocabulary":27,"volume":228.235,"operands":{"distinct":20,"total":27,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":res[x-keys]\"","req","next","request","get","\"/\"","expect","\"X-Keys\"","\"foo, bar\"","200"]},"operators":{"distinct":7,"total":21,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":14,"physical":21},"errors":[],"lineEnd":370,"lineStart":350,"name":"<anon method-68>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"foo, bar\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":355,"lineStart":351,"name":"<anon method-69>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":359,"lineStart":357,"name":"<anon method-70>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.012,"difficulty":2,"effort":73.082,"length":11,"time":4.06,"vocabulary":10,"volume":36.541,"operands":{"distinct":6,"total":6,"identifiers":["res","setHeader","\"X-Keys\"","\"foo\"","\"bar\"","next"]},"operators":{"distinct":4,"total":5,"identifiers":["()",".","[]",","]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":364,"lineStart":361,"name":"<anon method-71>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.143,"halstead":{"bugs":0.04,"difficulty":2.333,"effort":282.52,"length":35,"time":15.696,"vocabulary":11,"volume":121.08,"operands":{"distinct":9,"total":21,"identifiers":["it","\"should get remote address\"","done","\"should use req.ip if there\"","\"should work on https server\"","\"should work when connection: close\"","\"should work when connection: keep-alive\"","\"should work when req.ip is a getter\"","\"should not fail if req.connection missing\""]},"operators":{"distinct":2,"total":14,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":14,"physical":148},"errors":[],"lineEnd":520,"lineStart":373,"name":"<anon method-72>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":remote-addr\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":16},"errors":[],"lineEnd":389,"lineStart":374,"name":"<anon method-73>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.035,"difficulty":3.75,"effort":395.573,"length":27,"time":21.976,"vocabulary":15,"volume":105.486,"operands":{"distinct":10,"total":15,"identifiers":["err","done","assert","ok","res","text","length","0","strictEqual","line"]},"operators":{"distinct":5,"total":12,"identifiers":["if","return","()",".",">"]}},"paramCount":3,"sloc":{"logical":6,"physical":6},"errors":[],"lineEnd":380,"lineStart":375,"name":"<anon method-74>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":384,"lineStart":382,"name":"<anon method-75>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.472,"effort":872.271,"length":42,"time":48.459,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":remote-addr\"","null","req","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":19},"errors":[],"lineEnd":409,"lineStart":391,"name":"<anon method-76>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"10.0.0.1\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":396,"lineStart":392,"name":"<anon method-77>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":400,"lineStart":398,"name":"<anon method-78>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["req","ip","\"10.0.0.1\""]},"operators":{"distinct":2,"total":2,"identifiers":["=","."]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":404,"lineStart":402,"name":"<anon method-79>","paramNames":["req"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.07,"difficulty":4.667,"effort":975.21,"length":45,"time":54.178,"vocabulary":25,"volume":208.974,"operands":{"distinct":18,"total":24,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createSecureServer","\":remote-addr\"","request","get","\"/\"","ca","cert","expect","200"]},"operators":{"distinct":7,"total":21,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":19},"errors":[],"lineEnd":429,"lineStart":411,"name":"<anon method-80>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.035,"difficulty":3.75,"effort":395.573,"length":27,"time":21.976,"vocabulary":15,"volume":105.486,"operands":{"distinct":10,"total":15,"identifiers":["err","done","assert","ok","res","text","length","0","strictEqual","line"]},"operators":{"distinct":5,"total":12,"identifiers":["if","return","()",".",">"]}},"paramCount":3,"sloc":{"logical":6,"physical":6},"errors":[],"lineEnd":417,"lineStart":412,"name":"<anon method-81>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":421,"lineStart":419,"name":"<anon method-82>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.062,"difficulty":4.278,"effort":794.615,"length":40,"time":44.145,"vocabulary":25,"volume":185.754,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":remote-addr\"","get","\"/\"","set","\"Connection\"","\"close\"","expect","200"]},"operators":{"distinct":7,"total":18,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":17},"errors":[],"lineEnd":447,"lineStart":431,"name":"<anon method-83>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.035,"difficulty":3.75,"effort":395.573,"length":27,"time":21.976,"vocabulary":15,"volume":105.486,"operands":{"distinct":10,"total":15,"identifiers":["err","done","assert","ok","res","text","length","0","strictEqual","line"]},"operators":{"distinct":5,"total":12,"identifiers":["if","return","()",".",">"]}},"paramCount":3,"sloc":{"logical":6,"physical":6},"errors":[],"lineEnd":437,"lineStart":432,"name":"<anon method-84>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":441,"lineStart":439,"name":"<anon method-85>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.667,"halstead":{"bugs":0.083,"difficulty":4.455,"effort":1103.645,"length":51,"time":61.314,"vocabulary":29,"volume":247.757,"operands":{"distinct":22,"total":28,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":remote-addr\"","req","next","request","listen","get","\"/\"","set","\"Connection\"","\"keep-alive\"","expect","200"]},"operators":{"distinct":7,"total":23,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":15,"physical":24},"errors":[],"lineEnd":472,"lineStart":449,"name":"<anon method-86>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.055,"difficulty":3.5,"effort":574.816,"length":38,"time":31.934,"vocabulary":20,"volume":164.233,"operands":{"distinct":15,"total":21,"identifiers":["err","done","assert","ok","res","text","length","0","strictEqual","line","req","connection","destroy","server","close"]},"operators":{"distinct":5,"total":17,"identifiers":["if","return","()",".",">"]}},"paramCount":3,"sloc":{"logical":7,"physical":8},"errors":[],"lineEnd":457,"lineStart":450,"name":"<anon method-87>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":461,"lineStart":459,"name":"<anon method-88>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.005,"difficulty":1.5,"effort":23.265,"length":6,"time":1.292,"vocabulary":6,"volume":15.51,"operands":{"distinct":3,"total":3,"identifiers":["req","_remoteAddress","next"]},"operators":{"distinct":3,"total":3,"identifiers":["delete (prefix)",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":466,"lineStart":463,"name":"<anon method-89>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.143,"halstead":{"bugs":0.075,"difficulty":4.333,"effort":979.098,"length":47,"time":54.394,"vocabulary":28,"volume":225.946,"operands":{"distinct":21,"total":26,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":remote-addr\"","null","req","request","get","\"/\"","set","\"Connection\"","\"close\"","expect","200"]},"operators":{"distinct":7,"total":21,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":14,"physical":22},"errors":[],"lineEnd":495,"lineStart":474,"name":"<anon method-90>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"10.0.0.1\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":479,"lineStart":475,"name":"<anon method-91>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":483,"lineStart":481,"name":"<anon method-92>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.011,"difficulty":2.5,"effort":83.048,"length":10,"time":4.614,"vocabulary":10,"volume":33.219,"operands":{"distinct":5,"total":5,"identifiers":["Object","defineProperty","req","\"ip\"","get"]},"operators":{"distinct":5,"total":5,"identifiers":["()",".","{}",":","function"]}},"paramCount":1,"sloc":{"logical":3,"physical":5},"errors":[],"lineEnd":489,"lineStart":485,"name":"<anon method-93>","paramNames":["req"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":200,"halstead":{"bugs":0.009,"difficulty":1.5,"effort":40.5,"length":9,"time":2.25,"vocabulary":8,"volume":27,"operands":{"distinct":5,"total":5,"identifiers":["req","connection","remoteAddress","\"10.0.0.1\"","undefined"]},"operators":{"distinct":3,"total":4,"identifiers":["return",":?","."]}},"paramCount":0,"sloc":{"logical":1,"physical":1},"errors":[],"lineEnd":487,"lineStart":487,"name":"<anon method-94>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.667,"halstead":{"bugs":0.081,"difficulty":4.295,"effort":1043.362,"length":50,"time":57.965,"vocabulary":29,"volume":242.899,"operands":{"distinct":22,"total":27,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":remote-addr\"","null","req","request","listen","get","\"/\"","set","\"Connection\"","\"keep-alive\"","expect","200"]},"operators":{"distinct":7,"total":23,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":15,"physical":23},"errors":[],"lineEnd":519,"lineStart":497,"name":"<anon method-95>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.055,"difficulty":3.5,"effort":574.816,"length":38,"time":31.934,"vocabulary":20,"volume":164.233,"operands":{"distinct":15,"total":21,"identifiers":["err","done","assert","ok","res","text","length","0","strictEqual","line","req","connection","destroy","server","close"]},"operators":{"distinct":5,"total":17,"identifiers":["if","return","()",".",">"]}},"paramCount":3,"sloc":{"logical":7,"physical":8},"errors":[],"lineEnd":505,"lineStart":498,"name":"<anon method-96>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":509,"lineStart":507,"name":"<anon method-97>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["req","connection"]},"operators":{"distinct":2,"total":2,"identifiers":["delete (prefix)","."]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":513,"lineStart":511,"name":"<anon method-98>","paramNames":["req"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":16.667,"halstead":{"bugs":0.014,"difficulty":1.8,"effort":75.799,"length":15,"time":4.211,"vocabulary":7,"volume":42.11,"operands":{"distinct":5,"total":9,"identifiers":["it","\"should be empty if none present\"","done","\"should support Basic authorization\"","\"should be empty for empty Basic authorization user\""]},"operators":{"distinct":2,"total":6,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":6,"physical":51},"errors":[],"lineEnd":572,"lineStart":522,"name":"<anon method-99>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":remote-user\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":537,"lineStart":523,"name":"<anon method-100>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":528,"lineStart":524,"name":"<anon method-101>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":532,"lineStart":530,"name":"<anon method-102>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.062,"difficulty":4.278,"effort":794.615,"length":40,"time":44.145,"vocabulary":25,"volume":185.754,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":remote-user\"","get","\"/\"","set","\"Authorization\"","\"Basic dGo6\"","expect","200"]},"operators":{"distinct":7,"total":18,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":16},"errors":[],"lineEnd":554,"lineStart":539,"name":"<anon method-103>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"tj\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":544,"lineStart":540,"name":"<anon method-104>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":548,"lineStart":546,"name":"<anon method-105>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.062,"difficulty":4.278,"effort":794.615,"length":40,"time":44.145,"vocabulary":25,"volume":185.754,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":remote-user\"","get","\"/\"","set","\"Authorization\"","\"Basic Og==\"","expect","200"]},"operators":{"distinct":7,"total":18,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":16},"errors":[],"lineEnd":571,"lineStart":556,"name":"<anon method-106>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":561,"lineStart":557,"name":"<anon method-107>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":565,"lineStart":563,"name":"<anon method-108>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.25,"halstead":{"bugs":0.048,"difficulty":2.4,"effort":344.156,"length":40,"time":19.12,"vocabulary":12,"volume":143.399,"operands":{"distinct":10,"total":24,"identifiers":["it","\"should be in milliseconds\"","done","\"should have three digits by default\"","\"should have five digits with argument \"5\"\"","\"should have no digits with argument \"0\"\"","\"should not include response write time\"","\"should be empty without hidden property\"","\"should be empty before response\"","\"should be empty if morgan invoked after response sent\""]},"operators":{"distinct":2,"total":16,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":16,"physical":173},"errors":[],"lineEnd":746,"lineStart":574,"name":"<anon method-109>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.278,"effort":834.346,"length":42,"time":46.353,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","start","Date","now","request","createServer","\":response-time\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":20,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":594,"lineStart":575,"name":"<anon method-110>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":20,"halstead":{"bugs":0.052,"difficulty":7.5,"effort":1170.601,"length":35,"time":65.033,"vocabulary":22,"volume":156.08,"operands":{"distinct":12,"total":18,"identifiers":["err","done","end","Date","now","ms","parseFloat","line","assert","0","start","1"]},"operators":{"distinct":10,"total":17,"identifiers":["if","return","()","var","=",".",">","<","+","-"]}},"paramCount":3,"sloc":{"logical":10,"physical":8},"errors":[],"lineEnd":583,"lineStart":576,"name":"<anon method-111>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":587,"lineStart":585,"name":"<anon method-112>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":response-time\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":610,"lineStart":596,"name":"<anon method-113>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^[0-9]+\\.[0-9]{3}$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":601,"lineStart":597,"name":"<anon method-114>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":605,"lineStart":603,"name":"<anon method-115>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":response-time[5]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":626,"lineStart":612,"name":"<anon method-116>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^[0-9]+\\.[0-9]{5}$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":617,"lineStart":613,"name":"<anon method-117>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":621,"lineStart":619,"name":"<anon method-118>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":response-time[0]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":642,"lineStart":628,"name":"<anon method-119>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^[0-9]+$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":633,"lineStart":629,"name":"<anon method-120>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":637,"lineStart":635,"name":"<anon method-121>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.25,"halstead":{"bugs":0.086,"difficulty":4.455,"effort":1146.925,"length":53,"time":63.718,"vocabulary":29,"volume":257.473,"operands":{"distinct":22,"total":28,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":response-time\"","req","start","Date","now","write","null","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":25,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":16,"physical":31},"errors":[],"lineEnd":674,"lineStart":644,"name":"<anon method-122>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":18.182,"halstead":{"bugs":0.066,"difficulty":8.846,"effort":1760.709,"length":44,"time":97.817,"vocabulary":23,"volume":199.037,"operands":{"distinct":13,"total":23,"identifiers":["err","done","end","Date","now","ms","parseFloat","line","assert","0","start","1","write"]},"operators":{"distinct":10,"total":21,"identifiers":["if","return","()","var","=",".",">","<","+","-"]}},"paramCount":3,"sloc":{"logical":11,"physical":9},"errors":[],"lineEnd":653,"lineStart":645,"name":"<anon method-123>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":657,"lineStart":655,"name":"<anon method-124>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":20,"halstead":{"bugs":0.017,"difficulty":2.286,"effort":118.609,"length":15,"time":6.589,"vocabulary":11,"volume":51.891,"operands":{"distinct":7,"total":8,"identifiers":["res","write","\"hello, \"","Date","now","setTimeout","50"]},"operators":{"distinct":4,"total":7,"identifiers":["()",".","=","function"]}},"paramCount":2,"sloc":{"logical":5,"physical":8},"errors":[],"lineEnd":666,"lineStart":659,"name":"<anon method-125>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["res","end","\"world!\""]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":665,"lineStart":663,"name":"<anon method-126>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.067,"difficulty":4.667,"effort":931.867,"length":43,"time":51.77,"vocabulary":25,"volume":199.686,"operands":{"distinct":18,"total":24,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":response-time\"","req","next","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":695,"lineStart":676,"name":"<anon method-127>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":681,"lineStart":677,"name":"<anon method-128>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":685,"lineStart":683,"name":"<anon method-129>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.005,"difficulty":1.5,"effort":23.265,"length":6,"time":1.292,"vocabulary":6,"volume":15.51,"operands":{"distinct":3,"total":3,"identifiers":["req","_startAt","next"]},"operators":{"distinct":3,"total":3,"identifiers":["delete (prefix)",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":690,"lineStart":687,"name":"<anon method-130>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.472,"effort":872.271,"length":42,"time":48.459,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":response-time\"","immediate","true","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":716,"lineStart":697,"name":"<anon method-131>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":702,"lineStart":698,"name":"<anon method-132>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":706,"lineStart":704,"name":"<anon method-133>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.25,"halstead":{"bugs":0.084,"difficulty":4.455,"effort":1125.285,"length":52,"time":62.516,"vocabulary":29,"volume":252.615,"operands":{"distinct":22,"total":28,"identifiers":["cb","after","3","err","res","line","stream","createLineStream","logger","morgan","\":response-time\"","immediate","true","server","http","createServer","req","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":24,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":16,"physical":28},"errors":[],"lineEnd":745,"lineStart":718,"name":"<anon method-134>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":723,"lineStart":719,"name":"<anon method-135>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":727,"lineStart":725,"name":"<anon method-136>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":33.688,"length":8,"time":1.872,"vocabulary":7,"volume":22.459,"operands":{"distinct":4,"total":4,"identifiers":["setTimeout","10","res","end"]},"operators":{"distinct":3,"total":4,"identifiers":["()","function","."]}},"paramCount":2,"sloc":{"logical":3,"physical":7},"errors":[],"lineEnd":740,"lineStart":734,"name":"<anon method-137>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":0.5,"effort":5.805,"length":5,"time":0.322,"vocabulary":5,"volume":11.61,"operands":{"distinct":4,"total":4,"identifiers":["logger","req","res","cb"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":737,"lineStart":735,"name":"<anon method-138>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":16.667,"halstead":{"bugs":0.014,"difficulty":1.8,"effort":75.799,"length":15,"time":4.211,"vocabulary":7,"volume":42.11,"operands":{"distinct":5,"total":9,"identifiers":["it","\"should get response status\"","done","\"should not exist before response sent\"","\"should not exist for aborted request\""]},"operators":{"distinct":2,"total":6,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":6,"physical":52},"errors":[],"lineEnd":799,"lineStart":748,"name":"<anon method-139>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":status\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":763,"lineStart":749,"name":"<anon method-140>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.022,"difficulty":2.5,"effort":161.323,"length":18,"time":8.962,"vocabulary":12,"volume":64.529,"operands":{"distinct":8,"total":10,"identifiers":["err","done","assert","strictEqual","line","String","res","statusCode"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":754,"lineStart":750,"name":"<anon method-141>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":758,"lineStart":756,"name":"<anon method-142>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.472,"effort":872.271,"length":42,"time":48.459,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":status\"","immediate","true","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":784,"lineStart":765,"name":"<anon method-143>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":770,"lineStart":766,"name":"<anon method-144>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":774,"lineStart":772,"name":"<anon method-145>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.047,"difficulty":4.667,"effort":654.181,"length":33,"time":36.343,"vocabulary":19,"volume":140.182,"operands":{"distinct":12,"total":16,"identifiers":["stream","createLineStream","line","server","createServer","\":status\"","test","request","post","\"/\"","write","\"0\""]},"operators":{"distinct":7,"total":17,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":11,"physical":13},"errors":[],"lineEnd":798,"lineStart":786,"name":"<anon method-146>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.012,"difficulty":1,"effort":34.869,"length":11,"time":1.937,"vocabulary":9,"volume":34.869,"operands":{"distinct":7,"total":7,"identifiers":["assert","strictEqual","line","\"-\"","server","close","done"]},"operators":{"distinct":2,"total":4,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":790,"lineStart":787,"name":"<anon method-147>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["test","abort"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":794,"lineStart":792,"name":"<anon method-148>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.25,"halstead":{"bugs":0.048,"difficulty":2.4,"effort":344.156,"length":40,"time":19.12,"vocabulary":12,"volume":143.399,"operands":{"distinct":10,"total":24,"identifiers":["it","\"should be in milliseconds\"","done","\"should have three digits by default\"","\"should have five digits with argument \"5\"\"","\"should have no digits with argument \"0\"\"","\"should include response write time\"","\"should be empty without hidden property\"","\"should be empty before response\"","\"should be empty if morgan invoked after response sent\""]},"operators":{"distinct":2,"total":16,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":16,"physical":173},"errors":[],"lineEnd":973,"lineStart":801,"name":"<anon method-149>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.278,"effort":834.346,"length":42,"time":46.353,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","start","Date","now","request","createServer","\":total-time\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":20,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":821,"lineStart":802,"name":"<anon method-150>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":20,"halstead":{"bugs":0.052,"difficulty":7.5,"effort":1170.601,"length":35,"time":65.033,"vocabulary":22,"volume":156.08,"operands":{"distinct":12,"total":18,"identifiers":["err","done","end","Date","now","ms","parseFloat","line","assert","0","start","1"]},"operators":{"distinct":10,"total":17,"identifiers":["if","return","()","var","=",".",">","<","+","-"]}},"paramCount":3,"sloc":{"logical":10,"physical":8},"errors":[],"lineEnd":810,"lineStart":803,"name":"<anon method-151>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":814,"lineStart":812,"name":"<anon method-152>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":total-time\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":837,"lineStart":823,"name":"<anon method-153>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^[0-9]+\\.[0-9]{3}$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":828,"lineStart":824,"name":"<anon method-154>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":832,"lineStart":830,"name":"<anon method-155>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":total-time[5]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":853,"lineStart":839,"name":"<anon method-156>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^[0-9]+\\.[0-9]{5}$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":844,"lineStart":840,"name":"<anon method-157>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":848,"lineStart":846,"name":"<anon method-158>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":total-time[0]\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":869,"lineStart":855,"name":"<anon method-159>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.02,"difficulty":2.571,"effort":151.227,"length":17,"time":8.401,"vocabulary":11,"volume":58.81,"operands":{"distinct":7,"total":9,"identifiers":["err","done","assert","ok","/^[0-9]+$/","test","line"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":6,"physical":5},"errors":[],"lineEnd":860,"lineStart":856,"name":"<anon method-160>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":864,"lineStart":862,"name":"<anon method-161>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.25,"halstead":{"bugs":0.086,"difficulty":4.455,"effort":1146.925,"length":53,"time":63.718,"vocabulary":29,"volume":257.473,"operands":{"distinct":22,"total":28,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":total-time\"","req","start","Date","now","write","null","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":25,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":16,"physical":31},"errors":[],"lineEnd":901,"lineStart":871,"name":"<anon method-162>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":18.182,"halstead":{"bugs":0.066,"difficulty":8.846,"effort":1760.709,"length":44,"time":97.817,"vocabulary":23,"volume":199.037,"operands":{"distinct":13,"total":23,"identifiers":["err","done","end","Date","now","ms","parseFloat","line","assert","0","write","start","1"]},"operators":{"distinct":10,"total":21,"identifiers":["if","return","()","var","=",".",">","-","<","+"]}},"paramCount":3,"sloc":{"logical":11,"physical":9},"errors":[],"lineEnd":880,"lineStart":872,"name":"<anon method-163>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":884,"lineStart":882,"name":"<anon method-164>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":20,"halstead":{"bugs":0.017,"difficulty":2.286,"effort":118.609,"length":15,"time":6.589,"vocabulary":11,"volume":51.891,"operands":{"distinct":7,"total":8,"identifiers":["res","write","\"hello, \"","Date","now","setTimeout","50"]},"operators":{"distinct":4,"total":7,"identifiers":["()",".","=","function"]}},"paramCount":2,"sloc":{"logical":5,"physical":8},"errors":[],"lineEnd":893,"lineStart":886,"name":"<anon method-165>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["res","end","\"world!\""]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":892,"lineStart":890,"name":"<anon method-166>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.067,"difficulty":4.667,"effort":931.867,"length":43,"time":51.77,"vocabulary":25,"volume":199.686,"operands":{"distinct":18,"total":24,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":total-time\"","req","next","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":922,"lineStart":903,"name":"<anon method-167>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":908,"lineStart":904,"name":"<anon method-168>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":912,"lineStart":910,"name":"<anon method-169>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.005,"difficulty":1.5,"effort":23.265,"length":6,"time":1.292,"vocabulary":6,"volume":15.51,"operands":{"distinct":3,"total":3,"identifiers":["req","_startAt","next"]},"operators":{"distinct":3,"total":3,"identifiers":["delete (prefix)",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":917,"lineStart":914,"name":"<anon method-170>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.472,"effort":872.271,"length":42,"time":48.459,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":total-time\"","immediate","true","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":943,"lineStart":924,"name":"<anon method-171>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":929,"lineStart":925,"name":"<anon method-172>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":933,"lineStart":931,"name":"<anon method-173>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.25,"halstead":{"bugs":0.084,"difficulty":4.455,"effort":1125.285,"length":52,"time":62.516,"vocabulary":29,"volume":252.615,"operands":{"distinct":22,"total":28,"identifiers":["cb","after","3","err","res","line","stream","createLineStream","logger","morgan","\":total-time\"","immediate","true","server","http","createServer","req","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":24,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":16,"physical":28},"errors":[],"lineEnd":972,"lineStart":945,"name":"<anon method-174>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"-\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":950,"lineStart":946,"name":"<anon method-175>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":954,"lineStart":952,"name":"<anon method-176>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":33.688,"length":8,"time":1.872,"vocabulary":7,"volume":22.459,"operands":{"distinct":4,"total":4,"identifiers":["setTimeout","10","res","end"]},"operators":{"distinct":3,"total":4,"identifiers":["()","function","."]}},"paramCount":2,"sloc":{"logical":3,"physical":7},"errors":[],"lineEnd":967,"lineStart":961,"name":"<anon method-177>","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.004,"difficulty":0.5,"effort":5.805,"length":5,"time":0.322,"vocabulary":5,"volume":11.61,"operands":{"distinct":4,"total":4,"identifiers":["logger","req","res","cb"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":964,"lineStart":962,"name":"<anon method-178>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":16.667,"halstead":{"bugs":0.014,"difficulty":1.8,"effort":75.799,"length":15,"time":4.211,"vocabulary":7,"volume":42.11,"operands":{"distinct":5,"total":9,"identifiers":["it","\"should get request URL\"","done","\"should use req.originalUrl if exists\"","\"should not exist for aborted request\""]},"operators":{"distinct":2,"total":6,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":6,"physical":52},"errors":[],"lineEnd":1026,"lineStart":975,"name":"<anon method-179>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":url\"","get","\"/foo\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":990,"lineStart":976,"name":"<anon method-180>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"/foo\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":981,"lineStart":977,"name":"<anon method-181>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":985,"lineStart":983,"name":"<anon method-182>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.067,"difficulty":4.667,"effort":931.867,"length":43,"time":51.77,"vocabulary":25,"volume":199.686,"operands":{"distinct":18,"total":24,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":url\"","req","next","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":1011,"lineStart":992,"name":"<anon method-183>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"/bar\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":997,"lineStart":993,"name":"<anon method-184>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1001,"lineStart":999,"name":"<anon method-185>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":29.477,"length":7,"time":1.638,"vocabulary":7,"volume":19.651,"operands":{"distinct":4,"total":4,"identifiers":["req","originalUrl","\"/bar\"","next"]},"operators":{"distinct":3,"total":3,"identifiers":["=",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1006,"lineStart":1003,"name":"<anon method-186>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.047,"difficulty":4.667,"effort":654.181,"length":33,"time":36.343,"vocabulary":19,"volume":140.182,"operands":{"distinct":12,"total":16,"identifiers":["stream","createLineStream","line","server","createServer","\":status\"","test","request","post","\"/\"","write","\"0\""]},"operators":{"distinct":7,"total":17,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":11,"physical":13},"errors":[],"lineEnd":1025,"lineStart":1013,"name":"<anon method-187>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.012,"difficulty":1,"effort":34.869,"length":11,"time":1.937,"vocabulary":9,"volume":34.869,"operands":{"distinct":7,"total":7,"identifiers":["assert","strictEqual","line","\"-\"","server","close","done"]},"operators":{"distinct":2,"total":4,"identifiers":["()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1017,"lineStart":1014,"name":"<anon method-188>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["test","abort"]},"operators":{"distinct":2,"total":2,"identifiers":["()","."]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1021,"lineStart":1019,"name":"<anon method-189>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.25,"halstead":{"bugs":0.037,"difficulty":1.778,"effort":196.803,"length":32,"time":10.934,"vocabulary":11,"volume":110.702,"operands":{"distinct":9,"total":16,"identifiers":["describe","\"a function\"","\"a string\"","\"combined\"","\"common\"","\"default\"","\"dev\"","\"short\"","\"tiny\""]},"operators":{"distinct":2,"total":16,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":16,"physical":349},"errors":[],"lineEnd":1377,"lineStart":1029,"name":"<anon method-190>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":16.667,"halstead":{"bugs":0.014,"difficulty":1.8,"effort":75.799,"length":15,"time":4.211,"vocabulary":7,"volume":42.11,"operands":{"distinct":5,"total":9,"identifiers":["it","\"should log result of function\"","done","\"should not log for undefined return\"","\"should not log for null return\""]},"operators":{"distinct":2,"total":6,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":6,"physical":49},"errors":[],"lineEnd":1078,"lineStart":1030,"name":"<anon method-191>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.061,"difficulty":4.735,"effort":868.446,"length":40,"time":48.247,"vocabulary":24,"volume":183.399,"operands":{"distinct":17,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","format","tokens","req","request","createServer","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":17,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":19},"errors":[],"lineEnd":1049,"lineStart":1031,"name":"<anon method-192>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET / 200\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1036,"lineStart":1032,"name":"<anon method-193>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1040,"lineStart":1038,"name":"<anon method-194>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.02,"difficulty":2.857,"effort":174.127,"length":17,"time":9.674,"vocabulary":12,"volume":60.944,"operands":{"distinct":7,"total":8,"identifiers":["req","method","url","res","statusCode","join","\" \""]},"operators":{"distinct":5,"total":9,"identifiers":["return","()",".","[]",","]}},"paramCount":3,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":1044,"lineStart":1042,"name":"format","paramNames":["tokens","req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.042,"difficulty":4.308,"effort":539.909,"length":29,"time":29.995,"vocabulary":20,"volume":125.336,"operands":{"distinct":13,"total":16,"identifiers":["stream","createLineStream","format","tokens","req","res","request","createServer","get","\"/\"","expect","200","done"]},"operators":{"distinct":7,"total":13,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":9,"physical":13},"errors":[],"lineEnd":1063,"lineStart":1051,"name":"<anon method-195>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["Error","\"should not log line\""]},"operators":{"distinct":2,"total":2,"identifiers":["throw","new"]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1054,"lineStart":1052,"name":"<anon method-196>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.001,"difficulty":0.5,"effort":1,"length":2,"time":0.056,"vocabulary":2,"volume":2,"operands":{"distinct":1,"total":1,"identifiers":["undefined"]},"operators":{"distinct":1,"total":1,"identifiers":["return"]}},"paramCount":3,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1058,"lineStart":1056,"name":"format","paramNames":["tokens","req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":11.111,"halstead":{"bugs":0.042,"difficulty":4.308,"effort":539.909,"length":29,"time":29.995,"vocabulary":20,"volume":125.336,"operands":{"distinct":13,"total":16,"identifiers":["stream","createLineStream","format","tokens","req","res","request","createServer","get","\"/\"","expect","200","done"]},"operators":{"distinct":7,"total":13,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":9,"physical":13},"errors":[],"lineEnd":1077,"lineStart":1065,"name":"<anon method-197>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["Error","\"should not log line\""]},"operators":{"distinct":2,"total":2,"identifiers":["throw","new"]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1068,"lineStart":1066,"name":"<anon method-198>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.001,"difficulty":0.5,"effort":1,"length":2,"time":0.056,"vocabulary":2,"volume":2,"operands":{"distinct":1,"total":1,"identifiers":["null"]},"operators":{"distinct":1,"total":1,"identifiers":["return"]}},"paramCount":3,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1072,"lineStart":1070,"name":"format","paramNames":["tokens","req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":16.667,"halstead":{"bugs":0.014,"difficulty":1.8,"effort":75.799,"length":15,"time":4.211,"vocabulary":7,"volume":42.11,"operands":{"distinct":5,"total":9,"identifiers":["it","\"should accept format as format string of tokens\"","done","\"should accept text mixed with tokens\"","\"should accept special characters\""]},"operators":{"distinct":2,"total":6,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":6,"physical":50},"errors":[],"lineEnd":1129,"lineStart":1080,"name":"<anon method-199>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\":method :url\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":1095,"lineStart":1081,"name":"<anon method-200>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET /\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1086,"lineStart":1082,"name":"<anon method-201>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1090,"lineStart":1088,"name":"<anon method-202>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\"method=:method url=:url\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":15},"errors":[],"lineEnd":1111,"lineStart":1097,"name":"<anon method-203>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"method=GET url=/\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1102,"lineStart":1098,"name":"<anon method-204>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1106,"lineStart":1104,"name":"<anon method-205>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.062,"difficulty":4.278,"effort":794.615,"length":40,"time":44.145,"vocabulary":25,"volume":185.754,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\"LOCAL\\:remote-user \":method :url\" :status\"","get","\"/\"","set","\"Authorization\"","\"Basic dG9iaTpsb2tp\"","expect","200"]},"operators":{"distinct":7,"total":18,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":16},"errors":[],"lineEnd":1128,"lineStart":1113,"name":"<anon method-206>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"LOCAL\\tobi \"GET /\" 200\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1118,"lineStart":1114,"name":"<anon method-207>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1122,"lineStart":1120,"name":"<anon method-208>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["it","\"should match expectations\"","done"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":21},"errors":[],"lineEnd":1151,"lineStart":1131,"name":"<anon method-209>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.143,"halstead":{"bugs":0.081,"difficulty":4.455,"effort":1082.005,"length":50,"time":60.111,"vocabulary":29,"volume":242.899,"operands":{"distinct":22,"total":28,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\"combined\"","get","\"/\"","set","\"Authorization\"","\"Basic dGo6\"","\"Referer\"","\"http://localhost/\"","\"User-Agent\"","\"my-ua\"","expect","200"]},"operators":{"distinct":7,"total":22,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":14,"physical":19},"errors":[],"lineEnd":1150,"lineStart":1132,"name":"<anon method-210>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.038,"difficulty":4.375,"effort":501.786,"length":27,"time":27.877,"vocabulary":19,"volume":114.694,"operands":{"distinct":12,"total":15,"identifiers":["err","done","masked","line","replace","/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/","\"_timestamp_\"","assert","strictEqual","res","text","\" - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"\""]},"operators":{"distinct":7,"total":12,"identifiers":["if","return","()","var","=",".","+"]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":1138,"lineStart":1133,"name":"<anon method-211>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1142,"lineStart":1140,"name":"<anon method-212>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["it","\"should match expectations\"","done"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":19},"errors":[],"lineEnd":1171,"lineStart":1153,"name":"<anon method-213>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.062,"difficulty":4.278,"effort":794.615,"length":40,"time":44.145,"vocabulary":25,"volume":185.754,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\"common\"","get","\"/\"","set","\"Authorization\"","\"Basic dGo6\"","expect","200"]},"operators":{"distinct":7,"total":18,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":17},"errors":[],"lineEnd":1170,"lineStart":1154,"name":"<anon method-214>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.038,"difficulty":4.375,"effort":501.786,"length":27,"time":27.877,"vocabulary":19,"volume":114.694,"operands":{"distinct":12,"total":15,"identifiers":["err","done","masked","line","replace","/\\d{2}\\/\\w{3}\\/\\d{4}:\\d{2}:\\d{2}:\\d{2} \\+0000/","\"_timestamp_\"","assert","strictEqual","res","text","\" - tj [_timestamp_] \"GET / HTTP/1.1\" 200 -\""]},"operators":{"distinct":7,"total":12,"identifiers":["if","return","()","var","=",".","+"]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":1160,"lineStart":1155,"name":"<anon method-215>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1164,"lineStart":1162,"name":"<anon method-216>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["it","\"should match expectations\"","done"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":21},"errors":[],"lineEnd":1193,"lineStart":1173,"name":"<anon method-217>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.143,"halstead":{"bugs":0.081,"difficulty":4.455,"effort":1082.005,"length":50,"time":60.111,"vocabulary":29,"volume":242.899,"operands":{"distinct":22,"total":28,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\"default\"","get","\"/\"","set","\"Authorization\"","\"Basic dGo6\"","\"Referer\"","\"http://localhost/\"","\"User-Agent\"","\"my-ua\"","expect","200"]},"operators":{"distinct":7,"total":22,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":14,"physical":19},"errors":[],"lineEnd":1192,"lineStart":1174,"name":"<anon method-218>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.038,"difficulty":4.375,"effort":501.786,"length":27,"time":27.877,"vocabulary":19,"volume":114.694,"operands":{"distinct":12,"total":15,"identifiers":["err","done","masked","line","replace","/\\w+, \\d+ \\w+ \\d+ \\d+:\\d+:\\d+ \\w+/","\"_timestamp_\"","assert","strictEqual","res","text","\" - tj [_timestamp_] \"GET / HTTP/1.1\" 200 - \"http://localhost/\" \"my-ua\"\""]},"operators":{"distinct":7,"total":12,"identifiers":["if","return","()","var","=",".","+"]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":1180,"lineStart":1175,"name":"<anon method-219>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1184,"lineStart":1182,"name":"<anon method-220>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.033,"difficulty":1.889,"effort":189.5,"length":29,"time":10.528,"vocabulary":11,"volume":100.324,"operands":{"distinct":9,"total":17,"identifiers":["it","\"should not color 1xx\"","done","\"should color 2xx green\"","\"should color 3xx cyan\"","\"should color 4xx yelow\"","\"should color 5xx red\"","describe","\"with \"immediate: true\" option\""]},"operators":{"distinct":2,"total":12,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":12,"physical":143},"errors":[],"lineEnd":1337,"lineStart":1195,"name":"<anon method-221>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.143,"halstead":{"bugs":0.072,"difficulty":4.789,"effort":1035.581,"length":46,"time":57.532,"vocabulary":26,"volume":216.22,"operands":{"distinct":19,"total":26,"identifiers":["cb","after","2","err","res","line","stream","createColorLineStream","onLine","server","createServer","\"dev\"","req","next","request","get","\"/\"","expect","102"]},"operators":{"distinct":7,"total":20,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":14,"physical":30},"errors":[],"lineEnd":1225,"lineStart":1196,"name":"<anon method-222>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":25,"halstead":{"bugs":0.04,"difficulty":3.864,"effort":463.636,"length":30,"time":25.758,"vocabulary":16,"volume":120,"operands":{"distinct":11,"total":17,"identifiers":["err","done","assert","strictEqual","line","substr","0","36","\"_color_0_GET / _color_0_102_color_0_\"","9","\"_color_0_\""]},"operators":{"distinct":5,"total":13,"identifiers":["if","return","()",".","- (prefix)"]}},"paramCount":3,"sloc":{"logical":8,"physical":6},"errors":[],"lineEnd":1202,"lineStart":1197,"name":"<anon method-223>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1206,"lineStart":1204,"name":"onLine","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":29.477,"length":7,"time":1.638,"vocabulary":7,"volume":19.651,"operands":{"distinct":4,"total":4,"identifiers":["res","statusCode","102","next"]},"operators":{"distinct":3,"total":3,"identifiers":["=",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1211,"lineStart":1208,"name":"<anon method-224>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":3,"cyclomaticDensity":100,"halstead":{"bugs":0.018,"difficulty":4.5,"effort":241.985,"length":15,"time":13.444,"vocabulary":12,"volume":53.774,"operands":{"distinct":6,"total":9,"identifiers":["err","code","\"ECONNRESET\"","null","cb","res"]},"operators":{"distinct":6,"total":6,"identifiers":["if","&&","===",".","=","()"]}},"paramCount":2,"sloc":{"logical":3,"physical":10},"errors":[],"lineEnd":1224,"lineStart":1215,"name":"<anon method-225>","paramNames":["err","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.069,"difficulty":4.605,"effort":952.458,"length":44,"time":52.914,"vocabulary":26,"volume":206.819,"operands":{"distinct":19,"total":25,"identifiers":["cb","after","2","err","res","line","stream","createColorLineStream","onLine","server","createServer","\"dev\"","req","next","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":21},"errors":[],"lineEnd":1247,"lineStart":1227,"name":"<anon method-226>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":25,"halstead":{"bugs":0.04,"difficulty":3.864,"effort":463.636,"length":30,"time":25.758,"vocabulary":16,"volume":120,"operands":{"distinct":11,"total":17,"identifiers":["err","done","assert","strictEqual","line","substr","0","37","\"_color_0_GET / _color_32_200_color_0_\"","9","\"_color_0_\""]},"operators":{"distinct":5,"total":13,"identifiers":["if","return","()",".","- (prefix)"]}},"paramCount":3,"sloc":{"logical":8,"physical":6},"errors":[],"lineEnd":1233,"lineStart":1228,"name":"<anon method-227>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1237,"lineStart":1235,"name":"onLine","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":29.477,"length":7,"time":1.638,"vocabulary":7,"volume":19.651,"operands":{"distinct":4,"total":4,"identifiers":["res","statusCode","200","next"]},"operators":{"distinct":3,"total":3,"identifiers":["=",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1242,"lineStart":1239,"name":"<anon method-228>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.069,"difficulty":4.605,"effort":952.458,"length":44,"time":52.914,"vocabulary":26,"volume":206.819,"operands":{"distinct":19,"total":25,"identifiers":["cb","after","2","err","res","line","stream","createColorLineStream","onLine","server","createServer","\"dev\"","req","next","request","get","\"/\"","expect","300"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":21},"errors":[],"lineEnd":1269,"lineStart":1249,"name":"<anon method-229>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":25,"halstead":{"bugs":0.04,"difficulty":3.864,"effort":463.636,"length":30,"time":25.758,"vocabulary":16,"volume":120,"operands":{"distinct":11,"total":17,"identifiers":["err","done","assert","strictEqual","line","substr","0","37","\"_color_0_GET / _color_36_300_color_0_\"","9","\"_color_0_\""]},"operators":{"distinct":5,"total":13,"identifiers":["if","return","()",".","- (prefix)"]}},"paramCount":3,"sloc":{"logical":8,"physical":6},"errors":[],"lineEnd":1255,"lineStart":1250,"name":"<anon method-230>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1259,"lineStart":1257,"name":"onLine","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":29.477,"length":7,"time":1.638,"vocabulary":7,"volume":19.651,"operands":{"distinct":4,"total":4,"identifiers":["res","statusCode","300","next"]},"operators":{"distinct":3,"total":3,"identifiers":["=",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1264,"lineStart":1261,"name":"<anon method-231>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.069,"difficulty":4.605,"effort":952.458,"length":44,"time":52.914,"vocabulary":26,"volume":206.819,"operands":{"distinct":19,"total":25,"identifiers":["cb","after","2","err","res","line","stream","createColorLineStream","onLine","server","createServer","\"dev\"","req","next","request","get","\"/\"","expect","400"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":21},"errors":[],"lineEnd":1291,"lineStart":1271,"name":"<anon method-232>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":25,"halstead":{"bugs":0.04,"difficulty":3.864,"effort":463.636,"length":30,"time":25.758,"vocabulary":16,"volume":120,"operands":{"distinct":11,"total":17,"identifiers":["err","done","assert","strictEqual","line","substr","0","37","\"_color_0_GET / _color_33_400_color_0_\"","9","\"_color_0_\""]},"operators":{"distinct":5,"total":13,"identifiers":["if","return","()",".","- (prefix)"]}},"paramCount":3,"sloc":{"logical":8,"physical":6},"errors":[],"lineEnd":1277,"lineStart":1272,"name":"<anon method-233>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1281,"lineStart":1279,"name":"onLine","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":29.477,"length":7,"time":1.638,"vocabulary":7,"volume":19.651,"operands":{"distinct":4,"total":4,"identifiers":["res","statusCode","400","next"]},"operators":{"distinct":3,"total":3,"identifiers":["=",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1286,"lineStart":1283,"name":"<anon method-234>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.069,"difficulty":4.605,"effort":952.458,"length":44,"time":52.914,"vocabulary":26,"volume":206.819,"operands":{"distinct":19,"total":25,"identifiers":["cb","after","2","err","res","line","stream","createColorLineStream","onLine","server","createServer","\"dev\"","req","next","request","get","\"/\"","expect","500"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":21},"errors":[],"lineEnd":1313,"lineStart":1293,"name":"<anon method-235>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":25,"halstead":{"bugs":0.04,"difficulty":3.864,"effort":463.636,"length":30,"time":25.758,"vocabulary":16,"volume":120,"operands":{"distinct":11,"total":17,"identifiers":["err","done","assert","strictEqual","line","substr","0","37","\"_color_0_GET / _color_31_500_color_0_\"","9","\"_color_0_\""]},"operators":{"distinct":5,"total":13,"identifiers":["if","return","()",".","- (prefix)"]}},"paramCount":3,"sloc":{"logical":8,"physical":6},"errors":[],"lineEnd":1299,"lineStart":1294,"name":"<anon method-236>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1303,"lineStart":1301,"name":"onLine","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":29.477,"length":7,"time":1.638,"vocabulary":7,"volume":19.651,"operands":{"distinct":4,"total":4,"identifiers":["res","statusCode","500","next"]},"operators":{"distinct":3,"total":3,"identifiers":["=",".","()"]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1308,"lineStart":1305,"name":"<anon method-237>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["it","\"should not have color or response values\"","done"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":22},"errors":[],"lineEnd":1336,"lineStart":1315,"name":"<anon method-238>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.067,"difficulty":4.421,"effort":893.578,"length":43,"time":49.643,"vocabulary":26,"volume":202.119,"operands":{"distinct":19,"total":24,"identifiers":["cb","after","2","err","res","line","stream","createColorLineStream","onLine","server","createServer","\"dev\"","immediate","true","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":1335,"lineStart":1316,"name":"<anon method-239>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"_color_0_GET / _color_0_-_color_0_ - ms - -_color_0_\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1321,"lineStart":1317,"name":"<anon method-240>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1325,"lineStart":1323,"name":"onLine","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["it","\"should match expectations\"","done"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":19},"errors":[],"lineEnd":1357,"lineStart":1339,"name":"<anon method-241>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.062,"difficulty":4.278,"effort":794.615,"length":40,"time":44.145,"vocabulary":25,"volume":185.754,"operands":{"distinct":18,"total":22,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\"short\"","get","\"/\"","set","\"Authorization\"","\"Basic dGo6\"","expect","200"]},"operators":{"distinct":7,"total":18,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":17},"errors":[],"lineEnd":1356,"lineStart":1340,"name":"<anon method-242>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.038,"difficulty":4.375,"effort":501.786,"length":27,"time":27.877,"vocabulary":19,"volume":114.694,"operands":{"distinct":12,"total":15,"identifiers":["err","done","masked","line","replace","/\\d+\\.\\d{3} ms/","\"_timer_\"","assert","strictEqual","res","text","\" tj GET / HTTP/1.1 200 - - _timer_\""]},"operators":{"distinct":7,"total":12,"identifiers":["if","return","()","var","=",".","+"]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":1346,"lineStart":1341,"name":"<anon method-243>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1350,"lineStart":1348,"name":"<anon method-244>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.004,"difficulty":1,"effort":11.61,"length":5,"time":0.645,"vocabulary":5,"volume":11.61,"operands":{"distinct":3,"total":3,"identifiers":["it","\"should match expectations\"","done"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":18},"errors":[],"lineEnd":1376,"lineStart":1359,"name":"<anon method-245>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.052,"difficulty":4.433,"effort":691.955,"length":35,"time":38.442,"vocabulary":22,"volume":156.08,"operands":{"distinct":15,"total":19,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","request","createServer","\"tiny\"","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":16,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":16},"errors":[],"lineEnd":1375,"lineStart":1360,"name":"<anon method-246>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":28.571,"halstead":{"bugs":0.031,"difficulty":3.9,"effort":358.8,"length":23,"time":19.933,"vocabulary":16,"volume":92,"operands":{"distinct":10,"total":13,"identifiers":["err","done","masked","line","replace","/\\d+\\.\\d{3} ms/","\"_timer_\"","assert","strictEqual","\"GET / 200 - - _timer_\""]},"operators":{"distinct":6,"total":10,"identifiers":["if","return","()","var","=","."]}},"paramCount":3,"sloc":{"logical":7,"physical":6},"errors":[],"lineEnd":1366,"lineStart":1361,"name":"<anon method-247>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1370,"lineStart":1368,"name":"<anon method-248>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.009,"difficulty":1.5,"effort":38.774,"length":10,"time":2.154,"vocabulary":6,"volume":25.85,"operands":{"distinct":4,"total":6,"identifiers":["it","\"should flush log periodically\"","done","\"should accept custom interval\""]},"operators":{"distinct":2,"total":4,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":4,"physical":57},"errors":[],"lineEnd":1435,"lineStart":1379,"name":"<anon method-249>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.667,"halstead":{"bugs":0.079,"difficulty":4.136,"effort":984.624,"length":49,"time":54.701,"vocabulary":29,"volume":238.041,"operands":{"distinct":22,"total":26,"identifiers":["cb","after","2","err","res","log","server","createServer","\":method :url\"","buffer","true","stream","write","writeLog","time","Date","now","request","get","\"/first\"","expect","200"]},"operators":{"distinct":7,"total":23,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":15,"physical":27},"errors":[],"lineEnd":1406,"lineStart":1380,"name":"<anon method-250>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":22.222,"halstead":{"bugs":0.054,"difficulty":5.833,"effort":941.624,"length":38,"time":52.312,"vocabulary":19,"volume":161.421,"operands":{"distinct":12,"total":20,"identifiers":["err","done","assert","strictEqual","log","\"GET /first\nGET /second\n\"","ok","Date","now","time","1000","1100"]},"operators":{"distinct":7,"total":18,"identifiers":["if","return","()",".",">=","-","<="]}},"paramCount":3,"sloc":{"logical":9,"physical":7},"errors":[],"lineEnd":1387,"lineStart":1381,"name":"<anon method-251>","paramNames":["err","res","log"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","log"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1396,"lineStart":1394,"name":"writeLog","paramNames":["log"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.022,"difficulty":2.5,"effort":161.323,"length":18,"time":8.962,"vocabulary":12,"volume":64.529,"operands":{"distinct":8,"total":10,"identifiers":["err","cb","request","server","get","\"/second\"","expect","200"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":1,"sloc":{"logical":6,"physical":6},"errors":[],"lineEnd":1405,"lineStart":1400,"name":"<anon method-252>","paramNames":["err"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.667,"halstead":{"bugs":0.079,"difficulty":4.333,"effort":1020.762,"length":49,"time":56.709,"vocabulary":28,"volume":235.56,"operands":{"distinct":21,"total":26,"identifiers":["cb","after","2","err","res","log","server","createServer","\":method :url\"","buffer","200","stream","write","writeLog","time","Date","now","request","get","\"/first\"","expect"]},"operators":{"distinct":7,"total":23,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":15,"physical":27},"errors":[],"lineEnd":1434,"lineStart":1408,"name":"<anon method-253>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":22.222,"halstead":{"bugs":0.054,"difficulty":5.833,"effort":941.624,"length":38,"time":52.312,"vocabulary":19,"volume":161.421,"operands":{"distinct":12,"total":20,"identifiers":["err","done","assert","strictEqual","log","\"GET /first\nGET /second\n\"","ok","Date","now","time","200","300"]},"operators":{"distinct":7,"total":18,"identifiers":["if","return","()",".",">=","-","<="]}},"paramCount":3,"sloc":{"logical":9,"physical":7},"errors":[],"lineEnd":1415,"lineStart":1409,"name":"<anon method-254>","paramNames":["err","res","log"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","log"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1424,"lineStart":1422,"name":"writeLog","paramNames":["log"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":33.333,"halstead":{"bugs":0.022,"difficulty":2.5,"effort":161.323,"length":18,"time":8.962,"vocabulary":12,"volume":64.529,"operands":{"distinct":8,"total":10,"identifiers":["err","cb","request","server","get","\"/second\"","expect","200"]},"operators":{"distinct":4,"total":8,"identifiers":["if","return","()","."]}},"paramCount":1,"sloc":{"logical":6,"physical":6},"errors":[],"lineEnd":1433,"lineStart":1428,"name":"<anon method-255>","paramNames":["err"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.02,"difficulty":2,"effort":120,"length":20,"time":6.667,"vocabulary":8,"volume":60,"operands":{"distinct":6,"total":12,"identifiers":["it","\"should not have value for :res\"","done","\"should not have value for :response-time\"","\"should not have value for :status\"","\"should log before response\""]},"operators":{"distinct":2,"total":8,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":8,"physical":87},"errors":[],"lineEnd":1523,"lineStart":1437,"name":"<anon method-256>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.472,"effort":872.271,"length":42,"time":48.459,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":method :url :res[x-sent]\"","immediate","true","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":1457,"lineStart":1438,"name":"<anon method-257>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET / -\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1443,"lineStart":1439,"name":"<anon method-258>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1447,"lineStart":1445,"name":"<anon method-259>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.472,"effort":872.271,"length":42,"time":48.459,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":method :url :response-time\"","immediate","true","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":1478,"lineStart":1459,"name":"<anon method-260>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET / -\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1464,"lineStart":1460,"name":"<anon method-261>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1468,"lineStart":1466,"name":"<anon method-262>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":7.692,"halstead":{"bugs":0.065,"difficulty":4.472,"effort":872.271,"length":42,"time":48.459,"vocabulary":25,"volume":195.042,"operands":{"distinct":18,"total":23,"identifiers":["cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":method :url :status\"","immediate","true","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":13,"physical":20},"errors":[],"lineEnd":1499,"lineStart":1480,"name":"<anon method-263>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET / -\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1485,"lineStart":1481,"name":"<anon method-264>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":0.667,"effort":6.667,"length":5,"time":0.37,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":4,"identifiers":["cb","null","line"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1489,"lineStart":1487,"name":"<anon method-265>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":6.667,"halstead":{"bugs":0.081,"difficulty":4.455,"effort":1082.005,"length":50,"time":60.111,"vocabulary":29,"volume":242.899,"operands":{"distinct":22,"total":28,"identifiers":["lineLogged","false","cb","after","2","err","res","line","stream","createLineStream","server","createServer","\":method :url :res[x-sent]\"","immediate","true","req","next","request","get","\"/\"","expect","200"]},"operators":{"distinct":7,"total":22,"identifiers":["var","=","()","function","{}",":","."]}},"paramCount":1,"sloc":{"logical":15,"physical":22},"errors":[],"lineEnd":1522,"lineStart":1501,"name":"<anon method-266>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.016,"difficulty":2.667,"effort":124.019,"length":14,"time":6.89,"vocabulary":10,"volume":46.507,"operands":{"distinct":6,"total":8,"identifiers":["err","done","assert","strictEqual","line","\"GET / -\""]},"operators":{"distinct":4,"total":6,"identifiers":["if","return","()","."]}},"paramCount":3,"sloc":{"logical":5,"physical":5},"errors":[],"lineEnd":1507,"lineStart":1503,"name":"<anon method-267>","paramNames":["err","res","line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":1.2,"effort":26.951,"length":8,"time":1.497,"vocabulary":7,"volume":22.459,"operands":{"distinct":5,"total":6,"identifiers":["lineLogged","true","cb","null","line"]},"operators":{"distinct":2,"total":2,"identifiers":["=","()"]}},"paramCount":1,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1512,"lineStart":1509,"name":"<anon method-268>","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.006,"difficulty":1,"effort":18.095,"length":7,"time":1.005,"vocabulary":6,"volume":18.095,"operands":{"distinct":4,"total":4,"identifiers":["assert","ok","lineLogged","next"]},"operators":{"distinct":2,"total":3,"identifiers":["()","."]}},"paramCount":3,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1517,"lineStart":1514,"name":"<anon method-269>","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.009,"difficulty":1.5,"effort":38.774,"length":10,"time":2.154,"vocabulary":6,"volume":25.85,"operands":{"distinct":4,"total":6,"identifiers":["it","\"should be able to skip based on request\"","done","\"should be able to skip based on response\""]},"operators":{"distinct":2,"total":4,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":4,"physical":30},"errors":[],"lineEnd":1554,"lineStart":1525,"name":"<anon method-270>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.056,"difficulty":4.375,"effort":732.252,"length":37,"time":40.681,"vocabulary":23,"volume":167.372,"operands":{"distinct":16,"total":20,"identifiers":["stream","createLineStream","skip","req","request","createServer","format","\"default\"","get","\"/?skip=true\"","set","\"Connection\"","\"close\"","expect","200","done"]},"operators":{"distinct":7,"total":17,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":12,"physical":14},"errors":[],"lineEnd":1539,"lineStart":1526,"name":"<anon method-271>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["Error","\"should not log line\""]},"operators":{"distinct":2,"total":2,"identifiers":["throw","new"]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1529,"lineStart":1527,"name":"<anon method-272>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.012,"difficulty":2.5,"effort":91.353,"length":11,"time":5.075,"vocabulary":10,"volume":36.541,"operands":{"distinct":5,"total":5,"identifiers":["req","url","indexOf","\"skip=true\"","1"]},"operators":{"distinct":5,"total":6,"identifiers":["return","!==","()",".","- (prefix)"]}},"paramCount":1,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":1533,"lineStart":1531,"name":"skip","paramNames":["req"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":9.091,"halstead":{"bugs":0.048,"difficulty":4.5,"effort":652.259,"length":33,"time":36.237,"vocabulary":21,"volume":144.946,"operands":{"distinct":14,"total":18,"identifiers":["stream","createLineStream","skip","req","res","request","createServer","format","\"default\"","get","\"/\"","expect","200","done"]},"operators":{"distinct":7,"total":15,"identifiers":["var","=","()","function",".","{}",":"]}},"paramCount":1,"sloc":{"logical":11,"physical":13},"errors":[],"lineEnd":1553,"lineStart":1541,"name":"<anon method-273>","paramNames":["done"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["Error","\"should not log line\""]},"operators":{"distinct":2,"total":2,"identifiers":["throw","new"]}},"paramCount":0,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1544,"lineStart":1542,"name":"<anon method-274>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.005,"difficulty":1.5,"effort":23.265,"length":6,"time":1.292,"vocabulary":6,"volume":15.51,"operands":{"distinct":3,"total":3,"identifiers":["res","statusCode","200"]},"operators":{"distinct":3,"total":3,"identifiers":["return","===","."]}},"paramCount":2,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1548,"lineStart":1546,"name":"skip","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["describe","\"arguments\""]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":23},"errors":[],"lineEnd":1579,"lineStart":1557,"name":"<anon method-275>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.003,"difficulty":1,"effort":8,"length":4,"time":0.444,"vocabulary":4,"volume":8,"operands":{"distinct":2,"total":2,"identifiers":["describe","\"format\""]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":2,"physical":21},"errors":[],"lineEnd":1578,"lineStart":1558,"name":"<anon method-276>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":12.5,"halstead":{"bugs":0.015,"difficulty":1.6,"effort":71.868,"length":16,"time":3.993,"vocabulary":7,"volume":44.918,"operands":{"distinct":5,"total":8,"identifiers":["it","\"should be required\"","\"should reject functions\"","\"should reject numbers\"","\"should compile a string into a function\""]},"operators":{"distinct":2,"total":8,"identifiers":["()","function"]}},"paramCount":0,"sloc":{"logical":8,"physical":19},"errors":[],"lineEnd":1577,"lineStart":1559,"name":"<anon method-277>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.012,"difficulty":1.167,"effort":42,"length":12,"time":2.333,"vocabulary":8,"volume":36,"operands":{"distinct":6,"total":7,"identifiers":["assert","throws","morgan","compile","bind","/argument format/"]},"operators":{"distinct":2,"total":5,"identifiers":["()","."]}},"paramCount":0,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":1562,"lineStart":1560,"name":"<anon method-278>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.014,"difficulty":1.75,"effort":72.116,"length":13,"time":4.006,"vocabulary":9,"volume":41.209,"operands":{"distinct":6,"total":7,"identifiers":["assert","throws","morgan","compile","bind","/argument format/"]},"operators":{"distinct":3,"total":6,"identifiers":["()",".","function"]}},"paramCount":0,"sloc":{"logical":3,"physical":3},"errors":[],"lineEnd":1566,"lineStart":1564,"name":"<anon method-279>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":0,"halstead":{"bugs":0,"difficulty":0,"effort":0,"length":0,"time":0,"vocabulary":0,"volume":0,"operands":{"distinct":0,"total":0,"identifiers":[]},"operators":{"distinct":0,"total":0,"identifiers":[]}},"paramCount":0,"sloc":{"logical":0,"physical":1},"errors":[],"lineEnd":1565,"lineStart":1565,"name":"<anon method-280>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.014,"difficulty":1.143,"effort":47.096,"length":13,"time":2.616,"vocabulary":9,"volume":41.209,"operands":{"distinct":7,"total":8,"identifiers":["assert","throws","morgan","compile","bind","42","/argument format/"]},"operators":{"distinct":2,"total":5,"identifiers":["()","."]}},"paramCount":0,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":1570,"lineStart":1568,"name":"<anon method-281>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.033,"difficulty":4.333,"effort":423.246,"length":25,"time":23.514,"vocabulary":15,"volume":97.672,"operands":{"distinct":9,"total":13,"identifiers":["fn","morgan","compile","\":method\"","assert","ok","\"function\"","length","3"]},"operators":{"distinct":6,"total":12,"identifiers":["var","=","()",".","===","typeof (prefix)"]}},"paramCount":0,"sloc":{"logical":4,"physical":5},"errors":[],"lineEnd":1576,"lineStart":1572,"name":"<anon method-282>","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.019,"difficulty":2.5,"effort":138.766,"length":15,"time":7.709,"vocabulary":13,"volume":55.507,"operands":{"distinct":8,"total":8,"identifiers":["args","Array","3","i","0","err","arg1","arg2"]},"operators":{"distinct":5,"total":7,"identifiers":["var","=","new","return","function"]}},"paramCount":2,"sloc":{"logical":4,"physical":16},"errors":[],"lineEnd":1596,"lineStart":1581,"name":"after","paramNames":["count","callback"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":5,"cyclomaticDensity":83.333,"halstead":{"bugs":0.078,"difficulty":8.75,"effort":2056.442,"length":50,"time":114.247,"vocabulary":26,"volume":235.022,"operands":{"distinct":16,"total":28,"identifiers":["assert","ok","i","count","\"callback called \"","\" times\"","args","0","err","1","arg1","2","arg2","callback","apply","null"]},"operators":{"distinct":10,"total":22,"identifiers":["()",".","<","++ (postfix)","+","=","[]","||","if","==="]}},"paramCount":3,"sloc":{"logical":6,"physical":11},"errors":[],"lineEnd":1595,"lineStart":1585,"name":"<anon method-283>","paramNames":["err","arg1","arg2"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.005,"difficulty":1.5,"effort":23.265,"length":6,"time":1.292,"vocabulary":6,"volume":15.51,"operands":{"distinct":3,"total":3,"identifiers":["createLineStream","onLine","line"]},"operators":{"distinct":3,"total":3,"identifiers":["return","()","function"]}},"paramCount":1,"sloc":{"logical":3,"physical":5},"errors":[],"lineEnd":1602,"lineStart":1598,"name":"createColorLineStream","paramNames":["callback"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.003,"difficulty":0.5,"effort":5,"length":5,"time":0.278,"vocabulary":4,"volume":10,"operands":{"distinct":3,"total":3,"identifiers":["callback","expandColorCharacters","line"]},"operators":{"distinct":1,"total":2,"identifiers":["()"]}},"paramCount":1,"sloc":{"logical":2,"physical":3},"errors":[],"lineEnd":1601,"lineStart":1599,"name":"onLine","paramNames":["line"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":33.333,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":33.688,"length":8,"time":1.872,"vocabulary":7,"volume":22.459,"operands":{"distinct":4,"total":4,"identifiers":["split","on","\"data\"","callback"]},"operators":{"distinct":3,"total":4,"identifiers":["return","()","."]}},"paramCount":1,"sloc":{"logical":3,"physical":3},"errors":[],"lineEnd":1606,"lineStart":1604,"name":"createLineStream","paramNames":["callback"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":40,"halstead":{"bugs":0.024,"difficulty":3,"effort":216,"length":18,"time":12,"vocabulary":16,"volume":72,"operands":{"distinct":10,"total":10,"identifiers":["logger","morgan","format","opts","middle","fn","noopMiddleware","onRequest","req","res"]},"operators":{"distinct":6,"total":8,"identifiers":["var","=","()","||","return","function"]}},"paramCount":4,"sloc":{"logical":5,"physical":24},"errors":[],"lineEnd":1631,"lineStart":1608,"name":"createRequestListener","paramNames":["format","opts","fn","fn1"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":2,"cyclomaticDensity":50,"halstead":{"bugs":0.014,"difficulty":2.25,"effort":92.72,"length":13,"time":5.151,"vocabulary":9,"volume":41.209,"operands":{"distinct":6,"total":9,"identifiers":["fn1","req","res","logger","onNext","err"]},"operators":{"distinct":3,"total":4,"identifiers":["if","()","function"]}},"paramCount":2,"sloc":{"logical":4,"physical":19},"errors":[],"lineEnd":1630,"lineStart":1612,"name":"onRequest","paramNames":["req","res"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.005,"difficulty":1,"effort":15.51,"length":6,"time":0.862,"vocabulary":6,"volume":15.51,"operands":{"distinct":4,"total":4,"identifiers":["middle","req","res","onDone"]},"operators":{"distinct":2,"total":2,"identifiers":["()","function"]}},"paramCount":1,"sloc":{"logical":2,"physical":12},"errors":[],"lineEnd":1629,"lineStart":1618,"name":"onNext","paramNames":["err"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":4,"cyclomaticDensity":80,"halstead":{"bugs":0.05,"difficulty":4.615,"effort":686.204,"length":35,"time":38.122,"vocabulary":19,"volume":148.677,"operands":{"distinct":13,"total":20,"identifiers":["err","res","statusCode","500","end","message","setHeader","\"X-Sent\"","\"true\"","req","connection","remoteAddress","\"-\""]},"operators":{"distinct":6,"total":15,"identifiers":["if","=",".","()","||","&&"]}},"paramCount":0,"sloc":{"logical":5,"physical":9},"errors":[],"lineEnd":1628,"lineStart":1620,"name":"onDone","paramNames":[],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":8.333,"halstead":{"bugs":0.075,"difficulty":5.342,"effort":1205.292,"length":48,"time":66.961,"vocabulary":26,"volume":225.621,"operands":{"distinct":19,"total":29,"identifiers":["cert","fs","readFileSync","join","__dirname","\"fixtures\"","\"server.crt\"","\"ascii\"","key","\"server.key\"","https","createServer","on","\"request\"","createRequestListener","format","opts","fn","fn1"]},"operators":{"distinct":7,"total":19,"identifiers":["var","=","()",".","return","{}",":"]}},"paramCount":4,"sloc":{"logical":12,"physical":7},"errors":[],"lineEnd":1639,"lineStart":1633,"name":"createSecureServer","paramNames":["format","opts","fn","fn1"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":25,"halstead":{"bugs":0.018,"difficulty":1.5,"effort":80.662,"length":15,"time":4.481,"vocabulary":12,"volume":53.774,"operands":{"distinct":9,"total":9,"identifiers":["http","createServer","on","\"request\"","createRequestListener","format","opts","fn","fn1"]},"operators":{"distinct":3,"total":6,"identifiers":["return","()","."]}},"paramCount":4,"sloc":{"logical":4,"physical":4},"errors":[],"lineEnd":1644,"lineStart":1641,"name":"createServer","paramNames":["format","opts","fn","fn1"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":50,"halstead":{"bugs":0.007,"difficulty":1.5,"effort":29.477,"length":7,"time":1.638,"vocabulary":7,"volume":19.651,"operands":{"distinct":4,"total":4,"identifiers":["str","replace","/\\x1b\\[(\\d+)m/g","\"_color_$1_\""]},"operators":{"distinct":3,"total":3,"identifiers":["return","()","."]}},"paramCount":1,"sloc":{"logical":2,"physical":4},"errors":[],"lineEnd":1649,"lineStart":1646,"name":"expandColorCharacters","paramNames":["str"],"maxNestedMethodDepth":0,"nestedMethods":[]},{"cyclomatic":1,"cyclomaticDensity":100,"halstead":{"bugs":0.001,"difficulty":0.5,"effort":1,"length":2,"time":0.056,"vocabulary":2,"volume":2,"operands":{"distinct":1,"total":1,"identifiers":["next"]},"operators":{"distinct":1,"total":1,"identifiers":["()"]}},"paramCount":3,"sloc":{"logical":1,"physical":3},"errors":[],"lineEnd":1653,"lineStart":1651,"name":"noopMiddleware","paramNames":["req","res","next"],"maxNestedMethodDepth":0,"nestedMethods":[]}],"aggregateAverage":{"cyclomatic":1.27,"cyclomaticDensity":0.069,"halstead":{"bugs":0.056,"difficulty":0.475,"effort":24992.307,"length":19.826,"time":1388.461,"vocabulary":1.196,"volume":169.3,"operands":{"distinct":1.103,"total":11.228},"operators":{"distinct":0.093,"total":8.598}},"paramCount":1.441,"sloc":{"logical":5.949,"physical":5.318}},"methodAverage":{"cyclomatic":1.271,"cyclomaticDensity":47.139,"halstead":{"bugs":0.026,"difficulty":2.544,"effort":314.055,"length":19.565,"time":17.448,"vocabulary":12.19,"volume":78.42,"operands":{"distinct":8.323,"total":11.068},"operators":{"distinct":3.868,"total":8.497}},"paramCount":1.445,"sloc":{"logical":5.874,"physical":22.1}}}}]}