<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">
  <style type="text/css">
    .details-row.hidden {
      display: none;
    }
  </style>
</head>

<body>
  <section class="hero is-dark welcome is-small is-bold">
    <div class="hero-body">
      <div class="container">
        <h1 class="title">
          STEEL - teST smElls dEtection tooL
        </h1>
        <h2 class="subtitle">
          Report for "steel" (1.0.0) project.
        </h2>
      </div>
    </div>
  </section>
  <section class="section">
    <div class="container">
      <div>
        <div class="columns">
          <div class="column">
            <div class="box notification is-info">
              <div class="heading">Test Suites</div>
              <div class="title">1</div>
            </div>
          </div>
          <div class="column">
            <div class="box notification is-success">
              <div class="heading">Test Cases</div>
              <div class="title">81</div>
            </div>
          </div>
          <div class="column">
            <div class="box notification is-warning">
              <div class="heading">Smelled Test Suites</div>
              <div class="title">1</div>
            </div>
          </div>
          <div class="column">
            <div class="box notification is-danger">
              <div class="heading">Detected Smells</div>
              <div class="title">343</div>
            </div>
          </div>
        </div>

        <table class="table is-fullwidth" id="table-of-suites">
          <thead>
            <tr>
              <th>File</th>
              <th class="has-text-right">smells</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a class="toggle-link" href="javascript:;" onclick="toggleDetails(this)">+ &#x2F;Users&#x2F;gabriel.amaralmercos.com&#x2F;Desktop&#x2F;research-javascript-test-smells&#x2F;repositories&#x2F;morgan&#x2F;test&#x2F;morgan.js</a>
              </td>
              <td class="has-text-right">343</td>
            </tr>
            <tr class="details-row hidden">
              <td colspan="2">
                <div class="columns is-multiline is-centered">
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Physical SLOC</div>
                      <div class="title has-text-weight-light is-size-4">1654</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Logical SLOC</div>
                      <div class="title has-text-weight-light is-size-4">1850</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Cyclomatic</div>
                      <div class="title has-text-weight-light is-size-4">395</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Cyclomatic Density</div>
                      <div class="title has-text-weight-light is-size-4">21.351</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Halstead Bugs</div>
                      <div class="title has-text-weight-light is-size-4">17.551</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Halstead Difficulty</div>
                      <div class="title has-text-weight-light is-size-4">147.621</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Halstead effort</div>
                      <div class="title has-text-weight-light is-size-4">7772607.338</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Halstead Length</div>
                      <div class="title has-text-weight-light is-size-4">6166</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Halstead Time</div>
                      <div class="title has-text-weight-light is-size-4">431811.519</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Halstead Vocabulary</div>
                      <div class="title has-text-weight-light is-size-4">372</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Halstead Volume</div>
                      <div class="title has-text-weight-light is-size-4">52652.453</div>
                    </div>
                  </div>
                  <div class="column is-one-quarter">
                    <div class="box px-4 py-4">
                      <div class="heading">Maintainability</div>
                      <div class="title has-text-weight-light is-size-4">107.242</div>
                    </div>
                  </div>
                </div>
                <hr>
                <table class="table is-fullwidth" id="table-of-smell">
                  <thead>
                    <tr>
                      <td>Assertion Roulette</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <pre><code>  16 |       var cb &#x3D; after(2, function (err, res, line) {
  17 |         if (err) return done(err)
&gt; 18 |         assert(res.text.length &gt; 0)
     |        ^ Assertion Roulette
  19 |         assert.strictEqual(line.substr(0, res.text.length), res.text)
  20 |         done()
  21 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  17 |         if (err) return done(err)
  18 |         assert(res.text.length &gt; 0)
&gt; 19 |         assert.strictEqual(line.substr(0, res.text.length), res.text)
     |        ^ Assertion Roulette
  20 |         done()
  21 |       })
  22 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  91 |           var cb &#x3D; after(2, function (err, res, line) {
  92 |             if (err) return done(err)
&gt; 93 |             assert(res.text.length &gt; 0)
     |            ^ Assertion Roulette
  94 |             assert.strictEqual(line.substr(0, res.text.length), res.text)
  95 |             done()
  96 |           })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  92 |             if (err) return done(err)
  93 |             assert(res.text.length &gt; 0)
&gt; 94 |             assert.strictEqual(line.substr(0, res.text.length), res.text)
     |            ^ Assertion Roulette
  95 |             done()
  96 |           })
  97 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  157 |         var cb &#x3D; after(2, function (err, res, line) {
  158 |           if (err) return done(err)
&gt; 159 |           assert(res.text.length &gt; 0)
      |          ^ Assertion Roulette
  160 |           assert.strictEqual(line.substr(0, res.text.length), res.text)
  161 |           done()
  162 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  158 |           if (err) return done(err)
  159 |           assert(res.text.length &gt; 0)
&gt; 160 |           assert.strictEqual(line.substr(0, res.text.length), res.text)
      |          ^ Assertion Roulette
  161 |           done()
  162 |         })
  163 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  178 |         var cb &#x3D; after(2, function (err, res, line) {
  179 |           if (err) return done(err)
&gt; 180 |           assert(res.text.length &gt; 0)
      |          ^ Assertion Roulette
  181 |           assert.strictEqual(line.substr(0, res.text.length), res.text)
  182 |           done()
  183 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  179 |           if (err) return done(err)
  180 |           assert(res.text.length &gt; 0)
&gt; 181 |           assert.strictEqual(line.substr(0, res.text.length), res.text)
      |          ^ Assertion Roulette
  182 |           done()
  183 |         })
  184 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  375 |         var cb &#x3D; after(2, function (err, res, line) {
  376 |           if (err) return done(err)
&gt; 377 |           assert.ok(res.text.length &gt; 0)
      |          ^ Assertion Roulette
  378 |           assert.strictEqual(line, res.text)
  379 |           done()
  380 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  376 |           if (err) return done(err)
  377 |           assert.ok(res.text.length &gt; 0)
&gt; 378 |           assert.strictEqual(line, res.text)
      |          ^ Assertion Roulette
  379 |           done()
  380 |         })
  381 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  412 |         var cb &#x3D; after(2, function (err, res, line) {
  413 |           if (err) return done(err)
&gt; 414 |           assert.ok(res.text.length &gt; 0)
      |          ^ Assertion Roulette
  415 |           assert.strictEqual(line, res.text)
  416 |           done()
  417 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  413 |           if (err) return done(err)
  414 |           assert.ok(res.text.length &gt; 0)
&gt; 415 |           assert.strictEqual(line, res.text)
      |          ^ Assertion Roulette
  416 |           done()
  417 |         })
  418 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  432 |         var cb &#x3D; after(2, function (err, res, line) {
  433 |           if (err) return done(err)
&gt; 434 |           assert.ok(res.text.length &gt; 0)
      |          ^ Assertion Roulette
  435 |           assert.strictEqual(line, res.text)
  436 |           done()
  437 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  433 |           if (err) return done(err)
  434 |           assert.ok(res.text.length &gt; 0)
&gt; 435 |           assert.strictEqual(line, res.text)
      |          ^ Assertion Roulette
  436 |           done()
  437 |         })
  438 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  450 |         var cb &#x3D; after(2, function (err, res, line) {
  451 |           if (err) return done(err)
&gt; 452 |           assert.ok(res.text.length &gt; 0)
      |          ^ Assertion Roulette
  453 |           assert.strictEqual(line, res.text)
  454 |
  455 |           res.req.connection.destroy()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  451 |           if (err) return done(err)
  452 |           assert.ok(res.text.length &gt; 0)
&gt; 453 |           assert.strictEqual(line, res.text)
      |          ^ Assertion Roulette
  454 |
  455 |           res.req.connection.destroy()
  456 |           server.close(done)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  498 |         var cb &#x3D; after(2, function (err, res, line) {
  499 |           if (err) return done(err)
&gt; 500 |           assert.ok(res.text.length &gt; 0)
      |          ^ Assertion Roulette
  501 |           assert.strictEqual(line, res.text)
  502 |
  503 |           res.req.connection.destroy()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  499 |           if (err) return done(err)
  500 |           assert.ok(res.text.length &gt; 0)
&gt; 501 |           assert.strictEqual(line, res.text)
      |          ^ Assertion Roulette
  502 |
  503 |           res.req.connection.destroy()
  504 |           server.close(done)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  578 |           var end &#x3D; Date.now()
  579 |           var ms &#x3D; parseFloat(line)
&gt; 580 |           assert(ms &gt; 0)
      |          ^ Assertion Roulette
  581 |           assert(ms &lt; end - start + 1)
  582 |           done()
  583 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  579 |           var ms &#x3D; parseFloat(line)
  580 |           assert(ms &gt; 0)
&gt; 581 |           assert(ms &lt; end - start + 1)
      |          ^ Assertion Roulette
  582 |           done()
  583 |         })
  584 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  647 |           var end &#x3D; Date.now()
  648 |           var ms &#x3D; parseFloat(line)
&gt; 649 |           assert(ms &gt; 0)
      |          ^ Assertion Roulette
  650 |           assert(ms &lt; end - start + 1)
  651 |           assert(ms &lt; write - start + 1)
  652 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  648 |           var ms &#x3D; parseFloat(line)
  649 |           assert(ms &gt; 0)
&gt; 650 |           assert(ms &lt; end - start + 1)
      |          ^ Assertion Roulette
  651 |           assert(ms &lt; write - start + 1)
  652 |           done()
  653 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  649 |           assert(ms &gt; 0)
  650 |           assert(ms &lt; end - start + 1)
&gt; 651 |           assert(ms &lt; write - start + 1)
      |          ^ Assertion Roulette
  652 |           done()
  653 |         })
  654 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  805 |           var end &#x3D; Date.now()
  806 |           var ms &#x3D; parseFloat(line)
&gt; 807 |           assert(ms &gt; 0)
      |          ^ Assertion Roulette
  808 |           assert(ms &lt; end - start + 1)
  809 |           done()
  810 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  806 |           var ms &#x3D; parseFloat(line)
  807 |           assert(ms &gt; 0)
&gt; 808 |           assert(ms &lt; end - start + 1)
      |          ^ Assertion Roulette
  809 |           done()
  810 |         })
  811 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  874 |           var end &#x3D; Date.now()
  875 |           var ms &#x3D; parseFloat(line)
&gt; 876 |           assert(ms &gt; 0)
      |          ^ Assertion Roulette
  877 |           assert(ms &gt; write - start - 1)
  878 |           assert(ms &lt; end - start + 1)
  879 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  875 |           var ms &#x3D; parseFloat(line)
  876 |           assert(ms &gt; 0)
&gt; 877 |           assert(ms &gt; write - start - 1)
      |          ^ Assertion Roulette
  878 |           assert(ms &lt; end - start + 1)
  879 |           done()
  880 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  876 |           assert(ms &gt; 0)
  877 |           assert(ms &gt; write - start - 1)
&gt; 878 |           assert(ms &lt; end - start + 1)
      |          ^ Assertion Roulette
  879 |           done()
  880 |         })
  881 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1197 |         var cb &#x3D; after(2, function (err, res, line) {
  1198 |           if (err) return done(err)
&gt; 1199 |           assert.strictEqual(line.substr(0, 36), &#39;_color_0_GET &#x2F; _color_0_102_color_0_&#39;)
       |          ^ Assertion Roulette
  1200 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1201 |           done()
  1202 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1198 |           if (err) return done(err)
  1199 |           assert.strictEqual(line.substr(0, 36), &#39;_color_0_GET &#x2F; _color_0_102_color_0_&#39;)
&gt; 1200 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
       |          ^ Assertion Roulette
  1201 |           done()
  1202 |         })
  1203 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1228 |         var cb &#x3D; after(2, function (err, res, line) {
  1229 |           if (err) return done(err)
&gt; 1230 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_32_200_color_0_&#39;)
       |          ^ Assertion Roulette
  1231 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1232 |           done()
  1233 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1229 |           if (err) return done(err)
  1230 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_32_200_color_0_&#39;)
&gt; 1231 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
       |          ^ Assertion Roulette
  1232 |           done()
  1233 |         })
  1234 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1250 |         var cb &#x3D; after(2, function (err, res, line) {
  1251 |           if (err) return done(err)
&gt; 1252 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_36_300_color_0_&#39;)
       |          ^ Assertion Roulette
  1253 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1254 |           done()
  1255 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1251 |           if (err) return done(err)
  1252 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_36_300_color_0_&#39;)
&gt; 1253 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
       |          ^ Assertion Roulette
  1254 |           done()
  1255 |         })
  1256 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1272 |         var cb &#x3D; after(2, function (err, res, line) {
  1273 |           if (err) return done(err)
&gt; 1274 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_33_400_color_0_&#39;)
       |          ^ Assertion Roulette
  1275 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1276 |           done()
  1277 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1273 |           if (err) return done(err)
  1274 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_33_400_color_0_&#39;)
&gt; 1275 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
       |          ^ Assertion Roulette
  1276 |           done()
  1277 |         })
  1278 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1294 |         var cb &#x3D; after(2, function (err, res, line) {
  1295 |           if (err) return done(err)
&gt; 1296 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_31_500_color_0_&#39;)
       |          ^ Assertion Roulette
  1297 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1298 |           done()
  1299 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1295 |           if (err) return done(err)
  1296 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_31_500_color_0_&#39;)
&gt; 1297 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
       |          ^ Assertion Roulette
  1298 |           done()
  1299 |         })
  1300 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1381 |       var cb &#x3D; after(2, function (err, res, log) {
  1382 |         if (err) return done(err)
&gt; 1383 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
       |        ^ Assertion Roulette
  1384 |         assert.ok(Date.now() - time &gt;&#x3D; 1000)
  1385 |         assert.ok(Date.now() - time &lt;&#x3D; 1100)
  1386 |         done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1382 |         if (err) return done(err)
  1383 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
&gt; 1384 |         assert.ok(Date.now() - time &gt;&#x3D; 1000)
       |        ^ Assertion Roulette
  1385 |         assert.ok(Date.now() - time &lt;&#x3D; 1100)
  1386 |         done()
  1387 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1383 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
  1384 |         assert.ok(Date.now() - time &gt;&#x3D; 1000)
&gt; 1385 |         assert.ok(Date.now() - time &lt;&#x3D; 1100)
       |        ^ Assertion Roulette
  1386 |         done()
  1387 |       })
  1388 |       var server &#x3D; createServer(&#39;:method :url&#39;, {</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1409 |       var cb &#x3D; after(2, function (err, res, log) {
  1410 |         if (err) return done(err)
&gt; 1411 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
       |        ^ Assertion Roulette
  1412 |         assert.ok(Date.now() - time &gt;&#x3D; 200)
  1413 |         assert.ok(Date.now() - time &lt;&#x3D; 300)
  1414 |         done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1410 |         if (err) return done(err)
  1411 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
&gt; 1412 |         assert.ok(Date.now() - time &gt;&#x3D; 200)
       |        ^ Assertion Roulette
  1413 |         assert.ok(Date.now() - time &lt;&#x3D; 300)
  1414 |         done()
  1415 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1411 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
  1412 |         assert.ok(Date.now() - time &gt;&#x3D; 200)
&gt; 1413 |         assert.ok(Date.now() - time &lt;&#x3D; 300)
       |        ^ Assertion Roulette
  1414 |         done()
  1415 |       })
  1416 |       var server &#x3D; createServer(&#39;:method :url&#39;, {</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1503 |       var cb &#x3D; after(2, function (err, res, line) {
  1504 |         if (err) return done(err)
&gt; 1505 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
       |        ^ Assertion Roulette
  1506 |         done()
  1507 |       })
  1508 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1513 |
  1514 |       var server &#x3D; createServer(&#39;:method :url :res[x-sent]&#39;, { immediate: true, stream: stream }, function (req, res, next) {
&gt; 1515 |         assert.ok(lineLogged)
       |        ^ Assertion Roulette
  1516 |         next()
  1517 |       })
  1518 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1572 |       it(&#39;should compile a string into a function&#39;, function () {
  1573 |         var fn &#x3D; morgan.compile(&#39;:method&#39;)
&gt; 1574 |         assert.ok(typeof fn &#x3D;&#x3D;&#x3D; &#39;function&#39;)
       |        ^ Assertion Roulette
  1575 |         assert.ok(fn.length &#x3D;&#x3D;&#x3D; 3)
  1576 |       })
  1577 |     })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1573 |         var fn &#x3D; morgan.compile(&#39;:method&#39;)
  1574 |         assert.ok(typeof fn &#x3D;&#x3D;&#x3D; &#39;function&#39;)
&gt; 1575 |         assert.ok(fn.length &#x3D;&#x3D;&#x3D; 3)
       |        ^ Assertion Roulette
  1576 |       })
  1577 |     })
  1578 |   })</code></pre><br>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr>
                <table class="table is-fullwidth" id="table-of-smell">
                  <thead>
                    <tr>
                      <td>Conditional Test Logic</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <pre><code>  15 |     it(&#39;should use default format&#39;, function (done) {
  16 |       var cb &#x3D; after(2, function (err, res, line) {
&gt; 17 |         if (err) return done(err)
     |        ^ Conditional Test Logic
  18 |         assert(res.text.length &gt; 0)
  19 |         assert.strictEqual(line.substr(0, res.text.length), res.text)
  20 |         done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  33 |       it(&#39;should accept format as format name&#39;, function (done) {
  34 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 35 |           if (err) return done(err)
     |          ^ Conditional Test Logic
  36 |           assert(&#x2F;^GET \&#x2F; 200 - - \d+\.\d{3} ms$&#x2F;.test(line))
  37 |           done()
  38 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  49 |       it(&#39;should accept format as format string&#39;, function (done) {
  50 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 51 |           if (err) return done(err)
     |          ^ Conditional Test Logic
  52 |           assert.strictEqual(line, &#39;GET &#x2F;&#39;)
  53 |           done()
  54 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  65 |       it(&#39;should accept format as function&#39;, function (done) {
  66 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 67 |           if (err) return done(err)
     |          ^ Conditional Test Logic
  68 |           assert.strictEqual(line, &#39;GET &#x2F; 200&#39;)
  69 |           done()
  70 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  90 |         it(&#39;should accept options object&#39;, function (done) {
  91 |           var cb &#x3D; after(2, function (err, res, line) {
&gt; 92 |             if (err) return done(err)
     |            ^ Conditional Test Logic
  93 |             assert(res.text.length &gt; 0)
  94 |             assert.strictEqual(line.substr(0, res.text.length), res.text)
  95 |             done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  107 |         it(&#39;should accept format in options for back-compat&#39;, function (done) {
  108 |           var cb &#x3D; after(2, function (err, res, line) {
&gt; 109 |             if (err) return done(err)
      |            ^ Conditional Test Logic
  110 |             assert.strictEqual(line, &#39;GET &#x2F;&#39;)
  111 |             done()
  112 |           })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  123 |         it(&#39;should accept format function in options for back-compat&#39;, function (done) {
  124 |           var cb &#x3D; after(2, function (err, res, line) {
&gt; 125 |             if (err) return done(err)
      |            ^ Conditional Test Logic
  126 |             assert.strictEqual(line, &#39;apple&#39;)
  127 |             done()
  128 |           })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  156 |       it(&#39;should default to process.stdout&#39;, function (done) {
  157 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 158 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  159 |           assert(res.text.length &gt; 0)
  160 |           assert.strictEqual(line.substr(0, res.text.length), res.text)
  161 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  177 |       it(&#39;should set stream to write logs to&#39;, function (done) {
  178 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 179 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  180 |           assert(res.text.length &gt; 0)
  181 |           assert.strictEqual(line.substr(0, res.text.length), res.text)
  182 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  198 |       it(&#39;should get current date in &quot;web&quot; format by default&#39;, function (done) {
  199 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 200 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  201 |           assert.ok(&#x2F;^\w{3}, \d{2} \w{3} \d{4} \d{2}:\d{2}:\d{2} GMT$&#x2F;.test(line))
  202 |           done()
  203 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  214 |       it(&#39;should get current date in &quot;clf&quot; format&#39;, function (done) {
  215 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 216 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  217 |           assert.ok(&#x2F;^\d{2}\&#x2F;\w{3}\&#x2F;\d{4}:\d{2}:\d{2}:\d{2} \+0000$&#x2F;.test(line))
  218 |           done()
  219 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  230 |       it(&#39;should get current date in &quot;iso&quot; format&#39;, function (done) {
  231 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 232 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  233 |           assert.ok(&#x2F;^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z$&#x2F;.test(line))
  234 |           done()
  235 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  246 |       it(&#39;should get current date in &quot;web&quot; format&#39;, function (done) {
  247 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 248 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  249 |           assert.ok(&#x2F;^\w{3}, \d{2} \w{3} \d{4} \d{2}:\d{2}:\d{2} GMT$&#x2F;.test(line))
  250 |           done()
  251 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  262 |       it(&#39;should be blank for unknown format&#39;, function (done) {
  263 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 264 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  265 |           assert.strictEqual(line, &#39;-&#39;)
  266 |           done()
  267 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  280 |       it(&#39;should be 1.0 or 1.1&#39;, function (done) {
  281 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 282 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  283 |           assert.ok(&#x2F;^1\.[01]$&#x2F;.test(line))
  284 |           done()
  285 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  298 |       it(&#39;should get request properties&#39;, function (done) {
  299 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 300 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  301 |           assert.strictEqual(line, &#39;me&#39;)
  302 |           done()
  303 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  315 |       it(&#39;should display all values of array headers&#39;, function (done) {
  316 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 317 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  318 |           assert.strictEqual(line, &#39;foo&#x3D;bar, fizz&#x3D;buzz&#39;)
  319 |           done()
  320 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  334 |       it(&#39;should get response properties&#39;, function (done) {
  335 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 336 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  337 |           assert.strictEqual(line, &#39;true&#39;)
  338 |           done()
  339 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  350 |       it(&#39;should display all values of array headers&#39;, function (done) {
  351 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 352 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  353 |           assert.strictEqual(line, &#39;foo, bar&#39;)
  354 |           done()
  355 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  374 |       it(&#39;should get remote address&#39;, function (done) {
  375 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 376 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  377 |           assert.ok(res.text.length &gt; 0)
  378 |           assert.strictEqual(line, res.text)
  379 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  391 |       it(&#39;should use req.ip if there&#39;, function (done) {
  392 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 393 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  394 |           assert.strictEqual(line, &#39;10.0.0.1&#39;)
  395 |           done()
  396 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  411 |       it(&#39;should work on https server&#39;, function (done) {
  412 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 413 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  414 |           assert.ok(res.text.length &gt; 0)
  415 |           assert.strictEqual(line, res.text)
  416 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  431 |       it(&#39;should work when connection: close&#39;, function (done) {
  432 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 433 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  434 |           assert.ok(res.text.length &gt; 0)
  435 |           assert.strictEqual(line, res.text)
  436 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  449 |       it(&#39;should work when connection: keep-alive&#39;, function (done) {
  450 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 451 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  452 |           assert.ok(res.text.length &gt; 0)
  453 |           assert.strictEqual(line, res.text)
  454 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  474 |       it(&#39;should work when req.ip is a getter&#39;, function (done) {
  475 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 476 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  477 |           assert.strictEqual(line, &#39;10.0.0.1&#39;)
  478 |           done()
  479 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  497 |       it(&#39;should not fail if req.connection missing&#39;, function (done) {
  498 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 499 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  500 |           assert.ok(res.text.length &gt; 0)
  501 |           assert.strictEqual(line, res.text)
  502 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  523 |       it(&#39;should be empty if none present&#39;, function (done) {
  524 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 525 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  526 |           assert.strictEqual(line, &#39;-&#39;)
  527 |           done()
  528 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  539 |       it(&#39;should support Basic authorization&#39;, function (done) {
  540 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 541 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  542 |           assert.strictEqual(line, &#39;tj&#39;)
  543 |           done()
  544 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  556 |       it(&#39;should be empty for empty Basic authorization user&#39;, function (done) {
  557 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 558 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  559 |           assert.strictEqual(line, &#39;-&#39;)
  560 |           done()
  561 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  575 |       it(&#39;should be in milliseconds&#39;, function (done) {
  576 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 577 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  578 |           var end &#x3D; Date.now()
  579 |           var ms &#x3D; parseFloat(line)
  580 |           assert(ms &gt; 0)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  596 |       it(&#39;should have three digits by default&#39;, function (done) {
  597 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 598 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  599 |           assert.ok(&#x2F;^[0-9]+\.[0-9]{3}$&#x2F;.test(line))
  600 |           done()
  601 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  612 |       it(&#39;should have five digits with argument &quot;5&quot;&#39;, function (done) {
  613 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 614 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  615 |           assert.ok(&#x2F;^[0-9]+\.[0-9]{5}$&#x2F;.test(line))
  616 |           done()
  617 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  628 |       it(&#39;should have no digits with argument &quot;0&quot;&#39;, function (done) {
  629 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 630 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  631 |           assert.ok(&#x2F;^[0-9]+$&#x2F;.test(line))
  632 |           done()
  633 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  644 |       it(&#39;should not include response write time&#39;, function (done) {
  645 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 646 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  647 |           var end &#x3D; Date.now()
  648 |           var ms &#x3D; parseFloat(line)
  649 |           assert(ms &gt; 0)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  676 |       it(&#39;should be empty without hidden property&#39;, function (done) {
  677 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 678 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  679 |           assert.strictEqual(line, &#39;-&#39;)
  680 |           done()
  681 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  697 |       it(&#39;should be empty before response&#39;, function (done) {
  698 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 699 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  700 |           assert.strictEqual(line, &#39;-&#39;)
  701 |           done()
  702 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  718 |       it(&#39;should be empty if morgan invoked after response sent&#39;, function (done) {
  719 |         var cb &#x3D; after(3, function (err, res, line) {
&gt; 720 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  721 |           assert.strictEqual(line, &#39;-&#39;)
  722 |           done()
  723 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  749 |       it(&#39;should get response status&#39;, function (done) {
  750 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 751 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  752 |           assert.strictEqual(line, String(res.statusCode))
  753 |           done()
  754 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  765 |       it(&#39;should not exist before response sent&#39;, function (done) {
  766 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 767 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  768 |           assert.strictEqual(line, &#39;-&#39;)
  769 |           done()
  770 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  802 |       it(&#39;should be in milliseconds&#39;, function (done) {
  803 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 804 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  805 |           var end &#x3D; Date.now()
  806 |           var ms &#x3D; parseFloat(line)
  807 |           assert(ms &gt; 0)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  823 |       it(&#39;should have three digits by default&#39;, function (done) {
  824 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 825 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  826 |           assert.ok(&#x2F;^[0-9]+\.[0-9]{3}$&#x2F;.test(line))
  827 |           done()
  828 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  839 |       it(&#39;should have five digits with argument &quot;5&quot;&#39;, function (done) {
  840 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 841 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  842 |           assert.ok(&#x2F;^[0-9]+\.[0-9]{5}$&#x2F;.test(line))
  843 |           done()
  844 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  855 |       it(&#39;should have no digits with argument &quot;0&quot;&#39;, function (done) {
  856 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 857 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  858 |           assert.ok(&#x2F;^[0-9]+$&#x2F;.test(line))
  859 |           done()
  860 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  871 |       it(&#39;should include response write time&#39;, function (done) {
  872 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 873 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  874 |           var end &#x3D; Date.now()
  875 |           var ms &#x3D; parseFloat(line)
  876 |           assert(ms &gt; 0)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  903 |       it(&#39;should be empty without hidden property&#39;, function (done) {
  904 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 905 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  906 |           assert.strictEqual(line, &#39;-&#39;)
  907 |           done()
  908 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  924 |       it(&#39;should be empty before response&#39;, function (done) {
  925 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 926 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  927 |           assert.strictEqual(line, &#39;-&#39;)
  928 |           done()
  929 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  945 |       it(&#39;should be empty if morgan invoked after response sent&#39;, function (done) {
  946 |         var cb &#x3D; after(3, function (err, res, line) {
&gt; 947 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  948 |           assert.strictEqual(line, &#39;-&#39;)
  949 |           done()
  950 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  976 |       it(&#39;should get request URL&#39;, function (done) {
  977 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 978 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  979 |           assert.strictEqual(line, &#39;&#x2F;foo&#39;)
  980 |           done()
  981 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  992 |       it(&#39;should use req.originalUrl if exists&#39;, function (done) {
  993 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 994 |           if (err) return done(err)
      |          ^ Conditional Test Logic
  995 |           assert.strictEqual(line, &#39;&#x2F;bar&#39;)
  996 |           done()
  997 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1031 |       it(&#39;should log result of function&#39;, function (done) {
  1032 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1033 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1034 |           assert.strictEqual(line, &#39;GET &#x2F; 200&#39;)
  1035 |           done()
  1036 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1081 |       it(&#39;should accept format as format string of tokens&#39;, function (done) {
  1082 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1083 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1084 |           assert.strictEqual(line, &#39;GET &#x2F;&#39;)
  1085 |           done()
  1086 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1097 |       it(&#39;should accept text mixed with tokens&#39;, function (done) {
  1098 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1099 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1100 |           assert.strictEqual(line, &#39;method&#x3D;GET url&#x3D;&#x2F;&#39;)
  1101 |           done()
  1102 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1113 |       it(&#39;should accept special characters&#39;, function (done) {
  1114 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1115 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1116 |           assert.strictEqual(line, &#39;LOCAL\\tobi &quot;GET &#x2F;&quot; 200&#39;)
  1117 |           done()
  1118 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1132 |       it(&#39;should match expectations&#39;, function (done) {
  1133 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1134 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1135 |           var masked &#x3D; line.replace(&#x2F;\d{2}\&#x2F;\w{3}\&#x2F;\d{4}:\d{2}:\d{2}:\d{2} \+0000&#x2F;, &#39;_timestamp_&#39;)
  1136 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 - &quot;http:&#x2F;&#x2F;localhost&#x2F;&quot; &quot;my-ua&quot;&#39;)
  1137 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1154 |       it(&#39;should match expectations&#39;, function (done) {
  1155 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1156 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1157 |           var masked &#x3D; line.replace(&#x2F;\d{2}\&#x2F;\w{3}\&#x2F;\d{4}:\d{2}:\d{2}:\d{2} \+0000&#x2F;, &#39;_timestamp_&#39;)
  1158 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -&#39;)
  1159 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1174 |       it(&#39;should match expectations&#39;, function (done) {
  1175 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1176 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1177 |           var masked &#x3D; line.replace(&#x2F;\w+, \d+ \w+ \d+ \d+:\d+:\d+ \w+&#x2F;, &#39;_timestamp_&#39;)
  1178 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 - &quot;http:&#x2F;&#x2F;localhost&#x2F;&quot; &quot;my-ua&quot;&#39;)
  1179 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1196 |       it(&#39;should not color 1xx&#39;, function (done) {
  1197 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1198 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1199 |           assert.strictEqual(line.substr(0, 36), &#39;_color_0_GET &#x2F; _color_0_102_color_0_&#39;)
  1200 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1201 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1214 |           .get(&#39;&#x2F;&#39;)
  1215 |           .expect(102, function (err, res) {
&gt; 1216 |             if (err &amp;&amp; err.code &#x3D;&#x3D;&#x3D; &#39;ECONNRESET&#39;) {
       |            ^ Conditional Test Logic
  1217 |               &#x2F;&#x2F; finishing response with 1xx is invalid http
  1218 |               &#x2F;&#x2F; but node.js server lets the server do this, so
  1219 |               &#x2F;&#x2F; morgan needs to test in this condition even if</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1227 |       it(&#39;should color 2xx green&#39;, function (done) {
  1228 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1229 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1230 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_32_200_color_0_&#39;)
  1231 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1232 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1249 |       it(&#39;should color 3xx cyan&#39;, function (done) {
  1250 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1251 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1252 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_36_300_color_0_&#39;)
  1253 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1254 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1271 |       it(&#39;should color 4xx yelow&#39;, function (done) {
  1272 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1273 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1274 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_33_400_color_0_&#39;)
  1275 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1276 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1293 |       it(&#39;should color 5xx red&#39;, function (done) {
  1294 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1295 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1296 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_31_500_color_0_&#39;)
  1297 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)
  1298 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1316 |         it(&#39;should not have color or response values&#39;, function (done) {
  1317 |           var cb &#x3D; after(2, function (err, res, line) {
&gt; 1318 |             if (err) return done(err)
       |            ^ Conditional Test Logic
  1319 |             assert.strictEqual(line, &#39;_color_0_GET &#x2F; _color_0_-_color_0_ - ms - -_color_0_&#39;)
  1320 |             done()
  1321 |           })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1340 |       it(&#39;should match expectations&#39;, function (done) {
  1341 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1342 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1343 |           var masked &#x3D; line.replace(&#x2F;\d+\.\d{3} ms&#x2F;, &#39;_timer_&#39;)
  1344 |           assert.strictEqual(masked, res.text + &#39; tj GET &#x2F; HTTP&#x2F;1.1 200 - - _timer_&#39;)
  1345 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1360 |       it(&#39;should match expectations&#39;, function (done) {
  1361 |         var cb &#x3D; after(2, function (err, res, line) {
&gt; 1362 |           if (err) return done(err)
       |          ^ Conditional Test Logic
  1363 |           var masked &#x3D; line.replace(&#x2F;\d+\.\d{3} ms&#x2F;, &#39;_timer_&#39;)
  1364 |           assert.strictEqual(masked, &#39;GET &#x2F; 200 - - _timer_&#39;)
  1365 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1380 |     it(&#39;should flush log periodically&#39;, function (done) {
  1381 |       var cb &#x3D; after(2, function (err, res, log) {
&gt; 1382 |         if (err) return done(err)
       |        ^ Conditional Test Logic
  1383 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
  1384 |         assert.ok(Date.now() - time &gt;&#x3D; 1000)
  1385 |         assert.ok(Date.now() - time &lt;&#x3D; 1100)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1399 |         .get(&#39;&#x2F;first&#39;)
  1400 |         .expect(200, function (err) {
&gt; 1401 |           if (err) return cb(err)
       |          ^ Conditional Test Logic
  1402 |           request(server)
  1403 |             .get(&#39;&#x2F;second&#39;)
  1404 |             .expect(200, cb)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1408 |     it(&#39;should accept custom interval&#39;, function (done) {
  1409 |       var cb &#x3D; after(2, function (err, res, log) {
&gt; 1410 |         if (err) return done(err)
       |        ^ Conditional Test Logic
  1411 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
  1412 |         assert.ok(Date.now() - time &gt;&#x3D; 200)
  1413 |         assert.ok(Date.now() - time &lt;&#x3D; 300)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1427 |         .get(&#39;&#x2F;first&#39;)
  1428 |         .expect(200, function (err) {
&gt; 1429 |           if (err) return cb(err)
       |          ^ Conditional Test Logic
  1430 |           request(server)
  1431 |             .get(&#39;&#x2F;second&#39;)
  1432 |             .expect(200, cb)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1438 |     it(&#39;should not have value for :res&#39;, function (done) {
  1439 |       var cb &#x3D; after(2, function (err, res, line) {
&gt; 1440 |         if (err) return done(err)
       |        ^ Conditional Test Logic
  1441 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
  1442 |         done()
  1443 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1459 |     it(&#39;should not have value for :response-time&#39;, function (done) {
  1460 |       var cb &#x3D; after(2, function (err, res, line) {
&gt; 1461 |         if (err) return done(err)
       |        ^ Conditional Test Logic
  1462 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
  1463 |         done()
  1464 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1480 |     it(&#39;should not have value for :status&#39;, function (done) {
  1481 |       var cb &#x3D; after(2, function (err, res, line) {
&gt; 1482 |         if (err) return done(err)
       |        ^ Conditional Test Logic
  1483 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
  1484 |         done()
  1485 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1502 |       var lineLogged &#x3D; false
  1503 |       var cb &#x3D; after(2, function (err, res, line) {
&gt; 1504 |         if (err) return done(err)
       |        ^ Conditional Test Logic
  1505 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
  1506 |         done()
  1507 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1590 |     args[2] &#x3D; args[2] || arg2
  1591 |
&gt; 1592 |     if (count &#x3D;&#x3D;&#x3D; i) {
       |    ^ Conditional Test Logic
  1593 |       callback.apply(null, args)
  1594 |     }
  1595 |   }</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1612 |   return function onRequest (req, res) {
  1613 |     &#x2F;&#x2F; prior alterations
&gt; 1614 |     if (fn1) {
       |    ^ Conditional Test Logic
  1615 |       fn1(req, res)
  1616 |     }
  1617 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1619 |       &#x2F;&#x2F; allow req, res alterations
  1620 |       middle(req, res, function onDone () {
&gt; 1621 |         if (err) {
       |        ^ Conditional Test Logic
  1622 |           res.statusCode &#x3D; 500
  1623 |           res.end(err.message)
  1624 |         }</code></pre><br>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr>
                <table class="table is-fullwidth" id="table-of-smell">
                  <thead>
                    <tr>
                      <td>Exception Handling</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <pre><code>  1051 |       it(&#39;should not log for undefined return&#39;, function (done) {
  1052 |         var stream &#x3D; createLineStream(function () {
&gt; 1053 |           throw new Error(&#39;should not log line&#39;)
       |          ^ Exception Handling
  1054 |         })
  1055 |
  1056 |         function format (tokens, req, res) {</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1065 |       it(&#39;should not log for null return&#39;, function (done) {
  1066 |         var stream &#x3D; createLineStream(function () {
&gt; 1067 |           throw new Error(&#39;should not log line&#39;)
       |          ^ Exception Handling
  1068 |         })
  1069 |
  1070 |         function format (tokens, req, res) {</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1526 |     it(&#39;should be able to skip based on request&#39;, function (done) {
  1527 |       var stream &#x3D; createLineStream(function () {
&gt; 1528 |         throw new Error(&#39;should not log line&#39;)
       |        ^ Exception Handling
  1529 |       })
  1530 |
  1531 |       function skip (req) {</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1541 |     it(&#39;should be able to skip based on response&#39;, function (done) {
  1542 |       var stream &#x3D; createLineStream(function () {
&gt; 1543 |         throw new Error(&#39;should not log line&#39;)
       |        ^ Exception Handling
  1544 |       })
  1545 |
  1546 |       function skip (req, res) {</code></pre><br>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr>
                <table class="table is-fullwidth" id="table-of-smell">
                  <thead>
                    <tr>
                      <td>Global Variable</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <pre><code>  14 |   describe(&#39;arguments&#39;, function () {
  15 |     it(&#39;should use default format&#39;, function (done) {
&gt; 16 |       var cb &#x3D; after(2, function (err, res, line) {
     |      ^ Global Variable
  17 |         if (err) return done(err)
  18 |         assert(res.text.length &gt; 0)
  19 |         assert.strictEqual(line.substr(0, res.text.length), res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  21 |       })
  22 |
&gt; 23 |       var stream &#x3D; createLineStream(function (line) {
     |      ^ Global Variable
  24 |         cb(null, null, line)
  25 |       })
  26 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  32 |     describe(&#39;format&#39;, function () {
  33 |       it(&#39;should accept format as format name&#39;, function (done) {
&gt; 34 |         var cb &#x3D; after(2, function (err, res, line) {
     |        ^ Global Variable
  35 |           if (err) return done(err)
  36 |           assert(&#x2F;^GET \&#x2F; 200 - - \d+\.\d{3} ms$&#x2F;.test(line))
  37 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  38 |         })
  39 |
&gt; 40 |         var stream &#x3D; createLineStream(function (line) {
     |        ^ Global Variable
  41 |           cb(null, null, line)
  42 |         })
  43 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  48 |
  49 |       it(&#39;should accept format as format string&#39;, function (done) {
&gt; 50 |         var cb &#x3D; after(2, function (err, res, line) {
     |        ^ Global Variable
  51 |           if (err) return done(err)
  52 |           assert.strictEqual(line, &#39;GET &#x2F;&#39;)
  53 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  54 |         })
  55 |
&gt; 56 |         var stream &#x3D; createLineStream(function (line) {
     |        ^ Global Variable
  57 |           cb(null, null, line)
  58 |         })
  59 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  64 |
  65 |       it(&#39;should accept format as function&#39;, function (done) {
&gt; 66 |         var cb &#x3D; after(2, function (err, res, line) {
     |        ^ Global Variable
  67 |           if (err) return done(err)
  68 |           assert.strictEqual(line, &#39;GET &#x2F; 200&#39;)
  69 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  70 |         })
  71 |
&gt; 72 |         var stream &#x3D; createLineStream(function (line) {
     |        ^ Global Variable
  73 |           cb(null, null, line)
  74 |         })
  75 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  89 |       describe(&#39;back-compat&#39;, function () {
  90 |         it(&#39;should accept options object&#39;, function (done) {
&gt; 91 |           var cb &#x3D; after(2, function (err, res, line) {
     |          ^ Global Variable
  92 |             if (err) return done(err)
  93 |             assert(res.text.length &gt; 0)
  94 |             assert.strictEqual(line.substr(0, res.text.length), res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>   96 |           })
   97 |
&gt;  98 |           var stream &#x3D; createLineStream(function (line) {
      |          ^ Global Variable
   99 |             cb(null, null, line)
  100 |           })
  101 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  106 |
  107 |         it(&#39;should accept format in options for back-compat&#39;, function (done) {
&gt; 108 |           var cb &#x3D; after(2, function (err, res, line) {
      |          ^ Global Variable
  109 |             if (err) return done(err)
  110 |             assert.strictEqual(line, &#39;GET &#x2F;&#39;)
  111 |             done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  112 |           })
  113 |
&gt; 114 |           var stream &#x3D; createLineStream(function (line) {
      |          ^ Global Variable
  115 |             cb(null, null, line)
  116 |           })
  117 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  122 |
  123 |         it(&#39;should accept format function in options for back-compat&#39;, function (done) {
&gt; 124 |           var cb &#x3D; after(2, function (err, res, line) {
      |          ^ Global Variable
  125 |             if (err) return done(err)
  126 |             assert.strictEqual(line, &#39;apple&#39;)
  127 |             done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  128 |           })
  129 |
&gt; 130 |           var stream &#x3D; createLineStream(function (line) {
      |          ^ Global Variable
  131 |             cb(null, null, line)
  132 |           })
  133 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  155 |
  156 |       it(&#39;should default to process.stdout&#39;, function (done) {
&gt; 157 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  158 |           if (err) return done(err)
  159 |           assert(res.text.length &gt; 0)
  160 |           assert.strictEqual(line.substr(0, res.text.length), res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  162 |         })
  163 |
&gt; 164 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  165 |           cb(null, null, line)
  166 |         })
  167 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  176 |
  177 |       it(&#39;should set stream to write logs to&#39;, function (done) {
&gt; 178 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  179 |           if (err) return done(err)
  180 |           assert(res.text.length &gt; 0)
  181 |           assert.strictEqual(line.substr(0, res.text.length), res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  183 |         })
  184 |
&gt; 185 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  186 |           cb(null, null, line)
  187 |         })
  188 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  197 |     describe(&#39;:date&#39;, function () {
  198 |       it(&#39;should get current date in &quot;web&quot; format by default&#39;, function (done) {
&gt; 199 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  200 |           if (err) return done(err)
  201 |           assert.ok(&#x2F;^\w{3}, \d{2} \w{3} \d{4} \d{2}:\d{2}:\d{2} GMT$&#x2F;.test(line))
  202 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  203 |         })
  204 |
&gt; 205 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  206 |           cb(null, null, line)
  207 |         })
  208 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  213 |
  214 |       it(&#39;should get current date in &quot;clf&quot; format&#39;, function (done) {
&gt; 215 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  216 |           if (err) return done(err)
  217 |           assert.ok(&#x2F;^\d{2}\&#x2F;\w{3}\&#x2F;\d{4}:\d{2}:\d{2}:\d{2} \+0000$&#x2F;.test(line))
  218 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  219 |         })
  220 |
&gt; 221 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  222 |           cb(null, null, line)
  223 |         })
  224 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  229 |
  230 |       it(&#39;should get current date in &quot;iso&quot; format&#39;, function (done) {
&gt; 231 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  232 |           if (err) return done(err)
  233 |           assert.ok(&#x2F;^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z$&#x2F;.test(line))
  234 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  235 |         })
  236 |
&gt; 237 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  238 |           cb(null, null, line)
  239 |         })
  240 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  245 |
  246 |       it(&#39;should get current date in &quot;web&quot; format&#39;, function (done) {
&gt; 247 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  248 |           if (err) return done(err)
  249 |           assert.ok(&#x2F;^\w{3}, \d{2} \w{3} \d{4} \d{2}:\d{2}:\d{2} GMT$&#x2F;.test(line))
  250 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  251 |         })
  252 |
&gt; 253 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  254 |           cb(null, null, line)
  255 |         })
  256 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  261 |
  262 |       it(&#39;should be blank for unknown format&#39;, function (done) {
&gt; 263 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  264 |           if (err) return done(err)
  265 |           assert.strictEqual(line, &#39;-&#39;)
  266 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  267 |         })
  268 |
&gt; 269 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  270 |           cb(null, null, line)
  271 |         })
  272 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  279 |     describe(&#39;:http-version&#39;, function () {
  280 |       it(&#39;should be 1.0 or 1.1&#39;, function (done) {
&gt; 281 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  282 |           if (err) return done(err)
  283 |           assert.ok(&#x2F;^1\.[01]$&#x2F;.test(line))
  284 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  285 |         })
  286 |
&gt; 287 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  288 |           cb(null, null, line)
  289 |         })
  290 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  297 |     describe(&#39;:req&#39;, function () {
  298 |       it(&#39;should get request properties&#39;, function (done) {
&gt; 299 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  300 |           if (err) return done(err)
  301 |           assert.strictEqual(line, &#39;me&#39;)
  302 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  303 |         })
  304 |
&gt; 305 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  306 |           cb(null, null, line)
  307 |         })
  308 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  314 |
  315 |       it(&#39;should display all values of array headers&#39;, function (done) {
&gt; 316 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  317 |           if (err) return done(err)
  318 |           assert.strictEqual(line, &#39;foo&#x3D;bar, fizz&#x3D;buzz&#39;)
  319 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  320 |         })
  321 |
&gt; 322 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  323 |           cb(null, null, line)
  324 |         })
  325 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  333 |     describe(&#39;:res&#39;, function () {
  334 |       it(&#39;should get response properties&#39;, function (done) {
&gt; 335 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  336 |           if (err) return done(err)
  337 |           assert.strictEqual(line, &#39;true&#39;)
  338 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  339 |         })
  340 |
&gt; 341 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  342 |           cb(null, null, line)
  343 |         })
  344 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  349 |
  350 |       it(&#39;should display all values of array headers&#39;, function (done) {
&gt; 351 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  352 |           if (err) return done(err)
  353 |           assert.strictEqual(line, &#39;foo, bar&#39;)
  354 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  355 |         })
  356 |
&gt; 357 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  358 |           cb(null, null, line)
  359 |         })
  360 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  359 |         })
  360 |
&gt; 361 |         var server &#x3D; createServer(&#39;:res[x-keys]&#39;, { stream: stream }, function (req, res, next) {
      |        ^ Global Variable
  362 |           res.setHeader(&#39;X-Keys&#39;, [&#39;foo&#39;, &#39;bar&#39;])
  363 |           next()
  364 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  373 |     describe(&#39;:remote-addr&#39;, function () {
  374 |       it(&#39;should get remote address&#39;, function (done) {
&gt; 375 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  376 |           if (err) return done(err)
  377 |           assert.ok(res.text.length &gt; 0)
  378 |           assert.strictEqual(line, res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  380 |         })
  381 |
&gt; 382 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  383 |           cb(null, null, line)
  384 |         })
  385 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  390 |
  391 |       it(&#39;should use req.ip if there&#39;, function (done) {
&gt; 392 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  393 |           if (err) return done(err)
  394 |           assert.strictEqual(line, &#39;10.0.0.1&#39;)
  395 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  396 |         })
  397 |
&gt; 398 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  399 |           cb(null, null, line)
  400 |         })
  401 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  400 |         })
  401 |
&gt; 402 |         var server &#x3D; createServer(&#39;:remote-addr&#39;, { stream: stream }, null, function (req) {
      |        ^ Global Variable
  403 |           req.ip &#x3D; &#39;10.0.0.1&#39;
  404 |         })
  405 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  410 |
  411 |       it(&#39;should work on https server&#39;, function (done) {
&gt; 412 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  413 |           if (err) return done(err)
  414 |           assert.ok(res.text.length &gt; 0)
  415 |           assert.strictEqual(line, res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  417 |         })
  418 |
&gt; 419 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  420 |           cb(null, null, line)
  421 |         })
  422 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  421 |         })
  422 |
&gt; 423 |         var server &#x3D; createSecureServer(&#39;:remote-addr&#39;, { stream: stream })
      |        ^ Global Variable
  424 |
  425 |         request(server)
  426 |           .get(&#39;&#x2F;&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  430 |
  431 |       it(&#39;should work when connection: close&#39;, function (done) {
&gt; 432 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  433 |           if (err) return done(err)
  434 |           assert.ok(res.text.length &gt; 0)
  435 |           assert.strictEqual(line, res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  437 |         })
  438 |
&gt; 439 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  440 |           cb(null, null, line)
  441 |         })
  442 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  448 |
  449 |       it(&#39;should work when connection: keep-alive&#39;, function (done) {
&gt; 450 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  451 |           if (err) return done(err)
  452 |           assert.ok(res.text.length &gt; 0)
  453 |           assert.strictEqual(line, res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  457 |         })
  458 |
&gt; 459 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  460 |           cb(null, null, line)
  461 |         })
  462 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  461 |         })
  462 |
&gt; 463 |         var server &#x3D; createServer(&#39;:remote-addr&#39;, { stream: stream }, function (req, res, next) {
      |        ^ Global Variable
  464 |           delete req._remoteAddress
  465 |           next()
  466 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  473 |
  474 |       it(&#39;should work when req.ip is a getter&#39;, function (done) {
&gt; 475 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  476 |           if (err) return done(err)
  477 |           assert.strictEqual(line, &#39;10.0.0.1&#39;)
  478 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  479 |         })
  480 |
&gt; 481 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  482 |           cb(null, null, line)
  483 |         })
  484 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  483 |         })
  484 |
&gt; 485 |         var server &#x3D; createServer(&#39;:remote-addr&#39;, { stream: stream }, null, function (req) {
      |        ^ Global Variable
  486 |           Object.defineProperty(req, &#39;ip&#39;, {
  487 |             get: function () { return req.connection.remoteAddress ? &#39;10.0.0.1&#39; : undefined }
  488 |           })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  496 |
  497 |       it(&#39;should not fail if req.connection missing&#39;, function (done) {
&gt; 498 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  499 |           if (err) return done(err)
  500 |           assert.ok(res.text.length &gt; 0)
  501 |           assert.strictEqual(line, res.text)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  505 |         })
  506 |
&gt; 507 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  508 |           cb(null, null, line)
  509 |         })
  510 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  509 |         })
  510 |
&gt; 511 |         var server &#x3D; createServer(&#39;:remote-addr&#39;, { stream: stream }, null, function (req) {
      |        ^ Global Variable
  512 |           delete req.connection
  513 |         })
  514 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  522 |     describe(&#39;:remote-user&#39;, function () {
  523 |       it(&#39;should be empty if none present&#39;, function (done) {
&gt; 524 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  525 |           if (err) return done(err)
  526 |           assert.strictEqual(line, &#39;-&#39;)
  527 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  528 |         })
  529 |
&gt; 530 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  531 |           cb(null, null, line)
  532 |         })
  533 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  538 |
  539 |       it(&#39;should support Basic authorization&#39;, function (done) {
&gt; 540 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  541 |           if (err) return done(err)
  542 |           assert.strictEqual(line, &#39;tj&#39;)
  543 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  544 |         })
  545 |
&gt; 546 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  547 |           cb(null, null, line)
  548 |         })
  549 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  555 |
  556 |       it(&#39;should be empty for empty Basic authorization user&#39;, function (done) {
&gt; 557 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  558 |           if (err) return done(err)
  559 |           assert.strictEqual(line, &#39;-&#39;)
  560 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  561 |         })
  562 |
&gt; 563 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  564 |           cb(null, null, line)
  565 |         })
  566 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  574 |     describe(&#39;:response-time&#39;, function () {
  575 |       it(&#39;should be in milliseconds&#39;, function (done) {
&gt; 576 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  577 |           if (err) return done(err)
  578 |           var end &#x3D; Date.now()
  579 |           var ms &#x3D; parseFloat(line)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  576 |         var cb &#x3D; after(2, function (err, res, line) {
  577 |           if (err) return done(err)
&gt; 578 |           var end &#x3D; Date.now()
      |          ^ Global Variable
  579 |           var ms &#x3D; parseFloat(line)
  580 |           assert(ms &gt; 0)
  581 |           assert(ms &lt; end - start + 1)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  577 |           if (err) return done(err)
  578 |           var end &#x3D; Date.now()
&gt; 579 |           var ms &#x3D; parseFloat(line)
      |          ^ Global Variable
  580 |           assert(ms &gt; 0)
  581 |           assert(ms &lt; end - start + 1)
  582 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  583 |         })
  584 |
&gt; 585 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  586 |           cb(null, null, line)
  587 |         })
  588 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  587 |         })
  588 |
&gt; 589 |         var start &#x3D; Date.now()
      |        ^ Global Variable
  590 |
  591 |         request(createServer(&#39;:response-time&#39;, { stream: stream }))
  592 |           .get(&#39;&#x2F;&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  595 |
  596 |       it(&#39;should have three digits by default&#39;, function (done) {
&gt; 597 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  598 |           if (err) return done(err)
  599 |           assert.ok(&#x2F;^[0-9]+\.[0-9]{3}$&#x2F;.test(line))
  600 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  601 |         })
  602 |
&gt; 603 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  604 |           cb(null, null, line)
  605 |         })
  606 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  611 |
  612 |       it(&#39;should have five digits with argument &quot;5&quot;&#39;, function (done) {
&gt; 613 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  614 |           if (err) return done(err)
  615 |           assert.ok(&#x2F;^[0-9]+\.[0-9]{5}$&#x2F;.test(line))
  616 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  617 |         })
  618 |
&gt; 619 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  620 |           cb(null, null, line)
  621 |         })
  622 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  627 |
  628 |       it(&#39;should have no digits with argument &quot;0&quot;&#39;, function (done) {
&gt; 629 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  630 |           if (err) return done(err)
  631 |           assert.ok(&#x2F;^[0-9]+$&#x2F;.test(line))
  632 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  633 |         })
  634 |
&gt; 635 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  636 |           cb(null, null, line)
  637 |         })
  638 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  643 |
  644 |       it(&#39;should not include response write time&#39;, function (done) {
&gt; 645 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  646 |           if (err) return done(err)
  647 |           var end &#x3D; Date.now()
  648 |           var ms &#x3D; parseFloat(line)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  645 |         var cb &#x3D; after(2, function (err, res, line) {
  646 |           if (err) return done(err)
&gt; 647 |           var end &#x3D; Date.now()
      |          ^ Global Variable
  648 |           var ms &#x3D; parseFloat(line)
  649 |           assert(ms &gt; 0)
  650 |           assert(ms &lt; end - start + 1)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  646 |           if (err) return done(err)
  647 |           var end &#x3D; Date.now()
&gt; 648 |           var ms &#x3D; parseFloat(line)
      |          ^ Global Variable
  649 |           assert(ms &gt; 0)
  650 |           assert(ms &lt; end - start + 1)
  651 |           assert(ms &lt; write - start + 1)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  653 |         })
  654 |
&gt; 655 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  656 |           cb(null, null, line)
  657 |         })
  658 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  657 |         })
  658 |
&gt; 659 |         var server &#x3D; createServer(&#39;:response-time&#39;, { stream: stream }, function (req, res) {
      |        ^ Global Variable
  660 |           res.write(&#39;hello, &#39;)
  661 |           write &#x3D; Date.now()
  662 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  666 |         })
  667 |
&gt; 668 |         var start &#x3D; Date.now()
      |        ^ Global Variable
  669 |         var write &#x3D; null
  670 |
  671 |         request(server)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  667 |
  668 |         var start &#x3D; Date.now()
&gt; 669 |         var write &#x3D; null
      |        ^ Global Variable
  670 |
  671 |         request(server)
  672 |           .get(&#39;&#x2F;&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  675 |
  676 |       it(&#39;should be empty without hidden property&#39;, function (done) {
&gt; 677 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  678 |           if (err) return done(err)
  679 |           assert.strictEqual(line, &#39;-&#39;)
  680 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  681 |         })
  682 |
&gt; 683 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  684 |           cb(null, null, line)
  685 |         })
  686 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  685 |         })
  686 |
&gt; 687 |         var server &#x3D; createServer(&#39;:response-time&#39;, { stream: stream }, function (req, res, next) {
      |        ^ Global Variable
  688 |           delete req._startAt
  689 |           next()
  690 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  696 |
  697 |       it(&#39;should be empty before response&#39;, function (done) {
&gt; 698 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  699 |           if (err) return done(err)
  700 |           assert.strictEqual(line, &#39;-&#39;)
  701 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  702 |         })
  703 |
&gt; 704 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  705 |           cb(null, null, line)
  706 |         })
  707 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  706 |         })
  707 |
&gt; 708 |         var server &#x3D; createServer(&#39;:response-time&#39;, {
      |        ^ Global Variable
  709 |           immediate: true,
  710 |           stream: stream
  711 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  717 |
  718 |       it(&#39;should be empty if morgan invoked after response sent&#39;, function (done) {
&gt; 719 |         var cb &#x3D; after(3, function (err, res, line) {
      |        ^ Global Variable
  720 |           if (err) return done(err)
  721 |           assert.strictEqual(line, &#39;-&#39;)
  722 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  723 |         })
  724 |
&gt; 725 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  726 |           cb(null, null, line)
  727 |         })
  728 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  727 |         })
  728 |
&gt; 729 |         var logger &#x3D; morgan(&#39;:response-time&#39;, {
      |        ^ Global Variable
  730 |           immediate: true,
  731 |           stream: stream
  732 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  732 |         })
  733 |
&gt; 734 |         var server &#x3D; http.createServer(function (req, res) {
      |        ^ Global Variable
  735 |           setTimeout(function () {
  736 |             logger(req, res, cb)
  737 |           }, 10)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  748 |     describe(&#39;:status&#39;, function () {
  749 |       it(&#39;should get response status&#39;, function (done) {
&gt; 750 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  751 |           if (err) return done(err)
  752 |           assert.strictEqual(line, String(res.statusCode))
  753 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  754 |         })
  755 |
&gt; 756 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  757 |           cb(null, null, line)
  758 |         })
  759 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  764 |
  765 |       it(&#39;should not exist before response sent&#39;, function (done) {
&gt; 766 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  767 |           if (err) return done(err)
  768 |           assert.strictEqual(line, &#39;-&#39;)
  769 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  770 |         })
  771 |
&gt; 772 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  773 |           cb(null, null, line)
  774 |         })
  775 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  774 |         })
  775 |
&gt; 776 |         var server &#x3D; createServer(&#39;:status&#39;, {
      |        ^ Global Variable
  777 |           immediate: true,
  778 |           stream: stream
  779 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  785 |
  786 |       it(&#39;should not exist for aborted request&#39;, function (done) {
&gt; 787 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  788 |           assert.strictEqual(line, &#39;-&#39;)
  789 |           server.close(done)
  790 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  790 |         })
  791 |
&gt; 792 |         var server &#x3D; createServer(&#39;:status&#39;, { stream: stream }, function () {
      |        ^ Global Variable
  793 |           test.abort()
  794 |         })
  795 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  794 |         })
  795 |
&gt; 796 |         var test &#x3D; request(server).post(&#39;&#x2F;&#39;)
      |        ^ Global Variable
  797 |         test.write(&#39;0&#39;)
  798 |       })
  799 |     })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  801 |     describe(&#39;:total-time&#39;, function () {
  802 |       it(&#39;should be in milliseconds&#39;, function (done) {
&gt; 803 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  804 |           if (err) return done(err)
  805 |           var end &#x3D; Date.now()
  806 |           var ms &#x3D; parseFloat(line)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  803 |         var cb &#x3D; after(2, function (err, res, line) {
  804 |           if (err) return done(err)
&gt; 805 |           var end &#x3D; Date.now()
      |          ^ Global Variable
  806 |           var ms &#x3D; parseFloat(line)
  807 |           assert(ms &gt; 0)
  808 |           assert(ms &lt; end - start + 1)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  804 |           if (err) return done(err)
  805 |           var end &#x3D; Date.now()
&gt; 806 |           var ms &#x3D; parseFloat(line)
      |          ^ Global Variable
  807 |           assert(ms &gt; 0)
  808 |           assert(ms &lt; end - start + 1)
  809 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  810 |         })
  811 |
&gt; 812 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  813 |           cb(null, null, line)
  814 |         })
  815 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  814 |         })
  815 |
&gt; 816 |         var start &#x3D; Date.now()
      |        ^ Global Variable
  817 |
  818 |         request(createServer(&#39;:total-time&#39;, { stream: stream }))
  819 |           .get(&#39;&#x2F;&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  822 |
  823 |       it(&#39;should have three digits by default&#39;, function (done) {
&gt; 824 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  825 |           if (err) return done(err)
  826 |           assert.ok(&#x2F;^[0-9]+\.[0-9]{3}$&#x2F;.test(line))
  827 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  828 |         })
  829 |
&gt; 830 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  831 |           cb(null, null, line)
  832 |         })
  833 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  838 |
  839 |       it(&#39;should have five digits with argument &quot;5&quot;&#39;, function (done) {
&gt; 840 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  841 |           if (err) return done(err)
  842 |           assert.ok(&#x2F;^[0-9]+\.[0-9]{5}$&#x2F;.test(line))
  843 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  844 |         })
  845 |
&gt; 846 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  847 |           cb(null, null, line)
  848 |         })
  849 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  854 |
  855 |       it(&#39;should have no digits with argument &quot;0&quot;&#39;, function (done) {
&gt; 856 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  857 |           if (err) return done(err)
  858 |           assert.ok(&#x2F;^[0-9]+$&#x2F;.test(line))
  859 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  860 |         })
  861 |
&gt; 862 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  863 |           cb(null, null, line)
  864 |         })
  865 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  870 |
  871 |       it(&#39;should include response write time&#39;, function (done) {
&gt; 872 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  873 |           if (err) return done(err)
  874 |           var end &#x3D; Date.now()
  875 |           var ms &#x3D; parseFloat(line)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  872 |         var cb &#x3D; after(2, function (err, res, line) {
  873 |           if (err) return done(err)
&gt; 874 |           var end &#x3D; Date.now()
      |          ^ Global Variable
  875 |           var ms &#x3D; parseFloat(line)
  876 |           assert(ms &gt; 0)
  877 |           assert(ms &gt; write - start - 1)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  873 |           if (err) return done(err)
  874 |           var end &#x3D; Date.now()
&gt; 875 |           var ms &#x3D; parseFloat(line)
      |          ^ Global Variable
  876 |           assert(ms &gt; 0)
  877 |           assert(ms &gt; write - start - 1)
  878 |           assert(ms &lt; end - start + 1)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  880 |         })
  881 |
&gt; 882 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  883 |           cb(null, null, line)
  884 |         })
  885 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  884 |         })
  885 |
&gt; 886 |         var server &#x3D; createServer(&#39;:total-time&#39;, { stream: stream }, function (req, res) {
      |        ^ Global Variable
  887 |           res.write(&#39;hello, &#39;)
  888 |           write &#x3D; Date.now()
  889 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  893 |         })
  894 |
&gt; 895 |         var start &#x3D; Date.now()
      |        ^ Global Variable
  896 |         var write &#x3D; null
  897 |
  898 |         request(server)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  894 |
  895 |         var start &#x3D; Date.now()
&gt; 896 |         var write &#x3D; null
      |        ^ Global Variable
  897 |
  898 |         request(server)
  899 |           .get(&#39;&#x2F;&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  902 |
  903 |       it(&#39;should be empty without hidden property&#39;, function (done) {
&gt; 904 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  905 |           if (err) return done(err)
  906 |           assert.strictEqual(line, &#39;-&#39;)
  907 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  908 |         })
  909 |
&gt; 910 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  911 |           cb(null, null, line)
  912 |         })
  913 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  912 |         })
  913 |
&gt; 914 |         var server &#x3D; createServer(&#39;:total-time&#39;, { stream: stream }, function (req, res, next) {
      |        ^ Global Variable
  915 |           delete req._startAt
  916 |           next()
  917 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  923 |
  924 |       it(&#39;should be empty before response&#39;, function (done) {
&gt; 925 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  926 |           if (err) return done(err)
  927 |           assert.strictEqual(line, &#39;-&#39;)
  928 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  929 |         })
  930 |
&gt; 931 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  932 |           cb(null, null, line)
  933 |         })
  934 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  933 |         })
  934 |
&gt; 935 |         var server &#x3D; createServer(&#39;:total-time&#39;, {
      |        ^ Global Variable
  936 |           immediate: true,
  937 |           stream: stream
  938 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  944 |
  945 |       it(&#39;should be empty if morgan invoked after response sent&#39;, function (done) {
&gt; 946 |         var cb &#x3D; after(3, function (err, res, line) {
      |        ^ Global Variable
  947 |           if (err) return done(err)
  948 |           assert.strictEqual(line, &#39;-&#39;)
  949 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  950 |         })
  951 |
&gt; 952 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  953 |           cb(null, null, line)
  954 |         })
  955 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  954 |         })
  955 |
&gt; 956 |         var logger &#x3D; morgan(&#39;:total-time&#39;, {
      |        ^ Global Variable
  957 |           immediate: true,
  958 |           stream: stream
  959 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  959 |         })
  960 |
&gt; 961 |         var server &#x3D; http.createServer(function (req, res) {
      |        ^ Global Variable
  962 |           setTimeout(function () {
  963 |             logger(req, res, cb)
  964 |           }, 10)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  975 |     describe(&#39;:url&#39;, function () {
  976 |       it(&#39;should get request URL&#39;, function (done) {
&gt; 977 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  978 |           if (err) return done(err)
  979 |           assert.strictEqual(line, &#39;&#x2F;foo&#39;)
  980 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  981 |         })
  982 |
&gt; 983 |         var stream &#x3D; createLineStream(function (line) {
      |        ^ Global Variable
  984 |           cb(null, null, line)
  985 |         })
  986 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  991 |
  992 |       it(&#39;should use req.originalUrl if exists&#39;, function (done) {
&gt; 993 |         var cb &#x3D; after(2, function (err, res, line) {
      |        ^ Global Variable
  994 |           if (err) return done(err)
  995 |           assert.strictEqual(line, &#39;&#x2F;bar&#39;)
  996 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>   997 |         })
   998 |
&gt;  999 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1000 |           cb(null, null, line)
  1001 |         })
  1002 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1001 |         })
  1002 |
&gt; 1003 |         var server &#x3D; createServer(&#39;:url&#39;, { stream: stream }, function (req, res, next) {
       |        ^ Global Variable
  1004 |           req.originalUrl &#x3D; &#39;&#x2F;bar&#39;
  1005 |           next()
  1006 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1012 |
  1013 |       it(&#39;should not exist for aborted request&#39;, function (done) {
&gt; 1014 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1015 |           assert.strictEqual(line, &#39;-&#39;)
  1016 |           server.close(done)
  1017 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1017 |         })
  1018 |
&gt; 1019 |         var server &#x3D; createServer(&#39;:status&#39;, { stream: stream }, function () {
       |        ^ Global Variable
  1020 |           test.abort()
  1021 |         })
  1022 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1021 |         })
  1022 |
&gt; 1023 |         var test &#x3D; request(server).post(&#39;&#x2F;&#39;)
       |        ^ Global Variable
  1024 |         test.write(&#39;0&#39;)
  1025 |       })
  1026 |     })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1030 |     describe(&#39;a function&#39;, function () {
  1031 |       it(&#39;should log result of function&#39;, function (done) {
&gt; 1032 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1033 |           if (err) return done(err)
  1034 |           assert.strictEqual(line, &#39;GET &#x2F; 200&#39;)
  1035 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1036 |         })
  1037 |
&gt; 1038 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1039 |           cb(null, null, line)
  1040 |         })
  1041 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1050 |
  1051 |       it(&#39;should not log for undefined return&#39;, function (done) {
&gt; 1052 |         var stream &#x3D; createLineStream(function () {
       |        ^ Global Variable
  1053 |           throw new Error(&#39;should not log line&#39;)
  1054 |         })
  1055 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1064 |
  1065 |       it(&#39;should not log for null return&#39;, function (done) {
&gt; 1066 |         var stream &#x3D; createLineStream(function () {
       |        ^ Global Variable
  1067 |           throw new Error(&#39;should not log line&#39;)
  1068 |         })
  1069 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1080 |     describe(&#39;a string&#39;, function () {
  1081 |       it(&#39;should accept format as format string of tokens&#39;, function (done) {
&gt; 1082 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1083 |           if (err) return done(err)
  1084 |           assert.strictEqual(line, &#39;GET &#x2F;&#39;)
  1085 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1086 |         })
  1087 |
&gt; 1088 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1089 |           cb(null, null, line)
  1090 |         })
  1091 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1096 |
  1097 |       it(&#39;should accept text mixed with tokens&#39;, function (done) {
&gt; 1098 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1099 |           if (err) return done(err)
  1100 |           assert.strictEqual(line, &#39;method&#x3D;GET url&#x3D;&#x2F;&#39;)
  1101 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1102 |         })
  1103 |
&gt; 1104 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1105 |           cb(null, null, line)
  1106 |         })
  1107 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1112 |
  1113 |       it(&#39;should accept special characters&#39;, function (done) {
&gt; 1114 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1115 |           if (err) return done(err)
  1116 |           assert.strictEqual(line, &#39;LOCAL\\tobi &quot;GET &#x2F;&quot; 200&#39;)
  1117 |           done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1118 |         })
  1119 |
&gt; 1120 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1121 |           cb(null, null, line)
  1122 |         })
  1123 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1131 |     describe(&#39;combined&#39;, function () {
  1132 |       it(&#39;should match expectations&#39;, function (done) {
&gt; 1133 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1134 |           if (err) return done(err)
  1135 |           var masked &#x3D; line.replace(&#x2F;\d{2}\&#x2F;\w{3}\&#x2F;\d{4}:\d{2}:\d{2}:\d{2} \+0000&#x2F;, &#39;_timestamp_&#39;)
  1136 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 - &quot;http:&#x2F;&#x2F;localhost&#x2F;&quot; &quot;my-ua&quot;&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1133 |         var cb &#x3D; after(2, function (err, res, line) {
  1134 |           if (err) return done(err)
&gt; 1135 |           var masked &#x3D; line.replace(&#x2F;\d{2}\&#x2F;\w{3}\&#x2F;\d{4}:\d{2}:\d{2}:\d{2} \+0000&#x2F;, &#39;_timestamp_&#39;)
       |          ^ Global Variable
  1136 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 - &quot;http:&#x2F;&#x2F;localhost&#x2F;&quot; &quot;my-ua&quot;&#39;)
  1137 |           done()
  1138 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1138 |         })
  1139 |
&gt; 1140 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1141 |           cb(null, null, line)
  1142 |         })
  1143 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1153 |     describe(&#39;common&#39;, function () {
  1154 |       it(&#39;should match expectations&#39;, function (done) {
&gt; 1155 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1156 |           if (err) return done(err)
  1157 |           var masked &#x3D; line.replace(&#x2F;\d{2}\&#x2F;\w{3}\&#x2F;\d{4}:\d{2}:\d{2}:\d{2} \+0000&#x2F;, &#39;_timestamp_&#39;)
  1158 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1155 |         var cb &#x3D; after(2, function (err, res, line) {
  1156 |           if (err) return done(err)
&gt; 1157 |           var masked &#x3D; line.replace(&#x2F;\d{2}\&#x2F;\w{3}\&#x2F;\d{4}:\d{2}:\d{2}:\d{2} \+0000&#x2F;, &#39;_timestamp_&#39;)
       |          ^ Global Variable
  1158 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 -&#39;)
  1159 |           done()
  1160 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1160 |         })
  1161 |
&gt; 1162 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1163 |           cb(null, null, line)
  1164 |         })
  1165 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1173 |     describe(&#39;default&#39;, function () {
  1174 |       it(&#39;should match expectations&#39;, function (done) {
&gt; 1175 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1176 |           if (err) return done(err)
  1177 |           var masked &#x3D; line.replace(&#x2F;\w+, \d+ \w+ \d+ \d+:\d+:\d+ \w+&#x2F;, &#39;_timestamp_&#39;)
  1178 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 - &quot;http:&#x2F;&#x2F;localhost&#x2F;&quot; &quot;my-ua&quot;&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1175 |         var cb &#x3D; after(2, function (err, res, line) {
  1176 |           if (err) return done(err)
&gt; 1177 |           var masked &#x3D; line.replace(&#x2F;\w+, \d+ \w+ \d+ \d+:\d+:\d+ \w+&#x2F;, &#39;_timestamp_&#39;)
       |          ^ Global Variable
  1178 |           assert.strictEqual(masked, res.text + &#39; - tj [_timestamp_] &quot;GET &#x2F; HTTP&#x2F;1.1&quot; 200 - &quot;http:&#x2F;&#x2F;localhost&#x2F;&quot; &quot;my-ua&quot;&#39;)
  1179 |           done()
  1180 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1180 |         })
  1181 |
&gt; 1182 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1183 |           cb(null, null, line)
  1184 |         })
  1185 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1195 |     describe(&#39;dev&#39;, function () {
  1196 |       it(&#39;should not color 1xx&#39;, function (done) {
&gt; 1197 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1198 |           if (err) return done(err)
  1199 |           assert.strictEqual(line.substr(0, 36), &#39;_color_0_GET &#x2F; _color_0_102_color_0_&#39;)
  1200 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1202 |         })
  1203 |
&gt; 1204 |         var stream &#x3D; createColorLineStream(function onLine (line) {
       |        ^ Global Variable
  1205 |           cb(null, null, line)
  1206 |         })
  1207 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1206 |         })
  1207 |
&gt; 1208 |         var server &#x3D; createServer(&#39;dev&#39;, { stream: stream }, function (req, res, next) {
       |        ^ Global Variable
  1209 |           res.statusCode &#x3D; 102
  1210 |           next()
  1211 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1226 |
  1227 |       it(&#39;should color 2xx green&#39;, function (done) {
&gt; 1228 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1229 |           if (err) return done(err)
  1230 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_32_200_color_0_&#39;)
  1231 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1233 |         })
  1234 |
&gt; 1235 |         var stream &#x3D; createColorLineStream(function onLine (line) {
       |        ^ Global Variable
  1236 |           cb(null, null, line)
  1237 |         })
  1238 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1237 |         })
  1238 |
&gt; 1239 |         var server &#x3D; createServer(&#39;dev&#39;, { stream: stream }, function (req, res, next) {
       |        ^ Global Variable
  1240 |           res.statusCode &#x3D; 200
  1241 |           next()
  1242 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1248 |
  1249 |       it(&#39;should color 3xx cyan&#39;, function (done) {
&gt; 1250 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1251 |           if (err) return done(err)
  1252 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_36_300_color_0_&#39;)
  1253 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1255 |         })
  1256 |
&gt; 1257 |         var stream &#x3D; createColorLineStream(function onLine (line) {
       |        ^ Global Variable
  1258 |           cb(null, null, line)
  1259 |         })
  1260 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1259 |         })
  1260 |
&gt; 1261 |         var server &#x3D; createServer(&#39;dev&#39;, { stream: stream }, function (req, res, next) {
       |        ^ Global Variable
  1262 |           res.statusCode &#x3D; 300
  1263 |           next()
  1264 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1270 |
  1271 |       it(&#39;should color 4xx yelow&#39;, function (done) {
&gt; 1272 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1273 |           if (err) return done(err)
  1274 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_33_400_color_0_&#39;)
  1275 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1277 |         })
  1278 |
&gt; 1279 |         var stream &#x3D; createColorLineStream(function onLine (line) {
       |        ^ Global Variable
  1280 |           cb(null, null, line)
  1281 |         })
  1282 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1281 |         })
  1282 |
&gt; 1283 |         var server &#x3D; createServer(&#39;dev&#39;, { stream: stream }, function (req, res, next) {
       |        ^ Global Variable
  1284 |           res.statusCode &#x3D; 400
  1285 |           next()
  1286 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1292 |
  1293 |       it(&#39;should color 5xx red&#39;, function (done) {
&gt; 1294 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1295 |           if (err) return done(err)
  1296 |           assert.strictEqual(line.substr(0, 37), &#39;_color_0_GET &#x2F; _color_31_500_color_0_&#39;)
  1297 |           assert.strictEqual(line.substr(-9), &#39;_color_0_&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1299 |         })
  1300 |
&gt; 1301 |         var stream &#x3D; createColorLineStream(function onLine (line) {
       |        ^ Global Variable
  1302 |           cb(null, null, line)
  1303 |         })
  1304 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1303 |         })
  1304 |
&gt; 1305 |         var server &#x3D; createServer(&#39;dev&#39;, { stream: stream }, function (req, res, next) {
       |        ^ Global Variable
  1306 |           res.statusCode &#x3D; 500
  1307 |           next()
  1308 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1315 |       describe(&#39;with &quot;immediate: true&quot; option&#39;, function () {
  1316 |         it(&#39;should not have color or response values&#39;, function (done) {
&gt; 1317 |           var cb &#x3D; after(2, function (err, res, line) {
       |          ^ Global Variable
  1318 |             if (err) return done(err)
  1319 |             assert.strictEqual(line, &#39;_color_0_GET &#x2F; _color_0_-_color_0_ - ms - -_color_0_&#39;)
  1320 |             done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1321 |           })
  1322 |
&gt; 1323 |           var stream &#x3D; createColorLineStream(function onLine (line) {
       |          ^ Global Variable
  1324 |             cb(null, null, line)
  1325 |           })
  1326 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1325 |           })
  1326 |
&gt; 1327 |           var server &#x3D; createServer(&#39;dev&#39;, {
       |          ^ Global Variable
  1328 |             immediate: true,
  1329 |             stream: stream
  1330 |           })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1339 |     describe(&#39;short&#39;, function () {
  1340 |       it(&#39;should match expectations&#39;, function (done) {
&gt; 1341 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1342 |           if (err) return done(err)
  1343 |           var masked &#x3D; line.replace(&#x2F;\d+\.\d{3} ms&#x2F;, &#39;_timer_&#39;)
  1344 |           assert.strictEqual(masked, res.text + &#39; tj GET &#x2F; HTTP&#x2F;1.1 200 - - _timer_&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1341 |         var cb &#x3D; after(2, function (err, res, line) {
  1342 |           if (err) return done(err)
&gt; 1343 |           var masked &#x3D; line.replace(&#x2F;\d+\.\d{3} ms&#x2F;, &#39;_timer_&#39;)
       |          ^ Global Variable
  1344 |           assert.strictEqual(masked, res.text + &#39; tj GET &#x2F; HTTP&#x2F;1.1 200 - - _timer_&#39;)
  1345 |           done()
  1346 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1346 |         })
  1347 |
&gt; 1348 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1349 |           cb(null, null, line)
  1350 |         })
  1351 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1359 |     describe(&#39;tiny&#39;, function () {
  1360 |       it(&#39;should match expectations&#39;, function (done) {
&gt; 1361 |         var cb &#x3D; after(2, function (err, res, line) {
       |        ^ Global Variable
  1362 |           if (err) return done(err)
  1363 |           var masked &#x3D; line.replace(&#x2F;\d+\.\d{3} ms&#x2F;, &#39;_timer_&#39;)
  1364 |           assert.strictEqual(masked, &#39;GET &#x2F; 200 - - _timer_&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1361 |         var cb &#x3D; after(2, function (err, res, line) {
  1362 |           if (err) return done(err)
&gt; 1363 |           var masked &#x3D; line.replace(&#x2F;\d+\.\d{3} ms&#x2F;, &#39;_timer_&#39;)
       |          ^ Global Variable
  1364 |           assert.strictEqual(masked, &#39;GET &#x2F; 200 - - _timer_&#39;)
  1365 |           done()
  1366 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1366 |         })
  1367 |
&gt; 1368 |         var stream &#x3D; createLineStream(function (line) {
       |        ^ Global Variable
  1369 |           cb(null, null, line)
  1370 |         })
  1371 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1379 |   describe(&#39;with buffer option&#39;, function () {
  1380 |     it(&#39;should flush log periodically&#39;, function (done) {
&gt; 1381 |       var cb &#x3D; after(2, function (err, res, log) {
       |      ^ Global Variable
  1382 |         if (err) return done(err)
  1383 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
  1384 |         assert.ok(Date.now() - time &gt;&#x3D; 1000)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1386 |         done()
  1387 |       })
&gt; 1388 |       var server &#x3D; createServer(&#39;:method :url&#39;, {
       |      ^ Global Variable
  1389 |         buffer: true,
  1390 |         stream: { write: writeLog }
  1391 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1390 |         stream: { write: writeLog }
  1391 |       })
&gt; 1392 |       var time &#x3D; Date.now()
       |      ^ Global Variable
  1393 |
  1394 |       function writeLog (log) {
  1395 |         cb(null, null, log)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1407 |
  1408 |     it(&#39;should accept custom interval&#39;, function (done) {
&gt; 1409 |       var cb &#x3D; after(2, function (err, res, log) {
       |      ^ Global Variable
  1410 |         if (err) return done(err)
  1411 |         assert.strictEqual(log, &#39;GET &#x2F;first\nGET &#x2F;second\n&#39;)
  1412 |         assert.ok(Date.now() - time &gt;&#x3D; 200)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1414 |         done()
  1415 |       })
&gt; 1416 |       var server &#x3D; createServer(&#39;:method :url&#39;, {
       |      ^ Global Variable
  1417 |         buffer: 200,
  1418 |         stream: { write: writeLog }
  1419 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1418 |         stream: { write: writeLog }
  1419 |       })
&gt; 1420 |       var time &#x3D; Date.now()
       |      ^ Global Variable
  1421 |
  1422 |       function writeLog (log) {
  1423 |         cb(null, null, log)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1437 |   describe(&#39;with immediate option&#39;, function () {
  1438 |     it(&#39;should not have value for :res&#39;, function (done) {
&gt; 1439 |       var cb &#x3D; after(2, function (err, res, line) {
       |      ^ Global Variable
  1440 |         if (err) return done(err)
  1441 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
  1442 |         done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1443 |       })
  1444 |
&gt; 1445 |       var stream &#x3D; createLineStream(function (line) {
       |      ^ Global Variable
  1446 |         cb(null, null, line)
  1447 |       })
  1448 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1447 |       })
  1448 |
&gt; 1449 |       var server &#x3D; createServer(&#39;:method :url :res[x-sent]&#39;, {
       |      ^ Global Variable
  1450 |         immediate: true,
  1451 |         stream: stream
  1452 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1458 |
  1459 |     it(&#39;should not have value for :response-time&#39;, function (done) {
&gt; 1460 |       var cb &#x3D; after(2, function (err, res, line) {
       |      ^ Global Variable
  1461 |         if (err) return done(err)
  1462 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
  1463 |         done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1464 |       })
  1465 |
&gt; 1466 |       var stream &#x3D; createLineStream(function (line) {
       |      ^ Global Variable
  1467 |         cb(null, null, line)
  1468 |       })
  1469 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1468 |       })
  1469 |
&gt; 1470 |       var server &#x3D; createServer(&#39;:method :url :response-time&#39;, {
       |      ^ Global Variable
  1471 |         immediate: true,
  1472 |         stream: stream
  1473 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1479 |
  1480 |     it(&#39;should not have value for :status&#39;, function (done) {
&gt; 1481 |       var cb &#x3D; after(2, function (err, res, line) {
       |      ^ Global Variable
  1482 |         if (err) return done(err)
  1483 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
  1484 |         done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1485 |       })
  1486 |
&gt; 1487 |       var stream &#x3D; createLineStream(function (line) {
       |      ^ Global Variable
  1488 |         cb(null, null, line)
  1489 |       })
  1490 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1489 |       })
  1490 |
&gt; 1491 |       var server &#x3D; createServer(&#39;:method :url :status&#39;, {
       |      ^ Global Variable
  1492 |         immediate: true,
  1493 |         stream: stream
  1494 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1500 |
  1501 |     it(&#39;should log before response&#39;, function (done) {
&gt; 1502 |       var lineLogged &#x3D; false
       |      ^ Global Variable
  1503 |       var cb &#x3D; after(2, function (err, res, line) {
  1504 |         if (err) return done(err)
  1505 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1501 |     it(&#39;should log before response&#39;, function (done) {
  1502 |       var lineLogged &#x3D; false
&gt; 1503 |       var cb &#x3D; after(2, function (err, res, line) {
       |      ^ Global Variable
  1504 |         if (err) return done(err)
  1505 |         assert.strictEqual(line, &#39;GET &#x2F; -&#39;)
  1506 |         done()</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1507 |       })
  1508 |
&gt; 1509 |       var stream &#x3D; createLineStream(function (line) {
       |      ^ Global Variable
  1510 |         lineLogged &#x3D; true
  1511 |         cb(null, null, line)
  1512 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1512 |       })
  1513 |
&gt; 1514 |       var server &#x3D; createServer(&#39;:method :url :res[x-sent]&#39;, { immediate: true, stream: stream }, function (req, res, next) {
       |      ^ Global Variable
  1515 |         assert.ok(lineLogged)
  1516 |         next()
  1517 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1525 |   describe(&#39;with skip option&#39;, function () {
  1526 |     it(&#39;should be able to skip based on request&#39;, function (done) {
&gt; 1527 |       var stream &#x3D; createLineStream(function () {
       |      ^ Global Variable
  1528 |         throw new Error(&#39;should not log line&#39;)
  1529 |       })
  1530 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1540 |
  1541 |     it(&#39;should be able to skip based on response&#39;, function (done) {
&gt; 1542 |       var stream &#x3D; createLineStream(function () {
       |      ^ Global Variable
  1543 |         throw new Error(&#39;should not log line&#39;)
  1544 |       })
  1545 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1571 |
  1572 |       it(&#39;should compile a string into a function&#39;, function () {
&gt; 1573 |         var fn &#x3D; morgan.compile(&#39;:method&#39;)
       |        ^ Global Variable
  1574 |         assert.ok(typeof fn &#x3D;&#x3D;&#x3D; &#39;function&#39;)
  1575 |         assert.ok(fn.length &#x3D;&#x3D;&#x3D; 3)
  1576 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1580 |
  1581 | function after (count, callback) {
&gt; 1582 |   var args &#x3D; new Array(3)
       |  ^ Global Variable
  1583 |   var i &#x3D; 0
  1584 |
  1585 |   return function (err, arg1, arg2) {</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1581 | function after (count, callback) {
  1582 |   var args &#x3D; new Array(3)
&gt; 1583 |   var i &#x3D; 0
       |  ^ Global Variable
  1584 |
  1585 |   return function (err, arg1, arg2) {
  1586 |     assert.ok(i++ &lt; count, &#39;callback called &#39; + count + &#39; times&#39;)</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1607 |
  1608 | function createRequestListener (format, opts, fn, fn1) {
&gt; 1609 |   var logger &#x3D; morgan(format, opts)
       |  ^ Global Variable
  1610 |   var middle &#x3D; fn || noopMiddleware
  1611 |
  1612 |   return function onRequest (req, res) {</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1608 | function createRequestListener (format, opts, fn, fn1) {
  1609 |   var logger &#x3D; morgan(format, opts)
&gt; 1610 |   var middle &#x3D; fn || noopMiddleware
       |  ^ Global Variable
  1611 |
  1612 |   return function onRequest (req, res) {
  1613 |     &#x2F;&#x2F; prior alterations</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1632 |
  1633 | function createSecureServer (format, opts, fn, fn1) {
&gt; 1634 |   var cert &#x3D; fs.readFileSync(join(__dirname, &#39;fixtures&#39;, &#39;server.crt&#39;), &#39;ascii&#39;)
       |  ^ Global Variable
  1635 |   var key &#x3D; fs.readFileSync(join(__dirname, &#39;fixtures&#39;, &#39;server.key&#39;), &#39;ascii&#39;)
  1636 |
  1637 |   return https.createServer({ cert: cert, key: key })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1633 | function createSecureServer (format, opts, fn, fn1) {
  1634 |   var cert &#x3D; fs.readFileSync(join(__dirname, &#39;fixtures&#39;, &#39;server.crt&#39;), &#39;ascii&#39;)
&gt; 1635 |   var key &#x3D; fs.readFileSync(join(__dirname, &#39;fixtures&#39;, &#39;server.key&#39;), &#39;ascii&#39;)
       |  ^ Global Variable
  1636 |
  1637 |   return https.createServer({ cert: cert, key: key })
  1638 |     .on(&#39;request&#39;, createRequestListener(format, opts, fn, fn1))</code></pre><br>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr>
                <table class="table is-fullwidth" id="table-of-smell">
                  <thead>
                    <tr>
                      <td>Sleepy Test</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <pre><code>  661 |           write &#x3D; Date.now()
  662 |
&gt; 663 |           setTimeout(function () {
      |          ^ Sleepy Test
  664 |             res.end(&#39;world!&#39;)
  665 |           }, 50)
  666 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  733 |
  734 |         var server &#x3D; http.createServer(function (req, res) {
&gt; 735 |           setTimeout(function () {
      |          ^ Sleepy Test
  736 |             logger(req, res, cb)
  737 |           }, 10)
  738 |</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  888 |           write &#x3D; Date.now()
  889 |
&gt; 890 |           setTimeout(function () {
      |          ^ Sleepy Test
  891 |             res.end(&#39;world!&#39;)
  892 |           }, 50)
  893 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  960 |
  961 |         var server &#x3D; http.createServer(function (req, res) {
&gt; 962 |           setTimeout(function () {
      |          ^ Sleepy Test
  963 |             logger(req, res, cb)
  964 |           }, 10)
  965 |</code></pre><br>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <hr>
                <table class="table is-fullwidth" id="table-of-smell">
                  <thead>
                    <tr>
                      <td>Unknown Test</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <pre><code>  1049 |       })
  1050 |
&gt; 1051 |       it(&#39;should not log for undefined return&#39;, function (done) {
       |      ^ Unknown Test
  1052 |         var stream &#x3D; createLineStream(function () {
  1053 |           throw new Error(&#39;should not log line&#39;)
  1054 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1063 |       })
  1064 |
&gt; 1065 |       it(&#39;should not log for null return&#39;, function (done) {
       |      ^ Unknown Test
  1066 |         var stream &#x3D; createLineStream(function () {
  1067 |           throw new Error(&#39;should not log line&#39;)
  1068 |         })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1524 |
  1525 |   describe(&#39;with skip option&#39;, function () {
&gt; 1526 |     it(&#39;should be able to skip based on request&#39;, function (done) {
       |    ^ Unknown Test
  1527 |       var stream &#x3D; createLineStream(function () {
  1528 |         throw new Error(&#39;should not log line&#39;)
  1529 |       })</code></pre><br>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <pre><code>  1539 |     })
  1540 |
&gt; 1541 |     it(&#39;should be able to skip based on response&#39;, function (done) {
       |    ^ Unknown Test
  1542 |       var stream &#x3D; createLineStream(function () {
  1543 |         throw new Error(&#39;should not log line&#39;)
  1544 |       })</code></pre><br>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
  <footer class="footer">
    <div class="content has-text-centered">
      <p>Copyright  2020 STEEL. All rights reserved.</p>
      <p>
        <strong>STEEL</strong> by Dalton N. Jorge, under the guidance of Prof. Dr. Patricia D. L. Machado & Prof. Dr.
        Wilkerson L. Andrade.
      </p>
      <p>SPLab - PPGCC - UFCG</p>
    </div>
  </footer>
  <script>
    function toggleDetails(node) {
      let parentRow = node.parentNode.parentNode;
      let path = parentRow.children[0].children[0].innerText;
      let detailsRow = parentRow.nextElementSibling;
      if (detailsRow.className === "details-row hidden") {
        parentRow.children[0].children[0].innerText = path.replace(/^\+/g, '-')
        detailsRow.className = "details-row";
      } else {
        parentRow.children[0].children[0].innerText = path.replace(/^-/g, '+')
        detailsRow.className = "details-row hidden";
      }
    }
  </script>
</body>

</html>
