file,type,line,frame
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/unicode.js,Assertion Roulette,"{'column': 6, 'line': 56}","  54 |       assert.ifError(err)
  55 |
> 56 |       assert.strictEqual(req.file.originalname, '\ud83d\udca9.dat')
     |      ^ Assertion Roulette
  57 |       assert.strictEqual(req.file.fieldname, 'small0')
  58 |
  59 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/unicode.js,Assertion Roulette,"{'column': 6, 'line': 57}","  55 |
  56 |       assert.strictEqual(req.file.originalname, '\ud83d\udca9.dat')
> 57 |       assert.strictEqual(req.file.fieldname, 'small0')
     |      ^ Assertion Roulette
  58 |
  59 |       done()
  60 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/unicode.js,Conditional Test Logic,"{'line': 15, 'column': 6, 'index': 311}","  13 |   beforeEach(function (done) {
  14 |     temp.mkdir(function (err, path) {
> 15 |       if (err) return done(err)
     |      ^ Conditional Test Logic
  16 |
  17 |       var storage = multer.diskStorage({
  18 |         destination: path,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/unicode.js,Global Variable,"{'line': 11, 'column': 2, 'index': 213}","   9 |
  10 | describe('Unicode', function () {
> 11 |   var uploadDir, upload
     |  ^ Global Variable
  12 |
  13 |   beforeEach(function (done) {
  14 |     temp.mkdir(function (err, path) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/unicode.js,Global Variable,"{'line': 17, 'column': 6, 'index': 344}","  15 |       if (err) return done(err)
  16 |
> 17 |       var storage = multer.diskStorage({
     |      ^ Global Variable
  18 |         destination: path,
  19 |         filename: function (req, file, cb) {
  20 |           cb(null, file.originalname)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/unicode.js,Global Variable,"{'line': 35, 'column': 4, 'index': 728}","  33 |
  34 |   it('should handle unicode filenames', function (done) {
> 35 |     var req = new stream.PassThrough()
     |    ^ Global Variable
  36 |     var boundary = 'AaB03x'
  37 |     var body = [
  38 |       '--' + boundary,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/unicode.js,Global Variable,"{'line': 36, 'column': 4, 'index': 767}","  34 |   it('should handle unicode filenames', function (done) {
  35 |     var req = new stream.PassThrough()
> 36 |     var boundary = 'AaB03x'
     |    ^ Global Variable
  37 |     var body = [
  38 |       '--' + boundary,
  39 |       'Content-Disposition: form-data; name=""small0""; filename=""poo.dat""; filename*=utf-8\'\'%F0%9F%92%A9.dat',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/unicode.js,Global Variable,"{'line': 37, 'column': 4, 'index': 795}","  35 |     var req = new stream.PassThrough()
  36 |     var boundary = 'AaB03x'
> 37 |     var body = [
     |    ^ Global Variable
  38 |       '--' + boundary,
  39 |       'Content-Disposition: form-data; name=""small0""; filename=""poo.dat""; filename*=utf-8\'\'%F0%9F%92%A9.dat',
  40 |       'Content-Type: text/plain',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Assertion Roulette,"{'column': 6, 'line': 52}","  50 |
  51 |       file = req.files['CA$|-|'][0]
> 52 |       assert.strictEqual(file.fieldname, 'CA$|-|')
     |      ^ Assertion Roulette
  53 |       assert.strictEqual(file.originalname, 'empty.dat')
  54 |
  55 |       file = req.files['set-1'][0]"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Assertion Roulette,"{'column': 6, 'line': 53}","  51 |       file = req.files['CA$|-|'][0]
  52 |       assert.strictEqual(file.fieldname, 'CA$|-|')
> 53 |       assert.strictEqual(file.originalname, 'empty.dat')
     |      ^ Assertion Roulette
  54 |
  55 |       file = req.files['set-1'][0]
  56 |       assert.strictEqual(file.fieldname, 'set-1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Assertion Roulette,"{'column': 6, 'line': 56}","  54 |
  55 |       file = req.files['set-1'][0]
> 56 |       assert.strictEqual(file.fieldname, 'set-1')
     |      ^ Assertion Roulette
  57 |       assert.strictEqual(file.originalname, 'tiny0.dat')
  58 |
  59 |       file = req.files['set-2'][0]"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Assertion Roulette,"{'column': 6, 'line': 57}","  55 |       file = req.files['set-1'][0]
  56 |       assert.strictEqual(file.fieldname, 'set-1')
> 57 |       assert.strictEqual(file.originalname, 'tiny0.dat')
     |      ^ Assertion Roulette
  58 |
  59 |       file = req.files['set-2'][0]
  60 |       assert.strictEqual(file.fieldname, 'set-2')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Assertion Roulette,"{'column': 6, 'line': 60}","  58 |
  59 |       file = req.files['set-2'][0]
> 60 |       assert.strictEqual(file.fieldname, 'set-2')
     |      ^ Assertion Roulette
  61 |       assert.strictEqual(file.originalname, 'tiny1.dat')
  62 |
  63 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Assertion Roulette,"{'column': 6, 'line': 61}","  59 |       file = req.files['set-2'][0]
  60 |       assert.strictEqual(file.fieldname, 'set-2')
> 61 |       assert.strictEqual(file.originalname, 'tiny1.dat')
     |      ^ Assertion Roulette
  62 |
  63 |       done()
  64 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Conditional Test Logic,"{'line': 28, 'column': 2, 'index': 677}","  26 |   assert.strictEqual(files.length, len)
  27 |
> 28 |   for (var i = 0; i < len; i++) {
     |  ^ Conditional Test Logic
  29 |     assert.strictEqual(files[i].fieldname, setName)
  30 |     assert.strictEqual(files[i].originalname, fileNames[i])
  31 |   }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Global Variable,"{'line': 10, 'column': 2, 'index': 180}","   8 |
   9 | function generateForm () {
> 10 |   var form = new FormData()
     |  ^ Global Variable
  11 |
  12 |   form.append('CA$|-|', util.file('empty.dat'))
  13 |   form.append('set-1', util.file('tiny0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Global Variable,"{'line': 24, 'column': 2, 'index': 606}","  22 |
  23 | function assertSet (files, setName, fileNames) {
> 24 |   var len = fileNames.length
     |  ^ Global Variable
  25 |
  26 |   assert.strictEqual(files.length, len)
  27 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Global Variable,"{'line': 28, 'column': 7, 'index': 682}","  26 |   assert.strictEqual(files.length, len)
  27 |
> 28 |   for (var i = 0; i < len; i++) {
     |       ^ Global Variable
  29 |     assert.strictEqual(files[i].fieldname, setName)
  30 |     assert.strictEqual(files[i].originalname, fileNames[i])
  31 |   }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Global Variable,"{'line': 35, 'column': 2, 'index': 869}","  33 |
  34 | describe('Select Field', function () {
> 35 |   var parser
     |  ^ Global Variable
  36 |
  37 |   before(function () {
  38 |     parser = multer().fields(["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/select-field.js,Global Variable,"{'line': 49, 'column': 6, 'index': 1231}","  47 |       assert.ifError(err)
  48 |
> 49 |       var file
     |      ^ Global Variable
  50 |
  51 |       file = req.files['CA$|-|'][0]
  52 |       assert.strictEqual(file.fieldname, 'CA$|-|')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Assertion Roulette,"{'column': 8, 'line': 33}","  31 |         assert.ifError(err)
  32 |
> 33 |         assert.strictEqual(req.body.name, 'Multer')
     |        ^ Assertion Roulette
  34 |         assert.strictEqual(req.body.files, '' + fileCount)
  35 |         assert.strictEqual(req.files.length, fileCount)
  36 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Assertion Roulette,"{'column': 8, 'line': 34}","  32 |
  33 |         assert.strictEqual(req.body.name, 'Multer')
> 34 |         assert.strictEqual(req.body.files, '' + fileCount)
     |        ^ Assertion Roulette
  35 |         assert.strictEqual(req.files.length, fileCount)
  36 |
  37 |         req.files.forEach(function (file) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Assertion Roulette,"{'column': 8, 'line': 35}","  33 |         assert.strictEqual(req.body.name, 'Multer')
  34 |         assert.strictEqual(req.body.files, '' + fileCount)
> 35 |         assert.strictEqual(req.files.length, fileCount)
     |        ^ Assertion Roulette
  36 |
  37 |         req.files.forEach(function (file) {
  38 |           assert.strictEqual(file.fieldname, 'them-files')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Assertion Roulette,"{'column': 10, 'line': 38}","  36 |
  37 |         req.files.forEach(function (file) {
> 38 |           assert.strictEqual(file.fieldname, 'them-files')
     |          ^ Assertion Roulette
  39 |           assert.strictEqual(file.originalname, 'small0.dat')
  40 |           assert.strictEqual(file.size, 1778)
  41 |           assert.strictEqual(file.buffer.length, 1778)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Assertion Roulette,"{'column': 10, 'line': 39}","  37 |         req.files.forEach(function (file) {
  38 |           assert.strictEqual(file.fieldname, 'them-files')
> 39 |           assert.strictEqual(file.originalname, 'small0.dat')
     |          ^ Assertion Roulette
  40 |           assert.strictEqual(file.size, 1778)
  41 |           assert.strictEqual(file.buffer.length, 1778)
  42 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Assertion Roulette,"{'column': 10, 'line': 40}","  38 |           assert.strictEqual(file.fieldname, 'them-files')
  39 |           assert.strictEqual(file.originalname, 'small0.dat')
> 40 |           assert.strictEqual(file.size, 1778)
     |          ^ Assertion Roulette
  41 |           assert.strictEqual(file.buffer.length, 1778)
  42 |         })
  43 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Assertion Roulette,"{'column': 10, 'line': 41}","  39 |           assert.strictEqual(file.originalname, 'small0.dat')
  40 |           assert.strictEqual(file.size, 1778)
> 41 |           assert.strictEqual(file.buffer.length, 1778)
     |          ^ Assertion Roulette
  42 |         })
  43 |
  44 |         if (--pending === 0) done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Conditional Test Logic,"{'line': 26, 'column': 6, 'index': 530}","  24 |       form.append('files', '' + fileCount)
  25 |
> 26 |       for (var i = 0; i < fileCount; i++) {
     |      ^ Conditional Test Logic
  27 |         form.append('them-files', util.file('small0.dat'))
  28 |       }
  29 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Conditional Test Logic,"{'line': 44, 'column': 8, 'index': 1177}","  42 |         })
  43 |
> 44 |         if (--pending === 0) done()
     |        ^ Conditional Test Logic
  45 |       })
  46 |     }
  47 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Global Variable,"{'line': 10, 'column': 2, 'index': 196}","   8 |
   9 | describe('Reuse Middleware', function () {
> 10 |   var parser
     |  ^ Global Variable
  11 |
  12 |   before(function (done) {
  13 |     parser = multer().array('them-files')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Global Variable,"{'line': 18, 'column': 4, 'index': 356}","  16 |
  17 |   it('should accept multiple requests', function (done) {
> 18 |     var pending = 8
     |    ^ Global Variable
  19 |
  20 |     function submitData (fileCount) {
  21 |       var form = new FormData()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Global Variable,"{'line': 21, 'column': 6, 'index': 417}","  19 |
  20 |     function submitData (fileCount) {
> 21 |       var form = new FormData()
     |      ^ Global Variable
  22 |
  23 |       form.append('name', 'Multer')
  24 |       form.append('files', '' + fileCount)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Global Variable,"{'line': 26, 'column': 11, 'index': 535}","  24 |       form.append('files', '' + fileCount)
  25 |
> 26 |       for (var i = 0; i < fileCount; i++) {
     |           ^ Global Variable
  27 |         form.append('them-files', util.file('small0.dat'))
  28 |       }
  29 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Magic Number,"{'line': 40, 'column': 40, 'index': 1096}","  38 |           assert.strictEqual(file.fieldname, 'them-files')
  39 |           assert.strictEqual(file.originalname, 'small0.dat')
> 40 |           assert.strictEqual(file.size, 1778)
     |                                        ^ Magic Number
  41 |           assert.strictEqual(file.buffer.length, 1778)
  42 |         })
  43 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/reuse-middleware.js,Magic Number,"{'line': 41, 'column': 49, 'index': 1151}","  39 |           assert.strictEqual(file.originalname, 'small0.dat')
  40 |           assert.strictEqual(file.size, 1778)
> 41 |           assert.strictEqual(file.buffer.length, 1778)
     |                                                 ^ Magic Number
  42 |         })
  43 |
  44 |         if (--pending === 0) done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Assertion Roulette,"{'column': 6, 'line': 24}","  22 |
  23 |     util.submitForm(parser, form, function (err, req) {
> 24 |       assert.ok(err)
     |      ^ Assertion Roulette
  25 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
  26 |       assert.strictEqual(req.files, undefined)
  27 |       assert.strictEqual(req.body.key1, 'val1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Assertion Roulette,"{'column': 6, 'line': 25}","  23 |     util.submitForm(parser, form, function (err, req) {
  24 |       assert.ok(err)
> 25 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
     |      ^ Assertion Roulette
  26 |       assert.strictEqual(req.files, undefined)
  27 |       assert.strictEqual(req.body.key1, 'val1')
  28 |       assert.strictEqual(req.body.key2, 'val2')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Assertion Roulette,"{'column': 6, 'line': 26}","  24 |       assert.ok(err)
  25 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
> 26 |       assert.strictEqual(req.files, undefined)
     |      ^ Assertion Roulette
  27 |       assert.strictEqual(req.body.key1, 'val1')
  28 |       assert.strictEqual(req.body.key2, 'val2')
  29 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Assertion Roulette,"{'column': 6, 'line': 27}","  25 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
  26 |       assert.strictEqual(req.files, undefined)
> 27 |       assert.strictEqual(req.body.key1, 'val1')
     |      ^ Assertion Roulette
  28 |       assert.strictEqual(req.body.key2, 'val2')
  29 |       done()
  30 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Assertion Roulette,"{'column': 6, 'line': 28}","  26 |       assert.strictEqual(req.files, undefined)
  27 |       assert.strictEqual(req.body.key1, 'val1')
> 28 |       assert.strictEqual(req.body.key2, 'val2')
     |      ^ Assertion Roulette
  29 |       done()
  30 |     })
  31 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Assertion Roulette,"{'column': 6, 'line': 41}","  39 |     util.submitForm(parser, form, function (err, req) {
  40 |       assert.ifError(err)
> 41 |       assert.strictEqual(req.files, undefined)
     |      ^ Assertion Roulette
  42 |       assert.strictEqual(req.body.key1, 'val1')
  43 |       assert.strictEqual(req.body.key2, 'val2')
  44 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Assertion Roulette,"{'column': 6, 'line': 42}","  40 |       assert.ifError(err)
  41 |       assert.strictEqual(req.files, undefined)
> 42 |       assert.strictEqual(req.body.key1, 'val1')
     |      ^ Assertion Roulette
  43 |       assert.strictEqual(req.body.key2, 'val2')
  44 |       done()
  45 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Assertion Roulette,"{'column': 6, 'line': 43}","  41 |       assert.strictEqual(req.files, undefined)
  42 |       assert.strictEqual(req.body.key1, 'val1')
> 43 |       assert.strictEqual(req.body.key2, 'val2')
     |      ^ Assertion Roulette
  44 |       done()
  45 |     })
  46 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Global Variable,"{'line': 10, 'column': 2, 'index': 184}","   8 |
   9 | describe('None', function () {
> 10 |   var parser
     |  ^ Global Variable
  11 |
  12 |   before(function () {
  13 |     parser = multer().none()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Global Variable,"{'line': 17, 'column': 4, 'index': 314}","  15 |
  16 |   it('should not allow file uploads', function (done) {
> 17 |     var form = new FormData()
     |    ^ Global Variable
  18 |
  19 |     form.append('key1', 'val1')
  20 |     form.append('key2', 'val2')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/none.js,Global Variable,"{'line': 34, 'column': 4, 'index': 817}","  32 |
  33 |   it('should handle text fields', function (done) {
> 34 |     var form = new FormData()
     |    ^ Global Variable
  35 |
  36 |     form.append('key1', 'val1')
  37 |     form.append('key2', 'val2')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 28}","  26 |       assert.ifError(err)
  27 |
> 28 |       assert.strictEqual(req.body.name, 'Multer')
     |      ^ Assertion Roulette
  29 |
  30 |       assert.strictEqual(req.file.fieldname, 'small0')
  31 |       assert.strictEqual(req.file.originalname, 'small0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 30}","  28 |       assert.strictEqual(req.body.name, 'Multer')
  29 |
> 30 |       assert.strictEqual(req.file.fieldname, 'small0')
     |      ^ Assertion Roulette
  31 |       assert.strictEqual(req.file.originalname, 'small0.dat')
  32 |       assert.strictEqual(req.file.size, 1778)
  33 |       assert.strictEqual(req.file.buffer.length, 1778)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 31}","  29 |
  30 |       assert.strictEqual(req.file.fieldname, 'small0')
> 31 |       assert.strictEqual(req.file.originalname, 'small0.dat')
     |      ^ Assertion Roulette
  32 |       assert.strictEqual(req.file.size, 1778)
  33 |       assert.strictEqual(req.file.buffer.length, 1778)
  34 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 32}","  30 |       assert.strictEqual(req.file.fieldname, 'small0')
  31 |       assert.strictEqual(req.file.originalname, 'small0.dat')
> 32 |       assert.strictEqual(req.file.size, 1778)
     |      ^ Assertion Roulette
  33 |       assert.strictEqual(req.file.buffer.length, 1778)
  34 |
  35 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 33}","  31 |       assert.strictEqual(req.file.originalname, 'small0.dat')
  32 |       assert.strictEqual(req.file.size, 1778)
> 33 |       assert.strictEqual(req.file.buffer.length, 1778)
     |      ^ Assertion Roulette
  34 |
  35 |       done()
  36 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 57}","  55 |       assert.ifError(err)
  56 |
> 57 |       assert.strictEqual(req.body.name, 'Multer')
     |      ^ Assertion Roulette
  58 |       assert.strictEqual(req.body.version, '')
  59 |       assert.strictEqual(req.body.year, '')
  60 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 58}","  56 |
  57 |       assert.strictEqual(req.body.name, 'Multer')
> 58 |       assert.strictEqual(req.body.version, '')
     |      ^ Assertion Roulette
  59 |       assert.strictEqual(req.body.year, '')
  60 |
  61 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 59}","  57 |       assert.strictEqual(req.body.name, 'Multer')
  58 |       assert.strictEqual(req.body.version, '')
> 59 |       assert.strictEqual(req.body.year, '')
     |      ^ Assertion Roulette
  60 |
  61 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))
  62 |       assert(deepEqual(req.body.checkboxhalfempty, ['cb1', '']))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 61}","  59 |       assert.strictEqual(req.body.year, '')
  60 |
> 61 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))
     |      ^ Assertion Roulette
  62 |       assert(deepEqual(req.body.checkboxhalfempty, ['cb1', '']))
  63 |       assert(deepEqual(req.body.checkboxempty, ['', '']))
  64 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 62}","  60 |
  61 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))
> 62 |       assert(deepEqual(req.body.checkboxhalfempty, ['cb1', '']))
     |      ^ Assertion Roulette
  63 |       assert(deepEqual(req.body.checkboxempty, ['', '']))
  64 |
  65 |       assert.strictEqual(req.file.fieldname, 'empty')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 63}","  61 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))
  62 |       assert(deepEqual(req.body.checkboxhalfempty, ['cb1', '']))
> 63 |       assert(deepEqual(req.body.checkboxempty, ['', '']))
     |      ^ Assertion Roulette
  64 |
  65 |       assert.strictEqual(req.file.fieldname, 'empty')
  66 |       assert.strictEqual(req.file.originalname, 'empty.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 65}","  63 |       assert(deepEqual(req.body.checkboxempty, ['', '']))
  64 |
> 65 |       assert.strictEqual(req.file.fieldname, 'empty')
     |      ^ Assertion Roulette
  66 |       assert.strictEqual(req.file.originalname, 'empty.dat')
  67 |       assert.strictEqual(req.file.size, 0)
  68 |       assert.strictEqual(req.file.buffer.length, 0)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 66}","  64 |
  65 |       assert.strictEqual(req.file.fieldname, 'empty')
> 66 |       assert.strictEqual(req.file.originalname, 'empty.dat')
     |      ^ Assertion Roulette
  67 |       assert.strictEqual(req.file.size, 0)
  68 |       assert.strictEqual(req.file.buffer.length, 0)
  69 |       assert.strictEqual(Buffer.isBuffer(req.file.buffer), true)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 67}","  65 |       assert.strictEqual(req.file.fieldname, 'empty')
  66 |       assert.strictEqual(req.file.originalname, 'empty.dat')
> 67 |       assert.strictEqual(req.file.size, 0)
     |      ^ Assertion Roulette
  68 |       assert.strictEqual(req.file.buffer.length, 0)
  69 |       assert.strictEqual(Buffer.isBuffer(req.file.buffer), true)
  70 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 68}","  66 |       assert.strictEqual(req.file.originalname, 'empty.dat')
  67 |       assert.strictEqual(req.file.size, 0)
> 68 |       assert.strictEqual(req.file.buffer.length, 0)
     |      ^ Assertion Roulette
  69 |       assert.strictEqual(Buffer.isBuffer(req.file.buffer), true)
  70 |
  71 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 69}","  67 |       assert.strictEqual(req.file.size, 0)
  68 |       assert.strictEqual(req.file.buffer.length, 0)
> 69 |       assert.strictEqual(Buffer.isBuffer(req.file.buffer), true)
     |      ^ Assertion Roulette
  70 |
  71 |       done()
  72 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 98}","   96 |       assert.ifError(err)
   97 |
>  98 |       assert(deepEqual(req.body, {}))
      |      ^ Assertion Roulette
   99 |
  100 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
  101 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 100}","   98 |       assert(deepEqual(req.body, {}))
   99 |
> 100 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
      |      ^ Assertion Roulette
  101 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
  102 |       assert.strictEqual(req.files.empty[0].size, 0)
  103 |       assert.strictEqual(req.files.empty[0].buffer.length, 0)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 101}","   99 |
  100 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
> 101 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
      |      ^ Assertion Roulette
  102 |       assert.strictEqual(req.files.empty[0].size, 0)
  103 |       assert.strictEqual(req.files.empty[0].buffer.length, 0)
  104 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 102}","  100 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
  101 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
> 102 |       assert.strictEqual(req.files.empty[0].size, 0)
      |      ^ Assertion Roulette
  103 |       assert.strictEqual(req.files.empty[0].buffer.length, 0)
  104 |
  105 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 103}","  101 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
  102 |       assert.strictEqual(req.files.empty[0].size, 0)
> 103 |       assert.strictEqual(req.files.empty[0].buffer.length, 0)
      |      ^ Assertion Roulette
  104 |
  105 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
  106 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 105}","  103 |       assert.strictEqual(req.files.empty[0].buffer.length, 0)
  104 |
> 105 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
      |      ^ Assertion Roulette
  106 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
  107 |       assert.strictEqual(req.files.tiny0[0].size, 122)
  108 |       assert.strictEqual(req.files.tiny0[0].buffer.length, 122)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 106}","  104 |
  105 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
> 106 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
      |      ^ Assertion Roulette
  107 |       assert.strictEqual(req.files.tiny0[0].size, 122)
  108 |       assert.strictEqual(req.files.tiny0[0].buffer.length, 122)
  109 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 107}","  105 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
  106 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
> 107 |       assert.strictEqual(req.files.tiny0[0].size, 122)
      |      ^ Assertion Roulette
  108 |       assert.strictEqual(req.files.tiny0[0].buffer.length, 122)
  109 |
  110 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 108}","  106 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
  107 |       assert.strictEqual(req.files.tiny0[0].size, 122)
> 108 |       assert.strictEqual(req.files.tiny0[0].buffer.length, 122)
      |      ^ Assertion Roulette
  109 |
  110 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
  111 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 110}","  108 |       assert.strictEqual(req.files.tiny0[0].buffer.length, 122)
  109 |
> 110 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
      |      ^ Assertion Roulette
  111 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
  112 |       assert.strictEqual(req.files.tiny1[0].size, 7)
  113 |       assert.strictEqual(req.files.tiny1[0].buffer.length, 7)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 111}","  109 |
  110 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
> 111 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
      |      ^ Assertion Roulette
  112 |       assert.strictEqual(req.files.tiny1[0].size, 7)
  113 |       assert.strictEqual(req.files.tiny1[0].buffer.length, 7)
  114 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 112}","  110 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
  111 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
> 112 |       assert.strictEqual(req.files.tiny1[0].size, 7)
      |      ^ Assertion Roulette
  113 |       assert.strictEqual(req.files.tiny1[0].buffer.length, 7)
  114 |
  115 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 113}","  111 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
  112 |       assert.strictEqual(req.files.tiny1[0].size, 7)
> 113 |       assert.strictEqual(req.files.tiny1[0].buffer.length, 7)
      |      ^ Assertion Roulette
  114 |
  115 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
  116 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 115}","  113 |       assert.strictEqual(req.files.tiny1[0].buffer.length, 7)
  114 |
> 115 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
      |      ^ Assertion Roulette
  116 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
  117 |       assert.strictEqual(req.files.small0[0].size, 1778)
  118 |       assert.strictEqual(req.files.small0[0].buffer.length, 1778)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 116}","  114 |
  115 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
> 116 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
      |      ^ Assertion Roulette
  117 |       assert.strictEqual(req.files.small0[0].size, 1778)
  118 |       assert.strictEqual(req.files.small0[0].buffer.length, 1778)
  119 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 117}","  115 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
  116 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
> 117 |       assert.strictEqual(req.files.small0[0].size, 1778)
      |      ^ Assertion Roulette
  118 |       assert.strictEqual(req.files.small0[0].buffer.length, 1778)
  119 |
  120 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 118}","  116 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
  117 |       assert.strictEqual(req.files.small0[0].size, 1778)
> 118 |       assert.strictEqual(req.files.small0[0].buffer.length, 1778)
      |      ^ Assertion Roulette
  119 |
  120 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
  121 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 120}","  118 |       assert.strictEqual(req.files.small0[0].buffer.length, 1778)
  119 |
> 120 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
      |      ^ Assertion Roulette
  121 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
  122 |       assert.strictEqual(req.files.small1[0].size, 315)
  123 |       assert.strictEqual(req.files.small1[0].buffer.length, 315)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 121}","  119 |
  120 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
> 121 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
      |      ^ Assertion Roulette
  122 |       assert.strictEqual(req.files.small1[0].size, 315)
  123 |       assert.strictEqual(req.files.small1[0].buffer.length, 315)
  124 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 122}","  120 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
  121 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
> 122 |       assert.strictEqual(req.files.small1[0].size, 315)
      |      ^ Assertion Roulette
  123 |       assert.strictEqual(req.files.small1[0].buffer.length, 315)
  124 |
  125 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 123}","  121 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
  122 |       assert.strictEqual(req.files.small1[0].size, 315)
> 123 |       assert.strictEqual(req.files.small1[0].buffer.length, 315)
      |      ^ Assertion Roulette
  124 |
  125 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
  126 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 125}","  123 |       assert.strictEqual(req.files.small1[0].buffer.length, 315)
  124 |
> 125 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
      |      ^ Assertion Roulette
  126 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
  127 |       assert.strictEqual(req.files.medium[0].size, 13196)
  128 |       assert.strictEqual(req.files.medium[0].buffer.length, 13196)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 126}","  124 |
  125 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
> 126 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
      |      ^ Assertion Roulette
  127 |       assert.strictEqual(req.files.medium[0].size, 13196)
  128 |       assert.strictEqual(req.files.medium[0].buffer.length, 13196)
  129 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 127}","  125 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
  126 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
> 127 |       assert.strictEqual(req.files.medium[0].size, 13196)
      |      ^ Assertion Roulette
  128 |       assert.strictEqual(req.files.medium[0].buffer.length, 13196)
  129 |
  130 |       assert.strictEqual(req.files.large[0].fieldname, 'large')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 128}","  126 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
  127 |       assert.strictEqual(req.files.medium[0].size, 13196)
> 128 |       assert.strictEqual(req.files.medium[0].buffer.length, 13196)
      |      ^ Assertion Roulette
  129 |
  130 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
  131 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 130}","  128 |       assert.strictEqual(req.files.medium[0].buffer.length, 13196)
  129 |
> 130 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
      |      ^ Assertion Roulette
  131 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
  132 |       assert.strictEqual(req.files.large[0].size, 2413677)
  133 |       assert.strictEqual(req.files.large[0].buffer.length, 2413677)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 131}","  129 |
  130 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
> 131 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
      |      ^ Assertion Roulette
  132 |       assert.strictEqual(req.files.large[0].size, 2413677)
  133 |       assert.strictEqual(req.files.large[0].buffer.length, 2413677)
  134 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 132}","  130 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
  131 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
> 132 |       assert.strictEqual(req.files.large[0].size, 2413677)
      |      ^ Assertion Roulette
  133 |       assert.strictEqual(req.files.large[0].buffer.length, 2413677)
  134 |
  135 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Assertion Roulette,"{'column': 6, 'line': 133}","  131 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
  132 |       assert.strictEqual(req.files.large[0].size, 2413677)
> 133 |       assert.strictEqual(req.files.large[0].buffer.length, 2413677)
      |      ^ Assertion Roulette
  134 |
  135 |       done()
  136 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Global Variable,"{'line': 11, 'column': 2, 'index': 232}","   9 |
  10 | describe('Memory Storage', function () {
> 11 |   var upload
     |  ^ Global Variable
  12 |
  13 |   before(function (done) {
  14 |     upload = multer()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Global Variable,"{'line': 19, 'column': 4, 'index': 388}","  17 |
  18 |   it('should process multipart/form-data POST request', function (done) {
> 19 |     var form = new FormData()
     |    ^ Global Variable
  20 |     var parser = upload.single('small0')
  21 |
  22 |     form.append('name', 'Multer')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Global Variable,"{'line': 20, 'column': 4, 'index': 418}","  18 |   it('should process multipart/form-data POST request', function (done) {
  19 |     var form = new FormData()
> 20 |     var parser = upload.single('small0')
     |    ^ Global Variable
  21 |
  22 |     form.append('name', 'Multer')
  23 |     form.append('small0', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Global Variable,"{'line': 40, 'column': 4, 'index': 997}","  38 |
  39 |   it('should process empty fields and an empty file', function (done) {
> 40 |     var form = new FormData()
     |    ^ Global Variable
  41 |     var parser = upload.single('empty')
  42 |
  43 |     form.append('empty', util.file('empty.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Global Variable,"{'line': 41, 'column': 4, 'index': 1027}","  39 |   it('should process empty fields and an empty file', function (done) {
  40 |     var form = new FormData()
> 41 |     var parser = upload.single('empty')
     |    ^ Global Variable
  42 |
  43 |     form.append('empty', util.file('empty.dat'))
  44 |     form.append('name', 'Multer')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Global Variable,"{'line': 76, 'column': 4, 'index': 2218}","  74 |
  75 |   it('should process multiple files', function (done) {
> 76 |     var form = new FormData()
     |    ^ Global Variable
  77 |     var parser = upload.fields([
  78 |       { name: 'empty', maxCount: 1 },
  79 |       { name: 'tiny0', maxCount: 1 },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Global Variable,"{'line': 77, 'column': 4, 'index': 2248}","  75 |   it('should process multiple files', function (done) {
  76 |     var form = new FormData()
> 77 |     var parser = upload.fields([
     |    ^ Global Variable
  78 |       { name: 'empty', maxCount: 1 },
  79 |       { name: 'tiny0', maxCount: 1 },
  80 |       { name: 'tiny1', maxCount: 1 },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 32, 'column': 40, 'index': 833}","  30 |       assert.strictEqual(req.file.fieldname, 'small0')
  31 |       assert.strictEqual(req.file.originalname, 'small0.dat')
> 32 |       assert.strictEqual(req.file.size, 1778)
     |                                        ^ Magic Number
  33 |       assert.strictEqual(req.file.buffer.length, 1778)
  34 |
  35 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 33, 'column': 49, 'index': 888}","  31 |       assert.strictEqual(req.file.originalname, 'small0.dat')
  32 |       assert.strictEqual(req.file.size, 1778)
> 33 |       assert.strictEqual(req.file.buffer.length, 1778)
     |                                                 ^ Magic Number
  34 |
  35 |       done()
  36 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 67, 'column': 40, 'index': 2011}","  65 |       assert.strictEqual(req.file.fieldname, 'empty')
  66 |       assert.strictEqual(req.file.originalname, 'empty.dat')
> 67 |       assert.strictEqual(req.file.size, 0)
     |                                        ^ Magic Number
  68 |       assert.strictEqual(req.file.buffer.length, 0)
  69 |       assert.strictEqual(Buffer.isBuffer(req.file.buffer), true)
  70 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 68, 'column': 49, 'index': 2063}","  66 |       assert.strictEqual(req.file.originalname, 'empty.dat')
  67 |       assert.strictEqual(req.file.size, 0)
> 68 |       assert.strictEqual(req.file.buffer.length, 0)
     |                                                 ^ Magic Number
  69 |       assert.strictEqual(Buffer.isBuffer(req.file.buffer), true)
  70 |
  71 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 102, 'column': 50, 'index': 3210}","  100 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
  101 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
> 102 |       assert.strictEqual(req.files.empty[0].size, 0)
      |                                                  ^ Magic Number
  103 |       assert.strictEqual(req.files.empty[0].buffer.length, 0)
  104 |
  105 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 103, 'column': 59, 'index': 3272}","  101 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
  102 |       assert.strictEqual(req.files.empty[0].size, 0)
> 103 |       assert.strictEqual(req.files.empty[0].buffer.length, 0)
      |                                                           ^ Magic Number
  104 |
  105 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
  106 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 107, 'column': 50, 'index': 3461}","  105 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
  106 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
> 107 |       assert.strictEqual(req.files.tiny0[0].size, 122)
      |                                                  ^ Magic Number
  108 |       assert.strictEqual(req.files.tiny0[0].buffer.length, 122)
  109 |
  110 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 108, 'column': 59, 'index': 3525}","  106 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
  107 |       assert.strictEqual(req.files.tiny0[0].size, 122)
> 108 |       assert.strictEqual(req.files.tiny0[0].buffer.length, 122)
      |                                                           ^ Magic Number
  109 |
  110 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
  111 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 112, 'column': 50, 'index': 3716}","  110 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
  111 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
> 112 |       assert.strictEqual(req.files.tiny1[0].size, 7)
      |                                                  ^ Magic Number
  113 |       assert.strictEqual(req.files.tiny1[0].buffer.length, 7)
  114 |
  115 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 113, 'column': 59, 'index': 3778}","  111 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
  112 |       assert.strictEqual(req.files.tiny1[0].size, 7)
> 113 |       assert.strictEqual(req.files.tiny1[0].buffer.length, 7)
      |                                                           ^ Magic Number
  114 |
  115 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
  116 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 117, 'column': 51, 'index': 3972}","  115 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
  116 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
> 117 |       assert.strictEqual(req.files.small0[0].size, 1778)
      |                                                   ^ Magic Number
  118 |       assert.strictEqual(req.files.small0[0].buffer.length, 1778)
  119 |
  120 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 118, 'column': 60, 'index': 4038}","  116 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
  117 |       assert.strictEqual(req.files.small0[0].size, 1778)
> 118 |       assert.strictEqual(req.files.small0[0].buffer.length, 1778)
      |                                                            ^ Magic Number
  119 |
  120 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
  121 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 122, 'column': 51, 'index': 4235}","  120 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
  121 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
> 122 |       assert.strictEqual(req.files.small1[0].size, 315)
      |                                                   ^ Magic Number
  123 |       assert.strictEqual(req.files.small1[0].buffer.length, 315)
  124 |
  125 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 123, 'column': 60, 'index': 4300}","  121 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
  122 |       assert.strictEqual(req.files.small1[0].size, 315)
> 123 |       assert.strictEqual(req.files.small1[0].buffer.length, 315)
      |                                                            ^ Magic Number
  124 |
  125 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
  126 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 127, 'column': 51, 'index': 4496}","  125 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
  126 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
> 127 |       assert.strictEqual(req.files.medium[0].size, 13196)
      |                                                   ^ Magic Number
  128 |       assert.strictEqual(req.files.medium[0].buffer.length, 13196)
  129 |
  130 |       assert.strictEqual(req.files.large[0].fieldname, 'large')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 128, 'column': 60, 'index': 4563}","  126 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
  127 |       assert.strictEqual(req.files.medium[0].size, 13196)
> 128 |       assert.strictEqual(req.files.medium[0].buffer.length, 13196)
      |                                                            ^ Magic Number
  129 |
  130 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
  131 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 132, 'column': 50, 'index': 4756}","  130 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
  131 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
> 132 |       assert.strictEqual(req.files.large[0].size, 2413677)
      |                                                  ^ Magic Number
  133 |       assert.strictEqual(req.files.large[0].buffer.length, 2413677)
  134 |
  135 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/memory-storage.js,Magic Number,"{'line': 133, 'column': 59, 'index': 4824}","  131 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
  132 |       assert.strictEqual(req.files.large[0].size, 2413677)
> 133 |       assert.strictEqual(req.files.large[0].buffer.length, 2413677)
      |                                                           ^ Magic Number
  134 |
  135 |       done()
  136 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/issue-232.js,Assertion Roulette,"{'column': 6, 'line': 37}","  35 |       assert.ok(err, 'an error was given')
  36 |
> 37 |       assert.strictEqual(err.code, 'LIMIT_FILE_SIZE')
     |      ^ Assertion Roulette
  38 |       assert.strictEqual(err.field, 'file')
  39 |
  40 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/issue-232.js,Assertion Roulette,"{'column': 6, 'line': 38}","  36 |
  37 |       assert.strictEqual(err.code, 'LIMIT_FILE_SIZE')
> 38 |       assert.strictEqual(err.field, 'file')
     |      ^ Assertion Roulette
  39 |
  40 |       done()
  41 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/issue-232.js,Conditional Test Logic,"{'line': 16, 'column': 6, 'index': 345}","  14 |   before(function (done) {
  15 |     temp.mkdir(function (err, path) {
> 16 |       if (err) return done(err)
     |      ^ Conditional Test Logic
  17 |
  18 |       uploadDir = path
  19 |       upload = multer({ dest: path, limits: { fileSize: 100 } })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/issue-232.js,Global Variable,"{'line': 12, 'column': 2, 'index': 251}","  10 |
  11 | describe('Issue #232', function () {
> 12 |   var uploadDir, upload
     |  ^ Global Variable
  13 |
  14 |   before(function (done) {
  15 |     temp.mkdir(function (err, path) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/issue-232.js,Global Variable,"{'line': 29, 'column': 4, 'index': 603}","  27 |
  28 |   it('should report limit errors', function (done) {
> 29 |     var form = new FormData()
     |    ^ Global Variable
  30 |     var parser = upload.single('file')
  31 |
  32 |     form.append('file', util.file('large.jpg'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/issue-232.js,Global Variable,"{'line': 30, 'column': 4, 'index': 633}","  28 |   it('should report limit errors', function (done) {
  29 |     var form = new FormData()
> 30 |     var parser = upload.single('file')
     |    ^ Global Variable
  31 |
  32 |     form.append('file', util.file('large.jpg'))
  33 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Assertion Roulette,"{'column': 8, 'line': 54}","  52 |       util.submitForm(parser, env.form, function (err, req) {
  53 |         assert.ifError(err)
> 54 |         assert.ok(startsWith(req.file.path, env.uploadDir))
     |        ^ Assertion Roulette
  55 |         assert.strictEqual(util.fileSize(req.file.path), 1778)
  56 |         done()
  57 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Assertion Roulette,"{'column': 8, 'line': 55}","  53 |         assert.ifError(err)
  54 |         assert.ok(startsWith(req.file.path, env.uploadDir))
> 55 |         assert.strictEqual(util.fileSize(req.file.path), 1778)
     |        ^ Assertion Roulette
  56 |         done()
  57 |       })
  58 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Assertion Roulette,"{'column': 8, 'line': 101}","   99 |       util.submitForm(parser, env.form, function (err, req) {
  100 |         assert.ifError(err)
> 101 |         assert.strictEqual(req.files.length, 2)
      |        ^ Assertion Roulette
  102 |         assert.strictEqual(req.files[0].filename, 'themFilessmall0.dat')
  103 |         assert.strictEqual(req.files[1].filename, 'themFilessmall1.dat')
  104 |         done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Assertion Roulette,"{'column': 8, 'line': 102}","  100 |         assert.ifError(err)
  101 |         assert.strictEqual(req.files.length, 2)
> 102 |         assert.strictEqual(req.files[0].filename, 'themFilessmall0.dat')
      |        ^ Assertion Roulette
  103 |         assert.strictEqual(req.files[1].filename, 'themFilessmall1.dat')
  104 |         done()
  105 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Assertion Roulette,"{'column': 8, 'line': 103}","  101 |         assert.strictEqual(req.files.length, 2)
  102 |         assert.strictEqual(req.files[0].filename, 'themFilessmall0.dat')
> 103 |         assert.strictEqual(req.files[1].filename, 'themFilessmall1.dat')
      |        ^ Assertion Roulette
  104 |         done()
  105 |       })
  106 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Assertion Roulette,"{'column': 6, 'line': 131}","  129 |     util.submitForm(parser, form, function (err, req) {
  130 |       assert.ifError(err)
> 131 |       assert.strictEqual(req.files.length, 2)
      |      ^ Assertion Roulette
  132 |       assert.ok(req.files[0].path.indexOf('/testforme-') >= 0)
  133 |       assert.ok(req.files[1].path.indexOf('/testforme-') >= 0)
  134 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Assertion Roulette,"{'column': 6, 'line': 132}","  130 |       assert.ifError(err)
  131 |       assert.strictEqual(req.files.length, 2)
> 132 |       assert.ok(req.files[0].path.indexOf('/testforme-') >= 0)
      |      ^ Assertion Roulette
  133 |       assert.ok(req.files[1].path.indexOf('/testforme-') >= 0)
  134 |       done()
  135 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Assertion Roulette,"{'column': 6, 'line': 133}","  131 |       assert.strictEqual(req.files.length, 2)
  132 |       assert.ok(req.files[0].path.indexOf('/testforme-') >= 0)
> 133 |       assert.ok(req.files[1].path.indexOf('/testforme-') >= 0)
      |      ^ Assertion Roulette
  134 |       done()
  135 |     })
  136 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Conditional Test Logic,"{'line': 24, 'column': 6, 'index': 539}","  22 |   function makeStandardEnv (cb) {
  23 |     temp.mkdir(function (err, uploadDir) {
> 24 |       if (err) return cb(err)
     |      ^ Conditional Test Logic
  25 |
  26 |       cleanup.push(uploadDir)
  27 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Conditional Test Logic,"{'line': 42, 'column': 4, 'index': 882}","  40 |
  41 |   after(function () {
> 42 |     while (cleanup.length) rimraf.sync(cleanup.pop())
     |    ^ Conditional Test Logic
  43 |   })
  44 |
  45 |   it('should upload the file to the `dest` dir', function (done) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Conditional Test Logic,"{'line': 47, 'column': 6, 'index': 1053}","  45 |   it('should upload the file to the `dest` dir', function (done) {
  46 |     makeStandardEnv(function (err, env) {
> 47 |       if (err) return done(err)
     |      ^ Conditional Test Logic
  48 |
  49 |       var parser = env.upload.single('small0')
  50 |       env.form.append('small0', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Conditional Test Logic,"{'line': 63, 'column': 6, 'index': 1541}","  61 |   it('should rename the uploaded file', function (done) {
  62 |     makeStandardEnv(function (err, env) {
> 63 |       if (err) return done(err)
     |      ^ Conditional Test Logic
  64 |
  65 |       var parser = env.upload.single('small0')
  66 |       env.form.append('small0', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Conditional Test Logic,"{'line': 78, 'column': 6, 'index': 2017}","  76 |   it('should ensure all req.files values (single-file per field) point to an array', function (done) {
  77 |     makeStandardEnv(function (err, env) {
> 78 |       if (err) return done(err)
     |      ^ Conditional Test Logic
  79 |
  80 |       var parser = env.upload.single('tiny0')
  81 |       env.form.append('tiny0', util.file('tiny0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Conditional Test Logic,"{'line': 93, 'column': 6, 'index': 2488}","  91 |   it('should ensure all req.files values (multi-files per field) point to an array', function (done) {
  92 |     makeStandardEnv(function (err, env) {
> 93 |       if (err) return done(err)
     |      ^ Conditional Test Logic
  94 |
  95 |       var parser = env.upload.array('themFiles', 2)
  96 |       env.form.append('themFiles', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Conditional Test Logic,"{'line': 113, 'column': 10, 'index': 3267}","  111 |       destination: function (req, file, cb) {
  112 |         temp.template('testforme-%s').mkdir(function (err, uploadDir) {
> 113 |           if (err) return cb(err)
      |          ^ Conditional Test Logic
  114 |
  115 |           cleanup.push(uploadDir)
  116 |           cb(null, uploadDir)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 20, 'column': 2, 'index': 438}","  18 |
  19 | describe('Functionality', function () {
> 20 |   var cleanup = []
     |  ^ Global Variable
  21 |
  22 |   function makeStandardEnv (cb) {
  23 |     temp.mkdir(function (err, uploadDir) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 28, 'column': 6, 'index': 601}","  26 |       cleanup.push(uploadDir)
  27 |
> 28 |       var storage = multer.diskStorage({
     |      ^ Global Variable
  29 |         destination: uploadDir,
  30 |         filename: generateFilename
  31 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 49, 'column': 6, 'index': 1086}","  47 |       if (err) return done(err)
  48 |
> 49 |       var parser = env.upload.single('small0')
     |      ^ Global Variable
  50 |       env.form.append('small0', util.file('small0.dat'))
  51 |
  52 |       util.submitForm(parser, env.form, function (err, req) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 65, 'column': 6, 'index': 1574}","  63 |       if (err) return done(err)
  64 |
> 65 |       var parser = env.upload.single('small0')
     |      ^ Global Variable
  66 |       env.form.append('small0', util.file('small0.dat'))
  67 |
  68 |       util.submitForm(parser, env.form, function (err, req) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 80, 'column': 6, 'index': 2050}","  78 |       if (err) return done(err)
  79 |
> 80 |       var parser = env.upload.single('tiny0')
     |      ^ Global Variable
  81 |       env.form.append('tiny0', util.file('tiny0.dat'))
  82 |
  83 |       util.submitForm(parser, env.form, function (err, req) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 95, 'column': 6, 'index': 2521}","  93 |       if (err) return done(err)
  94 |
> 95 |       var parser = env.upload.array('themFiles', 2)
     |      ^ Global Variable
  96 |       env.form.append('themFiles', util.file('small0.dat'))
  97 |       env.form.append('themFiles', util.file('small1.dat'))
  98 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 110, 'column': 4, 'index': 3104}","  108 |
  109 |   it('should rename the destination directory to a different directory', function (done) {
> 110 |     var storage = multer.diskStorage({
      |    ^ Global Variable
  111 |       destination: function (req, file, cb) {
  112 |         temp.template('testforme-%s').mkdir(function (err, uploadDir) {
  113 |           if (err) return cb(err)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 122, 'column': 4, 'index': 3421}","  120 |     })
  121 |
> 122 |     var form = new FormData()
      |    ^ Global Variable
  123 |     var upload = multer({ storage: storage })
  124 |     var parser = upload.array('themFiles', 2)
  125 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 123, 'column': 4, 'index': 3451}","  121 |
  122 |     var form = new FormData()
> 123 |     var upload = multer({ storage: storage })
      |    ^ Global Variable
  124 |     var parser = upload.array('themFiles', 2)
  125 |
  126 |     form.append('themFiles', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Global Variable,"{'line': 124, 'column': 4, 'index': 3497}","  122 |     var form = new FormData()
  123 |     var upload = multer({ storage: storage })
> 124 |     var parser = upload.array('themFiles', 2)
      |    ^ Global Variable
  125 |
  126 |     form.append('themFiles', util.file('small0.dat'))
  127 |     form.append('themFiles', util.file('small1.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Magic Number,"{'line': 55, 'column': 57, 'index': 1392}","  53 |         assert.ifError(err)
  54 |         assert.ok(startsWith(req.file.path, env.uploadDir))
> 55 |         assert.strictEqual(util.fileSize(req.file.path), 1778)
     |                                                         ^ Magic Number
  56 |         done()
  57 |       })
  58 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Magic Number,"{'line': 101, 'column': 45, 'index': 2823}","   99 |       util.submitForm(parser, env.form, function (err, req) {
  100 |         assert.ifError(err)
> 101 |         assert.strictEqual(req.files.length, 2)
      |                                             ^ Magic Number
  102 |         assert.strictEqual(req.files[0].filename, 'themFilessmall0.dat')
  103 |         assert.strictEqual(req.files[1].filename, 'themFilessmall1.dat')
  104 |         done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/functionality.js,Magic Number,"{'line': 131, 'column': 43, 'index': 3774}","  129 |     util.submitForm(parser, form, function (err, req) {
  130 |       assert.ifError(err)
> 131 |       assert.strictEqual(req.files.length, 2)
      |                                           ^ Magic Number
  132 |       assert.ok(req.files[0].path.indexOf('/testforme-') >= 0)
  133 |       assert.ok(req.files[1].path.indexOf('/testforme-') >= 0)
  134 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Assertion Roulette,"{'column': 6, 'line': 42}","  40 |     util.submitForm(parser, form, function (err, req) {
  41 |       assert.ifError(err)
> 42 |       assert.strictEqual(req.files.length, 2)
     |      ^ Assertion Roulette
  43 |       assert.strictEqual(req.files[0].originalname, 'small0.dat')
  44 |       assert.strictEqual(req.files[1].originalname, 'small1.dat')
  45 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Assertion Roulette,"{'column': 6, 'line': 43}","  41 |       assert.ifError(err)
  42 |       assert.strictEqual(req.files.length, 2)
> 43 |       assert.strictEqual(req.files[0].originalname, 'small0.dat')
     |      ^ Assertion Roulette
  44 |       assert.strictEqual(req.files[1].originalname, 'small1.dat')
  45 |       done()
  46 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Assertion Roulette,"{'column': 6, 'line': 44}","  42 |       assert.strictEqual(req.files.length, 2)
  43 |       assert.strictEqual(req.files[0].originalname, 'small0.dat')
> 44 |       assert.strictEqual(req.files[1].originalname, 'small1.dat')
     |      ^ Assertion Roulette
  45 |       done()
  46 |     })
  47 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Conditional Test Logic,"{'line': 23, 'column': 8, 'index': 646}","  21 |
  22 |       _handleFile.call(this, req, file, function (err, info) {
> 23 |         if (err) return cb(err)
     |        ^ Conditional Test Logic
  24 |
  25 |         calls[id].cb = cb
  26 |         calls[id].info = info"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Conditional Test Logic,"{'line': 28, 'column': 8, 'index': 736}","  26 |         calls[id].info = info
  27 |
> 28 |         if (--pending === 0) {
     |        ^ Conditional Test Logic
  29 |           calls[1].cb(null, calls[1].info)
  30 |           calls[0].cb(null, calls[0].info)
  31 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 11, 'column': 4, 'index': 269}","   9 | describe('File ordering', function () {
  10 |   it('should present files in same order as they came', function (done) {
> 11 |     var storage = multer.memoryStorage()
     |    ^ Global Variable
  12 |     var upload = multer({ storage: storage })
  13 |     var parser = upload.array('themFiles', 2)
  14 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 12, 'column': 4, 'index': 310}","  10 |   it('should present files in same order as they came', function (done) {
  11 |     var storage = multer.memoryStorage()
> 12 |     var upload = multer({ storage: storage })
     |    ^ Global Variable
  13 |     var parser = upload.array('themFiles', 2)
  14 |
  15 |     var i = 0"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 13, 'column': 4, 'index': 356}","  11 |     var storage = multer.memoryStorage()
  12 |     var upload = multer({ storage: storage })
> 13 |     var parser = upload.array('themFiles', 2)
     |    ^ Global Variable
  14 |
  15 |     var i = 0
  16 |     var calls = [{}, {}]"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 15, 'column': 4, 'index': 403}","  13 |     var parser = upload.array('themFiles', 2)
  14 |
> 15 |     var i = 0
     |    ^ Global Variable
  16 |     var calls = [{}, {}]
  17 |     var pending = 2
  18 |     var _handleFile = storage._handleFile"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 16, 'column': 4, 'index': 417}","  14 |
  15 |     var i = 0
> 16 |     var calls = [{}, {}]
     |    ^ Global Variable
  17 |     var pending = 2
  18 |     var _handleFile = storage._handleFile
  19 |     storage._handleFile = function (req, file, cb) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 17, 'column': 4, 'index': 442}","  15 |     var i = 0
  16 |     var calls = [{}, {}]
> 17 |     var pending = 2
     |    ^ Global Variable
  18 |     var _handleFile = storage._handleFile
  19 |     storage._handleFile = function (req, file, cb) {
  20 |       var id = (i++)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 18, 'column': 4, 'index': 462}","  16 |     var calls = [{}, {}]
  17 |     var pending = 2
> 18 |     var _handleFile = storage._handleFile
     |    ^ Global Variable
  19 |     storage._handleFile = function (req, file, cb) {
  20 |       var id = (i++)
  21 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 20, 'column': 6, 'index': 559}","  18 |     var _handleFile = storage._handleFile
  19 |     storage._handleFile = function (req, file, cb) {
> 20 |       var id = (i++)
     |      ^ Global Variable
  21 |
  22 |       _handleFile.call(this, req, file, function (err, info) {
  23 |         if (err) return cb(err)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Global Variable,"{'line': 35, 'column': 4, 'index': 875}","  33 |     }
  34 |
> 35 |     var form = new FormData()
     |    ^ Global Variable
  36 |
  37 |     form.append('themFiles', util.file('small0.dat'))
  38 |     form.append('themFiles', util.file('small1.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-ordering.js,Magic Number,"{'line': 42, 'column': 43, 'index': 1136}","  40 |     util.submitForm(parser, form, function (err, req) {
  41 |       assert.ifError(err)
> 42 |       assert.strictEqual(req.files.length, 2)
     |                                           ^ Magic Number
  43 |       assert.strictEqual(req.files[0].originalname, 'small0.dat')
  44 |       assert.strictEqual(req.files[1].originalname, 'small1.dat')
  45 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Assertion Roulette,"{'column': 6, 'line': 35}","  33 |     util.submitForm(parser, form, function (err, req) {
  34 |       assert.ifError(err)
> 35 |       assert.strictEqual(req.files.notme, undefined)
     |      ^ Assertion Roulette
  36 |       assert.strictEqual(req.files.butme[0].fieldname, 'butme')
  37 |       assert.strictEqual(req.files.butme[0].originalname, 'tiny1.dat')
  38 |       assert.strictEqual(req.files.butme[0].size, 7)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Assertion Roulette,"{'column': 6, 'line': 36}","  34 |       assert.ifError(err)
  35 |       assert.strictEqual(req.files.notme, undefined)
> 36 |       assert.strictEqual(req.files.butme[0].fieldname, 'butme')
     |      ^ Assertion Roulette
  37 |       assert.strictEqual(req.files.butme[0].originalname, 'tiny1.dat')
  38 |       assert.strictEqual(req.files.butme[0].size, 7)
  39 |       assert.strictEqual(req.files.butme[0].buffer.length, 7)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Assertion Roulette,"{'column': 6, 'line': 37}","  35 |       assert.strictEqual(req.files.notme, undefined)
  36 |       assert.strictEqual(req.files.butme[0].fieldname, 'butme')
> 37 |       assert.strictEqual(req.files.butme[0].originalname, 'tiny1.dat')
     |      ^ Assertion Roulette
  38 |       assert.strictEqual(req.files.butme[0].size, 7)
  39 |       assert.strictEqual(req.files.butme[0].buffer.length, 7)
  40 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Assertion Roulette,"{'column': 6, 'line': 38}","  36 |       assert.strictEqual(req.files.butme[0].fieldname, 'butme')
  37 |       assert.strictEqual(req.files.butme[0].originalname, 'tiny1.dat')
> 38 |       assert.strictEqual(req.files.butme[0].size, 7)
     |      ^ Assertion Roulette
  39 |       assert.strictEqual(req.files.butme[0].buffer.length, 7)
  40 |       done()
  41 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Assertion Roulette,"{'column': 6, 'line': 39}","  37 |       assert.strictEqual(req.files.butme[0].originalname, 'tiny1.dat')
  38 |       assert.strictEqual(req.files.butme[0].size, 7)
> 39 |       assert.strictEqual(req.files.butme[0].buffer.length, 7)
     |      ^ Assertion Roulette
  40 |       done()
  41 |     })
  42 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Global Variable,"{'line': 23, 'column': 4, 'index': 486}","  21 | describe('File Filter', function () {
  22 |   it('should skip some files', function (done) {
> 23 |     var form = new FormData()
     |    ^ Global Variable
  24 |     var upload = withFilter(skipSpecificFile)
  25 |     var parser = upload.fields([
  26 |       { name: 'notme', maxCount: 1 },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Global Variable,"{'line': 24, 'column': 4, 'index': 516}","  22 |   it('should skip some files', function (done) {
  23 |     var form = new FormData()
> 24 |     var upload = withFilter(skipSpecificFile)
     |    ^ Global Variable
  25 |     var parser = upload.fields([
  26 |       { name: 'notme', maxCount: 1 },
  27 |       { name: 'butme', maxCount: 1 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Global Variable,"{'line': 25, 'column': 4, 'index': 562}","  23 |     var form = new FormData()
  24 |     var upload = withFilter(skipSpecificFile)
> 25 |     var parser = upload.fields([
     |    ^ Global Variable
  26 |       { name: 'notme', maxCount: 1 },
  27 |       { name: 'butme', maxCount: 1 }
  28 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Global Variable,"{'line': 45, 'column': 4, 'index': 1251}","  43 |
  44 |   it('should report errors from fileFilter', function (done) {
> 45 |     var form = new FormData()
     |    ^ Global Variable
  46 |     var upload = withFilter(reportFakeError)
  47 |     var parser = upload.single('test')
  48 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Global Variable,"{'line': 46, 'column': 4, 'index': 1281}","  44 |   it('should report errors from fileFilter', function (done) {
  45 |     var form = new FormData()
> 46 |     var upload = withFilter(reportFakeError)
     |    ^ Global Variable
  47 |     var parser = upload.single('test')
  48 |
  49 |     form.append('test', util.file('tiny0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Global Variable,"{'line': 47, 'column': 4, 'index': 1326}","  45 |     var form = new FormData()
  46 |     var upload = withFilter(reportFakeError)
> 47 |     var parser = upload.single('test')
     |    ^ Global Variable
  48 |
  49 |     form.append('test', util.file('tiny0.dat'))
  50 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Magic Number,"{'line': 38, 'column': 50, 'index': 1093}","  36 |       assert.strictEqual(req.files.butme[0].fieldname, 'butme')
  37 |       assert.strictEqual(req.files.butme[0].originalname, 'tiny1.dat')
> 38 |       assert.strictEqual(req.files.butme[0].size, 7)
     |                                                  ^ Magic Number
  39 |       assert.strictEqual(req.files.butme[0].buffer.length, 7)
  40 |       done()
  41 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/file-filter.js,Magic Number,"{'line': 39, 'column': 59, 'index': 1155}","  37 |       assert.strictEqual(req.files.butme[0].originalname, 'tiny1.dat')
  38 |       assert.strictEqual(req.files.butme[0].size, 7)
> 39 |       assert.strictEqual(req.files.butme[0].buffer.length, 7)
     |                                                           ^ Magic Number
  40 |       done()
  41 |     })
  42 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Assertion Roulette,"{'column': 6, 'line': 76}","  74 |     parser(req, null, function (err) {
  75 |       assert.ifError(err)
> 76 |       assert.strictEqual(Object.prototype.hasOwnProperty.call(req, 'body'), false)
     |      ^ Assertion Roulette
  77 |       assert.strictEqual(Object.prototype.hasOwnProperty.call(req, 'files'), false)
  78 |       done()
  79 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Assertion Roulette,"{'column': 6, 'line': 77}","  75 |       assert.ifError(err)
  76 |       assert.strictEqual(Object.prototype.hasOwnProperty.call(req, 'body'), false)
> 77 |       assert.strictEqual(Object.prototype.hasOwnProperty.call(req, 'files'), false)
     |      ^ Assertion Roulette
  78 |       done()
  79 |     })
  80 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Assertion Roulette,"{'column': 6, 'line': 94}","  92 |     parser(req, null, function (err) {
  93 |       assert.ifError(err)
> 94 |       assert.strictEqual(Object.prototype.hasOwnProperty.call(req, 'body'), false)
     |      ^ Assertion Roulette
  95 |       assert.strictEqual(Object.prototype.hasOwnProperty.call(req, 'files'), false)
  96 |       done()
  97 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Assertion Roulette,"{'column': 6, 'line': 95}","  93 |       assert.ifError(err)
  94 |       assert.strictEqual(Object.prototype.hasOwnProperty.call(req, 'body'), false)
> 95 |       assert.strictEqual(Object.prototype.hasOwnProperty.call(req, 'files'), false)
     |      ^ Assertion Roulette
  96 |       done()
  97 |     })
  98 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Global Variable,"{'line': 13, 'column': 2, 'index': 304}","  11 |
  12 | describe('Fields', function () {
> 13 |   var parser
     |  ^ Global Variable
  14 |
  15 |   before(function () {
  16 |     parser = multer().fields([])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Global Variable,"{'line': 20, 'column': 4, 'index': 439}","  18 |
  19 |   it('should process multiple fields', function (done) {
> 20 |     var form = new FormData()
     |    ^ Global Variable
  21 |
  22 |     form.append('name', 'Multer')
  23 |     form.append('key', 'value')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Global Variable,"{'line': 38, 'column': 4, 'index': 839}","  36 |
  37 |   it('should process empty fields', function (done) {
> 38 |     var form = new FormData()
     |    ^ Global Variable
  39 |
  40 |     form.append('name', 'Multer')
  41 |     form.append('key', '')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Global Variable,"{'line': 65, 'column': 4, 'index': 1589}","  63 |
  64 |   it('should not process non-multipart POST request', function (done) {
> 65 |     var req = new stream.PassThrough()
     |    ^ Global Variable
  66 |
  67 |     req.end('name=Multer')
  68 |     req.method = 'POST'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Global Variable,"{'line': 83, 'column': 4, 'index': 2122}","  81 |
  82 |   it('should not process non-multipart GET request', function (done) {
> 83 |     var req = new stream.PassThrough()
     |    ^ Global Variable
  84 |
  85 |     req.end('name=Multer')
  86 |     req.method = 'GET'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Global Variable,"{'line': 102, 'column': 6, 'index': 2677}","  100 |   testData.forEach(function (test) {
  101 |     it('should handle ' + test.name, function (done) {
> 102 |       var form = new FormData()
      |      ^ Global Variable
  103 |
  104 |       test.fields.forEach(function (field) {
  105 |         form.append(field.key, field.value)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/fields.js,Global Variable,"{'line': 117, 'column': 4, 'index': 3042}","  115 |
  116 |   it('should convert arrays into objects', function (done) {
> 117 |     var form = new FormData()
      |    ^ Global Variable
  118 |
  119 |     form.append('obj[0]', 'a')
  120 |     form.append('obj[2]', 'c')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 52}","  50 |
  51 |     router.use(function (err, req, res, next) {
> 52 |       assert.strictEqual(err.code, 'LIMIT_FILE_SIZE')
     |      ^ Assertion Roulette
  53 |
  54 |       errorCalled++
  55 |       res.status(500).end('ERROR')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 62}","  60 |       assert.ifError(err)
  61 |
> 62 |       assert.strictEqual(routeCalled, 0)
     |      ^ Assertion Roulette
  63 |       assert.strictEqual(errorCalled, 1)
  64 |       assert.strictEqual(body.toString(), 'ERROR')
  65 |       assert.strictEqual(res.statusCode, 500)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 63}","  61 |
  62 |       assert.strictEqual(routeCalled, 0)
> 63 |       assert.strictEqual(errorCalled, 1)
     |      ^ Assertion Roulette
  64 |       assert.strictEqual(body.toString(), 'ERROR')
  65 |       assert.strictEqual(res.statusCode, 500)
  66 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 64}","  62 |       assert.strictEqual(routeCalled, 0)
  63 |       assert.strictEqual(errorCalled, 1)
> 64 |       assert.strictEqual(body.toString(), 'ERROR')
     |      ^ Assertion Roulette
  65 |       assert.strictEqual(res.statusCode, 500)
  66 |
  67 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 65}","  63 |       assert.strictEqual(errorCalled, 1)
  64 |       assert.strictEqual(body.toString(), 'ERROR')
> 65 |       assert.strictEqual(res.statusCode, 500)
     |      ^ Assertion Roulette
  66 |
  67 |       done()
  68 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 91}","  89 |
  90 |     router.use(function (err, req, res, next) {
> 91 |       assert.strictEqual(err.message, 'TEST')
     |      ^ Assertion Roulette
  92 |
  93 |       errorCalled++
  94 |       res.status(500).end('ERROR')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 101}","   99 |       assert.ifError(err)
  100 |
> 101 |       assert.strictEqual(routeCalled, 0)
      |      ^ Assertion Roulette
  102 |       assert.strictEqual(errorCalled, 1)
  103 |       assert.strictEqual(body.toString(), 'ERROR')
  104 |       assert.strictEqual(res.statusCode, 500)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 102}","  100 |
  101 |       assert.strictEqual(routeCalled, 0)
> 102 |       assert.strictEqual(errorCalled, 1)
      |      ^ Assertion Roulette
  103 |       assert.strictEqual(body.toString(), 'ERROR')
  104 |       assert.strictEqual(res.statusCode, 500)
  105 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 103}","  101 |       assert.strictEqual(routeCalled, 0)
  102 |       assert.strictEqual(errorCalled, 1)
> 103 |       assert.strictEqual(body.toString(), 'ERROR')
      |      ^ Assertion Roulette
  104 |       assert.strictEqual(res.statusCode, 500)
  105 |
  106 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 104}","  102 |       assert.strictEqual(errorCalled, 1)
  103 |       assert.strictEqual(body.toString(), 'ERROR')
> 104 |       assert.strictEqual(res.statusCode, 500)
      |      ^ Assertion Roulette
  105 |
  106 |       done()
  107 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 118}","  116 |
  117 |     app.use(function (err, req, res, next) {
> 118 |       assert.strictEqual(err.message, 'Unexpected end of form')
      |      ^ Assertion Roulette
  119 |       res.status(200).end('Correct error')
  120 |     })
  121 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 142}","  140 |
  141 |     var req = http.request(options, (res) => {
> 142 |       assert.strictEqual(res.statusCode, 200)
      |      ^ Assertion Roulette
  143 |       done()
  144 |     })
  145 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 162}","  160 |
  161 |     app.use(function (err, req, res, next) {
> 162 |       assert.strictEqual(err.message, 'Malformed part header')
      |      ^ Assertion Roulette
  163 |       res.status(200).end('Correct error')
  164 |     })
  165 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 188}","  186 |
  187 |     var req = http.request(options, (res) => {
> 188 |       assert.strictEqual(res.statusCode, 200)
      |      ^ Assertion Roulette
  189 |       done()
  190 |     })
  191 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 208}","  206 |
  207 |     app.use(function (err, req, res, next) {
> 208 |       assert.strictEqual(err.message, 'Unexpected end of form')
      |      ^ Assertion Roulette
  209 |       res.status(200).end('Correct error')
  210 |     })
  211 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Assertion Roulette,"{'column': 6, 'line': 234}","  232 |
  233 |     var req = http.request(options, (res) => {
> 234 |       assert.strictEqual(res.statusCode, 200)
      |      ^ Assertion Roulette
  235 |       done()
  236 |     })
  237 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 13, 'column': 0, 'index': 250}","  11 | var concat = require('concat-stream')
  12 |
> 13 | var port = 34279
  14 |
  15 | describe('Express Integration', function () {
  16 |   var app"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 16, 'column': 2, 'index': 316}","  14 |
  15 | describe('Express Integration', function () {
> 16 |   var app
     |  ^ Global Variable
  17 |
  18 |   before(function (done) {
  19 |     app = express()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 24, 'column': 4, 'index': 450}","  22 |
  23 |   function submitForm (form, path, cb) {
> 24 |     var req = form.submit('http://localhost:' + port + path)
     |    ^ Global Variable
  25 |
  26 |     req.on('error', cb)
  27 |     req.on('response', function (res) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 36, 'column': 4, 'index': 782}","  34 |
  35 |   it('should work with express error handling', function (done) {
> 36 |     var limits = { fileSize: 200 }
     |    ^ Global Variable
  37 |     var upload = multer({ limits: limits })
  38 |     var router = new express.Router()
  39 |     var form = new FormData()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 37, 'column': 4, 'index': 817}","  35 |   it('should work with express error handling', function (done) {
  36 |     var limits = { fileSize: 200 }
> 37 |     var upload = multer({ limits: limits })
     |    ^ Global Variable
  38 |     var router = new express.Router()
  39 |     var form = new FormData()
  40 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 38, 'column': 4, 'index': 861}","  36 |     var limits = { fileSize: 200 }
  37 |     var upload = multer({ limits: limits })
> 38 |     var router = new express.Router()
     |    ^ Global Variable
  39 |     var form = new FormData()
  40 |
  41 |     var routeCalled = 0"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 39, 'column': 4, 'index': 899}","  37 |     var upload = multer({ limits: limits })
  38 |     var router = new express.Router()
> 39 |     var form = new FormData()
     |    ^ Global Variable
  40 |
  41 |     var routeCalled = 0
  42 |     var errorCalled = 0"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 41, 'column': 4, 'index': 930}","  39 |     var form = new FormData()
  40 |
> 41 |     var routeCalled = 0
     |    ^ Global Variable
  42 |     var errorCalled = 0
  43 |
  44 |     form.append('avatar', util.file('large.jpg'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 42, 'column': 4, 'index': 954}","  40 |
  41 |     var routeCalled = 0
> 42 |     var errorCalled = 0
     |    ^ Global Variable
  43 |
  44 |     form.append('avatar', util.file('large.jpg'))
  45 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 76, 'column': 4, 'index': 1818}","  74 |     }
  75 |
> 76 |     var upload = multer({ fileFilter: fileFilter })
     |    ^ Global Variable
  77 |     var router = new express.Router()
  78 |     var form = new FormData()
  79 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 77, 'column': 4, 'index': 1870}","  75 |
  76 |     var upload = multer({ fileFilter: fileFilter })
> 77 |     var router = new express.Router()
     |    ^ Global Variable
  78 |     var form = new FormData()
  79 |
  80 |     var routeCalled = 0"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 78, 'column': 4, 'index': 1908}","  76 |     var upload = multer({ fileFilter: fileFilter })
  77 |     var router = new express.Router()
> 78 |     var form = new FormData()
     |    ^ Global Variable
  79 |
  80 |     var routeCalled = 0
  81 |     var errorCalled = 0"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 80, 'column': 4, 'index': 1939}","  78 |     var form = new FormData()
  79 |
> 80 |     var routeCalled = 0
     |    ^ Global Variable
  81 |     var errorCalled = 0
  82 |
  83 |     form.append('avatar', util.file('large.jpg'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 81, 'column': 4, 'index': 1963}","  79 |
  80 |     var routeCalled = 0
> 81 |     var errorCalled = 0
     |    ^ Global Variable
  82 |
  83 |     form.append('avatar', util.file('large.jpg'))
  84 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 111, 'column': 4, 'index': 2731}","  109 |
  110 |   it('should not crash on malformed request', function (done) {
> 111 |     var upload = multer()
      |    ^ Global Variable
  112 |
  113 |     app.post('/upload', upload.single('file'), function (req, res) {
  114 |       res.status(500).end('Request should not be processed')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 122, 'column': 4, 'index': 3056}","  120 |     })
  121 |
> 122 |     var boundary = 'AaB03x'
      |    ^ Global Variable
  123 |     var body = [
  124 |       '--' + boundary,
  125 |       'Content-Disposition: form-data; name=""file""; filename=""test.txt""',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 123, 'column': 4, 'index': 3084}","  121 |
  122 |     var boundary = 'AaB03x'
> 123 |     var body = [
      |    ^ Global Variable
  124 |       '--' + boundary,
  125 |       'Content-Disposition: form-data; name=""file""; filename=""test.txt""',
  126 |       'Content-Type: text/plain',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 130, 'column': 4, 'index': 3295}","  128 |       'test without end boundary'
  129 |     ].join('\r\n')
> 130 |     var options = {
      |    ^ Global Variable
  131 |       hostname: 'localhost',
  132 |       port,
  133 |       path: '/upload',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 141, 'column': 4, 'index': 3540}","  139 |     }
  140 |
> 141 |     var req = http.request(options, (res) => {
      |    ^ Global Variable
  142 |       assert.strictEqual(res.statusCode, 200)
  143 |       done()
  144 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 155, 'column': 4, 'index': 3860}","  153 |
  154 |   it('should not crash on malformed request that causes two errors to be emitted by busboy', function (done) {
> 155 |     var upload = multer()
      |    ^ Global Variable
  156 |
  157 |     app.post('/upload2', upload.single('file'), function (req, res) {
  158 |       res.status(500).end('Request should not be processed')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 166, 'column': 4, 'index': 4185}","  164 |     })
  165 |
> 166 |     var boundary = 'AaB03x'
      |    ^ Global Variable
  167 |     // this payload causes two errors to be emitted by busboy: `Malformed part header` and `Unexpected end of form`
  168 |     var body = [
  169 |       '--' + boundary,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 168, 'column': 4, 'index': 4329}","  166 |     var boundary = 'AaB03x'
  167 |     // this payload causes two errors to be emitted by busboy: `Malformed part header` and `Unexpected end of form`
> 168 |     var body = [
      |    ^ Global Variable
  169 |       '--' + boundary,
  170 |       'Content-Disposition: form-data; name=""file""; filename=""test.txt""',
  171 |       'Content-Type: text/plain',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 176, 'column': 4, 'index': 4545}","  174 |       ''
  175 |     ].join('\r\n')
> 176 |     var options = {
      |    ^ Global Variable
  177 |       hostname: 'localhost',
  178 |       port,
  179 |       path: '/upload2',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 187, 'column': 4, 'index': 4791}","  185 |     }
  186 |
> 187 |     var req = http.request(options, (res) => {
      |    ^ Global Variable
  188 |       assert.strictEqual(res.statusCode, 200)
  189 |       done()
  190 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 201, 'column': 4, 'index': 5089}","  199 |
  200 |   it('should not crash on malformed multipart body with bad boundary', function (done) {
> 201 |     var upload = multer()
      |    ^ Global Variable
  202 |
  203 |     app.post('/upload3', upload.single('image'), function (req, res) {
  204 |       res.status(500).end('Request should not be processed')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 212, 'column': 4, 'index': 5416}","  210 |     })
  211 |
> 212 |     var boundary = '----FormBoundary'
      |    ^ Global Variable
  213 |     var body = [
  214 |       '------FormBoundary',
  215 |       'Content-Disposition: form-data; name=""image""; filename=""""',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 213, 'column': 4, 'index': 5454}","  211 |
  212 |     var boundary = '----FormBoundary'
> 213 |     var body = [
      |    ^ Global Variable
  214 |       '------FormBoundary',
  215 |       'Content-Disposition: form-data; name=""image""; filename=""""',
  216 |       'Content-Type: application/octet-stream',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 222, 'column': 4, 'index': 5753}","  220 |     ].join('\r\n')
  221 |
> 222 |     var options = {
      |    ^ Global Variable
  223 |       hostname: 'localhost',
  224 |       port,
  225 |       path: '/upload3',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Global Variable,"{'line': 233, 'column': 4, 'index': 6011}","  231 |     }
  232 |
> 233 |     var req = http.request(options, (res) => {
      |    ^ Global Variable
  234 |       assert.strictEqual(res.statusCode, 200)
  235 |       done()
  236 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 62, 'column': 38, 'index': 1494}","  60 |       assert.ifError(err)
  61 |
> 62 |       assert.strictEqual(routeCalled, 0)
     |                                      ^ Magic Number
  63 |       assert.strictEqual(errorCalled, 1)
  64 |       assert.strictEqual(body.toString(), 'ERROR')
  65 |       assert.strictEqual(res.statusCode, 500)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 63, 'column': 38, 'index': 1535}","  61 |
  62 |       assert.strictEqual(routeCalled, 0)
> 63 |       assert.strictEqual(errorCalled, 1)
     |                                      ^ Magic Number
  64 |       assert.strictEqual(body.toString(), 'ERROR')
  65 |       assert.strictEqual(res.statusCode, 500)
  66 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 65, 'column': 41, 'index': 1630}","  63 |       assert.strictEqual(errorCalled, 1)
  64 |       assert.strictEqual(body.toString(), 'ERROR')
> 65 |       assert.strictEqual(res.statusCode, 500)
     |                                         ^ Magic Number
  66 |
  67 |       done()
  68 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 101, 'column': 38, 'index': 2495}","   99 |       assert.ifError(err)
  100 |
> 101 |       assert.strictEqual(routeCalled, 0)
      |                                      ^ Magic Number
  102 |       assert.strictEqual(errorCalled, 1)
  103 |       assert.strictEqual(body.toString(), 'ERROR')
  104 |       assert.strictEqual(res.statusCode, 500)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 102, 'column': 38, 'index': 2536}","  100 |
  101 |       assert.strictEqual(routeCalled, 0)
> 102 |       assert.strictEqual(errorCalled, 1)
      |                                      ^ Magic Number
  103 |       assert.strictEqual(body.toString(), 'ERROR')
  104 |       assert.strictEqual(res.statusCode, 500)
  105 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 104, 'column': 41, 'index': 2631}","  102 |       assert.strictEqual(errorCalled, 1)
  103 |       assert.strictEqual(body.toString(), 'ERROR')
> 104 |       assert.strictEqual(res.statusCode, 500)
      |                                         ^ Magic Number
  105 |
  106 |       done()
  107 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 142, 'column': 41, 'index': 3624}","  140 |
  141 |     var req = http.request(options, (res) => {
> 142 |       assert.strictEqual(res.statusCode, 200)
      |                                         ^ Magic Number
  143 |       done()
  144 |     })
  145 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 188, 'column': 41, 'index': 4875}","  186 |
  187 |     var req = http.request(options, (res) => {
> 188 |       assert.strictEqual(res.statusCode, 200)
      |                                         ^ Magic Number
  189 |       done()
  190 |     })
  191 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Magic Number,"{'line': 234, 'column': 41, 'index': 6095}","  232 |
  233 |     var req = http.request(options, (res) => {
> 234 |       assert.strictEqual(res.statusCode, 200)
      |                                         ^ Magic Number
  235 |       done()
  236 |     })
  237 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Mystery Guest,"{'column': 14, 'line': 141}","  139 |     }
  140 |
> 141 |     var req = http.request(options, (res) => {
      |              ^ Mystery Guest
  142 |       assert.strictEqual(res.statusCode, 200)
  143 |       done()
  144 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Mystery Guest,"{'column': 14, 'line': 187}","  185 |     }
  186 |
> 187 |     var req = http.request(options, (res) => {
      |              ^ Mystery Guest
  188 |       assert.strictEqual(res.statusCode, 200)
  189 |       done()
  190 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/express-integration.js,Mystery Guest,"{'column': 14, 'line': 233}","  231 |     }
  232 |
> 233 |     var req = http.request(options, (res) => {
      |              ^ Mystery Guest
  234 |       assert.strictEqual(res.statusCode, 200)
  235 |       done()
  236 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 24}","  22 |
  23 |     util.submitForm(parser, form, function (err, req) {
> 24 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
     |      ^ Assertion Roulette
  25 |       assert.strictEqual(err.field, 'notme')
  26 |       done()
  27 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 25}","  23 |     util.submitForm(parser, form, function (err, req) {
  24 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
> 25 |       assert.strictEqual(err.field, 'notme')
     |      ^ Assertion Roulette
  26 |       done()
  27 |     })
  28 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 38}","  36 |
  37 |     util.submitForm(parser, form, function (err, req) {
> 38 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
     |      ^ Assertion Roulette
  39 |       assert.strictEqual(err.field, 'notme')
  40 |       done()
  41 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 39}","  37 |     util.submitForm(parser, form, function (err, req) {
  38 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
> 39 |       assert.strictEqual(err.field, 'notme')
     |      ^ Assertion Roulette
  40 |       done()
  41 |     })
  42 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 52}","  50 |
  51 |     util.submitForm(parser, form, function (err, req) {
> 52 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
     |      ^ Assertion Roulette
  53 |       assert.strictEqual(err.field, 'butme')
  54 |       done()
  55 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 53}","  51 |     util.submitForm(parser, form, function (err, req) {
  52 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
> 53 |       assert.strictEqual(err.field, 'butme')
     |      ^ Assertion Roulette
  54 |       done()
  55 |     })
  56 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 72}","  70 |       assert.ifError(err)
  71 |
> 72 |       assert.strictEqual(req.files.butme.length, 2)
     |      ^ Assertion Roulette
  73 |       assert.strictEqual(req.files.andme.length, 1)
  74 |
  75 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 73}","  71 |
  72 |       assert.strictEqual(req.files.butme.length, 2)
> 73 |       assert.strictEqual(req.files.andme.length, 1)
     |      ^ Assertion Roulette
  74 |
  75 |       done()
  76 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 92}","  90 |
  91 |     util.submitForm(parser, form, function (err, req) {
> 92 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
     |      ^ Assertion Roulette
  93 |       assert.strictEqual(err.field, 'notme')
  94 |       done()
  95 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 93}","  91 |     util.submitForm(parser, form, function (err, req) {
  92 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
> 93 |       assert.strictEqual(err.field, 'notme')
     |      ^ Assertion Roulette
  94 |       done()
  95 |     })
  96 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 108}","  106 |     util.submitForm(parser, form, function (err, req) {
  107 |       assert.ifError(err)
> 108 |       assert.strictEqual(req.files.length, 3)
      |      ^ Assertion Roulette
  109 |       assert.strictEqual(req.files[0].fieldname, 'butme')
  110 |       assert.strictEqual(req.files[1].fieldname, 'butme')
  111 |       assert.strictEqual(req.files[2].fieldname, 'andme')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 109}","  107 |       assert.ifError(err)
  108 |       assert.strictEqual(req.files.length, 3)
> 109 |       assert.strictEqual(req.files[0].fieldname, 'butme')
      |      ^ Assertion Roulette
  110 |       assert.strictEqual(req.files[1].fieldname, 'butme')
  111 |       assert.strictEqual(req.files[2].fieldname, 'andme')
  112 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 110}","  108 |       assert.strictEqual(req.files.length, 3)
  109 |       assert.strictEqual(req.files[0].fieldname, 'butme')
> 110 |       assert.strictEqual(req.files[1].fieldname, 'butme')
      |      ^ Assertion Roulette
  111 |       assert.strictEqual(req.files[2].fieldname, 'andme')
  112 |       done()
  113 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Assertion Roulette,"{'column': 6, 'line': 111}","  109 |       assert.strictEqual(req.files[0].fieldname, 'butme')
  110 |       assert.strictEqual(req.files[1].fieldname, 'butme')
> 111 |       assert.strictEqual(req.files[2].fieldname, 'andme')
      |      ^ Assertion Roulette
  112 |       done()
  113 |     })
  114 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 10, 'column': 2, 'index': 194}","   8 |
   9 | describe('Expected files', function () {
> 10 |   var upload
     |  ^ Global Variable
  11 |
  12 |   before(function (done) {
  13 |     upload = multer()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 18, 'column': 4, 'index': 339}","  16 |
  17 |   it('should reject single unexpected file', function (done) {
> 18 |     var form = new FormData()
     |    ^ Global Variable
  19 |     var parser = upload.single('butme')
  20 |
  21 |     form.append('notme', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 19, 'column': 4, 'index': 369}","  17 |   it('should reject single unexpected file', function (done) {
  18 |     var form = new FormData()
> 19 |     var parser = upload.single('butme')
     |    ^ Global Variable
  20 |
  21 |     form.append('notme', util.file('small0.dat'))
  22 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 31, 'column': 4, 'index': 712}","  29 |
  30 |   it('should reject array of multiple files', function (done) {
> 31 |     var form = new FormData()
     |    ^ Global Variable
  32 |     var parser = upload.array('butme', 4)
  33 |
  34 |     form.append('notme', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 32, 'column': 4, 'index': 742}","  30 |   it('should reject array of multiple files', function (done) {
  31 |     var form = new FormData()
> 32 |     var parser = upload.array('butme', 4)
     |    ^ Global Variable
  33 |
  34 |     form.append('notme', util.file('small0.dat'))
  35 |     form.append('notme', util.file('small1.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 45, 'column': 4, 'index': 1132}","  43 |
  44 |   it('should reject overflowing arrays', function (done) {
> 45 |     var form = new FormData()
     |    ^ Global Variable
  46 |     var parser = upload.array('butme', 1)
  47 |
  48 |     form.append('butme', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 46, 'column': 4, 'index': 1162}","  44 |   it('should reject overflowing arrays', function (done) {
  45 |     var form = new FormData()
> 46 |     var parser = upload.array('butme', 1)
     |    ^ Global Variable
  47 |
  48 |     form.append('butme', util.file('small0.dat'))
  49 |     form.append('butme', util.file('small1.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 59, 'column': 4, 'index': 1563}","  57 |
  58 |   it('should accept files with expected fieldname', function (done) {
> 59 |     var form = new FormData()
     |    ^ Global Variable
  60 |     var parser = upload.fields([
  61 |       { name: 'butme', maxCount: 2 },
  62 |       { name: 'andme', maxCount: 2 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 60, 'column': 4, 'index': 1593}","  58 |   it('should accept files with expected fieldname', function (done) {
  59 |     var form = new FormData()
> 60 |     var parser = upload.fields([
     |    ^ Global Variable
  61 |       { name: 'butme', maxCount: 2 },
  62 |       { name: 'andme', maxCount: 2 }
  63 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 80, 'column': 4, 'index': 2145}","  78 |
  79 |   it('should reject files with unexpected fieldname', function (done) {
> 80 |     var form = new FormData()
     |    ^ Global Variable
  81 |     var parser = upload.fields([
  82 |       { name: 'butme', maxCount: 2 },
  83 |       { name: 'andme', maxCount: 2 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 81, 'column': 4, 'index': 2175}","  79 |   it('should reject files with unexpected fieldname', function (done) {
  80 |     var form = new FormData()
> 81 |     var parser = upload.fields([
     |    ^ Global Variable
  82 |       { name: 'butme', maxCount: 2 },
  83 |       { name: 'andme', maxCount: 2 }
  84 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 99, 'column': 4, 'index': 2738}","   97 |
   98 |   it('should allow any file to come thru', function (done) {
>  99 |     var form = new FormData()
      |    ^ Global Variable
  100 |     var parser = upload.any()
  101 |
  102 |     form.append('butme', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Global Variable,"{'line': 100, 'column': 4, 'index': 2768}","   98 |   it('should allow any file to come thru', function (done) {
   99 |     var form = new FormData()
> 100 |     var parser = upload.any()
      |    ^ Global Variable
  101 |
  102 |     form.append('butme', util.file('small0.dat'))
  103 |     form.append('butme', util.file('small1.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Magic Number,"{'line': 72, 'column': 49, 'index': 1987}","  70 |       assert.ifError(err)
  71 |
> 72 |       assert.strictEqual(req.files.butme.length, 2)
     |                                                 ^ Magic Number
  73 |       assert.strictEqual(req.files.andme.length, 1)
  74 |
  75 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Magic Number,"{'line': 73, 'column': 49, 'index': 2039}","  71 |
  72 |       assert.strictEqual(req.files.butme.length, 2)
> 73 |       assert.strictEqual(req.files.andme.length, 1)
     |                                                 ^ Magic Number
  74 |
  75 |       done()
  76 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/expected-files.js,Magic Number,"{'line': 108, 'column': 43, 'index': 3070}","  106 |     util.submitForm(parser, form, function (err, req) {
  107 |       assert.ifError(err)
> 108 |       assert.strictEqual(req.files.length, 3)
      |                                           ^ Magic Number
  109 |       assert.strictEqual(req.files[0].fieldname, 'butme')
  110 |       assert.strictEqual(req.files[1].fieldname, 'butme')
  111 |       assert.strictEqual(req.files[2].fieldname, 'andme')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 28}","  26 |
  27 |     util.submitForm(upload, form, function (err, req) {
> 28 |       assert.strictEqual(err instanceof Error, true)
     |      ^ Assertion Roulette
  29 |       assert.strictEqual(err instanceof multer.MulterError, true)
  30 |       done()
  31 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 29}","  27 |     util.submitForm(upload, form, function (err, req) {
  28 |       assert.strictEqual(err instanceof Error, true)
> 29 |       assert.strictEqual(err instanceof multer.MulterError, true)
     |      ^ Assertion Roulette
  30 |       done()
  31 |     })
  32 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 60}","  58 |
  59 |     util.submitForm(parser, form, function (err, req) {
> 60 |       assert.strictEqual(err.code, 'LIMIT_FILE_SIZE')
     |      ^ Assertion Roulette
  61 |       assert.strictEqual(err.field, 'small0')
  62 |       done()
  63 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 61}","  59 |     util.submitForm(parser, form, function (err, req) {
  60 |       assert.strictEqual(err.code, 'LIMIT_FILE_SIZE')
> 61 |       assert.strictEqual(err.field, 'small0')
     |      ^ Assertion Roulette
  62 |       done()
  63 |     })
  64 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 117}","  115 |
  116 |     util.submitForm(parser, form, function (err, req) {
> 117 |       assert.strictEqual(err.code, 'LIMIT_FIELD_VALUE')
      |      ^ Assertion Roulette
  118 |       assert.strictEqual(err.field, 'field1')
  119 |       done()
  120 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 118}","  116 |     util.submitForm(parser, form, function (err, req) {
  117 |       assert.strictEqual(err.code, 'LIMIT_FIELD_VALUE')
> 118 |       assert.strictEqual(err.field, 'field1')
      |      ^ Assertion Roulette
  119 |       done()
  120 |     })
  121 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 145}","  143 |
  144 |     util.submitForm(parser, form, function (err, req) {
> 145 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
      |      ^ Assertion Roulette
  146 |       assert.strictEqual(err.field, 'small0')
  147 |       done()
  148 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 146}","  144 |     util.submitForm(parser, form, function (err, req) {
  145 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
> 146 |       assert.strictEqual(err.field, 'small0')
      |      ^ Assertion Roulette
  147 |       done()
  148 |     })
  149 |   })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 208}","  206 |
  207 |     util.submitForm(parser, form, function (err, req) {
> 208 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
      |      ^ Assertion Roulette
  209 |       assert.strictEqual(err.field, 'small0')
  210 |
  211 |       assert.strictEqual(err.storageErrors.length, 1)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 209}","  207 |     util.submitForm(parser, form, function (err, req) {
  208 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
> 209 |       assert.strictEqual(err.field, 'small0')
      |      ^ Assertion Roulette
  210 |
  211 |       assert.strictEqual(err.storageErrors.length, 1)
  212 |       assert.strictEqual(err.storageErrors[0].code, 'TEST')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 211}","  209 |       assert.strictEqual(err.field, 'small0')
  210 |
> 211 |       assert.strictEqual(err.storageErrors.length, 1)
      |      ^ Assertion Roulette
  212 |       assert.strictEqual(err.storageErrors[0].code, 'TEST')
  213 |       assert.strictEqual(err.storageErrors[0].field, 'tiny0')
  214 |       assert.strictEqual(err.storageErrors[0].file, req.file)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 212}","  210 |
  211 |       assert.strictEqual(err.storageErrors.length, 1)
> 212 |       assert.strictEqual(err.storageErrors[0].code, 'TEST')
      |      ^ Assertion Roulette
  213 |       assert.strictEqual(err.storageErrors[0].field, 'tiny0')
  214 |       assert.strictEqual(err.storageErrors[0].file, req.file)
  215 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 213}","  211 |       assert.strictEqual(err.storageErrors.length, 1)
  212 |       assert.strictEqual(err.storageErrors[0].code, 'TEST')
> 213 |       assert.strictEqual(err.storageErrors[0].field, 'tiny0')
      |      ^ Assertion Roulette
  214 |       assert.strictEqual(err.storageErrors[0].file, req.file)
  215 |
  216 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Assertion Roulette,"{'column': 6, 'line': 214}","  212 |       assert.strictEqual(err.storageErrors[0].code, 'TEST')
  213 |       assert.strictEqual(err.storageErrors[0].field, 'tiny0')
> 214 |       assert.strictEqual(err.storageErrors[0].file, req.file)
      |      ^ Assertion Roulette
  215 |
  216 |       done()
  217 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 12, 'column': 2, 'index': 246}","  10 |
  11 | function withLimits (limits, fields) {
> 12 |   var storage = multer.memoryStorage()
     |  ^ Global Variable
  13 |   return multer({ storage: storage, limits: limits }).fields(fields)
  14 | }
  15 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 18, 'column': 4, 'index': 521}","  16 | describe('Error Handling', function () {
  17 |   it('should be an instance of both `Error` and `MulterError` classes in case of the Multer\'s error', function (done) {
> 18 |     var form = new FormData()
     |    ^ Global Variable
  19 |     var storage = multer.diskStorage({ destination: os.tmpdir() })
  20 |     var upload = multer({ storage: storage }).fields([
  21 |       { name: 'small0', maxCount: 1 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 19, 'column': 4, 'index': 551}","  17 |   it('should be an instance of both `Error` and `MulterError` classes in case of the Multer\'s error', function (done) {
  18 |     var form = new FormData()
> 19 |     var storage = multer.diskStorage({ destination: os.tmpdir() })
     |    ^ Global Variable
  20 |     var upload = multer({ storage: storage }).fields([
  21 |       { name: 'small0', maxCount: 1 }
  22 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 20, 'column': 4, 'index': 618}","  18 |     var form = new FormData()
  19 |     var storage = multer.diskStorage({ destination: os.tmpdir() })
> 20 |     var upload = multer({ storage: storage }).fields([
     |    ^ Global Variable
  21 |       { name: 'small0', maxCount: 1 }
  22 |     ])
  23 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 35, 'column': 4, 'index': 1076}","  33 |
  34 |   it('should respect parts limit', function (done) {
> 35 |     var form = new FormData()
     |    ^ Global Variable
  36 |     var parser = withLimits({ parts: 1 }, [
  37 |       { name: 'small0', maxCount: 1 }
  38 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 36, 'column': 4, 'index': 1106}","  34 |   it('should respect parts limit', function (done) {
  35 |     var form = new FormData()
> 36 |     var parser = withLimits({ parts: 1 }, [
     |    ^ Global Variable
  37 |       { name: 'small0', maxCount: 1 }
  38 |     ])
  39 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 50, 'column': 4, 'index': 1477}","  48 |
  49 |   it('should respect file size limit', function (done) {
> 50 |     var form = new FormData()
     |    ^ Global Variable
  51 |     var parser = withLimits({ fileSize: 1500 }, [
  52 |       { name: 'tiny0', maxCount: 1 },
  53 |       { name: 'small0', maxCount: 1 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 51, 'column': 4, 'index': 1507}","  49 |   it('should respect file size limit', function (done) {
  50 |     var form = new FormData()
> 51 |     var parser = withLimits({ fileSize: 1500 }, [
     |    ^ Global Variable
  52 |       { name: 'tiny0', maxCount: 1 },
  53 |       { name: 'small0', maxCount: 1 }
  54 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 67, 'column': 4, 'index': 1982}","  65 |
  66 |   it('should respect file count limit', function (done) {
> 67 |     var form = new FormData()
     |    ^ Global Variable
  68 |     var parser = withLimits({ files: 1 }, [
  69 |       { name: 'small0', maxCount: 1 },
  70 |       { name: 'small1', maxCount: 1 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 68, 'column': 4, 'index': 2012}","  66 |   it('should respect file count limit', function (done) {
  67 |     var form = new FormData()
> 68 |     var parser = withLimits({ files: 1 }, [
     |    ^ Global Variable
  69 |       { name: 'small0', maxCount: 1 },
  70 |       { name: 'small1', maxCount: 1 }
  71 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 83, 'column': 4, 'index': 2437}","  81 |
  82 |   it('should respect file key limit', function (done) {
> 83 |     var form = new FormData()
     |    ^ Global Variable
  84 |     var parser = withLimits({ fieldNameSize: 4 }, [
  85 |       { name: 'small0', maxCount: 1 }
  86 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 84, 'column': 4, 'index': 2467}","  82 |   it('should respect file key limit', function (done) {
  83 |     var form = new FormData()
> 84 |     var parser = withLimits({ fieldNameSize: 4 }, [
     |    ^ Global Variable
  85 |       { name: 'small0', maxCount: 1 }
  86 |     ])
  87 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 97, 'column': 4, 'index': 2810}","   95 |
   96 |   it('should respect field key limit', function (done) {
>  97 |     var form = new FormData()
      |    ^ Global Variable
   98 |     var parser = withLimits({ fieldNameSize: 4 }, [])
   99 |
  100 |     form.append('ok', 'SMILE')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 98, 'column': 4, 'index': 2840}","   96 |   it('should respect field key limit', function (done) {
   97 |     var form = new FormData()
>  98 |     var parser = withLimits({ fieldNameSize: 4 }, [])
      |    ^ Global Variable
   99 |
  100 |     form.append('ok', 'SMILE')
  101 |     form.append('blowup', 'BOOM!')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 110, 'column': 4, 'index': 3157}","  108 |
  109 |   it('should respect field value limit', function (done) {
> 110 |     var form = new FormData()
      |    ^ Global Variable
  111 |     var parser = withLimits({ fieldSize: 16 }, [])
  112 |
  113 |     form.append('field0', 'This is okay')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 111, 'column': 4, 'index': 3187}","  109 |   it('should respect field value limit', function (done) {
  110 |     var form = new FormData()
> 111 |     var parser = withLimits({ fieldSize: 16 }, [])
      |    ^ Global Variable
  112 |
  113 |     form.append('field0', 'This is okay')
  114 |     form.append('field1', 'This will make the parser explode')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 124, 'column': 4, 'index': 3588}","  122 |
  123 |   it('should respect field count limit', function (done) {
> 124 |     var form = new FormData()
      |    ^ Global Variable
  125 |     var parser = withLimits({ fields: 1 }, [])
  126 |
  127 |     form.append('field0', 'BOOM!')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 125, 'column': 4, 'index': 3618}","  123 |   it('should respect field count limit', function (done) {
  124 |     var form = new FormData()
> 125 |     var parser = withLimits({ fields: 1 }, [])
      |    ^ Global Variable
  126 |
  127 |     form.append('field0', 'BOOM!')
  128 |     form.append('field1', 'BOOM!')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 137, 'column': 4, 'index': 3929}","  135 |
  136 |   it('should respect fields given', function (done) {
> 137 |     var form = new FormData()
      |    ^ Global Variable
  138 |     var parser = withLimits(undefined, [
  139 |       { name: 'wrongname', maxCount: 1 }
  140 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 138, 'column': 4, 'index': 3959}","  136 |   it('should respect fields given', function (done) {
  137 |     var form = new FormData()
> 138 |     var parser = withLimits(undefined, [
      |    ^ Global Variable
  139 |       { name: 'wrongname', maxCount: 1 }
  140 |     ])
  141 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 152, 'column': 4, 'index': 4351}","  150 |
  151 |   it('should notify of missing field name', function (done) {
> 152 |     var req = new stream.PassThrough()
      |    ^ Global Variable
  153 |     var storage = multer.memoryStorage()
  154 |     var upload = multer({ storage: storage }).single('tiny0')
  155 |     var boundary = 'AaB03x'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 153, 'column': 4, 'index': 4390}","  151 |   it('should notify of missing field name', function (done) {
  152 |     var req = new stream.PassThrough()
> 153 |     var storage = multer.memoryStorage()
      |    ^ Global Variable
  154 |     var upload = multer({ storage: storage }).single('tiny0')
  155 |     var boundary = 'AaB03x'
  156 |     var body = ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 154, 'column': 4, 'index': 4431}","  152 |     var req = new stream.PassThrough()
  153 |     var storage = multer.memoryStorage()
> 154 |     var upload = multer({ storage: storage }).single('tiny0')
      |    ^ Global Variable
  155 |     var boundary = 'AaB03x'
  156 |     var body = [
  157 |       '--' + boundary,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 155, 'column': 4, 'index': 4493}","  153 |     var storage = multer.memoryStorage()
  154 |     var upload = multer({ storage: storage }).single('tiny0')
> 155 |     var boundary = 'AaB03x'
      |    ^ Global Variable
  156 |     var body = [
  157 |       '--' + boundary,
  158 |       'Content-Disposition: form-data',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 156, 'column': 4, 'index': 4521}","  154 |     var upload = multer({ storage: storage }).single('tiny0')
  155 |     var boundary = 'AaB03x'
> 156 |     var body = [
      |    ^ Global Variable
  157 |       '--' + boundary,
  158 |       'Content-Disposition: form-data',
  159 |       '',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 179, 'column': 4, 'index': 5018}","  177 |
  178 |   it('should notify of missing field name', function (done) {
> 179 |     var form = new FormData()
      |    ^ Global Variable
  180 |     var storage = multer.memoryStorage()
  181 |     var parser = multer({ storage: storage }).single('small0')
  182 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 180, 'column': 4, 'index': 5048}","  178 |   it('should notify of missing field name', function (done) {
  179 |     var form = new FormData()
> 180 |     var storage = multer.memoryStorage()
      |    ^ Global Variable
  181 |     var parser = multer({ storage: storage }).single('small0')
  182 |
  183 |     form.append('', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 181, 'column': 4, 'index': 5089}","  179 |     var form = new FormData()
  180 |     var storage = multer.memoryStorage()
> 181 |     var parser = multer({ storage: storage }).single('small0')
      |    ^ Global Variable
  182 |
  183 |     form.append('', util.file('small0.dat'))
  184 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 192, 'column': 4, 'index': 5406}","  190 |
  191 |   it('should report errors from storage engines', function (done) {
> 192 |     var storage = multer.memoryStorage()
      |    ^ Global Variable
  193 |
  194 |     storage._removeFile = function _removeFile (req, file, cb) {
  195 |       var err = new Error('Test error')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 195, 'column': 6, 'index': 5515}","  193 |
  194 |     storage._removeFile = function _removeFile (req, file, cb) {
> 195 |       var err = new Error('Test error')
      |      ^ Global Variable
  196 |       err.code = 'TEST'
  197 |       cb(err)
  198 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 200, 'column': 4, 'index': 5598}","  198 |     }
  199 |
> 200 |     var form = new FormData()
      |    ^ Global Variable
  201 |     var upload = multer({ storage: storage })
  202 |     var parser = upload.single('tiny0')
  203 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 201, 'column': 4, 'index': 5628}","  199 |
  200 |     var form = new FormData()
> 201 |     var upload = multer({ storage: storage })
      |    ^ Global Variable
  202 |     var parser = upload.single('tiny0')
  203 |
  204 |     form.append('tiny0', util.file('tiny0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 202, 'column': 4, 'index': 5674}","  200 |     var form = new FormData()
  201 |     var upload = multer({ storage: storage })
> 202 |     var parser = upload.single('tiny0')
      |    ^ Global Variable
  203 |
  204 |     form.append('tiny0', util.file('tiny0.dat'))
  205 |     form.append('small0', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 221, 'column': 4, 'index': 6315}","  219 |
  220 |   it('should report errors from busboy constructor', function (done) {
> 221 |     var req = new stream.PassThrough()
      |    ^ Global Variable
  222 |     var storage = multer.memoryStorage()
  223 |     var upload = multer({ storage: storage }).single('tiny0')
  224 |     var body = 'test'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 222, 'column': 4, 'index': 6354}","  220 |   it('should report errors from busboy constructor', function (done) {
  221 |     var req = new stream.PassThrough()
> 222 |     var storage = multer.memoryStorage()
      |    ^ Global Variable
  223 |     var upload = multer({ storage: storage }).single('tiny0')
  224 |     var body = 'test'
  225 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 223, 'column': 4, 'index': 6395}","  221 |     var req = new stream.PassThrough()
  222 |     var storage = multer.memoryStorage()
> 223 |     var upload = multer({ storage: storage }).single('tiny0')
      |    ^ Global Variable
  224 |     var body = 'test'
  225 |
  226 |     req.headers = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 224, 'column': 4, 'index': 6457}","  222 |     var storage = multer.memoryStorage()
  223 |     var upload = multer({ storage: storage }).single('tiny0')
> 224 |     var body = 'test'
      |    ^ Global Variable
  225 |
  226 |     req.headers = {
  227 |       'content-type': 'multipart/form-data',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 240, 'column': 4, 'index': 6810}","  238 |
  239 |   it('should report errors from busboy parsing', function (done) {
> 240 |     var req = new stream.PassThrough()
      |    ^ Global Variable
  241 |     var storage = multer.memoryStorage()
  242 |     var upload = multer({ storage: storage }).single('tiny0')
  243 |     var boundary = 'AaB03x'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 241, 'column': 4, 'index': 6849}","  239 |   it('should report errors from busboy parsing', function (done) {
  240 |     var req = new stream.PassThrough()
> 241 |     var storage = multer.memoryStorage()
      |    ^ Global Variable
  242 |     var upload = multer({ storage: storage }).single('tiny0')
  243 |     var boundary = 'AaB03x'
  244 |     var body = ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 242, 'column': 4, 'index': 6890}","  240 |     var req = new stream.PassThrough()
  241 |     var storage = multer.memoryStorage()
> 242 |     var upload = multer({ storage: storage }).single('tiny0')
      |    ^ Global Variable
  243 |     var boundary = 'AaB03x'
  244 |     var body = [
  245 |       '--' + boundary,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 243, 'column': 4, 'index': 6952}","  241 |     var storage = multer.memoryStorage()
  242 |     var upload = multer({ storage: storage }).single('tiny0')
> 243 |     var boundary = 'AaB03x'
      |    ^ Global Variable
  244 |     var body = [
  245 |       '--' + boundary,
  246 |       'Content-Disposition: form-data; name=""tiny0""; filename=""test.txt""',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 244, 'column': 4, 'index': 6980}","  242 |     var upload = multer({ storage: storage }).single('tiny0')
  243 |     var boundary = 'AaB03x'
> 244 |     var body = [
      |    ^ Global Variable
  245 |       '--' + boundary,
  246 |       'Content-Disposition: form-data; name=""tiny0""; filename=""test.txt""',
  247 |       'Content-Type: text/plain',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 266, 'column': 4, 'index': 7552}","  264 |
  265 |   it('should gracefully handle more than one error at a time', function (done) {
> 266 |     var form = new FormData()
      |    ^ Global Variable
  267 |     var storage = multer.diskStorage({ destination: os.tmpdir() })
  268 |     var upload = multer({ storage: storage, limits: { fileSize: 1, files: 1 } }).fields([
  269 |       { name: 'small0', maxCount: 1 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 267, 'column': 4, 'index': 7582}","  265 |   it('should gracefully handle more than one error at a time', function (done) {
  266 |     var form = new FormData()
> 267 |     var storage = multer.diskStorage({ destination: os.tmpdir() })
      |    ^ Global Variable
  268 |     var upload = multer({ storage: storage, limits: { fileSize: 1, files: 1 } }).fields([
  269 |       { name: 'small0', maxCount: 1 }
  270 |     ])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Global Variable,"{'line': 268, 'column': 4, 'index': 7649}","  266 |     var form = new FormData()
  267 |     var storage = multer.diskStorage({ destination: os.tmpdir() })
> 268 |     var upload = multer({ storage: storage, limits: { fileSize: 1, files: 1 } }).fields([
      |    ^ Global Variable
  269 |       { name: 'small0', maxCount: 1 }
  270 |     ])
  271 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/error-handling.js,Magic Number,"{'line': 211, 'column': 51, 'index': 6026}","  209 |       assert.strictEqual(err.field, 'small0')
  210 |
> 211 |       assert.strictEqual(err.storageErrors.length, 1)
      |                                                   ^ Magic Number
  212 |       assert.strictEqual(err.storageErrors[0].code, 'TEST')
  213 |       assert.strictEqual(err.storageErrors[0].field, 'tiny0')
  214 |       assert.strictEqual(err.storageErrors[0].file, req.file)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 41}","  39 |       assert.ifError(err)
  40 |
> 41 |       assert.strictEqual(req.body.name, 'Multer')
     |      ^ Assertion Roulette
  42 |
  43 |       assert.strictEqual(req.file.fieldname, 'small0')
  44 |       assert.strictEqual(req.file.originalname, 'small0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 43}","  41 |       assert.strictEqual(req.body.name, 'Multer')
  42 |
> 43 |       assert.strictEqual(req.file.fieldname, 'small0')
     |      ^ Assertion Roulette
  44 |       assert.strictEqual(req.file.originalname, 'small0.dat')
  45 |       assert.strictEqual(req.file.size, 1778)
  46 |       assert.strictEqual(util.fileSize(req.file.path), 1778)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 44}","  42 |
  43 |       assert.strictEqual(req.file.fieldname, 'small0')
> 44 |       assert.strictEqual(req.file.originalname, 'small0.dat')
     |      ^ Assertion Roulette
  45 |       assert.strictEqual(req.file.size, 1778)
  46 |       assert.strictEqual(util.fileSize(req.file.path), 1778)
  47 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 45}","  43 |       assert.strictEqual(req.file.fieldname, 'small0')
  44 |       assert.strictEqual(req.file.originalname, 'small0.dat')
> 45 |       assert.strictEqual(req.file.size, 1778)
     |      ^ Assertion Roulette
  46 |       assert.strictEqual(util.fileSize(req.file.path), 1778)
  47 |
  48 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 46}","  44 |       assert.strictEqual(req.file.originalname, 'small0.dat')
  45 |       assert.strictEqual(req.file.size, 1778)
> 46 |       assert.strictEqual(util.fileSize(req.file.path), 1778)
     |      ^ Assertion Roulette
  47 |
  48 |       done()
  49 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 70}","  68 |       assert.ifError(err)
  69 |
> 70 |       assert.strictEqual(req.body.name, 'Multer')
     |      ^ Assertion Roulette
  71 |       assert.strictEqual(req.body.version, '')
  72 |       assert.strictEqual(req.body.year, '')
  73 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 71}","  69 |
  70 |       assert.strictEqual(req.body.name, 'Multer')
> 71 |       assert.strictEqual(req.body.version, '')
     |      ^ Assertion Roulette
  72 |       assert.strictEqual(req.body.year, '')
  73 |
  74 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 72}","  70 |       assert.strictEqual(req.body.name, 'Multer')
  71 |       assert.strictEqual(req.body.version, '')
> 72 |       assert.strictEqual(req.body.year, '')
     |      ^ Assertion Roulette
  73 |
  74 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))
  75 |       assert(deepEqual(req.body.checkboxhalfempty, ['cb1', '']))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 74}","  72 |       assert.strictEqual(req.body.year, '')
  73 |
> 74 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))
     |      ^ Assertion Roulette
  75 |       assert(deepEqual(req.body.checkboxhalfempty, ['cb1', '']))
  76 |       assert(deepEqual(req.body.checkboxempty, ['', '']))
  77 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 75}","  73 |
  74 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))
> 75 |       assert(deepEqual(req.body.checkboxhalfempty, ['cb1', '']))
     |      ^ Assertion Roulette
  76 |       assert(deepEqual(req.body.checkboxempty, ['', '']))
  77 |
  78 |       assert.strictEqual(req.file.fieldname, 'empty')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 76}","  74 |       assert(deepEqual(req.body.checkboxfull, ['cb1', 'cb2']))
  75 |       assert(deepEqual(req.body.checkboxhalfempty, ['cb1', '']))
> 76 |       assert(deepEqual(req.body.checkboxempty, ['', '']))
     |      ^ Assertion Roulette
  77 |
  78 |       assert.strictEqual(req.file.fieldname, 'empty')
  79 |       assert.strictEqual(req.file.originalname, 'empty.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 78}","  76 |       assert(deepEqual(req.body.checkboxempty, ['', '']))
  77 |
> 78 |       assert.strictEqual(req.file.fieldname, 'empty')
     |      ^ Assertion Roulette
  79 |       assert.strictEqual(req.file.originalname, 'empty.dat')
  80 |       assert.strictEqual(req.file.size, 0)
  81 |       assert.strictEqual(util.fileSize(req.file.path), 0)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 79}","  77 |
  78 |       assert.strictEqual(req.file.fieldname, 'empty')
> 79 |       assert.strictEqual(req.file.originalname, 'empty.dat')
     |      ^ Assertion Roulette
  80 |       assert.strictEqual(req.file.size, 0)
  81 |       assert.strictEqual(util.fileSize(req.file.path), 0)
  82 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 80}","  78 |       assert.strictEqual(req.file.fieldname, 'empty')
  79 |       assert.strictEqual(req.file.originalname, 'empty.dat')
> 80 |       assert.strictEqual(req.file.size, 0)
     |      ^ Assertion Roulette
  81 |       assert.strictEqual(util.fileSize(req.file.path), 0)
  82 |
  83 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 81}","  79 |       assert.strictEqual(req.file.originalname, 'empty.dat')
  80 |       assert.strictEqual(req.file.size, 0)
> 81 |       assert.strictEqual(util.fileSize(req.file.path), 0)
     |      ^ Assertion Roulette
  82 |
  83 |       done()
  84 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 110}","  108 |       assert.ifError(err)
  109 |
> 110 |       assert(deepEqual(req.body, {}))
      |      ^ Assertion Roulette
  111 |
  112 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
  113 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 112}","  110 |       assert(deepEqual(req.body, {}))
  111 |
> 112 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
      |      ^ Assertion Roulette
  113 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
  114 |       assert.strictEqual(req.files.empty[0].size, 0)
  115 |       assert.strictEqual(util.fileSize(req.files.empty[0].path), 0)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 113}","  111 |
  112 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
> 113 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
      |      ^ Assertion Roulette
  114 |       assert.strictEqual(req.files.empty[0].size, 0)
  115 |       assert.strictEqual(util.fileSize(req.files.empty[0].path), 0)
  116 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 114}","  112 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
  113 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
> 114 |       assert.strictEqual(req.files.empty[0].size, 0)
      |      ^ Assertion Roulette
  115 |       assert.strictEqual(util.fileSize(req.files.empty[0].path), 0)
  116 |
  117 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 115}","  113 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
  114 |       assert.strictEqual(req.files.empty[0].size, 0)
> 115 |       assert.strictEqual(util.fileSize(req.files.empty[0].path), 0)
      |      ^ Assertion Roulette
  116 |
  117 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
  118 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 117}","  115 |       assert.strictEqual(util.fileSize(req.files.empty[0].path), 0)
  116 |
> 117 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
      |      ^ Assertion Roulette
  118 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
  119 |       assert.strictEqual(req.files.tiny0[0].size, 122)
  120 |       assert.strictEqual(util.fileSize(req.files.tiny0[0].path), 122)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 118}","  116 |
  117 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
> 118 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
      |      ^ Assertion Roulette
  119 |       assert.strictEqual(req.files.tiny0[0].size, 122)
  120 |       assert.strictEqual(util.fileSize(req.files.tiny0[0].path), 122)
  121 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 119}","  117 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
  118 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
> 119 |       assert.strictEqual(req.files.tiny0[0].size, 122)
      |      ^ Assertion Roulette
  120 |       assert.strictEqual(util.fileSize(req.files.tiny0[0].path), 122)
  121 |
  122 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 120}","  118 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
  119 |       assert.strictEqual(req.files.tiny0[0].size, 122)
> 120 |       assert.strictEqual(util.fileSize(req.files.tiny0[0].path), 122)
      |      ^ Assertion Roulette
  121 |
  122 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
  123 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 122}","  120 |       assert.strictEqual(util.fileSize(req.files.tiny0[0].path), 122)
  121 |
> 122 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
      |      ^ Assertion Roulette
  123 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
  124 |       assert.strictEqual(req.files.tiny1[0].size, 7)
  125 |       assert.strictEqual(util.fileSize(req.files.tiny1[0].path), 7)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 123}","  121 |
  122 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
> 123 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
      |      ^ Assertion Roulette
  124 |       assert.strictEqual(req.files.tiny1[0].size, 7)
  125 |       assert.strictEqual(util.fileSize(req.files.tiny1[0].path), 7)
  126 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 124}","  122 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
  123 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
> 124 |       assert.strictEqual(req.files.tiny1[0].size, 7)
      |      ^ Assertion Roulette
  125 |       assert.strictEqual(util.fileSize(req.files.tiny1[0].path), 7)
  126 |
  127 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 125}","  123 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
  124 |       assert.strictEqual(req.files.tiny1[0].size, 7)
> 125 |       assert.strictEqual(util.fileSize(req.files.tiny1[0].path), 7)
      |      ^ Assertion Roulette
  126 |
  127 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
  128 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 127}","  125 |       assert.strictEqual(util.fileSize(req.files.tiny1[0].path), 7)
  126 |
> 127 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
      |      ^ Assertion Roulette
  128 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
  129 |       assert.strictEqual(req.files.small0[0].size, 1778)
  130 |       assert.strictEqual(util.fileSize(req.files.small0[0].path), 1778)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 128}","  126 |
  127 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
> 128 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
      |      ^ Assertion Roulette
  129 |       assert.strictEqual(req.files.small0[0].size, 1778)
  130 |       assert.strictEqual(util.fileSize(req.files.small0[0].path), 1778)
  131 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 129}","  127 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
  128 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
> 129 |       assert.strictEqual(req.files.small0[0].size, 1778)
      |      ^ Assertion Roulette
  130 |       assert.strictEqual(util.fileSize(req.files.small0[0].path), 1778)
  131 |
  132 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 130}","  128 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
  129 |       assert.strictEqual(req.files.small0[0].size, 1778)
> 130 |       assert.strictEqual(util.fileSize(req.files.small0[0].path), 1778)
      |      ^ Assertion Roulette
  131 |
  132 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
  133 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 132}","  130 |       assert.strictEqual(util.fileSize(req.files.small0[0].path), 1778)
  131 |
> 132 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
      |      ^ Assertion Roulette
  133 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
  134 |       assert.strictEqual(req.files.small1[0].size, 315)
  135 |       assert.strictEqual(util.fileSize(req.files.small1[0].path), 315)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 133}","  131 |
  132 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
> 133 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
      |      ^ Assertion Roulette
  134 |       assert.strictEqual(req.files.small1[0].size, 315)
  135 |       assert.strictEqual(util.fileSize(req.files.small1[0].path), 315)
  136 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 134}","  132 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
  133 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
> 134 |       assert.strictEqual(req.files.small1[0].size, 315)
      |      ^ Assertion Roulette
  135 |       assert.strictEqual(util.fileSize(req.files.small1[0].path), 315)
  136 |
  137 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 135}","  133 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
  134 |       assert.strictEqual(req.files.small1[0].size, 315)
> 135 |       assert.strictEqual(util.fileSize(req.files.small1[0].path), 315)
      |      ^ Assertion Roulette
  136 |
  137 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
  138 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 137}","  135 |       assert.strictEqual(util.fileSize(req.files.small1[0].path), 315)
  136 |
> 137 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
      |      ^ Assertion Roulette
  138 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
  139 |       assert.strictEqual(req.files.medium[0].size, 13196)
  140 |       assert.strictEqual(util.fileSize(req.files.medium[0].path), 13196)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 138}","  136 |
  137 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
> 138 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
      |      ^ Assertion Roulette
  139 |       assert.strictEqual(req.files.medium[0].size, 13196)
  140 |       assert.strictEqual(util.fileSize(req.files.medium[0].path), 13196)
  141 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 139}","  137 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
  138 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
> 139 |       assert.strictEqual(req.files.medium[0].size, 13196)
      |      ^ Assertion Roulette
  140 |       assert.strictEqual(util.fileSize(req.files.medium[0].path), 13196)
  141 |
  142 |       assert.strictEqual(req.files.large[0].fieldname, 'large')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 140}","  138 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
  139 |       assert.strictEqual(req.files.medium[0].size, 13196)
> 140 |       assert.strictEqual(util.fileSize(req.files.medium[0].path), 13196)
      |      ^ Assertion Roulette
  141 |
  142 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
  143 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 142}","  140 |       assert.strictEqual(util.fileSize(req.files.medium[0].path), 13196)
  141 |
> 142 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
      |      ^ Assertion Roulette
  143 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
  144 |       assert.strictEqual(req.files.large[0].size, 2413677)
  145 |       assert.strictEqual(util.fileSize(req.files.large[0].path), 2413677)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 143}","  141 |
  142 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
> 143 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
      |      ^ Assertion Roulette
  144 |       assert.strictEqual(req.files.large[0].size, 2413677)
  145 |       assert.strictEqual(util.fileSize(req.files.large[0].path), 2413677)
  146 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 144}","  142 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
  143 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
> 144 |       assert.strictEqual(req.files.large[0].size, 2413677)
      |      ^ Assertion Roulette
  145 |       assert.strictEqual(util.fileSize(req.files.large[0].path), 2413677)
  146 |
  147 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 145}","  143 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
  144 |       assert.strictEqual(req.files.large[0].size, 2413677)
> 145 |       assert.strictEqual(util.fileSize(req.files.large[0].path), 2413677)
      |      ^ Assertion Roulette
  146 |
  147 |       done()
  148 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 159}","  157 |
  158 |     util.submitForm(parser, form, function (err, req) {
> 159 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
      |      ^ Assertion Roulette
  160 |       assert.strictEqual(err.field, 'small0')
  161 |       assert(deepEqual(err.storageErrors, []))
  162 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 160}","  158 |     util.submitForm(parser, form, function (err, req) {
  159 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
> 160 |       assert.strictEqual(err.field, 'small0')
      |      ^ Assertion Roulette
  161 |       assert(deepEqual(err.storageErrors, []))
  162 |
  163 |       var files = fs.readdirSync(uploadDir)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 161}","  159 |       assert.strictEqual(err.code, 'LIMIT_UNEXPECTED_FILE')
  160 |       assert.strictEqual(err.field, 'small0')
> 161 |       assert(deepEqual(err.storageErrors, []))
      |      ^ Assertion Roulette
  162 |
  163 |       var files = fs.readdirSync(uploadDir)
  164 |       assert(deepEqual(files, []))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 164}","  162 |
  163 |       var files = fs.readdirSync(uploadDir)
> 164 |       assert(deepEqual(files, []))
      |      ^ Assertion Roulette
  165 |
  166 |       done()
  167 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 182}","  180 |
  181 |     util.submitForm(parser, form, function (err, req) {
> 182 |       assert.strictEqual(err.code, 'ENOENT')
      |      ^ Assertion Roulette
  183 |       assert.strictEqual(path.dirname(err.path), directory)
  184 |
  185 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Assertion Roulette,"{'column': 6, 'line': 183}","  181 |     util.submitForm(parser, form, function (err, req) {
  182 |       assert.strictEqual(err.code, 'ENOENT')
> 183 |       assert.strictEqual(path.dirname(err.path), directory)
      |      ^ Assertion Roulette
  184 |
  185 |       done()
  186 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Conditional Test Logic,"{'line': 19, 'column': 6, 'index': 439}","  17 |   beforeEach(function (done) {
  18 |     temp.mkdir(function (err, path) {
> 19 |       if (err) return done(err)
     |      ^ Conditional Test Logic
  20 |
  21 |       uploadDir = path
  22 |       upload = multer({ dest: path })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 15, 'column': 2, 'index': 341}","  13 |
  14 | describe('Disk Storage', function () {
> 15 |   var uploadDir, upload
     |  ^ Global Variable
  16 |
  17 |   beforeEach(function (done) {
  18 |     temp.mkdir(function (err, path) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 32, 'column': 4, 'index': 692}","  30 |
  31 |   it('should process parser/form-data POST request', function (done) {
> 32 |     var form = new FormData()
     |    ^ Global Variable
  33 |     var parser = upload.single('small0')
  34 |
  35 |     form.append('name', 'Multer')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 33, 'column': 4, 'index': 722}","  31 |   it('should process parser/form-data POST request', function (done) {
  32 |     var form = new FormData()
> 33 |     var parser = upload.single('small0')
     |    ^ Global Variable
  34 |
  35 |     form.append('name', 'Multer')
  36 |     form.append('small0', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 53, 'column': 4, 'index': 1307}","  51 |
  52 |   it('should process empty fields and an empty file', function (done) {
> 53 |     var form = new FormData()
     |    ^ Global Variable
  54 |     var parser = upload.single('empty')
  55 |
  56 |     form.append('empty', util.file('empty.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 54, 'column': 4, 'index': 1337}","  52 |   it('should process empty fields and an empty file', function (done) {
  53 |     var form = new FormData()
> 54 |     var parser = upload.single('empty')
     |    ^ Global Variable
  55 |
  56 |     form.append('empty', util.file('empty.dat'))
  57 |     form.append('name', 'Multer')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 88, 'column': 4, 'index': 2469}","  86 |
  87 |   it('should process multiple files', function (done) {
> 88 |     var form = new FormData()
     |    ^ Global Variable
  89 |     var parser = upload.fields([
  90 |       { name: 'empty', maxCount: 1 },
  91 |       { name: 'tiny0', maxCount: 1 },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 89, 'column': 4, 'index': 2499}","  87 |   it('should process multiple files', function (done) {
  88 |     var form = new FormData()
> 89 |     var parser = upload.fields([
     |    ^ Global Variable
  90 |       { name: 'empty', maxCount: 1 },
  91 |       { name: 'tiny0', maxCount: 1 },
  92 |       { name: 'tiny1', maxCount: 1 },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 152, 'column': 4, 'index': 5221}","  150 |
  151 |   it('should remove uploaded files on error', function (done) {
> 152 |     var form = new FormData()
      |    ^ Global Variable
  153 |     var parser = upload.single('tiny0')
  154 |
  155 |     form.append('tiny0', util.file('tiny0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 153, 'column': 4, 'index': 5251}","  151 |   it('should remove uploaded files on error', function (done) {
  152 |     var form = new FormData()
> 153 |     var parser = upload.single('tiny0')
      |    ^ Global Variable
  154 |
  155 |     form.append('tiny0', util.file('tiny0.dat'))
  156 |     form.append('small0', util.file('small0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 163, 'column': 6, 'index': 5605}","  161 |       assert(deepEqual(err.storageErrors, []))
  162 |
> 163 |       var files = fs.readdirSync(uploadDir)
      |      ^ Global Variable
  164 |       assert(deepEqual(files, []))
  165 |
  166 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 171, 'column': 4, 'index': 5785}","  169 |
  170 |   it('should report error when directory doesn\'t exist', function (done) {
> 171 |     var directory = path.join(temp.mkdirSync(), 'ghost')
      |    ^ Global Variable
  172 |     function dest ($0, $1, cb) { cb(null, directory) }
  173 |
  174 |     var storage = multer.diskStorage({ destination: dest })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 174, 'column': 4, 'index': 5898}","  172 |     function dest ($0, $1, cb) { cb(null, directory) }
  173 |
> 174 |     var storage = multer.diskStorage({ destination: dest })
      |    ^ Global Variable
  175 |     var upload = multer({ storage: storage })
  176 |     var parser = upload.single('tiny0')
  177 |     var form = new FormData()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 175, 'column': 4, 'index': 5958}","  173 |
  174 |     var storage = multer.diskStorage({ destination: dest })
> 175 |     var upload = multer({ storage: storage })
      |    ^ Global Variable
  176 |     var parser = upload.single('tiny0')
  177 |     var form = new FormData()
  178 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 176, 'column': 4, 'index': 6004}","  174 |     var storage = multer.diskStorage({ destination: dest })
  175 |     var upload = multer({ storage: storage })
> 176 |     var parser = upload.single('tiny0')
      |    ^ Global Variable
  177 |     var form = new FormData()
  178 |
  179 |     form.append('tiny0', util.file('tiny0.dat'))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Global Variable,"{'line': 177, 'column': 4, 'index': 6044}","  175 |     var upload = multer({ storage: storage })
  176 |     var parser = upload.single('tiny0')
> 177 |     var form = new FormData()
      |    ^ Global Variable
  178 |
  179 |     form.append('tiny0', util.file('tiny0.dat'))
  180 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 45, 'column': 40, 'index': 1137}","  43 |       assert.strictEqual(req.file.fieldname, 'small0')
  44 |       assert.strictEqual(req.file.originalname, 'small0.dat')
> 45 |       assert.strictEqual(req.file.size, 1778)
     |                                        ^ Magic Number
  46 |       assert.strictEqual(util.fileSize(req.file.path), 1778)
  47 |
  48 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 46, 'column': 55, 'index': 1198}","  44 |       assert.strictEqual(req.file.originalname, 'small0.dat')
  45 |       assert.strictEqual(req.file.size, 1778)
> 46 |       assert.strictEqual(util.fileSize(req.file.path), 1778)
     |                                                       ^ Magic Number
  47 |
  48 |       done()
  49 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 80, 'column': 40, 'index': 2321}","  78 |       assert.strictEqual(req.file.fieldname, 'empty')
  79 |       assert.strictEqual(req.file.originalname, 'empty.dat')
> 80 |       assert.strictEqual(req.file.size, 0)
     |                                        ^ Magic Number
  81 |       assert.strictEqual(util.fileSize(req.file.path), 0)
  82 |
  83 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 81, 'column': 55, 'index': 2379}","  79 |       assert.strictEqual(req.file.originalname, 'empty.dat')
  80 |       assert.strictEqual(req.file.size, 0)
> 81 |       assert.strictEqual(util.fileSize(req.file.path), 0)
     |                                                       ^ Magic Number
  82 |
  83 |       done()
  84 |     })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 114, 'column': 50, 'index': 3461}","  112 |       assert.strictEqual(req.files.empty[0].fieldname, 'empty')
  113 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
> 114 |       assert.strictEqual(req.files.empty[0].size, 0)
      |                                                  ^ Magic Number
  115 |       assert.strictEqual(util.fileSize(req.files.empty[0].path), 0)
  116 |
  117 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 115, 'column': 65, 'index': 3529}","  113 |       assert.strictEqual(req.files.empty[0].originalname, 'empty.dat')
  114 |       assert.strictEqual(req.files.empty[0].size, 0)
> 115 |       assert.strictEqual(util.fileSize(req.files.empty[0].path), 0)
      |                                                                 ^ Magic Number
  116 |
  117 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
  118 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 119, 'column': 50, 'index': 3718}","  117 |       assert.strictEqual(req.files.tiny0[0].fieldname, 'tiny0')
  118 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
> 119 |       assert.strictEqual(req.files.tiny0[0].size, 122)
      |                                                  ^ Magic Number
  120 |       assert.strictEqual(util.fileSize(req.files.tiny0[0].path), 122)
  121 |
  122 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 120, 'column': 65, 'index': 3788}","  118 |       assert.strictEqual(req.files.tiny0[0].originalname, 'tiny0.dat')
  119 |       assert.strictEqual(req.files.tiny0[0].size, 122)
> 120 |       assert.strictEqual(util.fileSize(req.files.tiny0[0].path), 122)
      |                                                                 ^ Magic Number
  121 |
  122 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
  123 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 124, 'column': 50, 'index': 3979}","  122 |       assert.strictEqual(req.files.tiny1[0].fieldname, 'tiny1')
  123 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
> 124 |       assert.strictEqual(req.files.tiny1[0].size, 7)
      |                                                  ^ Magic Number
  125 |       assert.strictEqual(util.fileSize(req.files.tiny1[0].path), 7)
  126 |
  127 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 125, 'column': 65, 'index': 4047}","  123 |       assert.strictEqual(req.files.tiny1[0].originalname, 'tiny1.dat')
  124 |       assert.strictEqual(req.files.tiny1[0].size, 7)
> 125 |       assert.strictEqual(util.fileSize(req.files.tiny1[0].path), 7)
      |                                                                 ^ Magic Number
  126 |
  127 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
  128 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 129, 'column': 51, 'index': 4241}","  127 |       assert.strictEqual(req.files.small0[0].fieldname, 'small0')
  128 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
> 129 |       assert.strictEqual(req.files.small0[0].size, 1778)
      |                                                   ^ Magic Number
  130 |       assert.strictEqual(util.fileSize(req.files.small0[0].path), 1778)
  131 |
  132 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 130, 'column': 66, 'index': 4313}","  128 |       assert.strictEqual(req.files.small0[0].originalname, 'small0.dat')
  129 |       assert.strictEqual(req.files.small0[0].size, 1778)
> 130 |       assert.strictEqual(util.fileSize(req.files.small0[0].path), 1778)
      |                                                                  ^ Magic Number
  131 |
  132 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
  133 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 134, 'column': 51, 'index': 4510}","  132 |       assert.strictEqual(req.files.small1[0].fieldname, 'small1')
  133 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
> 134 |       assert.strictEqual(req.files.small1[0].size, 315)
      |                                                   ^ Magic Number
  135 |       assert.strictEqual(util.fileSize(req.files.small1[0].path), 315)
  136 |
  137 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 135, 'column': 66, 'index': 4581}","  133 |       assert.strictEqual(req.files.small1[0].originalname, 'small1.dat')
  134 |       assert.strictEqual(req.files.small1[0].size, 315)
> 135 |       assert.strictEqual(util.fileSize(req.files.small1[0].path), 315)
      |                                                                  ^ Magic Number
  136 |
  137 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
  138 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 139, 'column': 51, 'index': 4777}","  137 |       assert.strictEqual(req.files.medium[0].fieldname, 'medium')
  138 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
> 139 |       assert.strictEqual(req.files.medium[0].size, 13196)
      |                                                   ^ Magic Number
  140 |       assert.strictEqual(util.fileSize(req.files.medium[0].path), 13196)
  141 |
  142 |       assert.strictEqual(req.files.large[0].fieldname, 'large')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 140, 'column': 66, 'index': 4850}","  138 |       assert.strictEqual(req.files.medium[0].originalname, 'medium.dat')
  139 |       assert.strictEqual(req.files.medium[0].size, 13196)
> 140 |       assert.strictEqual(util.fileSize(req.files.medium[0].path), 13196)
      |                                                                  ^ Magic Number
  141 |
  142 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
  143 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 144, 'column': 50, 'index': 5043}","  142 |       assert.strictEqual(req.files.large[0].fieldname, 'large')
  143 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
> 144 |       assert.strictEqual(req.files.large[0].size, 2413677)
      |                                                  ^ Magic Number
  145 |       assert.strictEqual(util.fileSize(req.files.large[0].path), 2413677)
  146 |
  147 |       done()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/multer/test/disk-storage.js,Magic Number,"{'line': 145, 'column': 65, 'index': 5117}","  143 |       assert.strictEqual(req.files.large[0].originalname, 'large.jpg')
  144 |       assert.strictEqual(req.files.large[0].size, 2413677)
> 145 |       assert.strictEqual(util.fileSize(req.files.large[0].path), 2413677)
      |                                                                 ^ Magic Number
  146 |
  147 |       done()
  148 |     })"
