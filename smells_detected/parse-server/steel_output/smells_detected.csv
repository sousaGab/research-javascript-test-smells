file,type,line,frame
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Conditional Test Logic,"{'line': 426, 'column': 6, 'index': 15258}","  424 |       const str = 'Hello World!';
  425 |       const data = [];
> 426 |       for (let i = 0; i < str.length; i++) {
      |      ^ Conditional Test Logic
  427 |         data.push(str.charCodeAt(i));
  428 |       }
  429 |       const file = new Parse.File('hello.txt', data, 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Conditional Test Logic,"{'line': 445, 'column': 6, 'index': 15894}","  443 |       const str = 'Hello World!';
  444 |       const data = [];
> 445 |       for (let i = 0; i < str.length; i++) {
      |      ^ Conditional Test Logic
  446 |         data.push(str.charCodeAt(i));
  447 |       }
  448 |       const file = new Parse.File('hello.txt', data, 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Duplicate Assert,"{'line': 102, 'column': 6, 'index': 3740}","  100 |         }),
  101 |       }).catch(e => e);
> 102 |       expect(Object.prototype.dummy).toBeUndefined();
      |      ^ Duplicate Assert
  103 |       expect(pollResponse.status).toBe(400);
  104 |       const text = JSON.parse(pollResponse.text);
  105 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Duplicate Assert,"{'line': 102, 'column': 6, 'index': 3740}","  100 |         }),
  101 |       }).catch(e => e);
> 102 |       expect(Object.prototype.dummy).toBeUndefined();
      |      ^ Duplicate Assert
  103 |       expect(pollResponse.status).toBe(400);
  104 |       const text = JSON.parse(pollResponse.text);
  105 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Duplicate Assert,"{'line': 107, 'column': 6, 'index': 4042}","  105 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  106 |       expect(text.error).toBe('Prohibited keyword in request data: {""key"":""constructor""}.');
> 107 |       expect(Object.prototype.dummy).toBeUndefined();
      |      ^ Duplicate Assert
  108 |     });
  109 |
  110 |     it('denies object prototype to be polluted with keyword ""__proto__""', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Duplicate Assert,"{'line': 107, 'column': 6, 'index': 4042}","  105 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  106 |       expect(text.error).toBe('Prohibited keyword in request data: {""key"":""constructor""}.');
> 107 |       expect(Object.prototype.dummy).toBeUndefined();
      |      ^ Duplicate Assert
  108 |     });
  109 |
  110 |     it('denies object prototype to be polluted with keyword ""__proto__""', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 70, 'column': 35, 'index': 2628}","  68 |         }),
  69 |       }).catch(e => e);
> 70 |       expect(response.status).toBe(400);
     |                                   ^ Magic Number
  71 |       const text = JSON.parse(response.text);
  72 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  73 |       expect(text.error).toBe('Prohibited keyword in request data: {""key"":""constructor""}.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 103, 'column': 39, 'index': 3827}","  101 |       }).catch(e => e);
  102 |       expect(Object.prototype.dummy).toBeUndefined();
> 103 |       expect(pollResponse.status).toBe(400);
      |                                       ^ Magic Number
  104 |       const text = JSON.parse(pollResponse.text);
  105 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  106 |       expect(text.error).toBe('Prohibited keyword in request data: {""key"":""constructor""}.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 122, 'column': 35, 'index': 4605}","  120 |         body: JSON.stringify({ 'obj.__proto__.dummy': 0 }),
  121 |       }).catch(e => e);
> 122 |       expect(response.status).toBe(400);
      |                                   ^ Magic Number
  123 |       const text = JSON.parse(response.text);
  124 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  125 |       expect(text.error).toBe('Prohibited keyword in request data: {""key"":""__proto__""}.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 149, 'column': 35, 'index': 5546}","  147 |       };
  148 |       const response = await request(params).catch(e => e);
> 149 |       expect(response.status).toBe(400);
      |                                   ^ Magic Number
  150 |       const text = JSON.parse(response.text);
  151 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  152 |       expect(text.error).toBe("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 203, 'column': 35, 'index': 7419}","  201 |       };
  202 |       const response = await request(params).catch(e => e);
> 203 |       expect(response.status).toBe(400);
      |                                   ^ Magic Number
  204 |       const text = JSON.parse(response.text);
  205 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  206 |       expect(text.error).toBe("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 299, 'column': 35, 'index': 10923}","  297 |       };
  298 |       const response = await request(params).catch(e => e);
> 299 |       expect(response.status).toBe(400);
      |                                   ^ Magic Number
  300 |       const text = JSON.parse(response.text);
  301 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  302 |       expect(text.error).toBe("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 330, 'column': 35, 'index': 11967}","  328 |       };
  329 |       const response = await request(params).catch(e => e);
> 330 |       expect(response.status).toBe(400);
      |                                   ^ Magic Number
  331 |       const text = JSON.parse(response.text);
  332 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  333 |       expect(text.error).toBe("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 361, 'column': 35, 'index': 13005}","  359 |       };
  360 |       const response = await request(params).catch(e => e);
> 361 |       expect(response.status).toBe(400);
      |                                   ^ Magic Number
  362 |       const text = JSON.parse(response.text);
  363 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  364 |       expect(text.error).toBe("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 390, 'column': 35, 'index': 13972}","  388 |       };
  389 |       const response = await request(params).catch(e => e);
> 390 |       expect(response.status).toBe(400);
      |                                   ^ Magic Number
  391 |       const text = JSON.parse(response.text);
  392 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  393 |       expect(text.error).toBe('Prohibited keyword in request data: {""key"":""a[K]ey""}.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 417, 'column': 35, 'index': 14910}","  415 |       };
  416 |       const response = await request(params).catch(e => e);
> 417 |       expect(response.status).toBe(400);
      |                                   ^ Magic Number
  418 |       const text = JSON.parse(response.text);
  419 |       expect(text.code).toBe(Parse.Error.INVALID_KEY_NAME);
  420 |       expect(text.error).toBe('Prohibited keyword in request data: {""value"":""aValue[123]*""}.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 496, 'column': 33, 'index': 17679}","  494 |     });
  495 |
> 496 |     expect(response.status).toBe(200);
      |                                 ^ Magic Number
  497 |     expect(response.data.results).toEqual(jasmine.any(Array));
  498 |     expect(response.data.results.length).toBe(0);
  499 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Magic Number,"{'line': 498, 'column': 46, 'index': 17794}","  496 |     expect(response.status).toBe(200);
  497 |     expect(response.data.results).toEqual(jasmine.any(Array));
> 498 |     expect(response.data.results.length).toBe(0);
      |                                              ^ Magic Number
  499 |   });
  500 | });
  501 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Unknown Test,"{'column': 4, 'line': 15}","  13 |     });
  14 |
> 15 |     it('denies user creation with poisoned object ID', async () => {
     |    ^ Unknown Test
  16 |       await expectAsync(
  17 |         new Parse.User({ id: 'role:a', username: 'a', password: '123' }).save()
  18 |       ).toBeRejectedWith(new Parse.Error(Parse.Error.OPERATION_FORBIDDEN, 'Invalid object ID.'));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Unknown Test,"{'column': 6, 'line': 40}","  38 |       });
  39 |
> 40 |       it('refuses session token of user with poisoned object ID', async () => {
     |      ^ Unknown Test
  41 |         await expectAsync(
  42 |           new Parse.Query(Parse.User).find({ sessionToken: poisonedUser.getSessionToken() })
  43 |         ).toBeRejectedWith(new Parse.Error(Parse.Error.INTERNAL_SERVER_ERROR, 'Invalid object ID.'));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Unknown Test,"{'column': 4, 'line': 157}","  155 |     });
  156 |
> 157 |     it('denies expanding existing object with polluted keys', async () => {
      |    ^ Unknown Test
  158 |       const obj = await new Parse.Object('RCE', { a: { foo: [] } }).save();
  159 |       await reconfigureServer({
  160 |         requestKeywordDenylist: ['foo'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Unknown Test,"{'column': 4, 'line': 211}","  209 |     });
  210 |
> 211 |     it('denies direct database write wih prohibited keys', async () => {
      |    ^ Unknown Test
  212 |       const Config = require('../lib/Config');
  213 |       const config = Config.get(Parse.applicationId);
  214 |       const user = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Unknown Test,"{'column': 4, 'line': 229}","  227 |     });
  228 |
> 229 |     it('denies direct database update wih prohibited keys', async () => {
      |    ^ Unknown Test
  230 |       const Config = require('../lib/Config');
  231 |       const config = Config.get(Parse.applicationId);
  232 |       const user = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Unknown Test,"{'column': 4, 'line': 423}","  421 |     });
  422 |
> 423 |     it('denies BSON type code data in file metadata', async () => {
      |    ^ Unknown Test
  424 |       const str = 'Hello World!';
  425 |       const data = [];
  426 |       for (let i = 0; i < str.length; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Unknown Test,"{'column': 4, 'line': 442}","  440 |     });
  441 |
> 442 |     it('denies BSON type code data in file tags', async () => {
      |    ^ Unknown Test
  443 |       const str = 'Hello World!';
  444 |       const data = [];
  445 |       for (let i = 0; i < str.length; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/vulnerabilities.spec.js,Unknown Test,"{'column': 4, 'line': 463}","  461 |
  462 |   describe('Ignore non-matches', () => {
> 463 |     it('ignores write request that contains only fraction of denied keyword', async () => {
      |    ^ Unknown Test
  464 |       await reconfigureServer({
  465 |         requestKeywordDenylist: [{ key: 'abc' }],
  466 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Conditional Test Logic,"{'line': 1627, 'column': 14, 'index': 49082}","  1625 |             .collectionExists('_Join:aRelation:MyOtherClass')
  1626 |             .then(exists => {
> 1627 |               if (exists) {
       |              ^ Conditional Test Logic
  1628 |                 fail('Relation collection should be deleted.');
  1629 |                 done();
  1630 |               }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Conditional Test Logic,"{'line': 1634, 'column': 14, 'index': 49330}","  1632 |             })
  1633 |             .then(exists => {
> 1634 |               if (exists) {
       |              ^ Conditional Test Logic
  1635 |                 fail('Class collection should be deleted.');
  1636 |                 done();
  1637 |               }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Conditional Test Logic,"{'line': 2162, 'column': 6, 'index': 63416}","  2160 |       },
  2161 |     }).then(response => {
> 2162 |       if (response.data.error) {
       |      ^ Conditional Test Logic
  2163 |         throw response.data;
  2164 |       }
  2165 |       return response.data;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Conditional Test Logic,"{'line': 2649, 'column': 8, 'index': 75966}","  2647 |     const hook = {
  2648 |       method: function (req) {
> 2649 |         if (req.object.get('undesiredField')) {
       |        ^ Conditional Test Logic
  2650 |           req.object.unset('undesiredField');
  2651 |         }
  2652 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 509, 'column': 6, 'index': 14267}","  507 |       expect(obj.get('foo4')).toEqual(date);
  508 |       expect(obj.get('foo5')).toEqual(5);
> 509 |       expect(obj.get('ptr')).toBeUndefined();
      |      ^ Duplicate Assert
  510 |       expect(obj.get('defaultFalse')).toEqual(false);
  511 |       expect(obj.get('defaultZero')).toEqual(0);
  512 |       expect(obj.get('ptr')).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 509, 'column': 6, 'index': 14267}","  507 |       expect(obj.get('foo4')).toEqual(date);
  508 |       expect(obj.get('foo5')).toEqual(5);
> 509 |       expect(obj.get('ptr')).toBeUndefined();
      |      ^ Duplicate Assert
  510 |       expect(obj.get('defaultFalse')).toEqual(false);
  511 |       expect(obj.get('defaultZero')).toEqual(0);
  512 |       expect(obj.get('ptr')).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 512, 'column': 6, 'index': 14416}","  510 |       expect(obj.get('defaultFalse')).toEqual(false);
  511 |       expect(obj.get('defaultZero')).toEqual(0);
> 512 |       expect(obj.get('ptr')).toBeUndefined();
      |      ^ Duplicate Assert
  513 |       expect(obj.get('relation')).toBeUndefined();
  514 |       done();
  515 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 512, 'column': 6, 'index': 14416}","  510 |       expect(obj.get('defaultFalse')).toEqual(false);
  511 |       expect(obj.get('defaultZero')).toEqual(0);
> 512 |       expect(obj.get('ptr')).toBeUndefined();
      |      ^ Duplicate Assert
  513 |       expect(obj.get('relation')).toBeUndefined();
  514 |       done();
  515 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 603, 'column': 6, 'index': 16754}","  601 |       fail('should fail');
  602 |     } catch (e) {
> 603 |       expect(e.data.code).toEqual(111);
      |      ^ Duplicate Assert
  604 |     }
  605 |
  606 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 603, 'column': 6, 'index': 16754}","  601 |       fail('should fail');
  602 |     } catch (e) {
> 603 |       expect(e.data.code).toEqual(111);
      |      ^ Duplicate Assert
  604 |     }
  605 |
  606 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 626, 'column': 6, 'index': 17364}","  624 |       fail('should fail');
  625 |     } catch (e) {
> 626 |       expect(e.data.code).toEqual(111);
      |      ^ Duplicate Assert
  627 |     }
  628 |     done();
  629 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 626, 'column': 6, 'index': 17364}","  624 |       fail('should fail');
  625 |     } catch (e) {
> 626 |       expect(e.data.code).toEqual(111);
      |      ^ Duplicate Assert
  627 |     }
  628 |     done();
  629 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1127, 'column': 10, 'index': 32118}","  1125 |           fail('Should fail');
  1126 |         } catch (e) {
> 1127 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1128 |           expect(e.message).toEqual('newRequiredField is required');
  1129 |         }
  1130 |         obj.set('newRequiredField', 'some value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1127, 'column': 10, 'index': 32118}","  1125 |           fail('Should fail');
  1126 |         } catch (e) {
> 1127 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1128 |           expect(e.message).toEqual('newRequiredField is required');
  1129 |         }
  1130 |         obj.set('newRequiredField', 'some value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1128, 'column': 10, 'index': 32157}","  1126 |         } catch (e) {
  1127 |           expect(e.code).toEqual(142);
> 1128 |           expect(e.message).toEqual('newRequiredField is required');
       |          ^ Duplicate Assert
  1129 |         }
  1130 |         obj.set('newRequiredField', 'some value');
  1131 |         await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1128, 'column': 10, 'index': 32157}","  1126 |         } catch (e) {
  1127 |           expect(e.code).toEqual(142);
> 1128 |           expect(e.message).toEqual('newRequiredField is required');
       |          ^ Duplicate Assert
  1129 |         }
  1130 |         obj.set('newRequiredField', 'some value');
  1131 |         await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1132, 'column': 8, 'index': 32311}","  1130 |         obj.set('newRequiredField', 'some value');
  1131 |         await obj.save();
> 1132 |         expect(obj.get('newRequiredField')).toEqual('some value');
       |        ^ Duplicate Assert
  1133 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
  1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1133, 'column': 8, 'index': 32378}","  1131 |         await obj.save();
  1132 |         expect(obj.get('newRequiredField')).toEqual('some value');
> 1133 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
       |        ^ Duplicate Assert
  1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
  1136 |         expect(obj.get('newRegularField')).toEqual(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1133, 'column': 8, 'index': 32378}","  1131 |         await obj.save();
  1132 |         expect(obj.get('newRequiredField')).toEqual('some value');
> 1133 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
       |        ^ Duplicate Assert
  1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
  1136 |         expect(obj.get('newRegularField')).toEqual(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1134, 'column': 8, 'index': 32461}","  1132 |         expect(obj.get('newRequiredField')).toEqual('some value');
  1133 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
> 1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
  1136 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1137 |         obj.set('newRequiredField', null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1134, 'column': 8, 'index': 32461}","  1132 |         expect(obj.get('newRequiredField')).toEqual('some value');
  1133 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
> 1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
  1136 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1137 |         obj.set('newRequiredField', null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1135, 'column': 8, 'index': 32528}","  1133 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
  1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
> 1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
       |        ^ Duplicate Assert
  1136 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1137 |         obj.set('newRequiredField', null);
  1138 |         try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1135, 'column': 8, 'index': 32528}","  1133 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
  1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
> 1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
       |        ^ Duplicate Assert
  1136 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1137 |         obj.set('newRequiredField', null);
  1138 |         try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1136, 'column': 8, 'index': 32614}","  1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
> 1136 |         expect(obj.get('newRegularField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1137 |         obj.set('newRequiredField', null);
  1138 |         try {
  1139 |           await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1136, 'column': 8, 'index': 32614}","  1134 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1135 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
> 1136 |         expect(obj.get('newRegularField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1137 |         obj.set('newRequiredField', null);
  1138 |         try {
  1139 |           await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1142, 'column': 10, 'index': 32817}","  1140 |           fail('Should fail');
  1141 |         } catch (e) {
> 1142 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1143 |           expect(e.message).toEqual('newRequiredField is required');
  1144 |         }
  1145 |         obj.unset('newRequiredField');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1142, 'column': 10, 'index': 32817}","  1140 |           fail('Should fail');
  1141 |         } catch (e) {
> 1142 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1143 |           expect(e.message).toEqual('newRequiredField is required');
  1144 |         }
  1145 |         obj.unset('newRequiredField');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1143, 'column': 10, 'index': 32856}","  1141 |         } catch (e) {
  1142 |           expect(e.code).toEqual(142);
> 1143 |           expect(e.message).toEqual('newRequiredField is required');
       |          ^ Duplicate Assert
  1144 |         }
  1145 |         obj.unset('newRequiredField');
  1146 |         try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1143, 'column': 10, 'index': 32856}","  1141 |         } catch (e) {
  1142 |           expect(e.code).toEqual(142);
> 1143 |           expect(e.message).toEqual('newRequiredField is required');
       |          ^ Duplicate Assert
  1144 |         }
  1145 |         obj.unset('newRequiredField');
  1146 |         try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1150, 'column': 10, 'index': 33069}","  1148 |           fail('Should fail');
  1149 |         } catch (e) {
> 1150 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1151 |           expect(e.message).toEqual('newRequiredField is required');
  1152 |         }
  1153 |         obj.set('newRequiredField', 'some value2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1150, 'column': 10, 'index': 33069}","  1148 |           fail('Should fail');
  1149 |         } catch (e) {
> 1150 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1151 |           expect(e.message).toEqual('newRequiredField is required');
  1152 |         }
  1153 |         obj.set('newRequiredField', 'some value2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1151, 'column': 10, 'index': 33108}","  1149 |         } catch (e) {
  1150 |           expect(e.code).toEqual(142);
> 1151 |           expect(e.message).toEqual('newRequiredField is required');
       |          ^ Duplicate Assert
  1152 |         }
  1153 |         obj.set('newRequiredField', 'some value2');
  1154 |         await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1151, 'column': 10, 'index': 33108}","  1149 |         } catch (e) {
  1150 |           expect(e.code).toEqual(142);
> 1151 |           expect(e.message).toEqual('newRequiredField is required');
       |          ^ Duplicate Assert
  1152 |         }
  1153 |         obj.set('newRequiredField', 'some value2');
  1154 |         await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1155, 'column': 8, 'index': 33263}","  1153 |         obj.set('newRequiredField', 'some value2');
  1154 |         await obj.save();
> 1155 |         expect(obj.get('newRequiredField')).toEqual('some value2');
       |        ^ Duplicate Assert
  1156 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
  1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1155, 'column': 8, 'index': 33263}","  1153 |         obj.set('newRequiredField', 'some value2');
  1154 |         await obj.save();
> 1155 |         expect(obj.get('newRequiredField')).toEqual('some value2');
       |        ^ Duplicate Assert
  1156 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
  1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1156, 'column': 8, 'index': 33331}","  1154 |         await obj.save();
  1155 |         expect(obj.get('newRequiredField')).toEqual('some value2');
> 1156 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
       |        ^ Duplicate Assert
  1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
  1159 |         expect(obj.get('newRegularField')).toEqual(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1156, 'column': 8, 'index': 33331}","  1154 |         await obj.save();
  1155 |         expect(obj.get('newRequiredField')).toEqual('some value2');
> 1156 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
       |        ^ Duplicate Assert
  1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
  1159 |         expect(obj.get('newRegularField')).toEqual(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1157, 'column': 8, 'index': 33414}","  1155 |         expect(obj.get('newRequiredField')).toEqual('some value2');
  1156 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
> 1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
  1159 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1160 |         obj.unset('newRequiredFieldWithDefaultValue');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1157, 'column': 8, 'index': 33414}","  1155 |         expect(obj.get('newRequiredField')).toEqual('some value2');
  1156 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
> 1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
  1159 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1160 |         obj.unset('newRequiredFieldWithDefaultValue');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1158, 'column': 8, 'index': 33481}","  1156 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
  1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
> 1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
       |        ^ Duplicate Assert
  1159 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1160 |         obj.unset('newRequiredFieldWithDefaultValue');
  1161 |         try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1158, 'column': 8, 'index': 33481}","  1156 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value');
  1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
> 1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
       |        ^ Duplicate Assert
  1159 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1160 |         obj.unset('newRequiredFieldWithDefaultValue');
  1161 |         try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1159, 'column': 8, 'index': 33567}","  1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
> 1159 |         expect(obj.get('newRegularField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1160 |         obj.unset('newRequiredFieldWithDefaultValue');
  1161 |         try {
  1162 |           await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1159, 'column': 8, 'index': 33567}","  1157 |         expect(obj.get('newNotRequiredField')).toEqual(undefined);
  1158 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value');
> 1159 |         expect(obj.get('newRegularField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1160 |         obj.unset('newRequiredFieldWithDefaultValue');
  1161 |         try {
  1162 |           await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1165, 'column': 10, 'index': 33782}","  1163 |           fail('Should fail');
  1164 |         } catch (e) {
> 1165 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1166 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
  1167 |         }
  1168 |         obj.set('newRequiredFieldWithDefaultValue', '');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1165, 'column': 10, 'index': 33782}","  1163 |           fail('Should fail');
  1164 |         } catch (e) {
> 1165 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1166 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
  1167 |         }
  1168 |         obj.set('newRequiredFieldWithDefaultValue', '');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1166, 'column': 10, 'index': 33821}","  1164 |         } catch (e) {
  1165 |           expect(e.code).toEqual(142);
> 1166 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
       |          ^ Duplicate Assert
  1167 |         }
  1168 |         obj.set('newRequiredFieldWithDefaultValue', '');
  1169 |         try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1166, 'column': 10, 'index': 33821}","  1164 |         } catch (e) {
  1165 |           expect(e.code).toEqual(142);
> 1166 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
       |          ^ Duplicate Assert
  1167 |         }
  1168 |         obj.set('newRequiredFieldWithDefaultValue', '');
  1169 |         try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1173, 'column': 10, 'index': 34068}","  1171 |           fail('Should fail');
  1172 |         } catch (e) {
> 1173 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1174 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
  1175 |         }
  1176 |         obj.set('newRequiredFieldWithDefaultValue', 'some value2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1173, 'column': 10, 'index': 34068}","  1171 |           fail('Should fail');
  1172 |         } catch (e) {
> 1173 |           expect(e.code).toEqual(142);
       |          ^ Duplicate Assert
  1174 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
  1175 |         }
  1176 |         obj.set('newRequiredFieldWithDefaultValue', 'some value2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1174, 'column': 10, 'index': 34107}","  1172 |         } catch (e) {
  1173 |           expect(e.code).toEqual(142);
> 1174 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
       |          ^ Duplicate Assert
  1175 |         }
  1176 |         obj.set('newRequiredFieldWithDefaultValue', 'some value2');
  1177 |         obj.set('newNotRequiredField', '');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1174, 'column': 10, 'index': 34107}","  1172 |         } catch (e) {
  1173 |           expect(e.code).toEqual(142);
> 1174 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
       |          ^ Duplicate Assert
  1175 |         }
  1176 |         obj.set('newRequiredFieldWithDefaultValue', 'some value2');
  1177 |         obj.set('newNotRequiredField', '');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1181, 'column': 8, 'index': 34438}","  1179 |         obj.unset('newRegularField');
  1180 |         await obj.save();
> 1181 |         expect(obj.get('newRequiredField')).toEqual('some value2');
       |        ^ Duplicate Assert
  1182 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value2');
  1183 |         expect(obj.get('newNotRequiredField')).toEqual('');
  1184 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual(null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1181, 'column': 8, 'index': 34438}","  1179 |         obj.unset('newRegularField');
  1180 |         await obj.save();
> 1181 |         expect(obj.get('newRequiredField')).toEqual('some value2');
       |        ^ Duplicate Assert
  1182 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value2');
  1183 |         expect(obj.get('newNotRequiredField')).toEqual('');
  1184 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual(null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1182, 'column': 8, 'index': 34506}","  1180 |         await obj.save();
  1181 |         expect(obj.get('newRequiredField')).toEqual('some value2');
> 1182 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value2');
       |        ^ Duplicate Assert
  1183 |         expect(obj.get('newNotRequiredField')).toEqual('');
  1184 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual(null);
  1185 |         expect(obj.get('newRegularField')).toEqual(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1183, 'column': 8, 'index': 34590}","  1181 |         expect(obj.get('newRequiredField')).toEqual('some value2');
  1182 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value2');
> 1183 |         expect(obj.get('newNotRequiredField')).toEqual('');
       |        ^ Duplicate Assert
  1184 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual(null);
  1185 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1186 |         obj = new Parse.Object('NewClass');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1184, 'column': 8, 'index': 34650}","  1182 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value2');
  1183 |         expect(obj.get('newNotRequiredField')).toEqual('');
> 1184 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual(null);
       |        ^ Duplicate Assert
  1185 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1186 |         obj = new Parse.Object('NewClass');
  1187 |         obj.set('newRequiredField', 'some value3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1185, 'column': 8, 'index': 34728}","  1183 |         expect(obj.get('newNotRequiredField')).toEqual('');
  1184 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual(null);
> 1185 |         expect(obj.get('newRegularField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1186 |         obj = new Parse.Object('NewClass');
  1187 |         obj.set('newRequiredField', 'some value3');
  1188 |         obj.set('newRequiredFieldWithDefaultValue', 'some value3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1185, 'column': 8, 'index': 34728}","  1183 |         expect(obj.get('newNotRequiredField')).toEqual('');
  1184 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual(null);
> 1185 |         expect(obj.get('newRegularField')).toEqual(undefined);
       |        ^ Duplicate Assert
  1186 |         obj = new Parse.Object('NewClass');
  1187 |         obj.set('newRequiredField', 'some value3');
  1188 |         obj.set('newRequiredFieldWithDefaultValue', 'some value3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1193, 'column': 8, 'index': 35158}","  1191 |         obj.set('newRegularField', 'some value3');
  1192 |         await obj.save();
> 1193 |         expect(obj.get('newRequiredField')).toEqual('some value3');
       |        ^ Duplicate Assert
  1194 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value3');
  1195 |         expect(obj.get('newNotRequiredField')).toEqual('some value3');
  1196 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1194, 'column': 8, 'index': 35226}","  1192 |         await obj.save();
  1193 |         expect(obj.get('newRequiredField')).toEqual('some value3');
> 1194 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value3');
       |        ^ Duplicate Assert
  1195 |         expect(obj.get('newNotRequiredField')).toEqual('some value3');
  1196 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value3');
  1197 |         expect(obj.get('newRegularField')).toEqual('some value3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1195, 'column': 8, 'index': 35310}","  1193 |         expect(obj.get('newRequiredField')).toEqual('some value3');
  1194 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value3');
> 1195 |         expect(obj.get('newNotRequiredField')).toEqual('some value3');
       |        ^ Duplicate Assert
  1196 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value3');
  1197 |         expect(obj.get('newRegularField')).toEqual('some value3');
  1198 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1196, 'column': 8, 'index': 35381}","  1194 |         expect(obj.get('newRequiredFieldWithDefaultValue')).toEqual('some value3');
  1195 |         expect(obj.get('newNotRequiredField')).toEqual('some value3');
> 1196 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value3');
       |        ^ Duplicate Assert
  1197 |         expect(obj.get('newRegularField')).toEqual('some value3');
  1198 |         done();
  1199 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1197, 'column': 8, 'index': 35468}","  1195 |         expect(obj.get('newNotRequiredField')).toEqual('some value3');
  1196 |         expect(obj.get('newNotRequiredFieldWithDefaultValue')).toEqual('some value3');
> 1197 |         expect(obj.get('newRegularField')).toEqual('some value3');
       |        ^ Duplicate Assert
  1198 |         done();
  1199 |       });
  1200 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1234, 'column': 4, 'index': 36564}","  1232 |     await obj.save();
  1233 |
> 1234 |     expect(obj.get('foo1')).toEqual('some value 1');
       |    ^ Duplicate Assert
  1235 |     expect(obj.get('foo2')).toEqual('some value 2');
  1236 |     expect(obj.get('foo3')).toEqual('some value 3');
  1237 |     expect(obj.get('foo4')).toEqual('some value 4');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1234, 'column': 4, 'index': 36564}","  1232 |     await obj.save();
  1233 |
> 1234 |     expect(obj.get('foo1')).toEqual('some value 1');
       |    ^ Duplicate Assert
  1235 |     expect(obj.get('foo2')).toEqual('some value 2');
  1236 |     expect(obj.get('foo3')).toEqual('some value 3');
  1237 |     expect(obj.get('foo4')).toEqual('some value 4');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1235, 'column': 4, 'index': 36617}","  1233 |
  1234 |     expect(obj.get('foo1')).toEqual('some value 1');
> 1235 |     expect(obj.get('foo2')).toEqual('some value 2');
       |    ^ Duplicate Assert
  1236 |     expect(obj.get('foo3')).toEqual('some value 3');
  1237 |     expect(obj.get('foo4')).toEqual('some value 4');
  1238 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1235, 'column': 4, 'index': 36617}","  1233 |
  1234 |     expect(obj.get('foo1')).toEqual('some value 1');
> 1235 |     expect(obj.get('foo2')).toEqual('some value 2');
       |    ^ Duplicate Assert
  1236 |     expect(obj.get('foo3')).toEqual('some value 3');
  1237 |     expect(obj.get('foo4')).toEqual('some value 4');
  1238 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1236, 'column': 4, 'index': 36670}","  1234 |     expect(obj.get('foo1')).toEqual('some value 1');
  1235 |     expect(obj.get('foo2')).toEqual('some value 2');
> 1236 |     expect(obj.get('foo3')).toEqual('some value 3');
       |    ^ Duplicate Assert
  1237 |     expect(obj.get('foo4')).toEqual('some value 4');
  1238 |
  1239 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1237, 'column': 4, 'index': 36723}","  1235 |     expect(obj.get('foo2')).toEqual('some value 2');
  1236 |     expect(obj.get('foo3')).toEqual('some value 3');
> 1237 |     expect(obj.get('foo4')).toEqual('some value 4');
       |    ^ Duplicate Assert
  1238 |
  1239 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {
  1240 |       req.object.set('foo1', 'some value 1');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1247, 'column': 4, 'index': 37023}","  1245 |     await obj.save();
  1246 |
> 1247 |     expect(obj.get('foo1')).toEqual('some value 1');
       |    ^ Duplicate Assert
  1248 |     expect(obj.get('foo2')).toEqual('some value 2');
  1249 |     expect(obj.get('foo3')).toEqual('some default value 3');
  1250 |     expect(obj.get('foo4')).toEqual('some default value 4');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1247, 'column': 4, 'index': 37023}","  1245 |     await obj.save();
  1246 |
> 1247 |     expect(obj.get('foo1')).toEqual('some value 1');
       |    ^ Duplicate Assert
  1248 |     expect(obj.get('foo2')).toEqual('some value 2');
  1249 |     expect(obj.get('foo3')).toEqual('some default value 3');
  1250 |     expect(obj.get('foo4')).toEqual('some default value 4');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1248, 'column': 4, 'index': 37076}","  1246 |
  1247 |     expect(obj.get('foo1')).toEqual('some value 1');
> 1248 |     expect(obj.get('foo2')).toEqual('some value 2');
       |    ^ Duplicate Assert
  1249 |     expect(obj.get('foo3')).toEqual('some default value 3');
  1250 |     expect(obj.get('foo4')).toEqual('some default value 4');
  1251 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1248, 'column': 4, 'index': 37076}","  1246 |
  1247 |     expect(obj.get('foo1')).toEqual('some value 1');
> 1248 |     expect(obj.get('foo2')).toEqual('some value 2');
       |    ^ Duplicate Assert
  1249 |     expect(obj.get('foo3')).toEqual('some default value 3');
  1250 |     expect(obj.get('foo4')).toEqual('some default value 4');
  1251 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1249, 'column': 4, 'index': 37129}","  1247 |     expect(obj.get('foo1')).toEqual('some value 1');
  1248 |     expect(obj.get('foo2')).toEqual('some value 2');
> 1249 |     expect(obj.get('foo3')).toEqual('some default value 3');
       |    ^ Duplicate Assert
  1250 |     expect(obj.get('foo4')).toEqual('some default value 4');
  1251 |
  1252 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1249, 'column': 4, 'index': 37129}","  1247 |     expect(obj.get('foo1')).toEqual('some value 1');
  1248 |     expect(obj.get('foo2')).toEqual('some value 2');
> 1249 |     expect(obj.get('foo3')).toEqual('some default value 3');
       |    ^ Duplicate Assert
  1250 |     expect(obj.get('foo4')).toEqual('some default value 4');
  1251 |
  1252 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1250, 'column': 4, 'index': 37190}","  1248 |     expect(obj.get('foo2')).toEqual('some value 2');
  1249 |     expect(obj.get('foo3')).toEqual('some default value 3');
> 1250 |     expect(obj.get('foo4')).toEqual('some default value 4');
       |    ^ Duplicate Assert
  1251 |
  1252 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {
  1253 |       req.object.set('foo1', 'some value 1');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1250, 'column': 4, 'index': 37190}","  1248 |     expect(obj.get('foo2')).toEqual('some value 2');
  1249 |     expect(obj.get('foo3')).toEqual('some default value 3');
> 1250 |     expect(obj.get('foo4')).toEqual('some default value 4');
       |    ^ Duplicate Assert
  1251 |
  1252 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {
  1253 |       req.object.set('foo1', 'some value 1');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1264, 'column': 4, 'index': 37645}","  1262 |     await obj.save();
  1263 |
> 1264 |     expect(obj.get('foo1')).toEqual('some value 1');
       |    ^ Duplicate Assert
  1265 |     expect(obj.get('foo2')).toEqual('some value 2');
  1266 |     expect(obj.get('foo3')).toEqual('some default value 3');
  1267 |     expect(obj.get('foo4')).toEqual('some default value 4');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1264, 'column': 4, 'index': 37645}","  1262 |     await obj.save();
  1263 |
> 1264 |     expect(obj.get('foo1')).toEqual('some value 1');
       |    ^ Duplicate Assert
  1265 |     expect(obj.get('foo2')).toEqual('some value 2');
  1266 |     expect(obj.get('foo3')).toEqual('some default value 3');
  1267 |     expect(obj.get('foo4')).toEqual('some default value 4');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1265, 'column': 4, 'index': 37698}","  1263 |
  1264 |     expect(obj.get('foo1')).toEqual('some value 1');
> 1265 |     expect(obj.get('foo2')).toEqual('some value 2');
       |    ^ Duplicate Assert
  1266 |     expect(obj.get('foo3')).toEqual('some default value 3');
  1267 |     expect(obj.get('foo4')).toEqual('some default value 4');
  1268 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1265, 'column': 4, 'index': 37698}","  1263 |
  1264 |     expect(obj.get('foo1')).toEqual('some value 1');
> 1265 |     expect(obj.get('foo2')).toEqual('some value 2');
       |    ^ Duplicate Assert
  1266 |     expect(obj.get('foo3')).toEqual('some default value 3');
  1267 |     expect(obj.get('foo4')).toEqual('some default value 4');
  1268 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1266, 'column': 4, 'index': 37751}","  1264 |     expect(obj.get('foo1')).toEqual('some value 1');
  1265 |     expect(obj.get('foo2')).toEqual('some value 2');
> 1266 |     expect(obj.get('foo3')).toEqual('some default value 3');
       |    ^ Duplicate Assert
  1267 |     expect(obj.get('foo4')).toEqual('some default value 4');
  1268 |
  1269 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1266, 'column': 4, 'index': 37751}","  1264 |     expect(obj.get('foo1')).toEqual('some value 1');
  1265 |     expect(obj.get('foo2')).toEqual('some value 2');
> 1266 |     expect(obj.get('foo3')).toEqual('some default value 3');
       |    ^ Duplicate Assert
  1267 |     expect(obj.get('foo4')).toEqual('some default value 4');
  1268 |
  1269 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1267, 'column': 4, 'index': 37812}","  1265 |     expect(obj.get('foo2')).toEqual('some value 2');
  1266 |     expect(obj.get('foo3')).toEqual('some default value 3');
> 1267 |     expect(obj.get('foo4')).toEqual('some default value 4');
       |    ^ Duplicate Assert
  1268 |
  1269 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {
  1270 |       req.object.set('foo1', 'some value 1');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1267, 'column': 4, 'index': 37812}","  1265 |     expect(obj.get('foo2')).toEqual('some value 2');
  1266 |     expect(obj.get('foo3')).toEqual('some default value 3');
> 1267 |     expect(obj.get('foo4')).toEqual('some default value 4');
       |    ^ Duplicate Assert
  1268 |
  1269 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {
  1270 |       req.object.set('foo1', 'some value 1');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1285, 'column': 6, 'index': 38358}","  1283 |       fail('should fail');
  1284 |     } catch (e) {
> 1285 |       expect(e.message).toEqual('foo2 is required');
       |      ^ Duplicate Assert
  1286 |     }
  1287 |
  1288 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1285, 'column': 6, 'index': 38358}","  1283 |       fail('should fail');
  1284 |     } catch (e) {
> 1285 |       expect(e.message).toEqual('foo2 is required');
       |      ^ Duplicate Assert
  1286 |     }
  1287 |
  1288 |     Parse.Cloud.beforeSave('NewClassForBeforeSaveTest', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1304, 'column': 6, 'index': 38891}","  1302 |       fail('should fail');
  1303 |     } catch (e) {
> 1304 |       expect(e.message).toEqual('foo2 is required');
       |      ^ Duplicate Assert
  1305 |     }
  1306 |   });
  1307 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1304, 'column': 6, 'index': 38891}","  1302 |       fail('should fail');
  1303 |     } catch (e) {
> 1304 |       expect(e.message).toEqual('foo2 is required');
       |      ^ Duplicate Assert
  1305 |     }
  1306 |   });
  1307 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1527, 'column': 8, 'index': 45946}","  1525 |         expect(response.status).toEqual(400);
  1526 |         expect(response.data.code).toEqual(255);
> 1527 |         expect(response.data.error).toMatch(/HasAllPOD/);
       |        ^ Duplicate Assert
  1528 |         expect(response.data.error).toMatch(/contains 1/);
  1529 |         done();
  1530 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1528, 'column': 8, 'index': 46004}","  1526 |         expect(response.data.code).toEqual(255);
  1527 |         expect(response.data.error).toMatch(/HasAllPOD/);
> 1528 |         expect(response.data.error).toMatch(/contains 1/);
       |        ^ Duplicate Assert
  1529 |         done();
  1530 |       });
  1531 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1622, 'column': 10, 'index': 48867}","  1620 |           json: true,
  1621 |         }).then(response => {
> 1622 |           expect(response.status).toEqual(200);
       |          ^ Duplicate Assert
  1623 |           expect(response.data).toEqual({});
  1624 |           config.database
  1625 |             .collectionExists('_Join:aRelation:MyOtherClass')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 1646, 'column': 16, 'index': 49759}","  1644 |               }).then(fail, response => {
  1645 |                 //Expect _SCHEMA entry to be gone.
> 1646 |                 expect(response.status).toEqual(400);
       |                ^ Duplicate Assert
  1647 |                 expect(response.data.code).toEqual(Parse.Error.INVALID_CLASS_NAME);
  1648 |                 expect(response.data.error).toEqual('Class MyOtherClass does not exist.');
  1649 |                 done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 2428, 'column': 12, 'index': 70307}","  2426 |           },
  2427 |           err => {
> 2428 |             expect(err.message).toEqual('Permission denied for action find on class AClass.');
       |            ^ Duplicate Assert
  2429 |             return Promise.resolve();
  2430 |           }
  2431 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 2428, 'column': 12, 'index': 70307}","  2426 |           },
  2427 |           err => {
> 2428 |             expect(err.message).toEqual('Permission denied for action find on class AClass.');
       |            ^ Duplicate Assert
  2429 |             return Promise.resolve();
  2430 |           }
  2431 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 2459, 'column': 12, 'index': 71111}","  2457 |           },
  2458 |           err => {
> 2459 |             expect(err.message).toEqual('Permission denied for action find on class AClass.');
       |            ^ Duplicate Assert
  2460 |             return Promise.resolve();
  2461 |           }
  2462 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 2459, 'column': 12, 'index': 71111}","  2457 |           },
  2458 |           err => {
> 2459 |             expect(err.message).toEqual('Permission denied for action find on class AClass.');
       |            ^ Duplicate Assert
  2460 |             return Promise.resolve();
  2461 |           }
  2462 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 2543, 'column': 10, 'index': 73338}","  2541 |         },
  2542 |         err => {
> 2543 |           expect(err.message).toEqual('Permission denied for action create on class AClass.');
       |          ^ Duplicate Assert
  2544 |           return Promise.resolve();
  2545 |         }
  2546 |       )"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 2560, 'column': 10, 'index': 73814}","  2558 |         },
  2559 |         err => {
> 2560 |           expect(err.message).toEqual('Permission denied for action find on class AClass.');
       |          ^ Duplicate Assert
  2561 |           return Promise.resolve();
  2562 |         }
  2563 |       )"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 3629, 'column': 6, 'index': 104958}","  3627 |       });
  3628 |
> 3629 |       expect(response.data).toEqual({
       |      ^ Duplicate Assert
  3630 |         className: 'NewClass',
  3631 |         fields: {
  3632 |           ACL: { type: 'ACL' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Duplicate Assert,"{'line': 3661, 'column': 6, 'index': 105831}","  3659 |       });
  3660 |
> 3661 |       expect(response.data).toEqual({
       |      ^ Duplicate Assert
  3662 |         className: 'NewClass',
  3663 |         fields: {
  3664 |           ACL: { type: 'ACL' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 495, 'column': 6, 'index': 13820}","  493 |       });
  494 |       const obj = new Parse.Object('NewClassWithOptions');
> 495 |       try {
      |      ^ Exception Handling
  496 |         await obj.save();
  497 |         fail('should fail');
  498 |       } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 519, 'column': 4, 'index': 14612}","  517 |
  518 |   it('try to set a relation field as a required field', async done => {
> 519 |     try {
      |    ^ Exception Handling
  520 |       await request({
  521 |         url: 'http://localhost:8378/1/schemas',
  522 |         method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 545, 'column': 4, 'index': 15255}","  543 |
  544 |   it('try to set a relation field with a default value', async done => {
> 545 |     try {
      |    ^ Exception Handling
  546 |       await request({
  547 |         url: 'http://localhost:8378/1/schemas',
  548 |         method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 583, 'column': 4, 'index': 16231}","  581 |       },
  582 |     });
> 583 |     try {
      |    ^ Exception Handling
  584 |       await request({
  585 |         url: 'http://localhost:8378/1/schemas/NewClassRelationWithOptions',
  586 |         method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 606, 'column': 4, 'index': 16799}","  604 |     }
  605 |
> 606 |     try {
      |    ^ Exception Handling
  607 |       await request({
  608 |         url: 'http://localhost:8378/1/schemas/NewClassRelationWithOptions',
  609 |         method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 632, 'column': 4, 'index': 17517}","  630 |
  631 |   it('validated the data type of default values when creating a new class', async () => {
> 632 |     try {
      |    ^ Exception Handling
  633 |       await request({
  634 |         url: 'http://localhost:8378/1/schemas',
  635 |         method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 654, 'column': 4, 'index': 18141}","  652 |
  653 |   it('validated the data type of default values when adding new fields', async () => {
> 654 |     try {
      |    ^ Exception Handling
  655 |       await request({
  656 |         url: 'http://localhost:8378/1/schemas',
  657 |         method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 1123, 'column': 8, 'index': 32021}","  1121 |       }).then(async () => {
  1122 |         let obj = new Parse.Object('NewClass');
> 1123 |         try {
       |        ^ Exception Handling
  1124 |           await obj.save();
  1125 |           fail('Should fail');
  1126 |         } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 1138, 'column': 8, 'index': 32720}","  1136 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1137 |         obj.set('newRequiredField', null);
> 1138 |         try {
       |        ^ Exception Handling
  1139 |           await obj.save();
  1140 |           fail('Should fail');
  1141 |         } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 1146, 'column': 8, 'index': 32972}","  1144 |         }
  1145 |         obj.unset('newRequiredField');
> 1146 |         try {
       |        ^ Exception Handling
  1147 |           await obj.save();
  1148 |           fail('Should fail');
  1149 |         } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 1161, 'column': 8, 'index': 33685}","  1159 |         expect(obj.get('newRegularField')).toEqual(undefined);
  1160 |         obj.unset('newRequiredFieldWithDefaultValue');
> 1161 |         try {
       |        ^ Exception Handling
  1162 |           await obj.save();
  1163 |           fail('Should fail');
  1164 |         } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 1169, 'column': 8, 'index': 33971}","  1167 |         }
  1168 |         obj.set('newRequiredFieldWithDefaultValue', '');
> 1169 |         try {
       |        ^ Exception Handling
  1170 |           await obj.save();
  1171 |           fail('Should fail');
  1172 |         } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 1281, 'column': 4, 'index': 38277}","  1279 |     obj.set('foo4', 'some value 4');
  1280 |
> 1281 |     try {
       |    ^ Exception Handling
  1282 |       await obj.save();
  1283 |       fail('should fail');
  1284 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Exception Handling,"{'line': 1300, 'column': 4, 'index': 38810}","  1298 |     obj.set('foo4', 'some value 4');
  1299 |
> 1300 |     try {
       |    ^ Exception Handling
  1301 |       await obj.save();
  1302 |       fail('should fail');
  1303 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 163, 'column': 38, 'index': 3946}","  161 |       //api.parse.com uses status code 401, but due to the lack of keys
  162 |       //being necessary in parse-server, 403 makes more sense
> 163 |       expect(response.status).toEqual(403);
      |                                      ^ Magic Number
  164 |       expect(response.data.error).toEqual('unauthorized');
  165 |       done();
  166 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 175, 'column': 38, 'index': 4290}","  173 |       headers: restKeyHeaders,
  174 |     }).then(fail, response => {
> 175 |       expect(response.status).toEqual(403);
      |                                      ^ Magic Number
  176 |       expect(response.data.error).toEqual('unauthorized: master key is required');
  177 |       done();
  178 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 187, 'column': 38, 'index': 4653}","  185 |       headers: restKeyHeaders,
  186 |     }).then(fail, response => {
> 187 |       expect(response.status).toEqual(403);
      |                                      ^ Magic Number
  188 |       expect(response.data.error).toEqual('unauthorized: master key is required');
  189 |       done();
  190 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 317, 'column': 40, 'index': 8618}","  315 |         headers: masterKeyHeaders,
  316 |       }).then(fail, response => {
> 317 |         expect(response.status).toEqual(400);
      |                                        ^ Magic Number
  318 |         expect(response.data).toEqual({
  319 |           code: 103,
  320 |           error: 'Class HASALLPOD does not exist.',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 337, 'column': 38, 'index': 9104}","  335 |       },
  336 |     }).then(fail, response => {
> 337 |       expect(response.status).toEqual(403);
      |                                      ^ Magic Number
  338 |       expect(response.data.error).toEqual('unauthorized');
  339 |       done();
  340 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 353, 'column': 38, 'index': 9518}","  351 |       },
  352 |     }).then(fail, response => {
> 353 |       expect(response.status).toEqual(400);
      |                                      ^ Magic Number
  354 |       expect(response.data).toEqual({
  355 |         code: Parse.Error.INVALID_CLASS_NAME,
  356 |         error: 'Class name mismatch between B and A.',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 370, 'column': 38, 'index': 9979}","  368 |       body: {},
  369 |     }).then(fail, response => {
> 370 |       expect(response.status).toEqual(400);
      |                                      ^ Magic Number
  371 |       expect(response.data).toEqual({
  372 |         code: 135,
  373 |         error: 'POST /schemas needs a class name.',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 398, 'column': 40, 'index': 10678}","  396 |         },
  397 |       }).then(fail, response => {
> 398 |         expect(response.status).toEqual(400);
      |                                        ^ Magic Number
  399 |         expect(response.data).toEqual({
  400 |           code: Parse.Error.INVALID_CLASS_NAME,
  401 |           error: 'Class A already exists.',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 499, 'column': 31, 'index': 13932}","  497 |         fail('should fail');
  498 |       } catch (e) {
> 499 |         expect(e.code).toEqual(142);
      |                               ^ Magic Number
  500 |       }
  501 |       const date = new Date();
  502 |       obj.set('foo4', date);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 505, 'column': 38, 'index': 14115}","  503 |       await obj.save();
  504 |       expect(obj.get('foo1')).toBeUndefined();
> 505 |       expect(obj.get('foo2')).toEqual(10);
      |                                      ^ Magic Number
  506 |       expect(obj.get('foo3')).toEqual('some string');
  507 |       expect(obj.get('foo4')).toEqual(date);
  508 |       expect(obj.get('foo5')).toEqual(5);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 508, 'column': 38, 'index': 14257}","  506 |       expect(obj.get('foo3')).toEqual('some string');
  507 |       expect(obj.get('foo4')).toEqual(date);
> 508 |       expect(obj.get('foo5')).toEqual(5);
      |                                      ^ Magic Number
  509 |       expect(obj.get('ptr')).toBeUndefined();
  510 |       expect(obj.get('defaultFalse')).toEqual(false);
  511 |       expect(obj.get('defaultZero')).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 511, 'column': 45, 'index': 14406}","  509 |       expect(obj.get('ptr')).toBeUndefined();
  510 |       expect(obj.get('defaultFalse')).toEqual(false);
> 511 |       expect(obj.get('defaultZero')).toEqual(0);
      |                                             ^ Magic Number
  512 |       expect(obj.get('ptr')).toBeUndefined();
  513 |       expect(obj.get('relation')).toBeUndefined();
  514 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 539, 'column': 34, 'index': 15147}","  537 |       fail('should fail');
  538 |     } catch (e) {
> 539 |       expect(e.data.code).toEqual(111);
      |                                  ^ Magic Number
  540 |     }
  541 |     done();
  542 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 565, 'column': 34, 'index': 15831}","  563 |       fail('should fail');
  564 |     } catch (e) {
> 565 |       expect(e.data.code).toEqual(111);
      |                                  ^ Magic Number
  566 |     }
  567 |     done();
  568 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 603, 'column': 34, 'index': 16782}","  601 |       fail('should fail');
  602 |     } catch (e) {
> 603 |       expect(e.data.code).toEqual(111);
      |                                  ^ Magic Number
  604 |     }
  605 |
  606 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 626, 'column': 34, 'index': 17392}","  624 |       fail('should fail');
  625 |     } catch (e) {
> 626 |       expect(e.data.code).toEqual(111);
      |                                  ^ Magic Number
  627 |     }
  628 |     done();
  629 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 772, 'column': 40, 'index': 21756}","  770 |         body: {},
  771 |       }).then(fail, response => {
> 772 |         expect(response.status).toEqual(403);
      |                                        ^ Magic Number
  773 |         expect(response.data.error).toEqual('unauthorized');
  774 |         done();
  775 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 787, 'column': 38, 'index': 22176}","  785 |       body: { className: 'WrongClassName' },
  786 |     }).then(fail, response => {
> 787 |       expect(response.status).toEqual(400);
      |                                      ^ Magic Number
  788 |       expect(response.data.code).toEqual(Parse.Error.INVALID_CLASS_NAME);
  789 |       expect(response.data.error).toEqual(
  790 |         'Class name mismatch between WrongClassName and NewClass.'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 808, 'column': 38, 'index': 22770}","  806 |       },
  807 |     }).then(fail, response => {
> 808 |       expect(response.status).toEqual(400);
      |                                      ^ Magic Number
  809 |       expect(response.data.code).toEqual(Parse.Error.INVALID_CLASS_NAME);
  810 |       expect(response.data.error).toEqual('Class NoClass does not exist.');
  811 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 829, 'column': 40, 'index': 23451}","  827 |         },
  828 |       }).then(fail, response => {
> 829 |         expect(response.status).toEqual(400);
      |                                        ^ Magic Number
  830 |         expect(response.data.code).toEqual(255);
  831 |         expect(response.data.error).toEqual('Field aString exists, cannot update.');
  832 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 830, 'column': 43, 'index': 23500}","  828 |       }).then(fail, response => {
  829 |         expect(response.status).toEqual(400);
> 830 |         expect(response.data.code).toEqual(255);
      |                                           ^ Magic Number
  831 |         expect(response.data.error).toEqual('Field aString exists, cannot update.');
  832 |         done();
  833 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 851, 'column': 40, 'index': 24085}","  849 |         },
  850 |       }).then(fail, response => {
> 851 |         expect(response.status).toEqual(400);
      |                                        ^ Magic Number
  852 |         expect(response.data.code).toEqual(255);
  853 |         expect(response.data.error).toEqual('Field nonExistentKey does not exist, cannot delete.');
  854 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 852, 'column': 43, 'index': 24134}","  850 |       }).then(fail, response => {
  851 |         expect(response.status).toEqual(400);
> 852 |         expect(response.data.code).toEqual(255);
      |                                           ^ Magic Number
  853 |         expect(response.data.error).toEqual('Field nonExistentKey does not exist, cannot delete.');
  854 |         done();
  855 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 873, 'column': 40, 'index': 24748}","  871 |         },
  872 |       }).then(fail, response => {
> 873 |         expect(response.status).toEqual(400);
      |                                        ^ Magic Number
  874 |         expect(response.data.code).toEqual(Parse.Error.INCORRECT_TYPE);
  875 |         expect(response.data.error).toEqual(
  876 |           'currently, only one GeoPoint field may exist in an object. Adding newGeo when aGeoPoint already exists.'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 899, 'column': 40, 'index': 25566}","  897 |         },
  898 |       }).then(fail, response => {
> 899 |         expect(response.status).toEqual(400);
      |                                        ^ Magic Number
  900 |         expect(response.data.code).toEqual(Parse.Error.INCORRECT_TYPE);
  901 |         expect(response.data.error).toEqual(
  902 |           'currently, only one GeoPoint field may exist in an object. Adding newGeo2 when newGeo1 already exists.'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1127, 'column': 33, 'index': 32141}","  1125 |           fail('Should fail');
  1126 |         } catch (e) {
> 1127 |           expect(e.code).toEqual(142);
       |                                 ^ Magic Number
  1128 |           expect(e.message).toEqual('newRequiredField is required');
  1129 |         }
  1130 |         obj.set('newRequiredField', 'some value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1142, 'column': 33, 'index': 32840}","  1140 |           fail('Should fail');
  1141 |         } catch (e) {
> 1142 |           expect(e.code).toEqual(142);
       |                                 ^ Magic Number
  1143 |           expect(e.message).toEqual('newRequiredField is required');
  1144 |         }
  1145 |         obj.unset('newRequiredField');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1150, 'column': 33, 'index': 33092}","  1148 |           fail('Should fail');
  1149 |         } catch (e) {
> 1150 |           expect(e.code).toEqual(142);
       |                                 ^ Magic Number
  1151 |           expect(e.message).toEqual('newRequiredField is required');
  1152 |         }
  1153 |         obj.set('newRequiredField', 'some value2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1165, 'column': 33, 'index': 33805}","  1163 |           fail('Should fail');
  1164 |         } catch (e) {
> 1165 |           expect(e.code).toEqual(142);
       |                                 ^ Magic Number
  1166 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
  1167 |         }
  1168 |         obj.set('newRequiredFieldWithDefaultValue', '');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1173, 'column': 33, 'index': 34091}","  1171 |           fail('Should fail');
  1172 |         } catch (e) {
> 1173 |           expect(e.code).toEqual(142);
       |                                 ^ Magic Number
  1174 |           expect(e.message).toEqual('newRequiredFieldWithDefaultValue is required');
  1175 |         }
  1176 |         obj.set('newRequiredFieldWithDefaultValue', 'some value2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1510, 'column': 38, 'index': 45440}","  1508 |       json: true,
  1509 |     }).then(fail, response => {
> 1510 |       expect(response.status).toEqual(403);
       |                                      ^ Magic Number
  1511 |       expect(response.data.error).toEqual('unauthorized');
  1512 |       done();
  1513 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1525, 'column': 40, 'index': 45883}","  1523 |         json: true,
  1524 |       }).then(fail, response => {
> 1525 |         expect(response.status).toEqual(400);
       |                                        ^ Magic Number
  1526 |         expect(response.data.code).toEqual(255);
  1527 |         expect(response.data.error).toMatch(/HasAllPOD/);
  1528 |         expect(response.data.error).toMatch(/contains 1/);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1526, 'column': 43, 'index': 45932}","  1524 |       }).then(fail, response => {
  1525 |         expect(response.status).toEqual(400);
> 1526 |         expect(response.data.code).toEqual(255);
       |                                           ^ Magic Number
  1527 |         expect(response.data.error).toMatch(/HasAllPOD/);
  1528 |         expect(response.data.error).toMatch(/contains 1/);
  1529 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1541, 'column': 38, 'index': 46390}","  1539 |       json: true,
  1540 |     }).then(fail, response => {
> 1541 |       expect(response.status).toEqual(400);
       |                                      ^ Magic Number
  1542 |       expect(response.data.code).toEqual(Parse.Error.INVALID_CLASS_NAME);
  1543 |       expect(response.data.error).toEqual(
  1544 |         'Invalid classname: _GlobalConfig, classnames can only have alphanumeric characters and _, and must start with an alpha character '"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1557, 'column': 38, 'index': 46968}","  1555 |       json: true,
  1556 |     }).then(response => {
> 1557 |       expect(response.status).toEqual(200);
       |                                      ^ Magic Number
  1558 |       expect(response.data).toEqual({});
  1559 |       done();
  1560 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1622, 'column': 42, 'index': 48899}","  1620 |           json: true,
  1621 |         }).then(response => {
> 1622 |           expect(response.status).toEqual(200);
       |                                          ^ Magic Number
  1623 |           expect(response.data).toEqual({});
  1624 |           config.database
  1625 |             .collectionExists('_Join:aRelation:MyOtherClass')"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1646, 'column': 48, 'index': 49791}","  1644 |               }).then(fail, response => {
  1645 |                 //Expect _SCHEMA entry to be gone.
> 1646 |                 expect(response.status).toEqual(400);
       |                                                ^ Magic Number
  1647 |                 expect(response.data.code).toEqual(Parse.Error.INVALID_CLASS_NAME);
  1648 |                 expect(response.data.error).toEqual('Class MyOtherClass does not exist.');
  1649 |                 done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1680, 'column': 40, 'index': 50778}","  1678 |         json: true,
  1679 |       }).then(response => {
> 1680 |         expect(response.status).toEqual(200);
       |                                        ^ Magic Number
  1681 |         expect(response.data).toEqual({});
  1682 |         config.database.loadSchema().then(schema => {
  1683 |           schema.hasClass('NewClassForDelete').then(exist => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1722, 'column': 44, 'index': 52160}","  1720 |             json: true,
  1721 |           }).then(response => {
> 1722 |             expect(response.status).toEqual(200);
       |                                            ^ Magic Number
  1723 |             expect(response.data).toEqual({});
  1724 |             config.database.loadSchema().then(schema => {
  1725 |               schema.hasClass('NewClassForDelete').then(exist => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1758, 'column': 40, 'index': 53085}","  1756 |         json: true,
  1757 |       }).then(response => {
> 1758 |         expect(response.status).toEqual(200);
       |                                        ^ Magic Number
  1759 |         expect(response.data.classLevelPermissions).toEqual({
  1760 |           find: {
  1761 |             '*': true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 1800, 'column': 43, 'index': 54110}","  1798 |         },
  1799 |       }).then(fail, response => {
> 1800 |         expect(response.data.code).toEqual(107);
       |                                           ^ Magic Number
  1801 |         expect(response.data.error).toEqual(
  1802 |           'dummy is not a valid operation for class level permissions'
  1803 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2220, 'column': 36, 'index': 64993}","  2218 |       })
  2219 |       .then(results => {
> 2220 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  2221 |         done();
  2222 |       })
  2223 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2289, 'column': 39, 'index': 66753}","  2287 |         return query.find().then(
  2288 |           result => {
> 2289 |             expect(result.length).toBe(1);
       |                                       ^ Magic Number
  2290 |           },
  2291 |           () => {
  2292 |             fail('User should be able to find!');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2305, 'column': 36, 'index': 67138}","  2303 |       })
  2304 |       .then(results => {
> 2305 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  2306 |         done();
  2307 |       })
  2308 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2365, 'column': 39, 'index': 68746}","  2363 |         return query.find().then(
  2364 |           result => {
> 2365 |             expect(result.length).toBe(1);
       |                                       ^ Magic Number
  2366 |           },
  2367 |           () => {
  2368 |             fail('User should be able to find!');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2381, 'column': 36, 'index': 69131}","  2379 |       })
  2380 |       .then(results => {
> 2381 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  2382 |         done();
  2383 |       })
  2384 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2472, 'column': 36, 'index': 71512}","  2470 |       })
  2471 |       .then(results => {
> 2472 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  2473 |         done();
  2474 |       })
  2475 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2522, 'column': 39, 'index': 72846}","  2520 |         return query.find().then(
  2521 |           res => {
> 2522 |             expect(res.length).toEqual(1);
       |                                       ^ Magic Number
  2523 |           },
  2524 |           () => {
  2525 |             fail('User should be able to find!');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2591, 'column': 32, 'index': 74688}","  2589 |       })
  2590 |       .then(res => {
> 2591 |         expect(res.length).toBe(1);
       |                                ^ Magic Number
  2592 |         expect(res[0].get('anotherObject')).not.toBeUndefined();
  2593 |         done();
  2594 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2680, 'column': 36, 'index': 76967}","  2678 |       })
  2679 |       .then(results => {
> 2680 |         expect(results.length).toBe(2);
       |                                    ^ Magic Number
  2681 |         expect(results[0].has('desiredField')).toBe(true);
  2682 |         expect(results[1].has('desiredField')).toBe(true);
  2683 |         expect(results[0].has('undesiredField')).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2702, 'column': 42, 'index': 77823}","  2700 |           json: true,
  2701 |         }).then(response => {
> 2702 |           expect(response.status).toEqual(200);
       |                                          ^ Magic Number
  2703 |           expect(response.data).toEqual({});
  2704 |           done();
  2705 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2743, 'column': 36, 'index': 78964}","  2741 |       })
  2742 |       .then(results => {
> 2743 |         expect(results.length).toBe(0);
       |                                    ^ Magic Number
  2744 |         done();
  2745 |       })
  2746 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 2817, 'column': 40, 'index': 80747}","  2815 |     obj.increment('key', 10);
  2816 |     const objectAgain = await obj.save();
> 2817 |     expect(objectAgain.get('key')).toBe(11);
       |                                        ^ Magic Number
  2818 |   });
  2819 |
  2820 |   it('regression test for #2246', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 3148, 'column': 38, 'index': 90005}","  3146 |         });
  3147 |         config.database.adapter.getIndexes('NewClass').then(indexes => {
> 3148 |           expect(indexes.length).toBe(2);
       |                                      ^ Magic Number
  3149 |           done();
  3150 |         });
  3151 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 3243, 'column': 45, 'index': 92872}","  3241 |             });
  3242 |             config.database.adapter.getIndexes('NewClass').then(indexes => {
> 3243 |               expect(indexes.length).toEqual(2);
       |                                             ^ Magic Number
  3244 |               done();
  3245 |             });
  3246 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 3394, 'column': 45, 'index': 97913}","  3392 |             });
  3393 |             config.database.adapter.getIndexes('NewClass').then(indexes => {
> 3394 |               expect(indexes.length).toEqual(4);
       |                                             ^ Magic Number
  3395 |               done();
  3396 |             });
  3397 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 3467, 'column': 45, 'index': 100134}","  3465 |             });
  3466 |             config.database.adapter.getIndexes('NewClass').then(indexes => {
> 3467 |               expect(indexes.length).toEqual(1);
       |                                             ^ Magic Number
  3468 |               done();
  3469 |             });
  3470 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 3552, 'column': 45, 'index': 102864}","  3550 |             });
  3551 |             config.database.adapter.getIndexes('NewClass').then(indexes => {
> 3552 |               expect(indexes.length).toEqual(2);
       |                                             ^ Magic Number
  3553 |               done();
  3554 |             });
  3555 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Magic Number,"{'line': 3683, 'column': 37, 'index': 106569}","  3681 |       await waitForIndexBuild;
  3682 |       const indexes = await config.database.adapter.getIndexes('NewClass');
> 3683 |       expect(indexes.length).toEqual(3);
       |                                     ^ Magic Number
  3684 |     });
  3685 |
  3686 |     it('cannot delete index that does not exist', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Sleepy Test,"{'line': 3562, 'column': 49, 'index': 103146}","  3560 |     it('lets you add and delete indexes', async () => {
  3561 |       // Wait due to index building in MongoDB on background process with collection lock
> 3562 |       const waitForIndexBuild = new Promise(r => setTimeout(r, 500));
       |                                                 ^ Sleepy Test
  3563 |
  3564 |       await request({
  3565 |         url: 'http://localhost:8378/1/schemas/NewClass',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 2, 'line': 1844}","  1842 |   });
  1843 |
> 1844 |   it('should be able to add a field', done => {
       |  ^ Unknown Test
  1845 |     request({
  1846 |       method: 'POST',
  1847 |       url: 'http://localhost:8378/1/schemas/AClass',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 4, 'line': 1887}","  1885 |     });
  1886 |
> 1887 |     it('addField permission not required for adding a nested property', async () => {
       |    ^ Unknown Test
  1888 |       const obj = new Parse.Object('test_7371');
  1889 |       obj.set('a', {});
  1890 |       await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 4, 'line': 1894}","  1892 |       await obj.save();
  1893 |     });
> 1894 |     it('addField permission not required for modifying a nested property', async () => {
       |    ^ Unknown Test
  1895 |       const obj = new Parse.Object('test_7371');
  1896 |       obj.set('a', { b: 1 });
  1897 |       await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 2, 'line': 2872}","  2870 |   });
  2871 |
> 2872 |   it('should reject creating class schema with field with invalid key', async done => {
       |  ^ Unknown Test
  2873 |     const config = Config.get(Parse.applicationId);
  2874 |     const schemaController = await config.database.loadSchema();
  2875 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 2, 'line': 2889}","  2887 |   });
  2888 |
> 2889 |   it('should reject creating invalid field name', async done => {
       |  ^ Unknown Test
  2890 |     const object = new Parse.Object('AnObject');
  2891 |
  2892 |     await expectAsync("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 2, 'line': 2900}","  2898 |   });
  2899 |
> 2900 |   it('should be rejected if CLP operation is not an object', async done => {
       |  ^ Unknown Test
  2901 |     const config = Config.get(Parse.applicationId);
  2902 |     const schemaController = await config.database.loadSchema();
  2903 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 2, 'line': 2926}","  2924 |   });
  2925 |
> 2926 |   it('should be rejected if CLP protectedFields is not an object', async done => {
       |  ^ Unknown Test
  2927 |     const config = Config.get(Parse.applicationId);
  2928 |     const schemaController = await config.database.loadSchema();
  2929 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 2, 'line': 2952}","  2950 |   });
  2951 |
> 2952 |   it('should be rejected if CLP read/writeUserFields is not an array', async done => {
       |  ^ Unknown Test
  2953 |     const config = Config.get(Parse.applicationId);
  2954 |     const schemaController = await config.database.loadSchema();
  2955 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/schemas.spec.js,Unknown Test,"{'column': 2, 'line': 2978}","  2976 |   });
  2977 |
> 2978 |   it('should be rejected if CLP pointerFields is not an array', async done => {
       |  ^ Unknown Test
  2979 |     const config = Config.get(Parse.applicationId);
  2980 |     const schemaController = await config.database.loadSchema();
  2981 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Conditional Test Logic,"{'line': 905, 'column': 8, 'index': 28628}","  903 |       })
  904 |       .then(response => {
> 905 |         if (response.data.user.objectId === currentUser.id) {
      |        ^ Conditional Test Logic
  906 |           return done();
  907 |         } else {
  908 |           return done.fail();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 109, 'column': 8, 'index': 3175}","  107 |       })
  108 |       .then(response => {
> 109 |         expect(response.results.length).toEqual(1);
      |        ^ Duplicate Assert
  110 |         expect(response.results[0].objectId.length).toEqual(10);
  111 |         return rest.update(
  112 |           config,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 109, 'column': 8, 'index': 3175}","  107 |       })
  108 |       .then(response => {
> 109 |         expect(response.results.length).toEqual(1);
      |        ^ Duplicate Assert
  110 |         expect(response.results[0].objectId.length).toEqual(10);
  111 |         return rest.update(
  112 |           config,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 110, 'column': 8, 'index': 3227}","  108 |       .then(response => {
  109 |         expect(response.results.length).toEqual(1);
> 110 |         expect(response.results[0].objectId.length).toEqual(10);
      |        ^ Duplicate Assert
  111 |         return rest.update(
  112 |           config,
  113 |           auth.nobody(config),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 110, 'column': 8, 'index': 3227}","  108 |       .then(response => {
  109 |         expect(response.results.length).toEqual(1);
> 110 |         expect(response.results[0].objectId.length).toEqual(10);
      |        ^ Duplicate Assert
  111 |         return rest.update(
  112 |           config,
  113 |           auth.nobody(config),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 123, 'column': 8, 'index': 3616}","  121 |       })
  122 |       .then(response => {
> 123 |         expect(response.results.length).toEqual(1);
      |        ^ Duplicate Assert
  124 |         expect(response.results[0].objectId.length).toEqual(10);
  125 |         expect(response.results[0].update).toEqual(20);
  126 |         return rest.create(config, auth.nobody(config), 'Foo', { size: 20 });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 123, 'column': 8, 'index': 3616}","  121 |       })
  122 |       .then(response => {
> 123 |         expect(response.results.length).toEqual(1);
      |        ^ Duplicate Assert
  124 |         expect(response.results[0].objectId.length).toEqual(10);
  125 |         expect(response.results[0].update).toEqual(20);
  126 |         return rest.create(config, auth.nobody(config), 'Foo', { size: 20 });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 124, 'column': 8, 'index': 3668}","  122 |       .then(response => {
  123 |         expect(response.results.length).toEqual(1);
> 124 |         expect(response.results[0].objectId.length).toEqual(10);
      |        ^ Duplicate Assert
  125 |         expect(response.results[0].update).toEqual(20);
  126 |         return rest.create(config, auth.nobody(config), 'Foo', { size: 20 });
  127 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 124, 'column': 8, 'index': 3668}","  122 |       .then(response => {
  123 |         expect(response.results.length).toEqual(1);
> 124 |         expect(response.results[0].objectId.length).toEqual(10);
      |        ^ Duplicate Assert
  125 |         expect(response.results[0].update).toEqual(20);
  126 |         return rest.create(config, auth.nobody(config), 'Foo', { size: 20 });
  127 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 133, 'column': 8, 'index': 4041}","  131 |       })
  132 |       .then(response => {
> 133 |         expect(response.results.length).toEqual(1);
      |        ^ Duplicate Assert
  134 |         expect(response.results[0].objectId.length).toEqual(20);
  135 |         done();
  136 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 133, 'column': 8, 'index': 4041}","  131 |       })
  132 |       .then(response => {
> 133 |         expect(response.results.length).toEqual(1);
      |        ^ Duplicate Assert
  134 |         expect(response.results[0].objectId.length).toEqual(20);
  135 |         done();
  136 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 134, 'column': 8, 'index': 4093}","  132 |       .then(response => {
  133 |         expect(response.results.length).toEqual(1);
> 134 |         expect(response.results[0].objectId.length).toEqual(20);
      |        ^ Duplicate Assert
  135 |         done();
  136 |       });
  137 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 295, 'column': 8, 'index': 9129}","  293 |       .then(() => database.adapter.find('MyClass', { fields: {} }, {}, {}))
  294 |       .then(results => {
> 295 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  296 |         const mob = results[0];
  297 |         expect(typeof mob.subdoc).toBe('object');
  298 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 295, 'column': 8, 'index': 9129}","  293 |       .then(() => database.adapter.find('MyClass', { fields: {} }, {}, {}))
  294 |       .then(results => {
> 295 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  296 |         const mob = results[0];
  297 |         expect(typeof mob.subdoc).toBe('object');
  298 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 297, 'column': 8, 'index': 9204}","  295 |         expect(results.length).toEqual(1);
  296 |         const mob = results[0];
> 297 |         expect(typeof mob.subdoc).toBe('object');
      |        ^ Duplicate Assert
  298 |         expect(mob.subdoc.foo).toBe('bar');
  299 |         expect(mob.subdoc.wu).toBe('tan');
  300 |         expect(typeof mob.objectId).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 297, 'column': 8, 'index': 9204}","  295 |         expect(results.length).toEqual(1);
  296 |         const mob = results[0];
> 297 |         expect(typeof mob.subdoc).toBe('object');
      |        ^ Duplicate Assert
  298 |         expect(mob.subdoc.foo).toBe('bar');
  299 |         expect(mob.subdoc.wu).toBe('tan');
  300 |         expect(typeof mob.objectId).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 298, 'column': 8, 'index': 9254}","  296 |         const mob = results[0];
  297 |         expect(typeof mob.subdoc).toBe('object');
> 298 |         expect(mob.subdoc.foo).toBe('bar');
      |        ^ Duplicate Assert
  299 |         expect(mob.subdoc.wu).toBe('tan');
  300 |         expect(typeof mob.objectId).toEqual('string');
  301 |         const obj = { 'subdoc.wu': 'clan' };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 298, 'column': 8, 'index': 9254}","  296 |         const mob = results[0];
  297 |         expect(typeof mob.subdoc).toBe('object');
> 298 |         expect(mob.subdoc.foo).toBe('bar');
      |        ^ Duplicate Assert
  299 |         expect(mob.subdoc.wu).toBe('tan');
  300 |         expect(typeof mob.objectId).toEqual('string');
  301 |         const obj = { 'subdoc.wu': 'clan' };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 299, 'column': 8, 'index': 9298}","  297 |         expect(typeof mob.subdoc).toBe('object');
  298 |         expect(mob.subdoc.foo).toBe('bar');
> 299 |         expect(mob.subdoc.wu).toBe('tan');
      |        ^ Duplicate Assert
  300 |         expect(typeof mob.objectId).toEqual('string');
  301 |         const obj = { 'subdoc.wu': 'clan' };
  302 |         return rest.update(config, auth.nobody(config), 'MyClass', { objectId: mob.objectId }, obj);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 306, 'column': 8, 'index': 9652}","  304 |       .then(() => database.adapter.find('MyClass', { fields: {} }, {}, {}))
  305 |       .then(results => {
> 306 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  307 |         const mob = results[0];
  308 |         expect(typeof mob.subdoc).toBe('object');
  309 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 306, 'column': 8, 'index': 9652}","  304 |       .then(() => database.adapter.find('MyClass', { fields: {} }, {}, {}))
  305 |       .then(results => {
> 306 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  307 |         const mob = results[0];
  308 |         expect(typeof mob.subdoc).toBe('object');
  309 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 308, 'column': 8, 'index': 9727}","  306 |         expect(results.length).toEqual(1);
  307 |         const mob = results[0];
> 308 |         expect(typeof mob.subdoc).toBe('object');
      |        ^ Duplicate Assert
  309 |         expect(mob.subdoc.foo).toBe('bar');
  310 |         expect(mob.subdoc.wu).toBe('clan');
  311 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 308, 'column': 8, 'index': 9727}","  306 |         expect(results.length).toEqual(1);
  307 |         const mob = results[0];
> 308 |         expect(typeof mob.subdoc).toBe('object');
      |        ^ Duplicate Assert
  309 |         expect(mob.subdoc.foo).toBe('bar');
  310 |         expect(mob.subdoc.wu).toBe('clan');
  311 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 309, 'column': 8, 'index': 9777}","  307 |         const mob = results[0];
  308 |         expect(typeof mob.subdoc).toBe('object');
> 309 |         expect(mob.subdoc.foo).toBe('bar');
      |        ^ Duplicate Assert
  310 |         expect(mob.subdoc.wu).toBe('clan');
  311 |         done();
  312 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 309, 'column': 8, 'index': 9777}","  307 |         const mob = results[0];
  308 |         expect(typeof mob.subdoc).toBe('object');
> 309 |         expect(mob.subdoc.foo).toBe('bar');
      |        ^ Duplicate Assert
  310 |         expect(mob.subdoc.wu).toBe('clan');
  311 |         done();
  312 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 310, 'column': 8, 'index': 9821}","  308 |         expect(typeof mob.subdoc).toBe('object');
  309 |         expect(mob.subdoc.foo).toBe('bar');
> 310 |         expect(mob.subdoc.wu).toBe('clan');
      |        ^ Duplicate Assert
  311 |         done();
  312 |       })
  313 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 382, 'column': 8, 'index': 12021}","  380 |       .create(config, auth.nobody(config), '_User', data1)
  381 |       .then(r => {
> 382 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  383 |         expect(typeof r.response.createdAt).toEqual('string');
  384 |         expect(typeof r.response.sessionToken).toEqual('string');
  385 |         expect(typeof r.response.username).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 382, 'column': 8, 'index': 12021}","  380 |       .create(config, auth.nobody(config), '_User', data1)
  381 |       .then(r => {
> 382 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  383 |         expect(typeof r.response.createdAt).toEqual('string');
  384 |         expect(typeof r.response.sessionToken).toEqual('string');
  385 |         expect(typeof r.response.username).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 383, 'column': 8, 'index': 12083}","  381 |       .then(r => {
  382 |         expect(typeof r.response.objectId).toEqual('string');
> 383 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  384 |         expect(typeof r.response.sessionToken).toEqual('string');
  385 |         expect(typeof r.response.username).toEqual('string');
  386 |         return rest.create(config, auth.nobody(config), '_User', data1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 383, 'column': 8, 'index': 12083}","  381 |       .then(r => {
  382 |         expect(typeof r.response.objectId).toEqual('string');
> 383 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  384 |         expect(typeof r.response.sessionToken).toEqual('string');
  385 |         expect(typeof r.response.username).toEqual('string');
  386 |         return rest.create(config, auth.nobody(config), '_User', data1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 384, 'column': 8, 'index': 12146}","  382 |         expect(typeof r.response.objectId).toEqual('string');
  383 |         expect(typeof r.response.createdAt).toEqual('string');
> 384 |         expect(typeof r.response.sessionToken).toEqual('string');
      |        ^ Duplicate Assert
  385 |         expect(typeof r.response.username).toEqual('string');
  386 |         return rest.create(config, auth.nobody(config), '_User', data1);
  387 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 384, 'column': 8, 'index': 12146}","  382 |         expect(typeof r.response.objectId).toEqual('string');
  383 |         expect(typeof r.response.createdAt).toEqual('string');
> 384 |         expect(typeof r.response.sessionToken).toEqual('string');
      |        ^ Duplicate Assert
  385 |         expect(typeof r.response.username).toEqual('string');
  386 |         return rest.create(config, auth.nobody(config), '_User', data1);
  387 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 385, 'column': 8, 'index': 12212}","  383 |         expect(typeof r.response.createdAt).toEqual('string');
  384 |         expect(typeof r.response.sessionToken).toEqual('string');
> 385 |         expect(typeof r.response.username).toEqual('string');
      |        ^ Duplicate Assert
  386 |         return rest.create(config, auth.nobody(config), '_User', data1);
  387 |       })
  388 |       .then(r => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 385, 'column': 8, 'index': 12212}","  383 |         expect(typeof r.response.createdAt).toEqual('string');
  384 |         expect(typeof r.response.sessionToken).toEqual('string');
> 385 |         expect(typeof r.response.username).toEqual('string');
      |        ^ Duplicate Assert
  386 |         return rest.create(config, auth.nobody(config), '_User', data1);
  387 |       })
  388 |       .then(r => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 389, 'column': 8, 'index': 12375}","  387 |       })
  388 |       .then(r => {
> 389 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  390 |         expect(typeof r.response.createdAt).toEqual('string');
  391 |         expect(typeof r.response.username).toEqual('string');
  392 |         expect(typeof r.response.updatedAt).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 389, 'column': 8, 'index': 12375}","  387 |       })
  388 |       .then(r => {
> 389 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  390 |         expect(typeof r.response.createdAt).toEqual('string');
  391 |         expect(typeof r.response.username).toEqual('string');
  392 |         expect(typeof r.response.updatedAt).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 390, 'column': 8, 'index': 12437}","  388 |       .then(r => {
  389 |         expect(typeof r.response.objectId).toEqual('string');
> 390 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  391 |         expect(typeof r.response.username).toEqual('string');
  392 |         expect(typeof r.response.updatedAt).toEqual('string');
  393 |         username1 = r.response.username;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 390, 'column': 8, 'index': 12437}","  388 |       .then(r => {
  389 |         expect(typeof r.response.objectId).toEqual('string');
> 390 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  391 |         expect(typeof r.response.username).toEqual('string');
  392 |         expect(typeof r.response.updatedAt).toEqual('string');
  393 |         username1 = r.response.username;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 391, 'column': 8, 'index': 12500}","  389 |         expect(typeof r.response.objectId).toEqual('string');
  390 |         expect(typeof r.response.createdAt).toEqual('string');
> 391 |         expect(typeof r.response.username).toEqual('string');
      |        ^ Duplicate Assert
  392 |         expect(typeof r.response.updatedAt).toEqual('string');
  393 |         username1 = r.response.username;
  394 |         return rest.create(config, auth.nobody(config), '_User', data2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 391, 'column': 8, 'index': 12500}","  389 |         expect(typeof r.response.objectId).toEqual('string');
  390 |         expect(typeof r.response.createdAt).toEqual('string');
> 391 |         expect(typeof r.response.username).toEqual('string');
      |        ^ Duplicate Assert
  392 |         expect(typeof r.response.updatedAt).toEqual('string');
  393 |         username1 = r.response.username;
  394 |         return rest.create(config, auth.nobody(config), '_User', data2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 392, 'column': 8, 'index': 12562}","  390 |         expect(typeof r.response.createdAt).toEqual('string');
  391 |         expect(typeof r.response.username).toEqual('string');
> 392 |         expect(typeof r.response.updatedAt).toEqual('string');
      |        ^ Duplicate Assert
  393 |         username1 = r.response.username;
  394 |         return rest.create(config, auth.nobody(config), '_User', data2);
  395 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 392, 'column': 8, 'index': 12562}","  390 |         expect(typeof r.response.createdAt).toEqual('string');
  391 |         expect(typeof r.response.username).toEqual('string');
> 392 |         expect(typeof r.response.updatedAt).toEqual('string');
      |        ^ Duplicate Assert
  393 |         username1 = r.response.username;
  394 |         return rest.create(config, auth.nobody(config), '_User', data2);
  395 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 397, 'column': 8, 'index': 12767}","  395 |       })
  396 |       .then(r => {
> 397 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  398 |         expect(typeof r.response.createdAt).toEqual('string');
  399 |         expect(typeof r.response.sessionToken).toEqual('string');
  400 |         return rest.create(config, auth.nobody(config), '_User', data2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 397, 'column': 8, 'index': 12767}","  395 |       })
  396 |       .then(r => {
> 397 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  398 |         expect(typeof r.response.createdAt).toEqual('string');
  399 |         expect(typeof r.response.sessionToken).toEqual('string');
  400 |         return rest.create(config, auth.nobody(config), '_User', data2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 398, 'column': 8, 'index': 12829}","  396 |       .then(r => {
  397 |         expect(typeof r.response.objectId).toEqual('string');
> 398 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  399 |         expect(typeof r.response.sessionToken).toEqual('string');
  400 |         return rest.create(config, auth.nobody(config), '_User', data2);
  401 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 398, 'column': 8, 'index': 12829}","  396 |       .then(r => {
  397 |         expect(typeof r.response.objectId).toEqual('string');
> 398 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  399 |         expect(typeof r.response.sessionToken).toEqual('string');
  400 |         return rest.create(config, auth.nobody(config), '_User', data2);
  401 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 399, 'column': 8, 'index': 12892}","  397 |         expect(typeof r.response.objectId).toEqual('string');
  398 |         expect(typeof r.response.createdAt).toEqual('string');
> 399 |         expect(typeof r.response.sessionToken).toEqual('string');
      |        ^ Duplicate Assert
  400 |         return rest.create(config, auth.nobody(config), '_User', data2);
  401 |       })
  402 |       .then(r => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 399, 'column': 8, 'index': 12892}","  397 |         expect(typeof r.response.objectId).toEqual('string');
  398 |         expect(typeof r.response.createdAt).toEqual('string');
> 399 |         expect(typeof r.response.sessionToken).toEqual('string');
      |        ^ Duplicate Assert
  400 |         return rest.create(config, auth.nobody(config), '_User', data2);
  401 |       })
  402 |       .then(r => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 403, 'column': 8, 'index': 13059}","  401 |       })
  402 |       .then(r => {
> 403 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  404 |         expect(typeof r.response.createdAt).toEqual('string');
  405 |         expect(typeof r.response.username).toEqual('string');
  406 |         expect(typeof r.response.updatedAt).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 403, 'column': 8, 'index': 13059}","  401 |       })
  402 |       .then(r => {
> 403 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  404 |         expect(typeof r.response.createdAt).toEqual('string');
  405 |         expect(typeof r.response.username).toEqual('string');
  406 |         expect(typeof r.response.updatedAt).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 404, 'column': 8, 'index': 13121}","  402 |       .then(r => {
  403 |         expect(typeof r.response.objectId).toEqual('string');
> 404 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  405 |         expect(typeof r.response.username).toEqual('string');
  406 |         expect(typeof r.response.updatedAt).toEqual('string');
  407 |         expect(r.response.username).not.toEqual(username1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 404, 'column': 8, 'index': 13121}","  402 |       .then(r => {
  403 |         expect(typeof r.response.objectId).toEqual('string');
> 404 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  405 |         expect(typeof r.response.username).toEqual('string');
  406 |         expect(typeof r.response.updatedAt).toEqual('string');
  407 |         expect(r.response.username).not.toEqual(username1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 405, 'column': 8, 'index': 13184}","  403 |         expect(typeof r.response.objectId).toEqual('string');
  404 |         expect(typeof r.response.createdAt).toEqual('string');
> 405 |         expect(typeof r.response.username).toEqual('string');
      |        ^ Duplicate Assert
  406 |         expect(typeof r.response.updatedAt).toEqual('string');
  407 |         expect(r.response.username).not.toEqual(username1);
  408 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 405, 'column': 8, 'index': 13184}","  403 |         expect(typeof r.response.objectId).toEqual('string');
  404 |         expect(typeof r.response.createdAt).toEqual('string');
> 405 |         expect(typeof r.response.username).toEqual('string');
      |        ^ Duplicate Assert
  406 |         expect(typeof r.response.updatedAt).toEqual('string');
  407 |         expect(r.response.username).not.toEqual(username1);
  408 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 406, 'column': 8, 'index': 13246}","  404 |         expect(typeof r.response.createdAt).toEqual('string');
  405 |         expect(typeof r.response.username).toEqual('string');
> 406 |         expect(typeof r.response.updatedAt).toEqual('string');
      |        ^ Duplicate Assert
  407 |         expect(r.response.username).not.toEqual(username1);
  408 |         done();
  409 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 406, 'column': 8, 'index': 13246}","  404 |         expect(typeof r.response.createdAt).toEqual('string');
  405 |         expect(typeof r.response.username).toEqual('string');
> 406 |         expect(typeof r.response.updatedAt).toEqual('string');
      |        ^ Duplicate Assert
  407 |         expect(r.response.username).not.toEqual(username1);
  408 |         done();
  409 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 495, 'column': 8, 'index': 15742}","  493 |       .create(config, auth.nobody(config), '_User', data)
  494 |       .then(r => {
> 495 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  496 |         expect(typeof r.response.createdAt).toEqual('string');
  497 |         expect(typeof r.response.sessionToken).toEqual('string');
  498 |         newUserSignedUpByFacebookObjectId = r.response.objectId;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 495, 'column': 8, 'index': 15742}","  493 |       .create(config, auth.nobody(config), '_User', data)
  494 |       .then(r => {
> 495 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  496 |         expect(typeof r.response.createdAt).toEqual('string');
  497 |         expect(typeof r.response.sessionToken).toEqual('string');
  498 |         newUserSignedUpByFacebookObjectId = r.response.objectId;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 496, 'column': 8, 'index': 15804}","  494 |       .then(r => {
  495 |         expect(typeof r.response.objectId).toEqual('string');
> 496 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  497 |         expect(typeof r.response.sessionToken).toEqual('string');
  498 |         newUserSignedUpByFacebookObjectId = r.response.objectId;
  499 |         return rest.create(config, auth.nobody(config), '_User', data);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 496, 'column': 8, 'index': 15804}","  494 |       .then(r => {
  495 |         expect(typeof r.response.objectId).toEqual('string');
> 496 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  497 |         expect(typeof r.response.sessionToken).toEqual('string');
  498 |         newUserSignedUpByFacebookObjectId = r.response.objectId;
  499 |         return rest.create(config, auth.nobody(config), '_User', data);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 502, 'column': 8, 'index': 16098}","  500 |       })
  501 |       .then(r => {
> 502 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  503 |         expect(typeof r.response.createdAt).toEqual('string');
  504 |         expect(typeof r.response.username).toEqual('string');
  505 |         expect(typeof r.response.updatedAt).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 502, 'column': 8, 'index': 16098}","  500 |       })
  501 |       .then(r => {
> 502 |         expect(typeof r.response.objectId).toEqual('string');
      |        ^ Duplicate Assert
  503 |         expect(typeof r.response.createdAt).toEqual('string');
  504 |         expect(typeof r.response.username).toEqual('string');
  505 |         expect(typeof r.response.updatedAt).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 503, 'column': 8, 'index': 16160}","  501 |       .then(r => {
  502 |         expect(typeof r.response.objectId).toEqual('string');
> 503 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  504 |         expect(typeof r.response.username).toEqual('string');
  505 |         expect(typeof r.response.updatedAt).toEqual('string');
  506 |         expect(r.response.objectId).toEqual(newUserSignedUpByFacebookObjectId);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 503, 'column': 8, 'index': 16160}","  501 |       .then(r => {
  502 |         expect(typeof r.response.objectId).toEqual('string');
> 503 |         expect(typeof r.response.createdAt).toEqual('string');
      |        ^ Duplicate Assert
  504 |         expect(typeof r.response.username).toEqual('string');
  505 |         expect(typeof r.response.updatedAt).toEqual('string');
  506 |         expect(r.response.objectId).toEqual(newUserSignedUpByFacebookObjectId);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 753, 'column': 8, 'index': 23518}","  751 |       .create(config, auth.master(config), '_PushStatus', {})
  752 |       .then(r => {
> 753 |         expect(r.response.objectId.length).toBe(10);
      |        ^ Duplicate Assert
  754 |       })
  755 |       .then(() => {
  756 |         rest.create(config, auth.master(config), '_JobStatus', {}).then(r => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 753, 'column': 8, 'index': 23518}","  751 |       .create(config, auth.master(config), '_PushStatus', {})
  752 |       .then(r => {
> 753 |         expect(r.response.objectId.length).toBe(10);
      |        ^ Duplicate Assert
  754 |       })
  755 |       .then(() => {
  756 |         rest.create(config, auth.master(config), '_JobStatus', {}).then(r => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 757, 'column': 10, 'index': 23681}","  755 |       .then(() => {
  756 |         rest.create(config, auth.master(config), '_JobStatus', {}).then(r => {
> 757 |           expect(r.response.objectId.length).toBe(10);
      |          ^ Duplicate Assert
  758 |           done();
  759 |         });
  760 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 757, 'column': 10, 'index': 23681}","  755 |       .then(() => {
  756 |         rest.create(config, auth.master(config), '_JobStatus', {}).then(r => {
> 757 |           expect(r.response.objectId.length).toBe(10);
      |          ^ Duplicate Assert
  758 |           done();
  759 |         });
  760 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 835, 'column': 12, 'index': 26463}","  833 |           })
  834 |           .then(done.fail, res => {
> 835 |             expect(res.status).toBe(400);
      |            ^ Duplicate Assert
  836 |             expect(res.data.code).toBe(105);
  837 |             return request({
  838 |               headers,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 835, 'column': 12, 'index': 26463}","  833 |           })
  834 |           .then(done.fail, res => {
> 835 |             expect(res.status).toBe(400);
      |            ^ Duplicate Assert
  836 |             expect(res.data.code).toBe(105);
  837 |             return request({
  838 |               headers,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 836, 'column': 12, 'index': 26505}","  834 |           .then(done.fail, res => {
  835 |             expect(res.status).toBe(400);
> 836 |             expect(res.data.code).toBe(105);
      |            ^ Duplicate Assert
  837 |             return request({
  838 |               headers,
  839 |               method: 'PUT',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 836, 'column': 12, 'index': 26505}","  834 |           .then(done.fail, res => {
  835 |             expect(res.status).toBe(400);
> 836 |             expect(res.data.code).toBe(105);
      |            ^ Duplicate Assert
  837 |             return request({
  838 |               headers,
  839 |               method: 'PUT',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 847, 'column': 12, 'index': 26841}","  845 |           })
  846 |           .then(done.fail, res => {
> 847 |             expect(res.status).toBe(400);
      |            ^ Duplicate Assert
  848 |             expect(res.data.code).toBe(105);
  849 |             return Parse.User.signUp('other', 'user');
  850 |           })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 847, 'column': 12, 'index': 26841}","  845 |           })
  846 |           .then(done.fail, res => {
> 847 |             expect(res.status).toBe(400);
      |            ^ Duplicate Assert
  848 |             expect(res.data.code).toBe(105);
  849 |             return Parse.User.signUp('other', 'user');
  850 |           })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 848, 'column': 12, 'index': 26883}","  846 |           .then(done.fail, res => {
  847 |             expect(res.status).toBe(400);
> 848 |             expect(res.data.code).toBe(105);
      |            ^ Duplicate Assert
  849 |             return Parse.User.signUp('other', 'user');
  850 |           })
  851 |           .then(otherUser => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 848, 'column': 12, 'index': 26883}","  846 |           .then(done.fail, res => {
  847 |             expect(res.status).toBe(400);
> 848 |             expect(res.data.code).toBe(105);
      |            ^ Duplicate Assert
  849 |             return Parse.User.signUp('other', 'user');
  850 |           })
  851 |           .then(otherUser => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 864, 'column': 12, 'index': 27402}","  862 |           })
  863 |           .then(done.fail, res => {
> 864 |             expect(res.status).toBe(400);
      |            ^ Duplicate Assert
  865 |             expect(res.data.code).toBe(105);
  866 |             const user = new Parse.User();
  867 |             user.id = currentUser.id;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 864, 'column': 12, 'index': 27402}","  862 |           })
  863 |           .then(done.fail, res => {
> 864 |             expect(res.status).toBe(400);
      |            ^ Duplicate Assert
  865 |             expect(res.data.code).toBe(105);
  866 |             const user = new Parse.User();
  867 |             user.id = currentUser.id;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 865, 'column': 12, 'index': 27444}","  863 |           .then(done.fail, res => {
  864 |             expect(res.status).toBe(400);
> 865 |             expect(res.data.code).toBe(105);
      |            ^ Duplicate Assert
  866 |             const user = new Parse.User();
  867 |             user.id = currentUser.id;
  868 |             return request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Duplicate Assert,"{'line': 865, 'column': 12, 'index': 27444}","  863 |           .then(done.fail, res => {
  864 |             expect(res.status).toBe(400);
> 865 |             expect(res.data.code).toBe(105);
      |            ^ Duplicate Assert
  866 |             const user = new Parse.User();
  867 |             user.id = currentUser.id;
  868 |             return request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Exception Handling,"{'line': 206, 'column': 6, 'index': 6420}","  204 |       req.body = { createdAt, updatedAt };
  205 |
> 206 |       try {
      |      ^ Exception Handling
  207 |         await request(req);
  208 |         fail();
  209 |       } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Exception Handling,"{'line': 229, 'column': 6, 'index': 7090}","  227 |       req.body = { createdAt, updatedAt };
  228 |
> 229 |       try {
      |      ^ Exception Handling
  230 |         await request(req);
  231 |         fail();
  232 |       } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Exception Handling,"{'line': 971, 'column': 4, 'index': 30532}","  969 |       readOnlyMasterKey: 'yolo-read-only',
  970 |     });
> 971 |     try {
      |    ^ Exception Handling
  972 |       await request({
  973 |         url: `${Parse.serverURL}/classes/MyYolo`,
  974 |         method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Exception Handling,"{'line': 993, 'column': 4, 'index': 31212}","  991 |
  992 |   it('should throw when masterKey and readOnlyMasterKey are the same', async () => {
> 993 |     try {
      |    ^ Exception Handling
  994 |       await reconfigureServer({
  995 |         masterKey: 'yolo',
  996 |         readOnlyMasterKey: 'yolo',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 24, 'column': 39, 'index': 720}","  22 |       .then(() => database.adapter.find('Foo', { fields: {} }, {}, {}))
  23 |       .then(results => {
> 24 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  25 |         const obj = results[0];
  26 |         expect(typeof obj.objectId).toEqual('string');
  27 |         expect(obj.objectId.length).toEqual(10);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 27, 'column': 44, 'index': 855}","  25 |         const obj = results[0];
  26 |         expect(typeof obj.objectId).toEqual('string');
> 27 |         expect(obj.objectId.length).toEqual(10);
     |                                            ^ Magic Number
  28 |         expect(obj._id).toBeUndefined();
  29 |         done();
  30 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 39, 'column': 39, 'index': 1205}","  37 |       .then(() => database.adapter.find('Foo', { fields: {} }, {}, {}))
  38 |       .then(results => {
> 39 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  40 |         const obj = results[0];
  41 |         expect(typeof obj.objectId).toEqual('string');
  42 |         expect(obj.objectId.length).toEqual(20);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 42, 'column': 44, 'index': 1340}","  40 |         const obj = results[0];
  41 |         expect(typeof obj.objectId).toEqual('string');
> 42 |         expect(obj.objectId.length).toEqual(20);
     |                                            ^ Magic Number
  43 |         done();
  44 |       });
  45 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 61, 'column': 27, 'index': 1805}","  59 |     } = await rest.create(config, auth.nobody(config), 'MyClass', obj);
  60 |
> 61 |     expect(status).toEqual(201);
     |                           ^ Magic Number
  62 |     expect(objectId).toEqual(customId);
  63 |   });
  64 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 97, 'column': 27, 'index': 2816}","   95 |     } = await rest.create(config, auth.nobody(config), 'MyClass', {});
   96 |
>  97 |     expect(status).toEqual(201);
      |                           ^ Magic Number
   98 |     expect(objectId).toBeDefined();
   99 |   });
  100 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 109, 'column': 48, 'index': 3215}","  107 |       })
  108 |       .then(response => {
> 109 |         expect(response.results.length).toEqual(1);
      |                                                ^ Magic Number
  110 |         expect(response.results[0].objectId.length).toEqual(10);
  111 |         return rest.update(
  112 |           config,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 110, 'column': 60, 'index': 3279}","  108 |       .then(response => {
  109 |         expect(response.results.length).toEqual(1);
> 110 |         expect(response.results[0].objectId.length).toEqual(10);
      |                                                            ^ Magic Number
  111 |         return rest.update(
  112 |           config,
  113 |           auth.nobody(config),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 123, 'column': 48, 'index': 3656}","  121 |       })
  122 |       .then(response => {
> 123 |         expect(response.results.length).toEqual(1);
      |                                                ^ Magic Number
  124 |         expect(response.results[0].objectId.length).toEqual(10);
  125 |         expect(response.results[0].update).toEqual(20);
  126 |         return rest.create(config, auth.nobody(config), 'Foo', { size: 20 });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 124, 'column': 60, 'index': 3720}","  122 |       .then(response => {
  123 |         expect(response.results.length).toEqual(1);
> 124 |         expect(response.results[0].objectId.length).toEqual(10);
      |                                                            ^ Magic Number
  125 |         expect(response.results[0].update).toEqual(20);
  126 |         return rest.create(config, auth.nobody(config), 'Foo', { size: 20 });
  127 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 125, 'column': 51, 'index': 3776}","  123 |         expect(response.results.length).toEqual(1);
  124 |         expect(response.results[0].objectId.length).toEqual(10);
> 125 |         expect(response.results[0].update).toEqual(20);
      |                                                   ^ Magic Number
  126 |         return rest.create(config, auth.nobody(config), 'Foo', { size: 20 });
  127 |       })
  128 |       .then(() => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 133, 'column': 48, 'index': 4081}","  131 |       })
  132 |       .then(response => {
> 133 |         expect(response.results.length).toEqual(1);
      |                                                ^ Magic Number
  134 |         expect(response.results[0].objectId.length).toEqual(20);
  135 |         done();
  136 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 134, 'column': 60, 'index': 4145}","  132 |       .then(response => {
  133 |         expect(response.results.length).toEqual(1);
> 134 |         expect(response.results[0].objectId.length).toEqual(20);
      |                                                            ^ Magic Number
  135 |         done();
  136 |       });
  137 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 198, 'column': 34, 'index': 6133}","  196 |       expect(obj.createdAt).toEqual(createdAt.iso);
  197 |       expect(obj.updatedAt).toEqual(updatedAt.iso);
> 198 |       expect(obj.testing).toEqual(123);
      |                                  ^ Magic Number
  199 |     });
  200 |
  201 |     it('cannot set updatedAt dated before createdAt', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 295, 'column': 39, 'index': 9160}","  293 |       .then(() => database.adapter.find('MyClass', { fields: {} }, {}, {}))
  294 |       .then(results => {
> 295 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  296 |         const mob = results[0];
  297 |         expect(typeof mob.subdoc).toBe('object');
  298 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 306, 'column': 39, 'index': 9683}","  304 |       .then(() => database.adapter.find('MyClass', { fields: {} }, {}, {}))
  305 |       .then(results => {
> 306 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  307 |         const mob = results[0];
  308 |         expect(typeof mob.subdoc).toBe('object');
  309 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 355, 'column': 53, 'index': 11361}","  353 |     };
  354 |     rest.create(config, auth.nobody(config), '_User', user).then(r => {
> 355 |       expect(Object.keys(r.response).length).toEqual(3);
      |                                                     ^ Magic Number
  356 |       expect(typeof r.response.objectId).toEqual('string');
  357 |       expect(typeof r.response.createdAt).toEqual('string');
  358 |       expect(typeof r.response.sessionToken).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 512, 'column': 48, 'index': 16632}","  510 |       })
  511 |       .then(response => {
> 512 |         expect(response.results.length).toEqual(1);
      |                                                ^ Magic Number
  513 |         const output = response.results[0];
  514 |         expect(output.user.objectId).toEqual(newUserSignedUpByFacebookObjectId);
  515 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 548, 'column': 39, 'index': 17539}","  546 |       )
  547 |       .then(results => {
> 548 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  549 |         const output = results[0];
  550 |         expect(typeof output.foo).toEqual('string');
  551 |         expect(typeof output._p_aPointer).toEqual('undefined');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 587, 'column': 39, 'index': 18639}","  585 |       )
  586 |       .then(results => {
> 587 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  588 |         const output = results[0];
  589 |         expect(typeof output.foo).toEqual('string');
  590 |         expect(typeof output._p_aPointer).toEqual('undefined');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 617, 'column': 29, 'index': 19544}","  615 |     }).then(fail, response => {
  616 |       const b = response.data;
> 617 |       expect(b.code).toEqual(105);
      |                             ^ Magic Number
  618 |       expect(b.error).toEqual('objectId is an invalid field name.');
  619 |       done();
  620 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 639, 'column': 29, 'index': 20118}","  637 |     }).then(fail, response => {
  638 |       const b = response.data;
> 639 |       expect(b.code).toEqual(105);
      |                             ^ Magic Number
  640 |       expect(b.error).toEqual('id is an invalid field name.');
  641 |       done();
  642 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 656, 'column': 55, 'index': 20524}","  654 |       .create(config, auth.nobody(config), '_User', user)
  655 |       .then(r => {
> 656 |         expect(Object.keys(r.response).length).toEqual(3);
      |                                                       ^ Magic Number
  657 |         expect(typeof r.response.objectId).toEqual('string');
  658 |         expect(typeof r.response.createdAt).toEqual('string');
  659 |         expect(typeof r.response.sessionToken).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 665, 'column': 41, 'index': 20917}","  663 |       })
  664 |       .then(r => {
> 665 |         expect(r.results.length).toEqual(1);
      |                                         ^ Magic Number
  666 |
  667 |         const session = r.results[0];
  668 |         const actual = new Date(session.expiresAt.iso);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 690, 'column': 55, 'index': 21640}","  688 |       .create(config, auth.nobody(config), '_User', user)
  689 |       .then(r => {
> 690 |         expect(Object.keys(r.response).length).toEqual(3);
      |                                                       ^ Magic Number
  691 |         expect(typeof r.response.objectId).toEqual('string');
  692 |         expect(typeof r.response.createdAt).toEqual('string');
  693 |         expect(typeof r.response.sessionToken).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 699, 'column': 41, 'index': 22033}","  697 |       })
  698 |       .then(r => {
> 699 |         expect(r.results.length).toEqual(1);
      |                                         ^ Magic Number
  700 |
  701 |         const session = r.results[0];
  702 |         const actual = new Date(session.expiresAt.iso);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 726, 'column': 55, 'index': 22737}","  724 |       .create(config, auth.nobody(config), '_User', user)
  725 |       .then(r => {
> 726 |         expect(Object.keys(r.response).length).toEqual(3);
      |                                                       ^ Magic Number
  727 |         expect(typeof r.response.objectId).toEqual('string');
  728 |         expect(typeof r.response.createdAt).toEqual('string');
  729 |         expect(typeof r.response.sessionToken).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 735, 'column': 41, 'index': 23130}","  733 |       })
  734 |       .then(r => {
> 735 |         expect(r.results.length).toEqual(1);
      |                                         ^ Magic Number
  736 |
  737 |         const session = r.results[0];
  738 |         expect(session.expiresAt).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 753, 'column': 48, 'index': 23558}","  751 |       .create(config, auth.master(config), '_PushStatus', {})
  752 |       .then(r => {
> 753 |         expect(r.response.objectId.length).toBe(10);
      |                                                ^ Magic Number
  754 |       })
  755 |       .then(() => {
  756 |         rest.create(config, auth.master(config), '_JobStatus', {}).then(r => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 757, 'column': 50, 'index': 23721}","  755 |       .then(() => {
  756 |         rest.create(config, auth.master(config), '_JobStatus', {}).then(r => {
> 757 |           expect(r.response.objectId.length).toBe(10);
      |                                                  ^ Magic Number
  758 |           done();
  759 |         });
  760 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 769, 'column': 35, 'index': 24034}","  767 |       })
  768 |       .catch(error => {
> 769 |         expect(error.code).toEqual(119);
      |                                   ^ Magic Number
  770 |         done();
  771 |       });
  772 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 835, 'column': 36, 'index': 26487}","  833 |           })
  834 |           .then(done.fail, res => {
> 835 |             expect(res.status).toBe(400);
      |                                    ^ Magic Number
  836 |             expect(res.data.code).toBe(105);
  837 |             return request({
  838 |               headers,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 836, 'column': 39, 'index': 26532}","  834 |           .then(done.fail, res => {
  835 |             expect(res.status).toBe(400);
> 836 |             expect(res.data.code).toBe(105);
      |                                       ^ Magic Number
  837 |             return request({
  838 |               headers,
  839 |               method: 'PUT',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 847, 'column': 36, 'index': 26865}","  845 |           })
  846 |           .then(done.fail, res => {
> 847 |             expect(res.status).toBe(400);
      |                                    ^ Magic Number
  848 |             expect(res.data.code).toBe(105);
  849 |             return Parse.User.signUp('other', 'user');
  850 |           })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 848, 'column': 39, 'index': 26910}","  846 |           .then(done.fail, res => {
  847 |             expect(res.status).toBe(400);
> 848 |             expect(res.data.code).toBe(105);
      |                                       ^ Magic Number
  849 |             return Parse.User.signUp('other', 'user');
  850 |           })
  851 |           .then(otherUser => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 864, 'column': 36, 'index': 27426}","  862 |           })
  863 |           .then(done.fail, res => {
> 864 |             expect(res.status).toBe(400);
      |                                    ^ Magic Number
  865 |             expect(res.data.code).toBe(105);
  866 |             const user = new Parse.User();
  867 |             user.id = currentUser.id;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Magic Number,"{'line': 865, 'column': 39, 'index': 27471}","  863 |           .then(done.fail, res => {
  864 |             expect(res.status).toBe(400);
> 865 |             expect(res.data.code).toBe(105);
      |                                       ^ Magic Number
  866 |             const user = new Parse.User();
  867 |             user.id = currentUser.id;
  868 |             return request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Redundant Print,"{'line': 743, 'column': 8, 'index': 23280}","  741 |       })
  742 |       .catch(err => {
> 743 |         console.error(err);
      |        ^ Redundant Print
  744 |         fail(err);
  745 |         done();
  746 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Unknown Test,"{'column': 2, 'line': 774}","  772 |   });
  773 |
> 774 |   it('cannot get object in volatileClasses if not masterKey through pointer', async () => {
      |  ^ Unknown Test
  775 |     const masterKeyOnlyClassObject = new Parse.Object('_PushStatus');
  776 |     await masterKeyOnlyClassObject.save(null, { useMasterKey: true });
  777 |     const obj2 = new Parse.Object('TestObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Unknown Test,"{'column': 2, 'line': 883}","  881 |   });
  882 |
> 883 |   it('sets current user in new sessions', done => {
      |  ^ Unknown Test
  884 |     let currentUser;
  885 |     Parse.User.signUp('foo', 'bar')
  886 |       .then(user => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/rest.spec.js,Unknown Test,"{'column': 2, 'line': 1005}","  1003 |   });
  1004 |
> 1005 |   it('should throw when masterKey and maintenanceKey are the same', async () => {
       |  ^ Unknown Test
  1006 |     await expectAsync(
  1007 |       reconfigureServer({
  1008 |         masterKey: 'yolo',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/parsers.spec.js,Magic Number,"{'line': 15, 'column': 30, 'index': 345}","  13 |   it('parses correctly with numberParser', () => {
  14 |     const parser = numberParser('key');
> 15 |     expect(parser(2)).toEqual(2);
     |                              ^ Magic Number
  16 |     expect(parser('2')).toEqual(2);
  17 |     expect(() => {
  18 |       parser('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/parsers.spec.js,Magic Number,"{'line': 16, 'column': 32, 'index': 381}","  14 |     const parser = numberParser('key');
  15 |     expect(parser(2)).toEqual(2);
> 16 |     expect(parser('2')).toEqual(2);
     |                                ^ Magic Number
  17 |     expect(() => {
  18 |       parser('string');
  19 |     }).toThrow();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/parsers.spec.js,Magic Number,"{'line': 25, 'column': 32, 'index': 636}","  23 |     const parser = numberOrStringParser('key');
  24 |     expect(parser('100d')).toEqual('100d');
> 25 |     expect(parser(100)).toEqual(100);
     |                                ^ Magic Number
  26 |     expect(() => {
  27 |       parser(undefined);
  28 |     }).toThrow();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/parsers.spec.js,Magic Number,"{'line': 37, 'column': 30, 'index': 1012}","  35 |     expect(parser('true')).toEqual(true);
  36 |     expect(parser('false')).toEqual(false);
> 37 |     expect(parser(1)).toEqual(1);
     |                              ^ Magic Number
  38 |     expect(parser('1')).toEqual(1);
  39 |   });
  40 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/parsers.spec.js,Magic Number,"{'line': 38, 'column': 32, 'index': 1048}","  36 |     expect(parser('false')).toEqual(false);
  37 |     expect(parser(1)).toEqual(1);
> 38 |     expect(parser('1')).toEqual(1);
     |                                ^ Magic Number
  39 |   });
  40 |
  41 |   it('parses correctly with booleanParser', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/parsers.spec.js,Magic Number,"{'line': 80, 'column': 30, 'index': 2451}","  78 |     const parser = nullParser;
  79 |     expect(parser('null')).toEqual(null);
> 80 |     expect(parser(1)).toEqual(1);
     |                              ^ Magic Number
  81 |     expect(parser('blabla')).toEqual('blabla');
  82 |   });
  83 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Conditional Test Logic,"{'line': 430, 'column': 4, 'index': 13778}","  428 |
  429 |   it('fails if default limit is wrong type', async () => {
> 430 |     for (const value of ['invalid', {}, [], true]) {
      |    ^ Conditional Test Logic
  431 |       await expectAsync(reconfigureServer({ defaultLimit: value })).toBeRejectedWith(
  432 |         'Default limit must be a number.'
  433 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Duplicate Assert,"{'line': 15, 'column': 8, 'index': 574}","  13 |     reconfigureServer({ appId: undefined })
  14 |       .catch(error => {
> 15 |         expect(error).toEqual('You must provide an appId!');
     |        ^ Duplicate Assert
  16 |         return reconfigureServer({ masterKey: undefined });
  17 |       })
  18 |       .catch(error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Duplicate Assert,"{'line': 19, 'column': 8, 'index': 728}","  17 |       })
  18 |       .catch(error => {
> 19 |         expect(error).toEqual('You must provide a masterKey!');
     |        ^ Duplicate Assert
  20 |         return reconfigureServer({ serverURL: undefined });
  21 |       })
  22 |       .catch(error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Duplicate Assert,"{'line': 23, 'column': 8, 'index': 885}","  21 |       })
  22 |       .catch(error => {
> 23 |         expect(error).toEqual('You must provide a serverURL!');
     |        ^ Duplicate Assert
  24 |         done();
  25 |       });
  26 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Duplicate Assert,"{'line': 400, 'column': 8, 'index': 12887}","  398 |       .then(done.fail)
  399 |       .catch(error => {
> 400 |         expect(error).toEqual('Session length must be a value greater than 0.');
      |        ^ Duplicate Assert
  401 |         return reconfigureServer({ sessionLength: '0' });
  402 |       })
  403 |       .catch(error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Duplicate Assert,"{'line': 400, 'column': 8, 'index': 12887}","  398 |       .then(done.fail)
  399 |       .catch(error => {
> 400 |         expect(error).toEqual('Session length must be a value greater than 0.');
      |        ^ Duplicate Assert
  401 |         return reconfigureServer({ sessionLength: '0' });
  402 |       })
  403 |       .catch(error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Duplicate Assert,"{'line': 404, 'column': 8, 'index': 13059}","  402 |       })
  403 |       .catch(error => {
> 404 |         expect(error).toEqual('Session length must be a value greater than 0.');
      |        ^ Duplicate Assert
  405 |         done();
  406 |       });
  407 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Duplicate Assert,"{'line': 404, 'column': 8, 'index': 13059}","  402 |       })
  403 |       .catch(error => {
> 404 |         expect(error).toEqual('Session length must be a value greater than 0.');
      |        ^ Duplicate Assert
  405 |         done();
  406 |       });
  407 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Magic Number,"{'line': 44, 'column': 40, 'index': 1612}","  42 |         },
  43 |       }).then(response => {
> 44 |         expect(response.status).toEqual(200);
     |                                        ^ Magic Number
  45 |         done();
  46 |       });
  47 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Magic Number,"{'line': 58, 'column': 40, 'index': 2058}","  56 |         },
  57 |       }).then(response => {
> 58 |         expect(response.status).toEqual(200);
     |                                        ^ Magic Number
  59 |         done();
  60 |       });
  61 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Magic Number,"{'line': 279, 'column': 35, 'index': 8733}","  277 |       url: 'http://localhost:8378/1/health',
  278 |     }).then(response => {
> 279 |       expect(response.status).toBe(200);
      |                                   ^ Magic Number
  280 |       done();
  281 |     });
  282 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Magic Number,"{'line': 573, 'column': 31, 'index': 18806}","  571 |     );
  572 |     expect(health.data.status).toBe('initialized');
> 573 |     expect(health.status).toBe(503);
      |                               ^ Magic Number
  574 |     await new Promise(resolve => server.close(resolve));
  575 |   });
  576 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Magic Number,"{'line': 597, 'column': 31, 'index': 19635}","  595 |     }).catch(e => e);
  596 |     expect(health.data.status).toBe('starting');
> 597 |     expect(health.status).toBe(503);
      |                               ^ Magic Number
  598 |     expect(health.headers['retry-after']).toBe('1');
  599 |     const response = await ParseServer.default.verifyServerUrl();
  600 |     expect(response).toBeTrue();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Redundant Print,"{'line': 31, 'column': 13, 'index': 1162}","  29 |     spyOn(console, 'warn').and.callFake(() => {});
  30 |     reconfigureServer({ appId: 'test!-^' }).then(() => {
> 31 |       expect(console.warn).toHaveBeenCalled();
     |             ^ Redundant Print
  32 |       return done();
  33 |     });
  34 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Redundant Print,"{'line': 569, 'column': 11, 'index': 18552}","  567 |     const verify = await ParseServer.default.verifyServerUrl();
  568 |     expect(verify).not.toBeTrue();
> 569 |     expect(console.warn).toHaveBeenCalledWith(
      |           ^ Redundant Print
  570 |       `\nWARNING, Unable to connect to 'http://localhost:12701/parse'. Cloud code and push notifications may be unavailable!\n`
  571 |     );
  572 |     expect(health.data.status).toBe('initialized');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Sleepy Test,"{'line': 585, 'column': 37, 'index': 19209}","  583 |       serverURL: 'http://localhost:12668/parse',
  584 |       async cloud() {
> 585 |         await new Promise(resolve => setTimeout(resolve, 2000));
      |                                     ^ Sleepy Test
  586 |       },
  587 |     });
  588 |     const express = require('express');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Sleepy Test,"{'line': 652, 'column': 33, 'index': 21603}","  650 |     await new Parse.Object('TestObject').save();
  651 |
> 652 |     await new Promise(resolve => setTimeout(resolve, 10));
      |                                 ^ Sleepy Test
  653 |
  654 |     await new Parse.Object('TestObject').save();
  655 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 4, 'line': 81}","  79 |
  80 |   describe('mail adapter', () => {
> 81 |     it('can load email adapter via object', done => {
     |    ^ Unknown Test
  82 |       reconfigureServer({
  83 |         appName: 'unused',
  84 |         verifyUserEmails: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 4, 'line': 94}","  92 |     });
  93 |
> 94 |     it('can load email adapter via class', done => {
     |    ^ Unknown Test
  95 |       reconfigureServer({
  96 |         appName: 'unused',
  97 |         verifyUserEmails: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 4, 'line': 139}","  137 |     });
  138 |
> 139 |     it('throws if you initialize email adapter incorrectly', async () => {
      |    ^ Unknown Test
  140 |       const options = {
  141 |         appName: 'unused',
  142 |         verifyUserEmails: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 371}","  369 |   });
  370 |
> 371 |   it('should throw when extendSessionOnUse is invalid', async () => {
      |  ^ Unknown Test
  372 |     await expectAsync(
  373 |       reconfigureServer({
  374 |         extendSessionOnUse: 'yolo',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 379}","  377 |   });
  378 |
> 379 |   it('should throw when revokeSessionOnPasswordReset is invalid', async () => {
      |  ^ Unknown Test
  380 |     await expectAsync(
  381 |       reconfigureServer({
  382 |         revokeSessionOnPasswordReset: 'yolo',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 409}","  407 |   });
  408 |
> 409 |   it('ignores the session length when expireInactiveSessions set to false', done => {
      |  ^ Unknown Test
  410 |     reconfigureServer({
  411 |       sessionLength: '-33',
  412 |       expireInactiveSessions: false,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 423}","  421 |   });
  422 |
> 423 |   it('fails if default limit is negative', async () => {
      |  ^ Unknown Test
  424 |     await expectAsync(reconfigureServer({ defaultLimit: -1 })).toBeRejectedWith(
  425 |       'Default limit must be a value greater than 0.'
  426 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 429}","  427 |   });
  428 |
> 429 |   it('fails if default limit is wrong type', async () => {
      |  ^ Unknown Test
  430 |     for (const value of ['invalid', {}, [], true]) {
  431 |       await expectAsync(reconfigureServer({ defaultLimit: value })).toBeRejectedWith(
  432 |         'Default limit must be a number.'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 437}","  435 |   });
  436 |
> 437 |   it('fails if default limit is zero', async () => {
      |  ^ Unknown Test
  438 |     await expectAsync(reconfigureServer({ defaultLimit: 0 })).toBeRejectedWith(
  439 |       'Default limit must be a value greater than 0.'
  440 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 450}","  448 |   });
  449 |
> 450 |   it('fails if you try to set revokeSessionOnPasswordReset to non-boolean', done => {
      |  ^ Unknown Test
  451 |     reconfigureServer({ revokeSessionOnPasswordReset: 'non-bool' }).catch(done);
  452 |   });
  453 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 463}","  461 |   });
  462 |
> 463 |   it('should succeed if you provide valid ip in masterKeyIps', done => {
      |  ^ Unknown Test
  464 |     reconfigureServer({
  465 |       masterKeyIps: ['1.2.3.4', '2001:0db8:0000:0042:0000:8a2e:0370:7334'],
  466 |     }).then(done);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/index.spec.js,Unknown Test,"{'column': 2, 'line': 662}","  660 |
  661 |
> 662 |   it('should not fail when Google signin is introduced without the optional clientId', done => {
      |  ^ Unknown Test
  663 |     const jwt = require('jsonwebtoken');
  664 |     const authUtils = require('../lib/Adapters/Auth/utils');
  665 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/features.spec.js,Exception Handling,"{'line': 23, 'column': 4, 'index': 628}","  21 |
  22 |   it('requires the master key to get features', async done => {
> 23 |     try {
     |    ^ Exception Handling
  24 |       await request({
  25 |         url: 'http://localhost:8378/1/serverInfo',
  26 |         json: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/features.spec.js,Magic Number,"{'line': 34, 'column': 35, 'index': 995}","  32 |       done.fail('The serverInfo request should be rejected without the master key');
  33 |     } catch (error) {
> 34 |       expect(error.status).toEqual(403);
     |                                   ^ Magic Number
  35 |       expect(error.data.error).toEqual('unauthorized: master key is required');
  36 |       done();
  37 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Duplicate Assert,"{'line': 97, 'column': 6, 'index': 3271}","   95 |     it('should return itself if a boolean', () => {
   96 |       let myBoolean = true;
>  97 |       expect(parseBooleanValue(myBoolean)).toBe(myBoolean);
      |      ^ Duplicate Assert
   98 |       myBoolean = false;
   99 |       expect(parseBooleanValue(myBoolean)).toBe(myBoolean);
  100 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Duplicate Assert,"{'line': 97, 'column': 6, 'index': 3271}","   95 |     it('should return itself if a boolean', () => {
   96 |       let myBoolean = true;
>  97 |       expect(parseBooleanValue(myBoolean)).toBe(myBoolean);
      |      ^ Duplicate Assert
   98 |       myBoolean = false;
   99 |       expect(parseBooleanValue(myBoolean)).toBe(myBoolean);
  100 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Duplicate Assert,"{'line': 99, 'column': 6, 'index': 3356}","   97 |       expect(parseBooleanValue(myBoolean)).toBe(myBoolean);
   98 |       myBoolean = false;
>  99 |       expect(parseBooleanValue(myBoolean)).toBe(myBoolean);
      |      ^ Duplicate Assert
  100 |     });
  101 |
  102 |     it('should fail if not a boolean', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Duplicate Assert,"{'line': 99, 'column': 6, 'index': 3356}","   97 |       expect(parseBooleanValue(myBoolean)).toBe(myBoolean);
   98 |       myBoolean = false;
>  99 |       expect(parseBooleanValue(myBoolean)).toBe(myBoolean);
      |      ^ Duplicate Assert
  100 |     });
  101 |
  102 |     it('should fail if not a boolean', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Magic Number,"{'line': 61, 'column': 43, 'index': 1731}","  59 |     it('should parse to number if a string', () => {
  60 |       const myString = '123';
> 61 |       expect(parseIntValue(myString)).toBe(123);
     |                                           ^ Magic Number
  62 |     });
  63 |
  64 |     it('should fail if not a string', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Magic Number,"{'line': 79, 'column': 42, 'index': 2570}","  77 |   describe('parseFloatValue', () => {
  78 |     it('should parse to number if a string', () => {
> 79 |       expect(parseFloatValue('123')).toBe(123);
     |                                          ^ Magic Number
  80 |       expect(parseFloatValue('123.4')).toBe(123.4);
  81 |     });
  82 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Magic Number,"{'line': 80, 'column': 44, 'index': 2620}","  78 |     it('should parse to number if a string', () => {
  79 |       expect(parseFloatValue('123')).toBe(123);
> 80 |       expect(parseFloatValue('123.4')).toBe(123.4);
     |                                            ^ Magic Number
  81 |     });
  82 |
  83 |     it('should fail if not a string', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Magic Number,"{'line': 185, 'column': 42, 'index': 6525}","  183 |
  184 |     it('should parse int', () => {
> 185 |       expect(parseValue(someInt)).toEqual(123);
      |                                          ^ Magic Number
  186 |     });
  187 |
  188 |     it('should parse float', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/defaultGraphQLTypes.spec.js,Magic Number,"{'line': 189, 'column': 44, 'index': 6621}","  187 |
  188 |     it('should parse float', () => {
> 189 |       expect(parseValue(someFloat)).toEqual(123.4);
      |                                            ^ Magic Number
  190 |     });
  191 |
  192 |     it('should parse boolean', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Conditional Test Logic,"{'line': 5, 'column': 2, 'index': 122}","  3 | function givesUniqueResults(fn, iterations) {
  4 |   const results = {};
> 5 |   for (let i = 0; i < iterations; i++) {
    |  ^ Conditional Test Logic
  6 |     const s = fn();
  7 |     if (results[s]) {
  8 |       return false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Conditional Test Logic,"{'line': 7, 'column': 4, 'index': 185}","   5 |   for (let i = 0; i < iterations; i++) {
   6 |     const s = fn();
>  7 |     if (results[s]) {
     |    ^ Conditional Test Logic
   8 |       return false;
   9 |     }
  10 |     results[s] = true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Magic Number,"{'line': 21, 'column': 53, 'index': 515}","  19 |
  20 |   it('returns result of the given length', () => {
> 21 |     expect(cryptoUtils.randomString(11).length).toBe(11);
     |                                                     ^ Magic Number
  22 |     expect(cryptoUtils.randomString(25).length).toBe(25);
  23 |   });
  24 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Magic Number,"{'line': 22, 'column': 53, 'index': 573}","  20 |   it('returns result of the given length', () => {
  21 |     expect(cryptoUtils.randomString(11).length).toBe(11);
> 22 |     expect(cryptoUtils.randomString(25).length).toBe(25);
     |                                                     ^ Magic Number
  23 |   });
  24 |
  25 |   it('throws if requested length is zero', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Magic Number,"{'line': 40, 'column': 56, 'index': 1084}","  38 |
  39 |   it('returns result of the given length', () => {
> 40 |     expect(cryptoUtils.randomHexString(10).length).toBe(10);
     |                                                        ^ Magic Number
  41 |     expect(cryptoUtils.randomHexString(32).length).toBe(32);
  42 |   });
  43 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Magic Number,"{'line': 41, 'column': 56, 'index': 1145}","  39 |   it('returns result of the given length', () => {
  40 |     expect(cryptoUtils.randomHexString(10).length).toBe(10);
> 41 |     expect(cryptoUtils.randomHexString(32).length).toBe(32);
     |                                                        ^ Magic Number
  42 |   });
  43 |
  44 |   it('throws if requested length is zero', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Magic Number,"{'line': 63, 'column': 61, 'index': 1788}","  61 |
  62 |   it('returns result with at least 10 characters', () => {
> 63 |     expect(cryptoUtils.newObjectId().length).toBeGreaterThan(9);
     |                                                             ^ Magic Number
  64 |   });
  65 |
  66 |   it('returns result with required number of characters', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Magic Number,"{'line': 67, 'column': 52, 'index': 1917}","  65 |
  66 |   it('returns result with required number of characters', () => {
> 67 |     expect(cryptoUtils.newObjectId(42).length).toBe(42);
     |                                                    ^ Magic Number
  68 |   });
  69 |
  70 |   it('returns unique results', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/cryptoUtils.spec.js,Magic Number,"{'line': 81, 'column': 58, 'index': 2304}","  79 |
  80 |   it('returns result with at least 32 characters', () => {
> 81 |     expect(cryptoUtils.newToken().length).toBeGreaterThan(31);
     |                                                          ^ Magic Number
  82 |   });
  83 |
  84 |   it('returns unique results', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 206, 'column': 2, 'index': 6571}","  204 |   });
  205 |
> 206 |   if (
      |  ^ Conditional Test Logic
  207 |     process.env.MONGODB_TOPOLOGY === 'replicaset' ||
  208 |     process.env.PARSE_SERVER_TEST_DB === 'postgres'
  209 |   ) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 244, 'column': 8, 'index': 8074}","  242 |         const results = await query.find();
  243 |         expect(createSpy.calls.count()).toBe(2);
> 244 |         for (let i = 0; i + 1 < createSpy.calls.length; i = i + 2) {
      |        ^ Conditional Test Logic
  245 |           expect(createSpy.calls.argsFor(i)[3]).toBe(
  246 |             createSpy.calls.argsFor(i + 1)[3]
  247 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 381, 'column': 10, 'index': 12830}","  379 |         Parse.Cloud.beforeSave('MyObject', async () => {
  380 |           myObjectCalls++;
> 381 |           if (myObjectCalls === 2) {
      |          ^ Conditional Test Logic
  382 |             try {
  383 |               // Saving a number to a string field should fail
  384 |               await request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 556, 'column': 8, 'index': 18800}","  554 |         let myObject2DBCalls = 0;
  555 |         let myObject3DBCalls = 0;
> 556 |         for (let i = 0; i < createSpy.calls.count(); i++) {
      |        ^ Conditional Test Logic
  557 |           const args = createSpy.calls.argsFor(i);
  558 |           switch (args[0]) {
  559 |             case 'MyObject':"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 558, 'column': 10, 'index': 18913}","  556 |         for (let i = 0; i < createSpy.calls.count(); i++) {
  557 |           const args = createSpy.calls.argsFor(i);
> 558 |           switch (args[0]) {
      |          ^ Conditional Test Logic
  559 |             case 'MyObject':
  560 |               myObjectDBCalls++;
  561 |               if (!transactionalSession || (myObjectDBCalls - 1) % 2 === 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 561, 'column': 14, 'index': 19008}","  559 |             case 'MyObject':
  560 |               myObjectDBCalls++;
> 561 |               if (!transactionalSession || (myObjectDBCalls - 1) % 2 === 0) {
      |              ^ Conditional Test Logic
  562 |                 transactionalSession = args[3];
  563 |               } else {
  564 |                 expect(transactionalSession).toBe(args[3]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 566, 'column': 14, 'index': 19233}","  564 |                 expect(transactionalSession).toBe(args[3]);
  565 |               }
> 566 |               if (transactionalSession2) {
      |              ^ Conditional Test Logic
  567 |                 expect(transactionalSession2).not.toBe(args[3]);
  568 |               }
  569 |               break;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 572, 'column': 14, 'index': 19442}","  570 |             case 'MyObject2':
  571 |               myObject2DBCalls++;
> 572 |               if (!transactionalSession2 || (myObject2DBCalls - 1) % 9 === 0) {
      |              ^ Conditional Test Logic
  573 |                 transactionalSession2 = args[3];
  574 |               } else {
  575 |                 expect(transactionalSession2).toBe(args[3]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Conditional Test Logic,"{'line': 577, 'column': 14, 'index': 19671}","  575 |                 expect(transactionalSession2).toBe(args[3]);
  576 |               }
> 577 |               if (transactionalSession) {
      |              ^ Conditional Test Logic
  578 |                 expect(transactionalSession).not.toBe(args[3]);
  579 |               }
  580 |               break;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Duplicate Assert,"{'line': 564, 'column': 16, 'index': 19159}","  562 |                 transactionalSession = args[3];
  563 |               } else {
> 564 |                 expect(transactionalSession).toBe(args[3]);
      |                ^ Duplicate Assert
  565 |               }
  566 |               if (transactionalSession2) {
  567 |                 expect(transactionalSession2).not.toBe(args[3]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Duplicate Assert,"{'line': 567, 'column': 16, 'index': 19278}","  565 |               }
  566 |               if (transactionalSession2) {
> 567 |                 expect(transactionalSession2).not.toBe(args[3]);
      |                ^ Duplicate Assert
  568 |               }
  569 |               break;
  570 |             case 'MyObject2':"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Duplicate Assert,"{'line': 575, 'column': 16, 'index': 19596}","  573 |                 transactionalSession2 = args[3];
  574 |               } else {
> 575 |                 expect(transactionalSession2).toBe(args[3]);
      |                ^ Duplicate Assert
  576 |               }
  577 |               if (transactionalSession) {
  578 |                 expect(transactionalSession).not.toBe(args[3]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Duplicate Assert,"{'line': 578, 'column': 16, 'index': 19715}","  576 |               }
  577 |               if (transactionalSession) {
> 578 |                 expect(transactionalSession).not.toBe(args[3]);
      |                ^ Duplicate Assert
  579 |               }
  580 |               break;
  581 |             case 'MyObject3':"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Exception Handling,"{'line': 257, 'column': 8, 'index': 8720}","  255 |         await myObject.destroy();
  256 |         createSpy.calls.reset();
> 257 |         try {
      |        ^ Exception Handling
  258 |           // Saving a number to a string field should fail
  259 |           await request({
  260 |             method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Exception Handling,"{'line': 382, 'column': 12, 'index': 12869}","  380 |           myObjectCalls++;
  381 |           if (myObjectCalls === 2) {
> 382 |             try {
      |            ^ Exception Handling
  383 |               // Saving a number to a string field should fail
  384 |               await request({
  385 |                 method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 158, 'column': 41, 'index': 4767}","  156 |       }),
  157 |     });
> 158 |     expect(response.data.length).toEqual(2);
      |                                         ^ Magic Number
  159 |     expect(response.data[0].success.objectId).toBeDefined();
  160 |     expect(response.data[0].success.createdAt).toBeDefined();
  161 |     expect(response.data[1].success.objectId).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 165, 'column': 41, 'index': 5145}","  163 |     const query = new Parse.Query('MyObject');
  164 |     const results = await query.find();
> 165 |     expect(createSpy.calls.count()).toBe(2);
      |                                         ^ Magic Number
  166 |     expect(createSpy.calls.argsFor(0)[3]).toEqual(null);
  167 |     expect(createSpy.calls.argsFor(1)[3]).toEqual(null);
  168 |     expect(results.map(result => result.get('key')).sort()).toEqual(['value1', 'value2']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 192, 'column': 41, 'index': 5974}","  190 |       }),
  191 |     });
> 192 |     expect(response.data.length).toEqual(2);
      |                                         ^ Magic Number
  193 |     expect(response.data[0].success.objectId).toBeDefined();
  194 |     expect(response.data[0].success.createdAt).toBeDefined();
  195 |     expect(response.data[1].success.objectId).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 200, 'column': 41, 'index': 6353}","  198 |     const query = new Parse.Query('MyObject');
  199 |     const results = await query.find();
> 200 |     expect(createSpy.calls.count()).toBe(2);
      |                                         ^ Magic Number
  201 |     expect(createSpy.calls.argsFor(0)[3]).toEqual(null);
  202 |     expect(createSpy.calls.argsFor(1)[3]).toEqual(null);
  203 |     expect(results.map(result => result.get('key')).sort()).toEqual(['value1', 'value2']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 236, 'column': 45, 'index': 7656}","  234 |           }),
  235 |         });
> 236 |         expect(response.data.length).toEqual(2);
      |                                             ^ Magic Number
  237 |         expect(response.data[0].success.objectId).toBeDefined();
  238 |         expect(response.data[0].success.createdAt).toBeDefined();
  239 |         expect(response.data[1].success.objectId).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 243, 'column': 45, 'index': 8062}","  241 |         const query = new Parse.Query('MyObject');
  242 |         const results = await query.find();
> 243 |         expect(createSpy.calls.count()).toBe(2);
      |                                             ^ Magic Number
  244 |         for (let i = 0; i + 1 < createSpy.calls.length; i = i + 2) {
  245 |           expect(createSpy.calls.argsFor(i)[3]).toBe(
  246 |             createSpy.calls.argsFor(i + 1)[3]"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 364, 'column': 38, 'index': 12124}","  362 |           const query = new Parse.Query('MyObject');
  363 |           const results = await query.find();
> 364 |           expect(results.length).toBe(0);
      |                                      ^ Magic Number
  365 |         }
  366 |       });
  367 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 512, 'column': 45, 'index': 17234}","  510 |         });
  511 |
> 512 |         expect(response.data.length).toEqual(2);
      |                                             ^ Magic Number
  513 |         expect(response.data[0].success.objectId).toBeDefined();
  514 |         expect(response.data[0].success.createdAt).toBeDefined();
  515 |         expect(response.data[1].success.objectId).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 544, 'column': 40, 'index': 18360}","  542 |         const query2 = new Parse.Query('MyObject2');
  543 |         const results2 = await query2.find();
> 544 |         expect(results2.length).toEqual(0);
      |                                        ^ Magic Number
  545 |
  546 |         const query3 = new Parse.Query('MyObject3');
  547 |         const results3 = await query3.find();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 587, 'column': 44, 'index': 19996}","  585 |           }
  586 |         }
> 587 |         expect(myObjectDBCalls % 2).toEqual(0);
      |                                            ^ Magic Number
  588 |         expect(myObjectDBCalls > 0).toEqual(true);
  589 |         expect(myObject2DBCalls % 9).toEqual(0);
  590 |         expect(myObject2DBCalls > 0).toEqual(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 589, 'column': 45, 'index': 20096}","  587 |         expect(myObjectDBCalls % 2).toEqual(0);
  588 |         expect(myObjectDBCalls > 0).toEqual(true);
> 589 |         expect(myObject2DBCalls % 9).toEqual(0);
      |                                             ^ Magic Number
  590 |         expect(myObject2DBCalls > 0).toEqual(true);
  591 |         expect(myObject3DBCalls % 2).toEqual(0);
  592 |         expect(myObject3DBCalls > 0).toEqual(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/batch.spec.js,Magic Number,"{'line': 591, 'column': 45, 'index': 20197}","  589 |         expect(myObject2DBCalls % 9).toEqual(0);
  590 |         expect(myObject2DBCalls > 0).toEqual(true);
> 591 |         expect(myObject3DBCalls % 2).toEqual(0);
      |                                             ^ Magic Number
  592 |         expect(myObject3DBCalls > 0).toEqual(true);
  593 |       });
  594 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/WinstonLoggerAdapter.spec.js,Conditional Test Logic,"{'line': 21, 'column': 8, 'index': 619}","  19 |       },
  20 |       results => {
> 21 |         if (results.length == 0) {
     |        ^ Conditional Test Logic
  22 |           fail('The adapter should return non-empty results');
  23 |         } else {
  24 |           const log = results.find(x => x.message === 'testing info logs with 1234');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/WinstonLoggerAdapter.spec.js,Conditional Test Logic,"{'line': 103, 'column': 8, 'index': 3277}","  101 |       },
  102 |       results => {
> 103 |         if (results.length == 0) {
      |        ^ Conditional Test Logic
  104 |           fail('The adapter should return non-empty results');
  105 |           done();
  106 |         } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/WinstonLoggerAdapter.spec.js,Magic Number,"{'line': 124, 'column': 69, 'index': 3905}","  122 |       },
  123 |       results => {
> 124 |         expect(results.filter(e => e.level !== 'error').length).toBe(0);
      |                                                                     ^ Magic Number
  125 |         done();
  126 |       }
  127 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Conditional Test Logic,"{'line': 26, 'column': 10, 'index': 829}","  24 |         .then(() => reject('login should have failed'))
  25 |         .catch(err => {
> 26 |           if (
     |          ^ Conditional Test Logic
  27 |             err.message ===
  28 |             'Your account is locked due to multiple failed login attempts. Please try again after ' +
  29 |               duration +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 81, 'column': 32, 'index': 2369}","  79 |       })
  80 |       .catch(err => {
> 81 |         expect(err.status).toBe(404);
     |                                ^ Magic Number
  82 |         expect(err.text).toMatch(
  83 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  84 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 114, 'column': 32, 'index': 3256}","  112 |       })
  113 |       .catch(err => {
> 114 |         expect(err.status).toBe(400);
      |                                ^ Magic Number
  115 |         expect(err.text).toMatch('{""code"":200,""error"":""username/email is required.""}');
  116 |         done();
  117 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 145, 'column': 32, 'index': 4090}","  143 |       })
  144 |       .catch(err => {
> 145 |         expect(err.status).toBe(400);
      |                                ^ Magic Number
  146 |         expect(err.text).toMatch('{""code"":200,""error"":""username/email is required.""}');
  147 |         done();
  148 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 162, 'column': 32, 'index': 4598}","  160 |       })
  161 |       .then(res => {
> 162 |         expect(res.status).toBe(400);
      |                                ^ Magic Number
  163 |         expect(res.text).toMatch('{""code"":200,""error"":""username/email is required.""}');
  164 |         done();
  165 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 183, 'column': 32, 'index': 5175}","  181 |       })
  182 |       .then(res => {
> 183 |         expect(res.status).toBe(400);
      |                                ^ Magic Number
  184 |         expect(res.text).toMatch('{""code"":200,""error"":""username/email is required.""}');
  185 |         done();
  186 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 204, 'column': 32, 'index': 5751}","  202 |       })
  203 |       .then(res => {
> 204 |         expect(res.status).toBe(400);
      |                                ^ Magic Number
  205 |         expect(res.text).toMatch('{""code"":201,""error"":""password is required.""}');
  206 |         done();
  207 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 225, 'column': 32, 'index': 6360}","  223 |       })
  224 |       .then(res => {
> 225 |         expect(res.status).toBe(404);
      |                                ^ Magic Number
  226 |         expect(res.text).toMatch(
  227 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  228 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 248, 'column': 32, 'index': 7028}","  246 |       })
  247 |       .then(res => {
> 248 |         expect(res.status).toBe(404);
      |                                ^ Magic Number
  249 |         expect(res.text).toMatch(
  250 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  251 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 271, 'column': 32, 'index': 7645}","  269 |       })
  270 |       .then(res => {
> 271 |         expect(res.status).toBe(404);
      |                                ^ Magic Number
  272 |         expect(res.text).toMatch(
  273 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  274 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 294, 'column': 32, 'index': 8265}","  292 |       })
  293 |       .then(res => {
> 294 |         expect(res.status).toBe(404);
      |                                ^ Magic Number
  295 |         expect(res.text).toMatch(
  296 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  297 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 317, 'column': 32, 'index': 8893}","  315 |       })
  316 |       .then(res => {
> 317 |         expect(res.status).toBe(404);
      |                                ^ Magic Number
  318 |         expect(res.text).toMatch(
  319 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  320 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 331, 'column': 32, 'index': 9310}","  329 |     verifyPassword('mytestuser', 'mypass')
  330 |       .then(res => {
> 331 |         expect(res.status).toBe(404);
      |                                ^ Magic Number
  332 |         expect(res.text).toMatch(
  333 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  334 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 345, 'column': 32, 'index': 9731}","  343 |     verifyPassword('my@user.com', 'mypass', true)
  344 |       .then(res => {
> 345 |         expect(res.status).toBe(404);
      |                                ^ Magic Number
  346 |         expect(res.text).toMatch(
  347 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  348 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 376, 'column': 28, 'index': 10700}","  374 |     });
  375 |     const res = await verifyPassword('unverified-email@example.com', 'mypass', true);
> 376 |     expect(res.status).toBe(400);
      |                            ^ Magic Number
  377 |     expect(res.data).toEqual({
  378 |       code: Parse.Error.EMAIL_NOT_FOUND,
  379 |       error: 'User email is not verified.',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Magic Number,"{'line': 664, 'column': 28, 'index': 19930}","  662 |       json: true,
  663 |     }).catch(e => e);
> 664 |     expect(res.status).toBe(400);
      |                            ^ Magic Number
  665 |     expect(res.text).toMatch(/User email is not verified/);
  666 |   });
  667 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/VerifyUserPassword.spec.js,Unknown Test,"{'column': 2, 'line': 383}","  381 |   });
  382 |
> 383 |   it('verify password lock account if failed verify password attempts are above threshold', done => {
      |  ^ Unknown Test
  384 |     reconfigureServer({
  385 |       appName: 'lockout threshold',
  386 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Conditional Test Logic,"{'line': 167, 'column': 8, 'index': 6071}","  165 |       sendMail: function (options) {
  166 |         expect(options.to).toBe('testSendSimpleAdapter@parse.com');
> 167 |         if (calls == 0) {
      |        ^ Conditional Test Logic
  168 |           expect(options.subject).toEqual('Please verify your e-mail for My Cool App');
  169 |           expect(options.text.match(/verify_email/)).not.toBe(null);
  170 |         } else if (calls == 1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Conditional Test Logic,"{'line': 170, 'column': 15, 'index': 6261}","  168 |           expect(options.subject).toEqual('Please verify your e-mail for My Cool App');
  169 |           expect(options.text.match(/verify_email/)).not.toBe(null);
> 170 |         } else if (calls == 1) {
      |               ^ Conditional Test Logic
  171 |           expect(options.subject).toEqual('Password Reset for My Cool App');
  172 |           expect(options.text.match(/request_password_reset/)).not.toBe(null);
  173 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Conditional Test Logic,"{'line': 892, 'column': 10, 'index': 29807}","  890 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  891 |           const match = response.text.match(re);
> 892 |           if (!match) {
      |          ^ Conditional Test Logic
  893 |             fail('should have a token');
  894 |             done();
  895 |             return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Conditional Test Logic,"{'line': 969, 'column': 10, 'index': 32426}","  967 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  968 |           const match = response.text.match(re);
> 969 |           if (!match) {
      |          ^ Conditional Test Logic
  970 |             fail('should have a token');
  971 |             done();
  972 |             return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Conditional Test Logic,"{'line': 1028, 'column': 8, 'index': 34343}","  1026 |         const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1027 |         const match = response.text.match(re);
> 1028 |         if (!match) {
       |        ^ Conditional Test Logic
  1029 |           fail('should have a token');
  1030 |           return;
  1031 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Conditional Test Logic,"{'line': 1248, 'column': 4, 'index': 41100}","  1246 |   it('validate resetPasswordSuccessonInvalidEmail', async () => {
  1247 |     const invalidValues = [[], {}, 1, 'string'];
> 1248 |     for (const value of invalidValues) {
       |    ^ Conditional Test Logic
  1249 |       await expectAsync(
  1250 |         reconfigureServer({
  1251 |           appName: 'coolapp',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 106, 'column': 6, 'index': 3893}","  104 |       user.setUsername('zxcv');
  105 |       await user.signUp();
> 106 |       expect(emailAdapter.sendVerificationEmail).not.toHaveBeenCalled();
      |      ^ Duplicate Assert
  107 |       user
  108 |         .fetch()
  109 |         .then(user => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 120, 'column': 12, 'index': 4375}","  118 |           // Wait as on update email, we need to fetch the username
  119 |           setTimeout(function () {
> 120 |             expect(emailAdapter.sendVerificationEmail).toHaveBeenCalled();
      |            ^ Duplicate Assert
  121 |             done();
  122 |           }, 200);
  123 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 140, 'column': 6, 'index': 5052}","  138 |     });
  139 |     spyOn(emailAdapter, 'sendVerificationEmail').and.callFake(options => {
> 140 |       expect(options.link).not.toBeNull();
      |      ^ Duplicate Assert
  141 |       expect(options.link).not.toMatch(/token=undefined/);
  142 |       expect(options.link).not.toMatch(/username=undefined/);
  143 |       Promise.resolve();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 141, 'column': 6, 'index': 5095}","  139 |     spyOn(emailAdapter, 'sendVerificationEmail').and.callFake(options => {
  140 |       expect(options.link).not.toBeNull();
> 141 |       expect(options.link).not.toMatch(/token=undefined/);
      |      ^ Duplicate Assert
  142 |       expect(options.link).not.toMatch(/username=undefined/);
  143 |       Promise.resolve();
  144 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 142, 'column': 6, 'index': 5154}","  140 |       expect(options.link).not.toBeNull();
  141 |       expect(options.link).not.toMatch(/token=undefined/);
> 142 |       expect(options.link).not.toMatch(/username=undefined/);
      |      ^ Duplicate Assert
  143 |       Promise.resolve();
  144 |     });
  145 |     const user = new Parse.User();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 149, 'column': 4, 'index': 5367}","  147 |     user.setUsername('zxcv');
  148 |     await user.signUp();
> 149 |     expect(emailAdapter.sendVerificationEmail).not.toHaveBeenCalled();
      |    ^ Duplicate Assert
  150 |     await user.fetch();
  151 |     user.set('email', 'testValidLinkWhenUpdating@parse.com');
  152 |     await user.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 157, 'column': 6, 'index': 5718}","  155 |     // Wait as on update email, we need to fetch the username
  156 |     setTimeout(function () {
> 157 |       expect(emailAdapter.sendVerificationEmail).toHaveBeenCalled();
      |      ^ Duplicate Assert
  158 |       done();
  159 |     }, 200);
  160 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 889, 'column': 10, 'index': 29603}","  887 |           followRedirects: false,
  888 |         }).then(response => {
> 889 |           expect(response.status).toEqual(302);
      |          ^ Duplicate Assert
  890 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  891 |           const match = response.text.match(re);
  892 |           if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 889, 'column': 10, 'index': 29603}","  887 |           followRedirects: false,
  888 |         }).then(response => {
> 889 |           expect(response.status).toEqual(302);
      |          ^ Duplicate Assert
  890 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  891 |           const match = response.text.match(re);
  892 |           if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 908, 'column': 12, 'index': 30329}","  906 |             followRedirects: false,
  907 |           }).then(response => {
> 908 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  909 |             expect(response.text).toEqual(
  910 |               'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  911 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 908, 'column': 12, 'index': 30329}","  906 |             followRedirects: false,
  907 |           }).then(response => {
> 908 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  909 |             expect(response.text).toEqual(
  910 |               'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  911 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 966, 'column': 10, 'index': 32222}","  964 |           followRedirects: false,
  965 |         }).then(response => {
> 966 |           expect(response.status).toEqual(302);
      |          ^ Duplicate Assert
  967 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  968 |           const match = response.text.match(re);
  969 |           if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 966, 'column': 10, 'index': 32222}","  964 |           followRedirects: false,
  965 |         }).then(response => {
> 966 |           expect(response.status).toEqual(302);
      |          ^ Duplicate Assert
  967 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  968 |           const match = response.text.match(re);
  969 |           if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 985, 'column': 12, 'index': 32950}","  983 |             followRedirects: false,
  984 |           }).then(response => {
> 985 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  986 |             expect(response.text).toEqual(
  987 |               'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  988 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 985, 'column': 12, 'index': 32950}","  983 |             followRedirects: false,
  984 |           }).then(response => {
> 985 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  986 |             expect(response.text).toEqual(
  987 |               'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  988 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 1128, 'column': 12, 'index': 37577}","  1126 |           .then(results => {
  1127 |             // validate that there is a token
> 1128 |             expect(results.length).toEqual(1);
       |            ^ Duplicate Assert
  1129 |             expect(results[0]['_perishable_token']).not.toBeNull();
  1130 |             user.set('email', 'test2@parse.com');
  1131 |             return user.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 1128, 'column': 12, 'index': 37577}","  1126 |           .then(results => {
  1127 |             // validate that there is a token
> 1128 |             expect(results.length).toEqual(1);
       |            ^ Duplicate Assert
  1129 |             expect(results[0]['_perishable_token']).not.toBeNull();
  1130 |             user.set('email', 'test2@parse.com');
  1131 |             return user.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 1129, 'column': 12, 'index': 37624}","  1127 |             // validate that there is a token
  1128 |             expect(results.length).toEqual(1);
> 1129 |             expect(results[0]['_perishable_token']).not.toBeNull();
       |            ^ Duplicate Assert
  1130 |             user.set('email', 'test2@parse.com');
  1131 |             return user.save();
  1132 |           })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 1142, 'column': 12, 'index': 38022}","  1140 |           )
  1141 |           .then(results => {
> 1142 |             expect(results.length).toEqual(1);
       |            ^ Duplicate Assert
  1143 |             expect(results[0]['_perishable_token']).toBeUndefined();
  1144 |             done();
  1145 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 1142, 'column': 12, 'index': 38022}","  1140 |           )
  1141 |           .then(results => {
> 1142 |             expect(results.length).toEqual(1);
       |            ^ Duplicate Assert
  1143 |             expect(results[0]['_perishable_token']).toBeUndefined();
  1144 |             done();
  1145 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Duplicate Assert,"{'line': 1143, 'column': 12, 'index': 38069}","  1141 |           .then(results => {
  1142 |             expect(results.length).toEqual(1);
> 1143 |             expect(results[0]['_perishable_token']).toBeUndefined();
       |            ^ Duplicate Assert
  1144 |             done();
  1145 |           });
  1146 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Exception Handling,"{'line': 1080, 'column': 4, 'index': 36060}","  1078 |     });
  1079 |
> 1080 |     try {
       |    ^ Exception Handling
  1081 |       await request({
  1082 |         method: 'POST',
  1083 |         url: 'http://localhost:8378/1/apps/test/request_password_reset',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 305, 'column': 26, 'index': 10684}","  303 |
  304 |     const res = await Parse.User.logIn('user', 'pass').catch(e => e);
> 305 |     expect(res.code).toBe(205);
      |                          ^ Magic Number
  306 |     expect(verifyUserEmailsSpy).toHaveBeenCalledTimes(2);
  307 |   });
  308 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 614, 'column': 71, 'index': 20825}","  612 |       await user.signUp();
  613 |       await user.fetch();
> 614 |       expect(emailAdapter.sendVerificationEmail.calls.count()).toEqual(0);
      |                                                                       ^ Magic Number
  615 |       expect(user.get('emailVerified')).toEqual(undefined);
  616 |       done();
  617 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 717, 'column': 40, 'index': 24079}","  715 |         followRedirects: false,
  716 |       }).then(response => {
> 717 |         expect(response.status).toEqual(302);
      |                                        ^ Magic Number
  718 |         expect(response.text).toEqual(
  719 |           'Found. Redirecting to http://localhost:8378/1/apps/invalid_link.html'
  720 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 741, 'column': 40, 'index': 24893}","  739 |         followRedirects: false,
  740 |       }).then(response => {
> 741 |         expect(response.status).toEqual(302);
      |                                        ^ Magic Number
  742 |         expect(response.text).toEqual(
  743 |           'Found. Redirecting to http://localhost:8378/1/apps/invalid_verification_link.html?appId=test&token=asdfasdf'
  744 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 769, 'column': 40, 'index': 25818}","  767 |         },
  768 |       }).then(response => {
> 769 |         expect(response.status).toEqual(302);
      |                                        ^ Magic Number
  770 |         expect(response.text).toEqual(
  771 |           'Found. Redirecting to http://localhost:8378/1/apps/link_send_fail.html'
  772 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 786, 'column': 42, 'index': 26377}","  784 |           followRedirects: false,
  785 |         }).then(response => {
> 786 |           expect(response.status).toEqual(302);
      |                                          ^ Magic Number
  787 |           expect(response.text).toEqual(
  788 |             'Found. Redirecting to http://localhost:8378/1/apps/invalid_verification_link.html?appId=test&token=invalid'
  789 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 827, 'column': 42, 'index': 27634}","  825 |           followRedirects: false,
  826 |         }).then(response => {
> 827 |           expect(response.status).toEqual(302);
      |                                          ^ Magic Number
  828 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=[a-zA-Z0-9]+\&id=test\&/;
  829 |           expect(response.text.match(re)).not.toBe(null);
  830 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 871, 'column': 40, 'index': 29088}","  869 |         followRedirects: false,
  870 |       }).then(response => {
> 871 |         expect(response.status).toEqual(302);
      |                                        ^ Magic Number
  872 |         expect(response.text).toEqual(
  873 |           'Found. Redirecting to http://localhost:8378/1/apps/invalid_link.html'
  874 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 889, 'column': 42, 'index': 29635}","  887 |           followRedirects: false,
  888 |         }).then(response => {
> 889 |           expect(response.status).toEqual(302);
      |                                          ^ Magic Number
  890 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  891 |           const match = response.text.match(re);
  892 |           if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 908, 'column': 44, 'index': 30361}","  906 |             followRedirects: false,
  907 |           }).then(response => {
> 908 |             expect(response.status).toEqual(302);
      |                                            ^ Magic Number
  909 |             expect(response.text).toEqual(
  910 |               'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  911 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 920, 'column': 51, 'index': 30943}","  918 |                   .then(results => {
  919 |                     // _perishable_token should be unset after reset password
> 920 |                     expect(results.length).toEqual(1);
      |                                                   ^ Magic Number
  921 |                     expect(results[0]['_perishable_token']).toEqual(undefined);
  922 |                     done();
  923 |                   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 966, 'column': 42, 'index': 32254}","  964 |           followRedirects: false,
  965 |         }).then(response => {
> 966 |           expect(response.status).toEqual(302);
      |                                          ^ Magic Number
  967 |           const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  968 |           const match = response.text.match(re);
  969 |           if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 985, 'column': 44, 'index': 32982}","  983 |             followRedirects: false,
  984 |           }).then(response => {
> 985 |             expect(response.status).toEqual(302);
      |                                            ^ Magic Number
  986 |             expect(response.text).toEqual(
  987 |               'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  988 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 1025, 'column': 40, 'index': 34177}","  1023 |           followRedirects: false,
  1024 |         });
> 1025 |         expect(response.status).toEqual(302);
       |                                        ^ Magic Number
  1026 |         const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1027 |         const match = response.text.match(re);
  1028 |         if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 1044, 'column': 45, 'index': 34912}","  1042 |           followRedirects: false,
  1043 |         });
> 1044 |         expect(resetResponse.status).toEqual(200);
       |                                             ^ Magic Number
  1045 |         expect(resetResponse.text).toEqual('""Password successfully reset""');
  1046 |
  1047 |         await Parse.User.logIn('zxcv', 'hello');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 1056, 'column': 39, 'index': 35364}","  1054 |         );
  1055 |         // _perishable_token should be unset after reset password
> 1056 |         expect(results.length).toEqual(1);
       |                                       ^ Magic Number
  1057 |         expect(results[0]['_perishable_token']).toEqual(undefined);
  1058 |         done();
  1059 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 1092, 'column': 36, 'index': 36474}","  1090 |       });
  1091 |     } catch (error) {
> 1092 |       expect(error.status).not.toBe(302);
       |                                    ^ Magic Number
  1093 |       expect(error.text).toEqual(
  1094 |         '{""code"":-1,""error"":""Failed to reset password: username / email / token is invalid""}'
  1095 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 1128, 'column': 43, 'index': 37608}","  1126 |           .then(results => {
  1127 |             // validate that there is a token
> 1128 |             expect(results.length).toEqual(1);
       |                                           ^ Magic Number
  1129 |             expect(results[0]['_perishable_token']).not.toBeNull();
  1130 |             user.set('email', 'test2@parse.com');
  1131 |             return user.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Magic Number,"{'line': 1142, 'column': 43, 'index': 38053}","  1140 |           )
  1141 |           .then(results => {
> 1142 |             expect(results.length).toEqual(1);
       |                                           ^ Magic Number
  1143 |             expect(results[0]['_perishable_token']).toBeUndefined();
  1144 |             done();
  1145 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Sleepy Test,"{'line': 119, 'column': 10, 'index': 4338}","  117 |           expect(user.get('emailVerified')).toEqual(false);
  118 |           // Wait as on update email, we need to fetch the username
> 119 |           setTimeout(function () {
      |          ^ Sleepy Test
  120 |             expect(emailAdapter.sendVerificationEmail).toHaveBeenCalled();
  121 |             done();
  122 |           }, 200);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Sleepy Test,"{'line': 156, 'column': 4, 'index': 5687}","  154 |     expect(user.get('emailVerified')).toEqual(false);
  155 |     // Wait as on update email, we need to fetch the username
> 156 |     setTimeout(function () {
      |    ^ Sleepy Test
  157 |       expect(emailAdapter.sendVerificationEmail).toHaveBeenCalled();
  158 |       done();
  159 |     }, 200);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Unknown Test,"{'column': 2, 'line': 520}","  518 |   });
  519 |
> 520 |   it('succeeds sending a password reset email if appName, publicServerURL, and email adapter are provided', done => {
      |  ^ Unknown Test
  521 |     reconfigureServer({
  522 |       appName: 'coolapp',
  523 |       publicServerURL: 'http://localhost:1337/1',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Unknown Test,"{'column': 2, 'line': 1227}","  1225 |   });
  1226 |
> 1227 |   it('should throw on an invalid reset password', async () => {
       |  ^ Unknown Test
  1228 |     await reconfigureServer({
  1229 |       appName: 'coolapp',
  1230 |       publicServerURL: 'http://localhost:1337/1',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ValidationAndPasswordsReset.spec.js,Unknown Test,"{'column': 2, 'line': 1246}","  1244 |   });
  1245 |
> 1246 |   it('validate resetPasswordSuccessonInvalidEmail', async () => {
       |  ^ Unknown Test
  1247 |     const invalidValues = [[], {}, 1, 'string'];
  1248 |     for (const value of invalidValues) {
  1249 |       await expectAsync("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Utils.spec.js,Conditional Test Logic,"{'line': 9, 'column': 6, 'index': 333}","   7 |         { input: `!\""'),.:;<>?]^}`, output: '%21%22%27%29%2C%2E%3A%3B%3C%3E%3F%5D%5E%7D' },
   8 |       ]
>  9 |       for (const value of values) {
     |      ^ Conditional Test Logic
  10 |         expect(Utils.encodeForUrl(value.input)).toBe(value.output);
  11 |       }
  12 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Subscription.spec.js,Magic Number,"{'line': 15, 'column': 52, 'index': 585}","  13 |     expect(subscription.query).toEqual({ key: 'value' });
  14 |     expect(subscription.hash).toBe('hash');
> 15 |     expect(subscription.clientRequestIds.size).toBe(0);
     |                                                    ^ Magic Number
  16 |   });
  17 |
  18 |   it('can check it has subscribing clients', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Subscription.spec.js,Magic Number,"{'line': 35, 'column': 52, 'index': 1309}","  33 |     subscription.addClientSubscription(1, 1);
  34 |
> 35 |     expect(subscription.clientRequestIds.size).toBe(1);
     |                                                    ^ Magic Number
  36 |     expect(subscription.clientRequestIds.get(1)).toEqual([1]);
  37 |   });
  38 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Subscription.spec.js,Magic Number,"{'line': 44, 'column': 52, 'index': 1664}","  42 |     subscription.addClientSubscription(1, 2);
  43 |
> 44 |     expect(subscription.clientRequestIds.size).toBe(1);
     |                                                    ^ Magic Number
  45 |     expect(subscription.clientRequestIds.get(1)).toEqual([1, 2]);
  46 |   });
  47 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Subscription.spec.js,Magic Number,"{'line': 55, 'column': 52, 'index': 2111}","  53 |     subscription.addClientSubscription(2, 3);
  54 |
> 55 |     expect(subscription.clientRequestIds.size).toBe(2);
     |                                                    ^ Magic Number
  56 |     expect(subscription.clientRequestIds.get(1)).toEqual([1, 2]);
  57 |     expect(subscription.clientRequestIds.get(2)).toEqual([2, 3]);
  58 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Subscription.spec.js,Magic Number,"{'line': 73, 'column': 52, 'index': 2846}","  71 |
  72 |     expect(logger.error).toHaveBeenCalled();
> 73 |     expect(subscription.clientRequestIds.size).toBe(1);
     |                                                    ^ Magic Number
  74 |     expect(subscription.clientRequestIds.get(1)).toEqual([1]);
  75 |   });
  76 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Subscription.spec.js,Magic Number,"{'line': 84, 'column': 52, 'index': 3307}","  82 |
  83 |     expect(logger.error).not.toHaveBeenCalled();
> 84 |     expect(subscription.clientRequestIds.size).toBe(1);
     |                                                    ^ Magic Number
  85 |     expect(subscription.clientRequestIds.get(1)).toEqual([1]);
  86 |   });
  87 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Subscription.spec.js,Magic Number,"{'line': 96, 'column': 52, 'index': 3816}","  94 |
  95 |     expect(logger.error).not.toHaveBeenCalled();
> 96 |     expect(subscription.clientRequestIds.size).toBe(0);
     |                                                    ^ Magic Number
  97 |   });
  98 |
  99 |   it('can delete requests for multiple clients', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Subscription.spec.js,Magic Number,"{'line': 110, 'column': 52, 'index': 4405}","  108 |
  109 |     expect(logger.error).not.toHaveBeenCalled();
> 110 |     expect(subscription.clientRequestIds.size).toBe(1);
      |                                                    ^ Magic Number
  111 |     expect(subscription.clientRequestIds.get(1)).toEqual([1]);
  112 |   });
  113 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SessionTokenCache.spec.js,Magic Number,"{'line': 50, 'column': 48, 'index': 1429}","  48 |     sessionTokenCache.getUserId('sessionToken').then(userIdFromCache => {
  49 |       expect(userIdFromCache).toBe('userId');
> 50 |       expect(sessionTokenCache.cache.size).toBe(1);
     |                                                ^ Magic Number
  51 |       done();
  52 |     });
  53 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheckGroups.spec.js,Magic Number,"{'line': 28, 'column': 52, 'index': 870}","  26 |       const group = new CheckGroupServerConfig();
  27 |       expect(group.name()).toBeDefined();
> 28 |       expect(group.checks().length).toBeGreaterThan(0);
     |                                                    ^ Magic Number
  29 |     });
  30 |
  31 |     it('checks succeed correctly', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheckGroups.spec.js,Magic Number,"{'line': 69, 'column': 52, 'index': 2572}","  67 |       const group = new CheckGroupDatabase();
  68 |       expect(group.name()).toBeDefined();
> 69 |       expect(group.checks().length).toBeGreaterThan(0);
     |                                                    ^ Magic Number
  70 |     });
  71 |
  72 |     it('checks succeed correctly', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Conditional Test Logic,"{'line': 107, 'column': 6, 'index': 2879}","  105 |         { enableCheckLog: [] },
  106 |       ];
> 107 |       for (const option of options) {
      |      ^ Conditional Test Logic
  108 |         await expectAsync(reconfigureServerWithSecurityConfig(option)).toBeRejected();
  109 |       }
  110 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Conditional Test Logic,"{'line': 128, 'column': 6, 'index': 3708}","  126 |         {},
  127 |       ];
> 128 |       for (const config of configs) {
      |      ^ Conditional Test Logic
  129 |         await reconfigureServerWithSecurityConfig(config);
  130 |         expect(runnerSpy).not.toHaveBeenCalled();
  131 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Conditional Test Logic,"{'line': 173, 'column': 6, 'index': 5054}","  171 |         },
  172 |       ];
> 173 |       for (const config of configs) {
      |      ^ Conditional Test Logic
  174 |         expect(initCheck(config)).not.toThrow();
  175 |       }
  176 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Conditional Test Logic,"{'line': 188, 'column': 6, 'index': 5623}","  186 |       const configs = Utils.getObjectKeyPermutations(configDefinition);
  187 |
> 188 |       for (const config of configs) {
      |      ^ Conditional Test Logic
  189 |         expect(initCheck(config)).toThrow();
  190 |       }
  191 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Conditional Test Logic,"{'line': 262, 'column': 6, 'index': 8082}","  260 |       };
  261 |       const configs = Utils.getObjectKeyPermutations(configDefinition);
> 262 |       for (const config of configs) {
      |      ^ Conditional Test Logic
  263 |         expect(initRunner(config)).not.toThrow();
  264 |       }
  265 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Conditional Test Logic,"{'line': 275, 'column': 6, 'index': 8531}","  273 |       const configs = Utils.getObjectKeyPermutations(configDefinition);
  274 |
> 275 |       for (const config of configs) {
      |      ^ Conditional Test Logic
  276 |         expect(initRunner(config)).toThrow();
  277 |       }
  278 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Conditional Test Logic,"{'line': 336, 'column': 6, 'index': 10698}","  334 |       expect(titles.length).toBe(2);
  335 |
> 336 |       for (const title of titles) {
      |      ^ Conditional Test Logic
  337 |         expect(logSpy.calls.all()[0].args[0]).toContain(title);
  338 |       }
  339 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Duplicate Assert,"{'line': 244, 'column': 6, 'index': 7304}","  242 |     it('runs checks', async () => {
  243 |       const group = new Group();
> 244 |       expect(group.checks()[0].checkState()).toBe(CheckState.none);
      |      ^ Duplicate Assert
  245 |       expect(group.checks()[1].checkState()).toBe(CheckState.none);
  246 |       expect((() => group.run()).bind(null)).not.toThrow();
  247 |       expect(group.checks()[0].checkState()).toBe(CheckState.success);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Duplicate Assert,"{'line': 245, 'column': 6, 'index': 7372}","  243 |       const group = new Group();
  244 |       expect(group.checks()[0].checkState()).toBe(CheckState.none);
> 245 |       expect(group.checks()[1].checkState()).toBe(CheckState.none);
      |      ^ Duplicate Assert
  246 |       expect((() => group.run()).bind(null)).not.toThrow();
  247 |       expect(group.checks()[0].checkState()).toBe(CheckState.success);
  248 |       expect(group.checks()[1].checkState()).toBe(CheckState.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Duplicate Assert,"{'line': 247, 'column': 6, 'index': 7500}","  245 |       expect(group.checks()[1].checkState()).toBe(CheckState.none);
  246 |       expect((() => group.run()).bind(null)).not.toThrow();
> 247 |       expect(group.checks()[0].checkState()).toBe(CheckState.success);
      |      ^ Duplicate Assert
  248 |       expect(group.checks()[1].checkState()).toBe(CheckState.fail);
  249 |     });
  250 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Duplicate Assert,"{'line': 248, 'column': 6, 'index': 7571}","  246 |       expect((() => group.run()).bind(null)).not.toThrow();
  247 |       expect(group.checks()[0].checkState()).toBe(CheckState.success);
> 248 |       expect(group.checks()[1].checkState()).toBe(CheckState.fail);
      |      ^ Duplicate Assert
  249 |     });
  250 |   });
  251 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Duplicate Assert,"{'line': 351, 'column': 6, 'index': 11140}","  349 |         },
  350 |       });
> 351 |       expect(response.data.features.settings.securityCheck).toBeTrue();
      |      ^ Duplicate Assert
  352 |       await reconfigureServer({
  353 |         security: {
  354 |           enableCheck: false,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Duplicate Assert,"{'line': 366, 'column': 6, 'index': 11585}","  364 |         },
  365 |       });
> 366 |       expect(response.data.features.settings.securityCheck).toBeFalse();
      |      ^ Duplicate Assert
  367 |     });
  368 |   });
  369 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Exception Handling,"{'line': 213, 'column': 10, 'index': 6315}","  211 |         solution: 'string',
  212 |         check: () => {
> 213 |           throw 'error';
      |          ^ Exception Handling
  214 |         },
  215 |       });
  216 |       expect(check._checkState == CheckState.none);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Magic Number,"{'line': 138, 'column': 35, 'index': 4084}","  136 |     it('responds with 403 without masterkey', async () => {
  137 |       const response = await securityRequest({ headers: {} });
> 138 |       expect(response.status).toBe(403);
      |                                   ^ Magic Number
  139 |     });
  140 |
  141 |     it('responds with 409 with masterkey and security check disabled', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Magic Number,"{'line': 144, 'column': 35, 'index': 4320}","  142 |       await reconfigureServerWithSecurityConfig({});
  143 |       const response = await securityRequest();
> 144 |       expect(response.status).toBe(409);
      |                                   ^ Magic Number
  145 |     });
  146 |
  147 |     it('responds with 200 with masterkey and security check enabled', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Magic Number,"{'line': 149, 'column': 35, 'index': 4502}","  147 |     it('responds with 200 with masterkey and security check enabled', async () => {
  148 |       const response = await securityRequest();
> 149 |       expect(response.status).toBe(200);
      |                                   ^ Magic Number
  150 |     });
  151 |   });
  152 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Magic Number,"{'line': 226, 'column': 41, 'index': 6708}","  224 |       const group = new Group();
  225 |       expect(group.name()).toBe(groupName);
> 226 |       expect(group.checks().length).toBe(2);
      |                                         ^ Magic Number
  227 |       expect(group.checks()[0]).toEqual(checkSuccess);
  228 |       expect(group.checks()[1]).toEqual(checkFail);
  229 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Magic Number,"{'line': 334, 'column': 33, 'index': 10687}","  332 |       const report = await runner.run();
  333 |       const titles = report.report.groups.flatMap(group => group.checks.map(check => check.title));
> 334 |       expect(titles.length).toBe(2);
      |                                 ^ Magic Number
  335 |
  336 |       for (const title of titles) {
  337 |         expect(logSpy.calls.all()[0].args[0]).toContain(title);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SecurityCheck.spec.js,Unknown Test,"{'column': 4, 'line': 92}","  90 |     });
  91 |
> 92 |     it('throws on invalid configuration', async () => {
     |    ^ Unknown Test
  93 |       const options = [
  94 |         [],
  95 |         'a',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Conditional Test Logic,"{'line': 53, 'column': 4, 'index': 1327}","  51 |
  52 |     const objects = [];
> 53 |     for (let i = 0; i < 10; i++) {
     |    ^ Conditional Test Logic
  54 |       const object = new TestObject();
  55 |       object.set('number', i);
  56 |       objects.push(object);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Conditional Test Logic,"{'line': 253, 'column': 4, 'index': 6835}","  251 |         reconfigureServer({ databaseAdapter: undefined, databaseOptions: { [key]: value } })
  252 |       ).toBeRejectedWith(`databaseOptions.${key} must be a ${expected}`);
> 253 |     for (const databaseOptions of [[], 0, 'string']) {
      |    ^ Conditional Test Logic
  254 |       await expectAsync(
  255 |         reconfigureServer({ databaseAdapter: undefined, databaseOptions })
  256 |       ).toBeRejectedWith(`databaseOptions must be an object`);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Conditional Test Logic,"{'line': 258, 'column': 4, 'index': 7059}","  256 |       ).toBeRejectedWith(`databaseOptions must be an object`);
  257 |     }
> 258 |     for (const value of [null, 0, 'string', {}, []]) {
      |    ^ Conditional Test Logic
  259 |       await expectError('enableSchemaHooks', value, 'boolean');
  260 |     }
  261 |     for (const value of [null, false, 'string', {}, []]) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Conditional Test Logic,"{'line': 261, 'column': 4, 'index': 7184}","  259 |       await expectError('enableSchemaHooks', value, 'boolean');
  260 |     }
> 261 |     for (const value of [null, false, 'string', {}, []]) {
      |    ^ Conditional Test Logic
  262 |       await expectError('schemaCacheTtl', value, 'number');
  263 |     }
  264 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 17, 'column': 41, 'index': 463}","  15 |     object.set('foo', 'bar');
  16 |     await object.save();
> 17 |     expect(getAllSpy.calls.count()).toBe(2);
     |                                         ^ Magic Number
  18 |   });
  19 |
  20 |   it('test new object multiple fields', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 29, 'column': 41, 'index': 770}","  27 |     });
  28 |     await container.save();
> 29 |     expect(getAllSpy.calls.count()).toBe(2);
     |                                         ^ Magic Number
  30 |   });
  31 |
  32 |   it('test update existing fields', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 41, 'column': 41, 'index': 1051}","  39 |     object.set('foo', 'barz');
  40 |     await object.save();
> 41 |     expect(getAllSpy.calls.count()).toBe(0);
     |                                         ^ Magic Number
  42 |   });
  43 |
  44 |   xit('test saveAll / destroyAll', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 82, 'column': 41, 'index': 2102}","  80 |     object.set('new', 'barz');
  81 |     await object.save();
> 82 |     expect(getAllSpy.calls.count()).toBe(1);
     |                                         ^ Magic Number
  83 |   });
  84 |
  85 |   it('test add multiple fields to existing object', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 100, 'column': 41, 'index': 2520}","   98 |     });
   99 |     await object.save();
> 100 |     expect(getAllSpy.calls.count()).toBe(1);
      |                                         ^ Magic Number
  101 |   });
  102 |
  103 |   it('test user', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 109, 'column': 41, 'index': 2731}","  107 |     await user.signUp();
  108 |
> 109 |     expect(getAllSpy.calls.count()).toBe(1);
      |                                         ^ Magic Number
  110 |   });
  111 |
  112 |   it('test query include', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 126, 'column': 41, 'index': 3118}","  124 |     await query.get(object.id);
  125 |
> 126 |     expect(getAllSpy.calls.count()).toBe(0);
      |                                         ^ Magic Number
  127 |   });
  128 |
  129 |   it('query relation without schema', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 141, 'column': 32, 'index': 3521}","  139 |
  140 |     const objects = await relation.query().find();
> 141 |     expect(objects.length).toBe(1);
      |                                ^ Magic Number
  142 |     expect(objects[0].id).toBe(child.id);
  143 |
  144 |     expect(getAllSpy.calls.count()).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 144, 'column': 41, 'index': 3609}","  142 |     expect(objects[0].id).toBe(child.id);
  143 |
> 144 |     expect(getAllSpy.calls.count()).toBe(0);
      |                                         ^ Magic Number
  145 |   });
  146 |
  147 |   it('test delete object', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 155, 'column': 41, 'index': 3853}","  153 |
  154 |     await object.destroy();
> 155 |     expect(getAllSpy.calls.count()).toBe(0);
      |                                         ^ Magic Number
  156 |   });
  157 |
  158 |   it('test schema update class', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/SchemaPerformance.spec.js,Magic Number,"{'line': 209, 'column': 41, 'index': 5318}","  207 |       config.database
  208 |     );
> 209 |     expect(getAllSpy.calls.count()).toBe(2);
      |                                         ^ Magic Number
  210 |   });
  211 |
  212 |   it_id('9dd70965-b683-4cb8-b43a-44c1f4def9f4')(it)('does reload with schemaCacheTtl', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Conditional Test Logic,"{'line': 1089, 'column': 8, 'index': 32438}","  1087 |       .then(() => config.database.collectionExists('_Join:aRelation:HasPointersAndRelations'))
  1088 |       .then(exists => {
> 1089 |         if (!exists) {
       |        ^ Conditional Test Logic
  1090 |           fail('Relation collection ' + 'should exist after save.');
  1091 |         }
  1092 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Conditional Test Logic,"{'line': 1098, 'column': 10, 'index': 32826}","  1096 |       .then(
  1097 |         exists => {
> 1098 |           if (exists) {
       |          ^ Conditional Test Logic
  1099 |             fail('Relation collection should not exist after deleting relation field.');
  1100 |           }
  1101 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Conditional Test Logic,"{'line': 1380, 'column': 8, 'index': 41527}","  1378 |         const schema = schemaData[className];
  1379 |         // Hooks has className...
> 1380 |         if (className != '_Hooks') {
       |        ^ Conditional Test Logic
  1381 |           expect(Object.prototype.hasOwnProperty.call(schema, 'className')).toBe(false);
  1382 |         }
  1383 |         expect(Object.prototype.hasOwnProperty.call(schema, 'fields')).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1001, 'column': 16, 'index': 29693}","   999 |               .hasClass('NewClass')
  1000 |               .then(hasClass => {
> 1001 |                 expect(hasClass).toEqual(true);
       |                ^ Duplicate Assert
  1002 |                 done();
  1003 |               })
  1004 |               .catch(fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1009, 'column': 16, 'index': 29908}","  1007 |               .hasClass('NonexistantClass')
  1008 |               .then(hasClass => {
> 1009 |                 expect(hasClass).toEqual(false);
       |                ^ Duplicate Assert
  1010 |                 done();
  1011 |               })
  1012 |               .catch(fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1151, 'column': 14, 'index': 34540}","  1149 |             () => {
  1150 |               // We create the table when creating the column
> 1151 |               expect(exist).toEqual(true);
       |              ^ Duplicate Assert
  1152 |             },
  1153 |             () => {
  1154 |               expect(exist).toEqual(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1154, 'column': 14, 'index': 34618}","  1152 |             },
  1153 |             () => {
> 1154 |               expect(exist).toEqual(false);
       |              ^ Duplicate Assert
  1155 |             }
  1156 |           );
  1157 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1218, 'column': 8, 'index': 36833}","  1216 |       .then(() => new Parse.Query('NewClass').get(obj1.id))
  1217 |       .then(obj1 => {
> 1218 |         expect(obj1.get('aPointer')).toEqual(undefined);
       |        ^ Duplicate Assert
  1219 |         obj1.set('aPointer', 'Now a string');
  1220 |         return obj1.save();
  1221 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1223, 'column': 8, 'index': 36995}","  1221 |       })
  1222 |       .then(obj1 => {
> 1223 |         expect(obj1.get('aPointer')).toEqual('Now a string');
       |        ^ Duplicate Assert
  1224 |         done();
  1225 |       });
  1226 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1372, 'column': 6, 'index': 41070}","  1370 |     await reconfigureServer();
  1371 |     function validateSchemaStructure(schema) {
> 1372 |       expect(Object.prototype.hasOwnProperty.call(schema, 'className')).toBe(true);
       |      ^ Duplicate Assert
  1373 |       expect(Object.prototype.hasOwnProperty.call(schema, 'fields')).toBe(true);
  1374 |       expect(Object.prototype.hasOwnProperty.call(schema, 'classLevelPermissions')).toBe(true);
  1375 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1373, 'column': 6, 'index': 41154}","  1371 |     function validateSchemaStructure(schema) {
  1372 |       expect(Object.prototype.hasOwnProperty.call(schema, 'className')).toBe(true);
> 1373 |       expect(Object.prototype.hasOwnProperty.call(schema, 'fields')).toBe(true);
       |      ^ Duplicate Assert
  1374 |       expect(Object.prototype.hasOwnProperty.call(schema, 'classLevelPermissions')).toBe(true);
  1375 |     }
  1376 |     function validateSchemaDataStructure(schemaData) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1374, 'column': 6, 'index': 41235}","  1372 |       expect(Object.prototype.hasOwnProperty.call(schema, 'className')).toBe(true);
  1373 |       expect(Object.prototype.hasOwnProperty.call(schema, 'fields')).toBe(true);
> 1374 |       expect(Object.prototype.hasOwnProperty.call(schema, 'classLevelPermissions')).toBe(true);
       |      ^ Duplicate Assert
  1375 |     }
  1376 |     function validateSchemaDataStructure(schemaData) {
  1377 |       Object.keys(schemaData).forEach(className => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1381, 'column': 10, 'index': 41566}","  1379 |         // Hooks has className...
  1380 |         if (className != '_Hooks') {
> 1381 |           expect(Object.prototype.hasOwnProperty.call(schema, 'className')).toBe(false);
       |          ^ Duplicate Assert
  1382 |         }
  1383 |         expect(Object.prototype.hasOwnProperty.call(schema, 'fields')).toBe(false);
  1384 |         expect(Object.prototype.hasOwnProperty.call(schema, 'classLevelPermissions')).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1383, 'column': 8, 'index': 41663}","  1381 |           expect(Object.prototype.hasOwnProperty.call(schema, 'className')).toBe(false);
  1382 |         }
> 1383 |         expect(Object.prototype.hasOwnProperty.call(schema, 'fields')).toBe(false);
       |        ^ Duplicate Assert
  1384 |         expect(Object.prototype.hasOwnProperty.call(schema, 'classLevelPermissions')).toBe(false);
  1385 |       });
  1386 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Duplicate Assert,"{'line': 1384, 'column': 8, 'index': 41747}","  1382 |         }
  1383 |         expect(Object.prototype.hasOwnProperty.call(schema, 'fields')).toBe(false);
> 1384 |         expect(Object.prototype.hasOwnProperty.call(schema, 'classLevelPermissions')).toBe(false);
       |        ^ Duplicate Assert
  1385 |       });
  1386 |     }
  1387 |     let schema;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Exception Handling,"{'line': 1415, 'column': 4, 'index': 42775}","  1413 |   it('ensureFields should throw when schema is not set', async () => {
  1414 |     const schema = await config.database.loadSchema();
> 1415 |     try {
       |    ^ Exception Handling
  1416 |       schema.ensureFields([
  1417 |         {
  1418 |           className: 'NewClass',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 277, 'column': 38, 'index': 6993}","  275 |         })
  276 |         .then(results => {
> 277 |           expect(results.length).toBe(1);
      |                                      ^ Magic Number
  278 |           const query = new Parse.Query('Stuff');
  279 |           return query.count();
  280 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 568, 'column': 35, 'index': 16371}","  566 |       .then(schema => schema.addClassIfNotExists('NewClass', { objectId: { type: 'String' } }))
  567 |       .catch(error => {
> 568 |         expect(error.code).toEqual(136);
      |                                   ^ Magic Number
  569 |         expect(error.message).toEqual('field objectId cannot be added');
  570 |         done();
  571 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 583, 'column': 35, 'index': 16814}","  581 |       )
  582 |       .catch(error => {
> 583 |         expect(error.code).toEqual(136);
      |                                   ^ Magic Number
  584 |         expect(error.message).toEqual('field localeIdentifier cannot be added');
  585 |         done();
  586 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 613, 'column': 35, 'index': 17617}","  611 |       )
  612 |       .catch(error => {
> 613 |         expect(error.code).toEqual(135);
      |                                   ^ Magic Number
  614 |         expect(error.message).toEqual('type Pointer needs a class name');
  615 |         done();
  616 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 643, 'column': 35, 'index': 18462}","  641 |       )
  642 |       .catch(error => {
> 643 |         expect(error.code).toEqual(135);
      |                                   ^ Magic Number
  644 |         expect(error.message).toEqual('type Relation needs a class name');
  645 |         done();
  646 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 1047, 'column': 35, 'index': 31037}","  1045 |       .then(schema => schema.deleteField('installationId', '_Installation'))
  1046 |       .catch(error => {
> 1047 |         expect(error.code).toEqual(136);
       |                                   ^ Magic Number
  1048 |         expect(error.message).toEqual('field installationId cannot be changed');
  1049 |         done();
  1050 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 1070, 'column': 35, 'index': 31797}","  1068 |       .then(schema => schema.deleteField('missingField', 'HasAllPOD'))
  1069 |       .catch(error => {
> 1070 |         expect(error.code).toEqual(255);
       |                                   ^ Magic Number
  1071 |         expect(error.message).toEqual('Field missingField does not exist, cannot delete.');
  1072 |         done();
  1073 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 1494, 'column': 41, 'index': 44724}","  1492 |       .then(
  1493 |         results => {
> 1494 |           expect(results.length).toEqual(0);
       |                                         ^ Magic Number
  1495 |           done();
  1496 |         },
  1497 |         e => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Magic Number,"{'line': 1769, 'column': 38, 'index': 52004}","  1767 |       .then(
  1768 |         results => {
> 1769 |           expect(results.length).toBe(1);
       |                                      ^ Magic Number
  1770 |           done();
  1771 |         },
  1772 |         e => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Redundant Print,"{'line': 423, 'column': 10, 'index': 11643}","  421 |         })
  422 |         .catch(error => {
> 423 |           console.trace(error);
      |          ^ Redundant Print
  424 |           done();
  425 |           fail('Error creating class: ' + JSON.stringify(error));
  426 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Redundant Print,"{'line': 451, 'column': 10, 'index': 12505}","  449 |         })
  450 |         .catch(error => {
> 451 |           console.trace(error);
      |          ^ Redundant Print
  452 |           done();
  453 |           fail('Error creating class: ' + JSON.stringify(error));
  454 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Redundant Print,"{'line': 1498, 'column': 10, 'index': 44782}","  1496 |         },
  1497 |         e => {
> 1498 |           console.error(e);
       |          ^ Redundant Print
  1499 |           fail('Should not have failed');
  1500 |           done();
  1501 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Redundant Print,"{'line': 1532, 'column': 10, 'index': 45577}","  1530 |         },
  1531 |         e => {
> 1532 |           console.error(e);
       |          ^ Redundant Print
  1533 |           fail('Should not have failed');
  1534 |           done();
  1535 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Redundant Print,"{'line': 1614, 'column': 10, 'index': 47696}","  1612 |         },
  1613 |         e => {
> 1614 |           console.error(e);
       |          ^ Redundant Print
  1615 |           fail('Should not have failed');
  1616 |           done();
  1617 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Redundant Print,"{'line': 1773, 'column': 10, 'index': 52062}","  1771 |         },
  1772 |         e => {
> 1773 |           console.error(e);
       |          ^ Redundant Print
  1774 |           done.fail(e);
  1775 |         }
  1776 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 27}","  25 |   });
  26 |
> 27 |   it('can validate one object', done => {
     |  ^ Unknown Test
  28 |     config.database
  29 |       .loadSchema()
  30 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 44}","  42 |   });
  43 |
> 44 |   it('can validate one object with dot notation', done => {
     |  ^ Unknown Test
  45 |     config.database
  46 |       .loadSchema()
  47 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 66}","  64 |   });
  65 |
> 66 |   it('can validate two objects in a row', done => {
     |  ^ Unknown Test
  67 |     config.database
  68 |       .loadSchema()
  69 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 80}","  78 |   });
  79 |
> 80 |   it('can validate Relation object', done => {
     |  ^ Unknown Test
  81 |     config.database
  82 |       .loadSchema()
  83 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 102}","  100 |   });
  101 |
> 102 |   it('rejects inconsistent types', done => {
      |  ^ Unknown Test
  103 |     config.database
  104 |       .loadSchema()
  105 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 120}","  118 |   });
  119 |
> 120 |   it('updates when new fields are added', done => {
      |  ^ Unknown Test
  121 |     config.database
  122 |       .loadSchema()
  123 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 141}","  139 |   });
  140 |
> 141 |   it('class-level permissions test find', done => {
      |  ^ Unknown Test
  142 |     config.database
  143 |       .loadSchema()
  144 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 168}","  166 |   });
  167 |
> 168 |   it('class-level permissions test user', done => {
      |  ^ Unknown Test
  169 |     let user;
  170 |     createTestUser()
  171 |       .then(u => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 201}","  199 |   });
  200 |
> 201 |   it('class-level permissions test get', done => {
      |  ^ Unknown Test
  202 |     let obj;
  203 |     createTestUser().then(user => {
  204 |       return ("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 1076}","  1074 |   });
  1075 |
> 1076 |   it('drops related collection when deleting relation field', done => {
       |  ^ Unknown Test
  1077 |     const obj1 = hasAllPODobject();
  1078 |     obj1
  1079 |       .save()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 1505}","  1503 |   });
  1504 |
> 1505 |   it('required auth should allow create authenticated', done => {
       |  ^ Unknown Test
  1506 |     config.database
  1507 |       .loadSchema()
  1508 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Schema.spec.js,Unknown Test,"{'column': 2, 'line': 1570}","  1568 |   });
  1569 |
> 1570 |   it('required auth test create/get/update/delete authenticated', done => {
       |  ^ Unknown Test
  1571 |     config.database
  1572 |       .loadSchema()
  1573 |       .then(schema => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RevocableSessionsUpgrade.spec.js,Magic Number,"{'line': 32, 'column': 57, 'index': 886}","  30 |       ._upgradeToRevocableSession()
  31 |       .then(res => {
> 32 |         expect(res.getSessionToken().indexOf('r:')).toBe(0);
     |                                                         ^ Magic Number
  33 |         const config = Config.get(Parse.applicationId);
  34 |         // use direct access to the DB to make sure we're not
  35 |         // getting the session token stripped"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RevocableSessionsUpgrade.spec.js,Magic Number,"{'line': 45, 'column': 40, 'index': 1433}","  43 |           })
  44 |           .then(results => {
> 45 |             expect(results.length).toBe(1);
     |                                        ^ Magic Number
  46 |             expect(results[0].sessionToken).toBeUndefined();
  47 |           });
  48 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RevocableSessionsUpgrade.spec.js,Magic Number,"{'line': 69, 'column': 57, 'index': 1996}","  67 |       ._upgradeToRevocableSession()
  68 |       .then(res => {
> 69 |         expect(res.getSessionToken().indexOf('r:')).toBe(0);
     |                                                         ^ Magic Number
  70 |         return Parse.User.logOut()
  71 |           .then(() => {
  72 |             return Parse.User.become(res.getSessionToken());"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RevocableSessionsUpgrade.spec.js,Magic Number,"{'line': 104, 'column': 39, 'index': 2873}","  102 |         },
  103 |         response => {
> 104 |           expect(response.status).toBe(400);
      |                                       ^ Magic Number
  105 |           expect(response.data).not.toBeUndefined();
  106 |           expect(response.data.code).toBe(Parse.Error.INVALID_SESSION_TOKEN);
  107 |           expect(response.data.error).toEqual('invalid legacy session token');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RevocableSessionsUpgrade.spec.js,Magic Number,"{'line': 129, 'column': 39, 'index': 3608}","  127 |         },
  128 |         response => {
> 129 |           expect(response.status).toBe(404);
      |                                       ^ Magic Number
  130 |           expect(response.data).not.toBeUndefined();
  131 |           expect(response.data.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  132 |           expect(response.data.error).toEqual('invalid session');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Conditional Test Logic,"{'line': 371, 'column': 10, 'index': 10818}","  369 |           let anotherObjectFound = false;
  370 |           let nullCounts = 0;
> 371 |           for (const value of values) {
      |          ^ Conditional Test Logic
  372 |             if (value === null) {
  373 |               nullCounts++;
  374 |             } else if (value instanceof Parse.Object) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Conditional Test Logic,"{'line': 372, 'column': 12, 'index': 10860}","  370 |           let nullCounts = 0;
  371 |           for (const value of values) {
> 372 |             if (value === null) {
      |            ^ Conditional Test Logic
  373 |               nullCounts++;
  374 |             } else if (value instanceof Parse.Object) {
  375 |               anotherObjectFound = true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Conditional Test Logic,"{'line': 374, 'column': 19, 'index': 10929}","  372 |             if (value === null) {
  373 |               nullCounts++;
> 374 |             } else if (value instanceof Parse.Object) {
      |                   ^ Conditional Test Logic
  375 |               anotherObjectFound = true;
  376 |             }
  377 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Conditional Test Logic,"{'line': 397, 'column': 4, 'index': 11475}","  395 |   it_id('3416c90b-ee2e-4bb5-9231-46cd181cd0a2')(it)('should run each', async () => {
  396 |     const objects = [];
> 397 |     while (objects.length != 10) {
      |    ^ Conditional Test Logic
  398 |       objects.push(new Parse.Object('Object', { value: objects.length }));
  399 |     }
  400 |     const config = Config.get('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Duplicate Assert,"{'line': 294, 'column': 10, 'index': 8561}","  292 |         }).then(fail, response => {
  293 |           const error = response.data;
> 294 |           expect(error.code).toEqual(Parse.Error.INVALID_QUERY);
      |          ^ Duplicate Assert
  295 |         });
  296 |
  297 |         const p1 = request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Duplicate Assert,"{'line': 294, 'column': 10, 'index': 8561}","  292 |         }).then(fail, response => {
  293 |           const error = response.data;
> 294 |           expect(error.code).toEqual(Parse.Error.INVALID_QUERY);
      |          ^ Duplicate Assert
  295 |         });
  296 |
  297 |         const p1 = request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Duplicate Assert,"{'line': 308, 'column': 10, 'index': 8985}","  306 |         }).then(fail, response => {
  307 |           const error = response.data;
> 308 |           expect(error.code).toEqual(Parse.Error.INVALID_QUERY);
      |          ^ Duplicate Assert
  309 |         });
  310 |         return Promise.all([p0, p1]);
  311 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Duplicate Assert,"{'line': 308, 'column': 10, 'index': 8985}","  306 |         }).then(fail, response => {
  307 |           const error = response.data;
> 308 |           expect(error.code).toEqual(Parse.Error.INVALID_QUERY);
      |          ^ Duplicate Assert
  309 |         });
  310 |         return Promise.all([p0, p1]);
  311 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Magic Number,"{'line': 28, 'column': 48, 'index': 765}","  26 |       })
  27 |       .then(response => {
> 28 |         expect(response.results.length).toEqual(1);
     |                                                ^ Magic Number
  29 |         done();
  30 |       });
  31 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Magic Number,"{'line': 43, 'column': 48, 'index': 1186}","  41 |       })
  42 |       .then(response => {
> 43 |         expect(response.results.length).toEqual(1);
     |                                                ^ Magic Number
  44 |         expect(response.results[0].foo).toBeTruthy();
  45 |         done();
  46 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Magic Number,"{'line': 192, 'column': 42, 'index': 5497}","  190 |       {}
  191 |     );
> 192 |     expect(result.results.length).toEqual(0);
      |                                          ^ Magic Number
  193 |   });
  194 |
  195 |   it('query internal field', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Magic Number,"{'line': 330, 'column': 48, 'index': 9613}","  328 |       })
  329 |       .then(response => {
> 330 |         expect(response.results.length).toEqual(0);
      |                                                ^ Magic Number
  331 |         done();
  332 |       });
  333 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Magic Number,"{'line': 345, 'column': 48, 'index': 10062}","  343 |       })
  344 |       .then(response => {
> 345 |         expect(response.results.length).toEqual(0);
      |                                                ^ Magic Number
  346 |         expect(response.count).toEqual(2);
  347 |         done();
  348 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Magic Number,"{'line': 346, 'column': 39, 'index': 10105}","  344 |       .then(response => {
  345 |         expect(response.results.length).toEqual(0);
> 346 |         expect(response.count).toEqual(2);
      |                                       ^ Magic Number
  347 |         done();
  348 |       });
  349 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Magic Number,"{'line': 368, 'column': 37, 'index': 10732}","  366 |         result => {
  367 |           const values = result.get('values');
> 368 |           expect(values.length).toBe(3);
      |                                     ^ Magic Number
  369 |           let anotherObjectFound = false;
  370 |           let nullCounts = 0;
  371 |           for (const value of values) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Magic Number,"{'line': 378, 'column': 34, 'index': 11067}","  376 |             }
  377 |           }
> 378 |           expect(nullCounts).toBe(2);
      |                                  ^ Magic Number
  379 |           expect(anotherObjectFound).toBeTruthy();
  380 |           done();
  381 |         },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Redundant Print,"{'line': 383, 'column': 10, 'index': 11178}","  381 |         },
  382 |         err => {
> 383 |           console.error(err);
      |          ^ Redundant Print
  384 |           fail(err);
  385 |           done();
  386 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Unknown Test,"{'column': 2, 'line': 195}","  193 |   });
  194 |
> 195 |   it('query internal field', async () => {
      |  ^ Unknown Test
  196 |     const internalFields = [
  197 |       '_email_verify_token',
  198 |       '_perishable_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Unknown Test,"{'column': 2, 'line': 218}","  216 |   });
  217 |
> 218 |   it('query protected field', async () => {
      |  ^ Unknown Test
  219 |     const user = new Parse.User();
  220 |     user.setUsername('username1');
  221 |     user.setPassword('password');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RestQuery.spec.js,Unknown Test,"{'column': 2, 'line': 252}","  250 |   });
  251 |
> 252 |   it('query protected field with matchesQuery', async () => {
      |  ^ Unknown Test
  253 |     const user = new Parse.User();
  254 |     user.setUsername('username1');
  255 |     user.setPassword('password');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Duplicate Assert,"{'line': 96, 'column': 6, 'index': 2519}","  94 |
  95 |     it('should not work with regex', async () => {
> 96 |       expect(user.get('emailVerified')).toEqual(false);
     |      ^ Duplicate Assert
  97 |       await request({
  98 |         url: `${serverURL}/apps/test/verify_email?token[$regex]=`,
  99 |         method: 'GET',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Duplicate Assert,"{'line': 96, 'column': 6, 'index': 2519}","  94 |
  95 |     it('should not work with regex', async () => {
> 96 |       expect(user.get('emailVerified')).toEqual(false);
     |      ^ Duplicate Assert
  97 |       await request({
  98 |         url: `${serverURL}/apps/test/verify_email?token[$regex]=`,
  99 |         method: 'GET',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Duplicate Assert,"{'line': 102, 'column': 6, 'index': 2745}","  100 |       });
  101 |       await user.fetch({ useMasterKey: true });
> 102 |       expect(user.get('emailVerified')).toEqual(false);
      |      ^ Duplicate Assert
  103 |     });
  104 |
  105 |     it_id('92bbb86d-bcda-49fa-8d79-aa0501078044')(it)('should work with plain token', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Duplicate Assert,"{'line': 102, 'column': 6, 'index': 2745}","  100 |       });
  101 |       await user.fetch({ useMasterKey: true });
> 102 |       expect(user.get('emailVerified')).toEqual(false);
      |      ^ Duplicate Assert
  103 |     });
  104 |
  105 |     it_id('92bbb86d-bcda-49fa-8d79-aa0501078044')(it)('should work with plain token', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Exception Handling,"{'line': 53, 'column': 6, 'index': 1324}","  51 |   describe('on session token', () => {
  52 |     it('should not work with regex', async () => {
> 53 |       try {
     |      ^ Exception Handling
  54 |         await request({
  55 |           url: `${serverURL}/users/me`,
  56 |           method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Exception Handling,"{'line': 161, 'column': 6, 'index': 4768}","  159 |         },
  160 |       });
> 161 |       try {
      |      ^ Exception Handling
  162 |         await Parse.User.logIn('someemail@somedomain.com', 'newpassword');
  163 |         fail('should not work');
  164 |       } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Magic Number,"{'line': 68, 'column': 36, 'index': 1723}","  66 |         fail('should not work');
  67 |       } catch (e) {
> 68 |         expect(e.data.code).toEqual(209);
     |                                    ^ Magic Number
  69 |         expect(e.data.error).toEqual('Invalid session token');
  70 |       }
  71 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Magic Number,"{'line': 150, 'column': 51, 'index': 4401}","  148 |         method: 'GET',
  149 |       });
> 150 |       expect(passwordResetResponse.status).toEqual(302);
      |                                                   ^ Magic Number
  151 |       expect(passwordResetResponse.headers.location).toMatch(`\\/invalid\\_link\\.html`);
  152 |       await request({
  153 |         url: `${serverURL}/apps/test/request_password_reset`,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RegexVulnerabilities.spec.js,Magic Number,"{'line': 198, 'column': 51, 'index': 6043}","  196 |         method: 'GET',
  197 |       });
> 198 |       expect(passwordResetResponse.status).toEqual(302);
      |                                                   ^ Magic Number
  199 |       expect(passwordResetResponse.headers.location).toMatch(
  200 |         `\\/choose\\_password\\?token\\=${token}\\&`
  201 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Conditional Test Logic,"{'line': 73, 'column': 48, 'index': 2002}","  71 |     let promise = Promise.resolve();
  72 |
> 73 |     [-100, null, undefined, 'not number', true].forEach(ttl => {
     |                                                ^ Conditional Test Logic
  74 |       promise = promise.then(() =>
  75 |         cache
  76 |           .put(KEY, VALUE, ttl)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Conditional Test Logic,"{'line': 130, 'column': 4, 'index': 3570}","  128 |     // execute a bunch of operations in sequence
  129 |     let promise = Promise.resolve();
> 130 |     for (let index = 1; index < 100; index++) {
      |    ^ Conditional Test Logic
  131 |       promise = promise.then(() => {
  132 |         const key = `${index}`;
  133 |         return cache"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Conditional Test Logic,"{'line': 153, 'column': 4, 'index': 4386}","  151 |     let key1Promise = Promise.resolve();
  152 |     let key2Promise = Promise.resolve();
> 153 |     for (let index = 1; index < 100; index++) {
      |    ^ Conditional Test Logic
  154 |       key1Promise = cache.put(KEY1, VALUE);
  155 |       key2Promise = cache.put(KEY2, VALUE);
  156 |       // per key chain should be equal to index, which is the"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 33, 'column': 4, 'index': 876}","  31 |     await cacheNaN.put(KEY, VALUE);
  32 |     let value = await cacheNaN.get(KEY);
> 33 |     expect(value).toEqual(VALUE);
     |    ^ Duplicate Assert
  34 |     await cacheNaN.clear();
  35 |     value = await cacheNaN.get(KEY);
  36 |     expect(value).toEqual(null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 36, 'column': 4, 'index': 975}","  34 |     await cacheNaN.clear();
  35 |     value = await cacheNaN.get(KEY);
> 36 |     expect(value).toEqual(null);
     |    ^ Duplicate Assert
  37 |     await cacheNaN.clear();
  38 |   });
  39 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 44, 'column': 21, 'index': 1169}","  42 |       .put(KEY, VALUE)
  43 |       .then(() => cache.get(KEY))
> 44 |       .then(value => expect(value).toEqual(VALUE))
     |                     ^ Duplicate Assert
  45 |       .then(wait.bind(null, 102))
  46 |       .then(() => cache.get(KEY))
  47 |       .then(value => expect(value).toEqual(null))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 47, 'column': 21, 'index': 1288}","  45 |       .then(wait.bind(null, 102))
  46 |       .then(() => cache.get(KEY))
> 47 |       .then(value => expect(value).toEqual(null))
     |                     ^ Duplicate Assert
  48 |       .then(done);
  49 |   });
  50 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 63, 'column': 21, 'index': 1692}","  61 |       .put(KEY, VALUE, Infinity)
  62 |       .then(() => cache.get(KEY))
> 63 |       .then(value => expect(value).toEqual(VALUE))
     |                     ^ Duplicate Assert
  64 |       .then(wait.bind(null, 102))
  65 |       .then(() => cache.get(KEY))
  66 |       .then(value => expect(value).toEqual(VALUE))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 63, 'column': 21, 'index': 1692}","  61 |       .put(KEY, VALUE, Infinity)
  62 |       .then(() => cache.get(KEY))
> 63 |       .then(value => expect(value).toEqual(VALUE))
     |                     ^ Duplicate Assert
  64 |       .then(wait.bind(null, 102))
  65 |       .then(() => cache.get(KEY))
  66 |       .then(value => expect(value).toEqual(VALUE))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 66, 'column': 21, 'index': 1811}","  64 |       .then(wait.bind(null, 102))
  65 |       .then(() => cache.get(KEY))
> 66 |       .then(value => expect(value).toEqual(VALUE))
     |                     ^ Duplicate Assert
  67 |       .then(done);
  68 |   });
  69 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 66, 'column': 21, 'index': 1811}","  64 |       .then(wait.bind(null, 102))
  65 |       .then(() => cache.get(KEY))
> 66 |       .then(value => expect(value).toEqual(VALUE))
     |                     ^ Duplicate Assert
  67 |       .then(done);
  68 |   });
  69 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 78, 'column': 25, 'index': 2163}","  76 |           .put(KEY, VALUE, ttl)
  77 |           .then(() => cache.get(KEY))
> 78 |           .then(value => expect(value).toEqual(VALUE))
     |                         ^ Duplicate Assert
  79 |           .then(wait.bind(null, 102))
  80 |           .then(() => cache.get(KEY))
  81 |           .then(value => expect(value).toEqual(null))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 81, 'column': 25, 'index': 2294}","  79 |           .then(wait.bind(null, 102))
  80 |           .then(() => cache.get(KEY))
> 81 |           .then(value => expect(value).toEqual(null))
     |                         ^ Duplicate Assert
  82 |       );
  83 |     });
  84 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 92, 'column': 21, 'index': 2509}","  90 |       .put(KEY, VALUE)
  91 |       .then(() => cache.get(KEY))
> 92 |       .then(value => expect(value).toEqual(VALUE))
     |                     ^ Duplicate Assert
  93 |       .then(wait.bind(null, 1))
  94 |       .then(() => cache.get(KEY))
  95 |       .then(value => expect(value).not.toEqual(null))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 95, 'column': 21, 'index': 2626}","  93 |       .then(wait.bind(null, 1))
  94 |       .then(() => cache.get(KEY))
> 95 |       .then(value => expect(value).not.toEqual(null))
     |                     ^ Duplicate Assert
  96 |       .then(done);
  97 |   });
  98 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 135, 'column': 22, 'index': 3753}","  133 |         return cache
  134 |           .put(key, VALUE)
> 135 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
      |                      ^ Duplicate Assert
  136 |           .then(() => cache.get(key))
  137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  138 |           .then(() => cache.clear())"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 135, 'column': 22, 'index': 3753}","  133 |         return cache
  134 |           .put(key, VALUE)
> 135 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
      |                      ^ Duplicate Assert
  136 |           .then(() => cache.get(key))
  137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  138 |           .then(() => cache.clear())"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 137, 'column': 22, 'index': 3854}","  135 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  136 |           .then(() => cache.get(key))
> 137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
      |                      ^ Duplicate Assert
  138 |           .then(() => cache.clear())
  139 |           .then(() => expect(getQueueCount(cache)).toEqual(0));
  140 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 137, 'column': 22, 'index': 3854}","  135 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  136 |           .then(() => cache.get(key))
> 137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
      |                      ^ Duplicate Assert
  138 |           .then(() => cache.clear())
  139 |           .then(() => expect(getQueueCount(cache)).toEqual(0));
  140 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 139, 'column': 22, 'index': 3954}","  137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  138 |           .then(() => cache.clear())
> 139 |           .then(() => expect(getQueueCount(cache)).toEqual(0));
      |                      ^ Duplicate Assert
  140 |       });
  141 |     }
  142 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 139, 'column': 22, 'index': 3954}","  137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  138 |           .then(() => cache.clear())
> 139 |           .then(() => expect(getQueueCount(cache)).toEqual(0));
      |                      ^ Duplicate Assert
  140 |       });
  141 |     }
  142 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 144, 'column': 23, 'index': 4080}","  142 |
  143 |     // at the end the queue should be empty
> 144 |     promise.then(() => expect(getQueueCount(cache)).toEqual(0)).then(done);
      |                       ^ Duplicate Assert
  145 |   });
  146 |
  147 |   it('it should count per key chained operations correctly', async done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 144, 'column': 23, 'index': 4080}","  142 |
  143 |     // at the end the queue should be empty
> 144 |     promise.then(() => expect(getQueueCount(cache)).toEqual(0)).then(done);
      |                       ^ Duplicate Assert
  145 |   });
  146 |
  147 |   it('it should count per key chained operations correctly', async done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 162, 'column': 6, 'index': 4873}","  160 |       // the total keys counts should be equal to the different keys
  161 |       // we have currently being processed.
> 162 |       expect(getQueueCount(cache)).toEqual(2);
      |      ^ Duplicate Assert
  163 |     }
  164 |
  165 |     // at the end the queue should be empty"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Duplicate Assert,"{'line': 167, 'column': 18, 'index': 5027}","  165 |     // at the end the queue should be empty
  166 |     Promise.all([key1Promise, key2Promise])
> 167 |       .then(() => expect(getQueueCount(cache)).toEqual(0))
      |                  ^ Duplicate Assert
  168 |       .then(done);
  169 |   });
  170 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Magic Number,"{'line': 135, 'column': 59, 'index': 3790}","  133 |         return cache
  134 |           .put(key, VALUE)
> 135 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
      |                                                           ^ Magic Number
  136 |           .then(() => cache.get(key))
  137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  138 |           .then(() => cache.clear())"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Magic Number,"{'line': 137, 'column': 59, 'index': 3891}","  135 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  136 |           .then(() => cache.get(key))
> 137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
      |                                                           ^ Magic Number
  138 |           .then(() => cache.clear())
  139 |           .then(() => expect(getQueueCount(cache)).toEqual(0));
  140 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Magic Number,"{'line': 139, 'column': 59, 'index': 3991}","  137 |           .then(() => expect(getQueueCount(cache)).toEqual(0))
  138 |           .then(() => cache.clear())
> 139 |           .then(() => expect(getQueueCount(cache)).toEqual(0));
      |                                                           ^ Magic Number
  140 |       });
  141 |     }
  142 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Magic Number,"{'line': 144, 'column': 60, 'index': 4117}","  142 |
  143 |     // at the end the queue should be empty
> 144 |     promise.then(() => expect(getQueueCount(cache)).toEqual(0)).then(done);
      |                                                            ^ Magic Number
  145 |   });
  146 |
  147 |   it('it should count per key chained operations correctly', async done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Magic Number,"{'line': 162, 'column': 43, 'index': 4910}","  160 |       // the total keys counts should be equal to the different keys
  161 |       // we have currently being processed.
> 162 |       expect(getQueueCount(cache)).toEqual(2);
      |                                           ^ Magic Number
  163 |     }
  164 |
  165 |     // at the end the queue should be empty"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Magic Number,"{'line': 167, 'column': 55, 'index': 5064}","  165 |     // at the end the queue should be empty
  166 |     Promise.all([key1Promise, key2Promise])
> 167 |       .then(() => expect(getQueueCount(cache)).toEqual(0))
      |                                                       ^ Magic Number
  168 |       .then(done);
  169 |   });
  170 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RedisCacheAdapter.spec.js,Sleepy Test,"{'line': 101, 'column': 4, 'index': 2778}","   99 |   it('handleShutdown, close connection', async () => {
  100 |     await cache.handleShutdown();
> 101 |     setTimeout(() => {
      |    ^ Sleepy Test
  102 |       expect(cache.client.isOpen).toBe(false);
  103 |     }, 0);
  104 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 32, 'column': 12, 'index': 1023}","  30 |           let myObjectReadPreference = null;
  31 |           Collection.prototype.find.calls.all().forEach(call => {
> 32 |             if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
     |            ^ Conditional Test Logic
  33 |               myObjectReadPreference = true;
  34 |               expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
  35 |             }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 75, 'column': 6, 'index': 2420}","  73 |     let myObjectReadPreference = null;
  74 |     Collection.prototype.find.calls.all().forEach(call => {
> 75 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
     |      ^ Conditional Test Logic
  76 |         myObjectReadPreference = true;
  77 |         expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);
  78 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 107, 'column': 6, 'index': 3460}","  105 |     let myObjectReadPreference = null;
  106 |     Collection.prototype.find.calls.all().forEach(call => {
> 107 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  108 |         myObjectReadPreference = call.args[1].readPreference;
  109 |       }
  110 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 139, 'column': 6, 'index': 4466}","  137 |     let myObjectReadPreference = null;
  138 |     Collection.prototype.find.calls.all().forEach(call => {
> 139 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  140 |         myObjectReadPreference = call.args[1].readPreference;
  141 |       }
  142 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 171, 'column': 6, 'index': 5539}","  169 |     let myObjectReadPreference = null;
  170 |     Collection.prototype.find.calls.all().forEach(call => {
> 171 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  172 |         myObjectReadPreference = call.args[1].readPreference;
  173 |       }
  174 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 207, 'column': 6, 'index': 6695}","  205 |     let myObjectReadPreference = null;
  206 |     Collection.prototype.find.calls.all().forEach(call => {
> 207 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  208 |         myObjectReadPreference = call.args[1].readPreference;
  209 |       }
  210 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 242, 'column': 6, 'index': 7869}","  240 |     let myObjectReadPreference = null;
  241 |     Collection.prototype.find.calls.all().forEach(call => {
> 242 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  243 |         myObjectReadPreference = call.args[1].readPreference;
  244 |       }
  245 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 273, 'column': 6, 'index': 8884}","  271 |     let myObjectReadPreference = null;
  272 |     Collection.prototype.find.calls.all().forEach(call => {
> 273 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  274 |         myObjectReadPreference = call.args[1].readPreference;
  275 |       }
  276 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 304, 'column': 6, 'index': 9911}","  302 |     let myObjectReadPreference = null;
  303 |     Collection.prototype.find.calls.all().forEach(call => {
> 304 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  305 |         myObjectReadPreference = call.args[1].readPreference;
  306 |       }
  307 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 335, 'column': 6, 'index': 10916}","  333 |     let myObjectReadPreference = null;
  334 |     Collection.prototype.find.calls.all().forEach(call => {
> 335 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  336 |         myObjectReadPreference = call.args[1].readPreference;
  337 |       }
  338 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 364, 'column': 6, 'index': 11836}","  362 |     let myObjectReadPreference = null;
  363 |     Collection.prototype.find.calls.all().forEach(call => {
> 364 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  365 |         myObjectReadPreference = call.args[1].readPreference;
  366 |       }
  367 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 400, 'column': 6, 'index': 12956}","  398 |     let myObjectReadPreference = null;
  399 |     Collection.prototype.find.calls.all().forEach(call => {
> 400 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  401 |         myObjectReadPreference = call.args[1].readPreference;
  402 |       }
  403 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 431, 'column': 6, 'index': 13994}","  429 |     let myObjectReadPreference = null;
  430 |     Collection.prototype.find.calls.all().forEach(call => {
> 431 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  432 |         myObjectReadPreference = call.args[1].readPreference;
  433 |       }
  434 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 466, 'column': 6, 'index': 15176}","  464 |     let myObjectReadPreference = null;
  465 |     Collection.prototype.find.calls.all().forEach(call => {
> 466 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  467 |         myObjectReadPreference = call.args[1].readPreference;
  468 |       }
  469 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 501, 'column': 6, 'index': 16307}","  499 |     let myObjectReadPreference = null;
  500 |     Collection.prototype.find.calls.all().forEach(call => {
> 501 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  502 |         myObjectReadPreference = call.args[1].readPreference;
  503 |       }
  504 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 532, 'column': 6, 'index': 17336}","  530 |     let myObjectReadPreference = null;
  531 |     Collection.prototype.find.calls.all().forEach(call => {
> 532 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  533 |         myObjectReadPreference = call.args[1].readPreference;
  534 |       }
  535 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 567, 'column': 6, 'index': 18510}","  565 |     let myObjectReadPreference = null;
  566 |     Collection.prototype.find.calls.all().forEach(call => {
> 567 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  568 |         myObjectReadPreference = call.args[1].readPreference;
  569 |       }
  570 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 598, 'column': 12, 'index': 19479}","  596 |           let myObjectReadPreference = null;
  597 |           Collection.prototype.find.calls.all().forEach(call => {
> 598 |             if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |            ^ Conditional Test Logic
  599 |               myObjectReadPreference = call.args[1].readPreference;
  600 |             }
  601 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 633, 'column': 6, 'index': 20629}","  631 |     let readPreference = null;
  632 |     Collection.prototype.aggregate.calls.all().forEach(call => {
> 633 |       if (call.object.s.namespace.collection.indexOf('MyObject') > -1) {
      |      ^ Conditional Test Logic
  634 |         readPreference = call.args[1].readPreference;
  635 |       }
  636 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 660, 'column': 6, 'index': 21590}","  658 |     let myObjectReadPreference = null;
  659 |     Collection.prototype.find.calls.all().forEach(call => {
> 660 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {
      |      ^ Conditional Test Logic
  661 |         myObjectReadPreference = call.args[1].readPreference;
  662 |       }
  663 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 686, 'column': 6, 'index': 22574}","  684 |     let readPreference = null;
  685 |     Collection.prototype.aggregate.calls.all().forEach(call => {
> 686 |       if (call.object.s.namespace.collection.indexOf('MyObject') > -1) {
      |      ^ Conditional Test Logic
  687 |         readPreference = call.args[1].readPreference;
  688 |       }
  689 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 727, 'column': 6, 'index': 24081}","  725 |     let myObjectReadPreference2 = null;
  726 |     Collection.prototype.find.calls.all().forEach(call => {
> 727 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
      |      ^ Conditional Test Logic
  728 |         myObjectReadPreference0 = call.args[1].readPreference;
  729 |       }
  730 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 730, 'column': 6, 'index': 24226}","  728 |         myObjectReadPreference0 = call.args[1].readPreference;
  729 |       }
> 730 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
      |      ^ Conditional Test Logic
  731 |         myObjectReadPreference1 = call.args[1].readPreference;
  732 |       }
  733 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 733, 'column': 6, 'index': 24371}","  731 |         myObjectReadPreference1 = call.args[1].readPreference;
  732 |       }
> 733 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
      |      ^ Conditional Test Logic
  734 |         myObjectReadPreference2 = call.args[1].readPreference;
  735 |       }
  736 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 778, 'column': 6, 'index': 26070}","  776 |     let myObjectReadPreference2 = null;
  777 |     Collection.prototype.find.calls.all().forEach(call => {
> 778 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
      |      ^ Conditional Test Logic
  779 |         myObjectReadPreference0 = call.args[1].readPreference;
  780 |       }
  781 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 781, 'column': 6, 'index': 26215}","  779 |         myObjectReadPreference0 = call.args[1].readPreference;
  780 |       }
> 781 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
      |      ^ Conditional Test Logic
  782 |         myObjectReadPreference1 = call.args[1].readPreference;
  783 |       }
  784 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 784, 'column': 6, 'index': 26360}","  782 |         myObjectReadPreference1 = call.args[1].readPreference;
  783 |       }
> 784 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
      |      ^ Conditional Test Logic
  785 |         myObjectReadPreference2 = call.args[1].readPreference;
  786 |       }
  787 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 831, 'column': 6, 'index': 28104}","  829 |     let myObjectReadPreference2 = null;
  830 |     Collection.prototype.find.calls.all().forEach(call => {
> 831 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
      |      ^ Conditional Test Logic
  832 |         myObjectReadPreference0 = call.args[1].readPreference;
  833 |       }
  834 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 834, 'column': 6, 'index': 28249}","  832 |         myObjectReadPreference0 = call.args[1].readPreference;
  833 |       }
> 834 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
      |      ^ Conditional Test Logic
  835 |         myObjectReadPreference1 = call.args[1].readPreference;
  836 |       }
  837 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 837, 'column': 6, 'index': 28394}","  835 |         myObjectReadPreference1 = call.args[1].readPreference;
  836 |       }
> 837 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
      |      ^ Conditional Test Logic
  838 |         myObjectReadPreference2 = call.args[1].readPreference;
  839 |       }
  840 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 885, 'column': 6, 'index': 30232}","  883 |     let myObjectReadPreference2 = null;
  884 |     Collection.prototype.find.calls.all().forEach(call => {
> 885 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
      |      ^ Conditional Test Logic
  886 |         myObjectReadPreference0 = call.args[1].readPreference;
  887 |       }
  888 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 888, 'column': 6, 'index': 30377}","  886 |         myObjectReadPreference0 = call.args[1].readPreference;
  887 |       }
> 888 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
      |      ^ Conditional Test Logic
  889 |         myObjectReadPreference1 = call.args[1].readPreference;
  890 |       }
  891 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 891, 'column': 6, 'index': 30522}","  889 |         myObjectReadPreference1 = call.args[1].readPreference;
  890 |       }
> 891 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
      |      ^ Conditional Test Logic
  892 |         myObjectReadPreference2 = call.args[1].readPreference;
  893 |       }
  894 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 936, 'column': 6, 'index': 32133}","  934 |     let myObjectReadPreference2 = null;
  935 |     Collection.prototype.find.calls.all().forEach(call => {
> 936 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
      |      ^ Conditional Test Logic
  937 |         myObjectReadPreference0 = call.args[1].readPreference;
  938 |       }
  939 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 939, 'column': 6, 'index': 32278}","  937 |         myObjectReadPreference0 = call.args[1].readPreference;
  938 |       }
> 939 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
      |      ^ Conditional Test Logic
  940 |         myObjectReadPreference1 = call.args[1].readPreference;
  941 |       }
  942 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 942, 'column': 6, 'index': 32423}","  940 |         myObjectReadPreference1 = call.args[1].readPreference;
  941 |       }
> 942 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
      |      ^ Conditional Test Logic
  943 |         myObjectReadPreference2 = call.args[1].readPreference;
  944 |       }
  945 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 988, 'column': 6, 'index': 34079}","  986 |     let myObjectReadPreference2 = null;
  987 |     Collection.prototype.find.calls.all().forEach(call => {
> 988 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
      |      ^ Conditional Test Logic
  989 |         myObjectReadPreference0 = call.args[1].readPreference;
  990 |       }
  991 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 991, 'column': 6, 'index': 34224}","  989 |         myObjectReadPreference0 = call.args[1].readPreference;
  990 |       }
> 991 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
      |      ^ Conditional Test Logic
  992 |         myObjectReadPreference1 = call.args[1].readPreference;
  993 |       }
  994 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 994, 'column': 6, 'index': 34369}","  992 |         myObjectReadPreference1 = call.args[1].readPreference;
  993 |       }
> 994 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
      |      ^ Conditional Test Logic
  995 |         myObjectReadPreference2 = call.args[1].readPreference;
  996 |       }
  997 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1040, 'column': 6, 'index': 36050}","  1038 |     let myObjectReadPreference2 = null;
  1039 |     Collection.prototype.find.calls.all().forEach(call => {
> 1040 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
       |      ^ Conditional Test Logic
  1041 |         myObjectReadPreference0 = call.args[1].readPreference;
  1042 |       }
  1043 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1043, 'column': 6, 'index': 36195}","  1041 |         myObjectReadPreference0 = call.args[1].readPreference;
  1042 |       }
> 1043 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
       |      ^ Conditional Test Logic
  1044 |         myObjectReadPreference1 = call.args[1].readPreference;
  1045 |       }
  1046 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1046, 'column': 6, 'index': 36340}","  1044 |         myObjectReadPreference1 = call.args[1].readPreference;
  1045 |       }
> 1046 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
       |      ^ Conditional Test Logic
  1047 |         myObjectReadPreference2 = call.args[1].readPreference;
  1048 |       }
  1049 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1093, 'column': 6, 'index': 38108}","  1091 |     let myObjectReadPreference2 = null;
  1092 |     Collection.prototype.find.calls.all().forEach(call => {
> 1093 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
       |      ^ Conditional Test Logic
  1094 |         myObjectReadPreference0 = call.args[1].readPreference;
  1095 |       }
  1096 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1096, 'column': 6, 'index': 38253}","  1094 |         myObjectReadPreference0 = call.args[1].readPreference;
  1095 |       }
> 1096 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
       |      ^ Conditional Test Logic
  1097 |         myObjectReadPreference1 = call.args[1].readPreference;
  1098 |       }
  1099 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1099, 'column': 6, 'index': 38398}","  1097 |         myObjectReadPreference1 = call.args[1].readPreference;
  1098 |       }
> 1099 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
       |      ^ Conditional Test Logic
  1100 |         myObjectReadPreference2 = call.args[1].readPreference;
  1101 |       }
  1102 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1161, 'column': 6, 'index': 40432}","  1159 |     let myObjectReadPreference2 = null;
  1160 |     Collection.prototype.find.calls.all().forEach(call => {
> 1161 |       if (call.object.s.namespace.collection.indexOf('MyObject0') >= 0) {
       |      ^ Conditional Test Logic
  1162 |         myObjectReadPreference0 = call.args[1].readPreference;
  1163 |       }
  1164 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1164, 'column': 6, 'index': 40577}","  1162 |         myObjectReadPreference0 = call.args[1].readPreference;
  1163 |       }
> 1164 |       if (call.object.s.namespace.collection.indexOf('MyObject1') >= 0) {
       |      ^ Conditional Test Logic
  1165 |         myObjectReadPreference1 = call.args[1].readPreference;
  1166 |       }
  1167 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Conditional Test Logic,"{'line': 1167, 'column': 6, 'index': 40722}","  1165 |         myObjectReadPreference1 = call.args[1].readPreference;
  1166 |       }
> 1167 |       if (call.object.s.namespace.collection.indexOf('MyObject2') >= 0) {
       |      ^ Conditional Test Logic
  1168 |         myObjectReadPreference2 = call.args[1].readPreference;
  1169 |       }
  1170 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 28, 'column': 38, 'index': 839}","  26 |
  27 |         return query.find().then(results => {
> 28 |           expect(results.length).toBe(1);
     |                                      ^ Magic Number
  29 |           expect(results[0].get('boolKey')).toBe(false);
  30 |           let myObjectReadPreference = null;
  31 |           Collection.prototype.find.calls.all().forEach(call => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 102, 'column': 32, 'index': 3299}","  100 |
  101 |     const results = await query.find();
> 102 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  103 |     expect(results[0].get('boolKey')).toBe(false);
  104 |
  105 |     let myObjectReadPreference = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 134, 'column': 32, 'index': 4305}","  132 |
  133 |     const results = await query.find();
> 134 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  135 |     expect(results[0].get('boolKey')).toBe(false);
  136 |
  137 |     let myObjectReadPreference = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 166, 'column': 32, 'index': 5379}","  164 |
  165 |     const results = await query.find();
> 166 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  167 |     expect(results[0].get('boolKey')).toBe(true);
  168 |
  169 |     let myObjectReadPreference = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 202, 'column': 32, 'index': 6535}","  200 |
  201 |     const results = await query.find();
> 202 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  203 |     expect(results[0].get('boolKey')).toBe(true);
  204 |
  205 |     let myObjectReadPreference = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 237, 'column': 32, 'index': 7709}","  235 |
  236 |     const results = await query.find();
> 237 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  238 |     expect(results[0].get('boolKey')).toBe(true);
  239 |
  240 |     let myObjectReadPreference = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 268, 'column': 32, 'index': 8723}","  266 |
  267 |     const results = await query.find();
> 268 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  269 |     expect(results[0].get('boolKey')).toBe(false);
  270 |
  271 |     let myObjectReadPreference = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 299, 'column': 32, 'index': 9750}","  297 |
  298 |     const results = await query.find();
> 299 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  300 |     expect(results[0].get('boolKey')).toBe(false);
  301 |
  302 |     let myObjectReadPreference = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 330, 'column': 32, 'index': 10755}","  328 |
  329 |     const results = await query.find();
> 330 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  331 |     expect(results[0].get('boolKey')).toBe(false);
  332 |
  333 |     let myObjectReadPreference = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 497, 'column': 49, 'index': 16197}","  495 |       json: true,
  496 |     });
> 497 |     expect(response.data.results.length).toEqual(2);
      |                                                 ^ Magic Number
  498 |
  499 |     let myObjectReadPreference = null;
  500 |     Collection.prototype.find.calls.all().forEach(call => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 528, 'column': 49, 'index': 17226}","  526 |       json: true,
  527 |     });
> 528 |     expect(response.data.results.length).toEqual(2);
      |                                                 ^ Magic Number
  529 |
  530 |     let myObjectReadPreference = null;
  531 |     Collection.prototype.find.calls.all().forEach(call => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 563, 'column': 49, 'index': 18400}","  561 |       json: true,
  562 |     });
> 563 |     expect(response.data.results.length).toEqual(2);
      |                                                 ^ Magic Number
  564 |
  565 |     let myObjectReadPreference = null;
  566 |     Collection.prototype.find.calls.all().forEach(call => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 630, 'column': 32, 'index': 20523}","  628 |     const results = await query.aggregate([{ $match: { boolKey: false } }]);
  629 |     // Validate
> 630 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  631 |     let readPreference = null;
  632 |     Collection.prototype.aggregate.calls.all().forEach(call => {
  633 |       if (call.object.s.namespace.collection.indexOf('MyObject') > -1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 657, 'column': 32, 'index': 21481}","  655 |     const results = await query.find();
  656 |     // Validate
> 657 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  658 |     let myObjectReadPreference = null;
  659 |     Collection.prototype.find.calls.all().forEach(call => {
  660 |       if (call.object.s.namespace.collection.indexOf('MyObject') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 683, 'column': 32, 'index': 22468}","  681 |     const results = await query.aggregate([{ $match: { boolKey: false } }]);
  682 |     // Validate
> 683 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  684 |     let readPreference = null;
  685 |     Collection.prototype.aggregate.calls.all().forEach(call => {
  686 |       if (call.object.s.namespace.collection.indexOf('MyObject') > -1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 717, 'column': 32, 'index': 23648}","  715 |
  716 |     const results = await query.find();
> 717 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  718 |     const firstResult = results[0];
  719 |     expect(firstResult.get('boolKey')).toBe(false);
  720 |     expect(firstResult.get('myObject1').get('boolKey')).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 768, 'column': 32, 'index': 25637}","  766 |
  767 |     const results = await query.find();
> 768 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  769 |     const firstResult = results[0];
  770 |     expect(firstResult.get('boolKey')).toBe(false);
  771 |     expect(firstResult.get('myObject1').get('boolKey')).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 875, 'column': 46, 'index': 29827}","  873 |       json: true,
  874 |     });
> 875 |     expect(response.data.results.length).toBe(1);
      |                                              ^ Magic Number
  876 |     const firstResult = response.data.results[0];
  877 |     expect(firstResult.boolKey).toBe(false);
  878 |     expect(firstResult.myObject1.boolKey).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 929, 'column': 32, 'index': 31891}","  927 |
  928 |     const results = await query2.find();
> 929 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  930 |     expect(results[0].get('boolKey')).toBe(false);
  931 |
  932 |     let myObjectReadPreference0 = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 981, 'column': 32, 'index': 33837}","  979 |
  980 |     const results = await query2.find();
> 981 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  982 |     expect(results[0].get('boolKey')).toBe(false);
  983 |
  984 |     let myObjectReadPreference0 = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 1033, 'column': 32, 'index': 35808}","  1031 |
  1032 |     const results = await query2.find();
> 1033 |     expect(results.length).toBe(1);
       |                                ^ Magic Number
  1034 |     expect(results[0].get('boolKey')).toBe(false);
  1035 |
  1036 |     let myObjectReadPreference0 = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 1086, 'column': 32, 'index': 37866}","  1084 |
  1085 |     const results = await query2.find();
> 1086 |     expect(results.length).toBe(1);
       |                                ^ Magic Number
  1087 |     expect(results[0].get('boolKey')).toBe(false);
  1088 |
  1089 |     let myObjectReadPreference0 = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ReadPreferenceOption.spec.js,Magic Number,"{'line': 1154, 'column': 46, 'index': 40183}","  1152 |       json: true,
  1153 |     });
> 1154 |     expect(response.data.results.length).toBe(1);
       |                                              ^ Magic Number
  1155 |     expect(response.data.results[0].boolKey).toBe(false);
  1156 |
  1157 |     let myObjectReadPreference0 = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Exception Handling,"{'line': 376, 'column': 8, 'index': 12016}","  374 |       fakeRes.json = jasmine.createSpy('json').and.callFake(resolvingPromise);
  375 |       middlewares.handleParseHeaders(fakeReq, fakeRes, () => {
> 376 |         throw 'Should not call next';
      |        ^ Exception Handling
  377 |       });
  378 |       await promise;
  379 |       expect(fakeRes.status).toHaveBeenCalledWith(429);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Magic Number,"{'line': 379, 'column': 50, 'index': 12127}","  377 |       });
  378 |       await promise;
> 379 |       expect(fakeRes.status).toHaveBeenCalledWith(429);
      |                                                  ^ Magic Number
  380 |       expect(fakeRes.json).toHaveBeenCalledWith({
  381 |         code: Parse.Error.CONNECTION_FAILED,
  382 |         error: 'Too many requests',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Magic Number,"{'line': 514, 'column': 28, 'index': 17242}","  512 |       await cache.connect();
  513 |       const value = await cache.get('rl:127.0.0.1');
> 514 |       expect(value).toEqual(2);
      |                            ^ Magic Number
  515 |       const ttl = await cache.client.ttl('rl:127.0.0.1');
  516 |       expect(ttl).toEqual(10);
  517 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Magic Number,"{'line': 516, 'column': 26, 'index': 17330}","  514 |       expect(value).toEqual(2);
  515 |       const ttl = await cache.client.ttl('rl:127.0.0.1');
> 516 |       expect(ttl).toEqual(10);
      |                          ^ Magic Number
  517 |     });
  518 |   });
  519 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 121}","  119 |   });
  120 |
> 121 |   it('can limit saving objects', async () => {
      |  ^ Unknown Test
  122 |     await reconfigureServer({
  123 |       rateLimit: [
  124 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 140}","  138 |   });
  139 |
> 140 |   it('can set method to post', async () => {
      |  ^ Unknown Test
  141 |     await reconfigureServer({
  142 |       rateLimit: [
  143 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 162}","  160 |   });
  161 |
> 162 |   it('can use a validator for post', async () => {
      |  ^ Unknown Test
  163 |     Parse.Cloud.beforeSave('Test', () => {}, {
  164 |       rateLimit: {
  165 |         requestTimeWindow: 10000,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 178}","  176 |   });
  177 |
> 178 |   it('can use a validator for file', async () => {
      |  ^ Unknown Test
  179 |     Parse.Cloud.beforeSave(Parse.File, () => {}, {
  180 |       rateLimit: {
  181 |         requestTimeWindow: 10000,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 195}","  193 |   });
  194 |
> 195 |   it('can set method to get', async () => {
      |  ^ Unknown Test
  196 |     await reconfigureServer({
  197 |       rateLimit: [
  198 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 217}","  215 |   });
  216 |
> 217 |   it('can use a validator', async () => {
      |  ^ Unknown Test
  218 |     await reconfigureServer({ silent: false });
  219 |     Parse.Cloud.beforeFind('TestObject', () => {}, {
  220 |       rateLimit: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 239}","  237 |   });
  238 |
> 239 |   it('can set method to delete', async () => {
      |  ^ Unknown Test
  240 |     await reconfigureServer({
  241 |       rateLimit: [
  242 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 260}","  258 |   });
  259 |
> 260 |   it('can set beforeDelete', async () => {
      |  ^ Unknown Test
  261 |     const obj = new Parse.Object('TestDelete');
  262 |     await obj.save();
  263 |     Parse.Cloud.beforeDelete('TestDelete', () => {}, {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 277}","  275 |   });
  276 |
> 277 |   it('can set beforeLogin', async () => {
      |  ^ Unknown Test
  278 |     Parse.Cloud.beforeLogin(() => {}, {
  279 |       rateLimit: {
  280 |         requestTimeWindow: 10000,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 2, 'line': 319}","  317 |   });
  318 |
> 319 |   it('does not limit internal calls', async () => {
      |  ^ Unknown Test
  320 |     await reconfigureServer({
  321 |       rateLimit: [
  322 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 4, 'line': 386}","  384 |     });
  385 |
> 386 |     it('can use session zone', async () => {
      |    ^ Unknown Test
  387 |       await reconfigureServer({
  388 |         rateLimit: {
  389 |           requestPath: '/functions/*',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/RateLimit.spec.js,Unknown Test,"{'column': 4, 'line': 407}","  405 |     });
  406 |
> 407 |     it('can use user zone', async () => {
      |    ^ Unknown Test
  408 |       await reconfigureServer({
  409 |         rateLimit: {
  410 |           requestPath: '/functions/*',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 43, 'column': 4, 'index': 1253}","  41 |     let firstHash = queryHash(q1);
  42 |     let secondHash = queryHash(q2);
> 43 |     expect(firstHash).toBe(secondHash);
     |    ^ Duplicate Assert
  44 |
  45 |     q1.containedIn('fruit', ['apple', 'banana', 'cherry']);
  46 |     firstHash = queryHash(q1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 43, 'column': 4, 'index': 1253}","  41 |     let firstHash = queryHash(q1);
  42 |     let secondHash = queryHash(q2);
> 43 |     expect(firstHash).toBe(secondHash);
     |    ^ Duplicate Assert
  44 |
  45 |     q1.containedIn('fruit', ['apple', 'banana', 'cherry']);
  46 |     firstHash = queryHash(q1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 47, 'column': 4, 'index': 1385}","  45 |     q1.containedIn('fruit', ['apple', 'banana', 'cherry']);
  46 |     firstHash = queryHash(q1);
> 47 |     expect(firstHash).not.toBe(secondHash);
     |    ^ Duplicate Assert
  48 |
  49 |     q2.containedIn('fruit', ['banana', 'cherry', 'apple']);
  50 |     secondHash = queryHash(q2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 47, 'column': 4, 'index': 1385}","  45 |     q1.containedIn('fruit', ['apple', 'banana', 'cherry']);
  46 |     firstHash = queryHash(q1);
> 47 |     expect(firstHash).not.toBe(secondHash);
     |    ^ Duplicate Assert
  48 |
  49 |     q2.containedIn('fruit', ['banana', 'cherry', 'apple']);
  50 |     secondHash = queryHash(q2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 55, 'column': 4, 'index': 1636}","  53 |     q1.containedIn('fruit', ['coconut']);
  54 |     firstHash = queryHash(q1);
> 55 |     expect(firstHash).not.toBe(secondHash);
     |    ^ Duplicate Assert
  56 |
  57 |     q1 = new Parse.Query(Item);
  58 |     q1.equalTo('field', 'value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 55, 'column': 4, 'index': 1636}","  53 |     q1.containedIn('fruit', ['coconut']);
  54 |     firstHash = queryHash(q1);
> 55 |     expect(firstHash).not.toBe(secondHash);
     |    ^ Duplicate Assert
  56 |
  57 |     q1 = new Parse.Query(Item);
  58 |     q1.equalTo('field', 'value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 68, 'column': 4, 'index': 2003}","  66 |     firstHash = queryHash(Parse.Query.or(q1, q2));
  67 |     secondHash = queryHash(Parse.Query.or(q2, q1));
> 68 |     expect(firstHash).toBe(secondHash);
     |    ^ Duplicate Assert
  69 |   });
  70 |
  71 |   it('should not let fields of different types appear similar', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 68, 'column': 4, 'index': 2003}","  66 |     firstHash = queryHash(Parse.Query.or(q1, q2));
  67 |     secondHash = queryHash(Parse.Query.or(q2, q1));
> 68 |     expect(firstHash).toBe(secondHash);
     |    ^ Duplicate Assert
  69 |   });
  70 |
  71 |   it('should not let fields of different types appear similar', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 78, 'column': 4, 'index': 2267}","  76 |     q2.equalTo('age', '{$lt:30}');
  77 |
> 78 |     expect(queryHash(q1)).not.toBe(queryHash(q2));
     |    ^ Duplicate Assert
  79 |
  80 |     q1 = new Parse.Query(Item);
  81 |     q1.equalTo('age', 15);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 78, 'column': 4, 'index': 2267}","  76 |     q2.equalTo('age', '{$lt:30}');
  77 |
> 78 |     expect(queryHash(q1)).not.toBe(queryHash(q2));
     |    ^ Duplicate Assert
  79 |
  80 |     q1 = new Parse.Query(Item);
  81 |     q1.equalTo('age', 15);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 85, 'column': 4, 'index': 2409}","  83 |     q2.equalTo('age', '15');
  84 |
> 85 |     expect(queryHash(q1)).not.toBe(queryHash(q2));
     |    ^ Duplicate Assert
  86 |   });
  87 | });
  88 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 85, 'column': 4, 'index': 2409}","  83 |     q2.equalTo('age', '15');
  84 |
> 85 |     expect(queryHash(q1)).not.toBe(queryHash(q2));
     |    ^ Duplicate Assert
  86 |   });
  87 | });
  88 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 96, 'column': 4, 'index': 2671}","  94 |     };
  95 |     const q = new Parse.Query('Klass');
> 96 |     expect(matchesQuery(obj, q)).toBe(true);
     |    ^ Duplicate Assert
  97 |
  98 |     obj.id = new Id('Other', 'O1');
  99 |     expect(matchesQuery(obj, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 99, 'column': 4, 'index': 2753}","   97 |
   98 |     obj.id = new Id('Other', 'O1');
>  99 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  100 |   });
  101 |
  102 |   it('matches existence queries', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 109, 'column': 4, 'index': 2990}","  107 |     const q = new Parse.Query('Item');
  108 |     q.exists('count');
> 109 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  110 |     q.exists('name');
  111 |     expect(matchesQuery(obj, q)).toBe(false);
  112 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 111, 'column': 4, 'index': 3057}","  109 |     expect(matchesQuery(obj, q)).toBe(true);
  110 |     q.exists('name');
> 111 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  112 |   });
  113 |
  114 |   it('matches queries with doesNotExist constraint', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 121, 'column': 4, 'index': 3316}","  119 |     let q = new Parse.Query('Item');
  120 |     q.doesNotExist('name');
> 121 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  122 |
  123 |     q = new Parse.Query('Item');
  124 |     q.doesNotExist('count');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 125, 'column': 4, 'index': 3424}","  123 |     q = new Parse.Query('Item');
  124 |     q.doesNotExist('count');
> 125 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  126 |   });
  127 |
  128 |   it('matches queries with eq constraint', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 173, 'column': 4, 'index': 4377}","  171 |     let q = new Parse.Query('Person');
  172 |     q.equalTo('score', 12);
> 173 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  174 |
  175 |     q = new Parse.Query('Person');
  176 |     q.equalTo('name', 'Bill');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 173, 'column': 4, 'index': 4377}","  171 |     let q = new Parse.Query('Person');
  172 |     q.equalTo('score', 12);
> 173 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  174 |
  175 |     q = new Parse.Query('Person');
  176 |     q.equalTo('name', 'Bill');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 177, 'column': 4, 'index': 4489}","  175 |     q = new Parse.Query('Person');
  176 |     q.equalTo('name', 'Bill');
> 177 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  178 |     q.equalTo('name', 'Jeff');
  179 |     expect(matchesQuery(obj, q)).toBe(false);
  180 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 177, 'column': 4, 'index': 4489}","  175 |     q = new Parse.Query('Person');
  176 |     q.equalTo('name', 'Bill');
> 177 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  178 |     q.equalTo('name', 'Jeff');
  179 |     expect(matchesQuery(obj, q)).toBe(false);
  180 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 179, 'column': 4, 'index': 4565}","  177 |     expect(matchesQuery(obj, q)).toBe(true);
  178 |     q.equalTo('name', 'Jeff');
> 179 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  180 |
  181 |     q = new Parse.Query('Person');
  182 |     q.containedIn('name', ['Adam', 'Ben', 'Charles']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 179, 'column': 4, 'index': 4565}","  177 |     expect(matchesQuery(obj, q)).toBe(true);
  178 |     q.equalTo('name', 'Jeff');
> 179 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  180 |
  181 |     q = new Parse.Query('Person');
  182 |     q.containedIn('name', ['Adam', 'Ben', 'Charles']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 183, 'column': 4, 'index': 4702}","  181 |     q = new Parse.Query('Person');
  182 |     q.containedIn('name', ['Adam', 'Ben', 'Charles']);
> 183 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  184 |     q.containedIn('name', ['Adam', 'Bill', 'Charles']);
  185 |     expect(matchesQuery(obj, q)).toBe(true);
  186 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 183, 'column': 4, 'index': 4702}","  181 |     q = new Parse.Query('Person');
  182 |     q.containedIn('name', ['Adam', 'Ben', 'Charles']);
> 183 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  184 |     q.containedIn('name', ['Adam', 'Bill', 'Charles']);
  185 |     expect(matchesQuery(obj, q)).toBe(true);
  186 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 185, 'column': 4, 'index': 4804}","  183 |     expect(matchesQuery(obj, q)).toBe(false);
  184 |     q.containedIn('name', ['Adam', 'Bill', 'Charles']);
> 185 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  186 |
  187 |     q = new Parse.Query('Person');
  188 |     q.notContainedIn('name', ['Adam', 'Bill', 'Charles']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 185, 'column': 4, 'index': 4804}","  183 |     expect(matchesQuery(obj, q)).toBe(false);
  184 |     q.containedIn('name', ['Adam', 'Bill', 'Charles']);
> 185 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  186 |
  187 |     q = new Parse.Query('Person');
  188 |     q.notContainedIn('name', ['Adam', 'Bill', 'Charles']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 189, 'column': 4, 'index': 4944}","  187 |     q = new Parse.Query('Person');
  188 |     q.notContainedIn('name', ['Adam', 'Bill', 'Charles']);
> 189 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  190 |     q.notContainedIn('name', ['Adam', 'Ben', 'Charles']);
  191 |     expect(matchesQuery(obj, q)).toBe(true);
  192 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 189, 'column': 4, 'index': 4944}","  187 |     q = new Parse.Query('Person');
  188 |     q.notContainedIn('name', ['Adam', 'Bill', 'Charles']);
> 189 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  190 |     q.notContainedIn('name', ['Adam', 'Ben', 'Charles']);
  191 |     expect(matchesQuery(obj, q)).toBe(true);
  192 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 191, 'column': 4, 'index': 5048}","  189 |     expect(matchesQuery(obj, q)).toBe(false);
  190 |     q.notContainedIn('name', ['Adam', 'Ben', 'Charles']);
> 191 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  192 |
  193 |     q = new Parse.Query('Person');
  194 |     q.equalTo('birthday', day);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 191, 'column': 4, 'index': 5048}","  189 |     expect(matchesQuery(obj, q)).toBe(false);
  190 |     q.notContainedIn('name', ['Adam', 'Ben', 'Charles']);
> 191 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  192 |
  193 |     q = new Parse.Query('Person');
  194 |     q.equalTo('birthday', day);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 195, 'column': 4, 'index': 5161}","  193 |     q = new Parse.Query('Person');
  194 |     q.equalTo('birthday', day);
> 195 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  196 |     q.equalTo('birthday', new Date(1990, 1));
  197 |     expect(matchesQuery(obj, q)).toBe(false);
  198 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 195, 'column': 4, 'index': 5161}","  193 |     q = new Parse.Query('Person');
  194 |     q.equalTo('birthday', day);
> 195 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  196 |     q.equalTo('birthday', new Date(1990, 1));
  197 |     expect(matchesQuery(obj, q)).toBe(false);
  198 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 197, 'column': 4, 'index': 5252}","  195 |     expect(matchesQuery(obj, q)).toBe(true);
  196 |     q.equalTo('birthday', new Date(1990, 1));
> 197 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  198 |
  199 |     q = new Parse.Query('Person');
  200 |     q.equalTo("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 197, 'column': 4, 'index': 5252}","  195 |     expect(matchesQuery(obj, q)).toBe(true);
  196 |     q.equalTo('birthday', new Date(1990, 1));
> 197 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  198 |
  199 |     q = new Parse.Query('Person');
  200 |     q.equalTo("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 207, 'column': 4, 'index': 5475}","  205 |       })
  206 |     );
> 207 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  208 |     q.equalTo(
  209 |       'lastLocation',
  210 |       new Parse.GeoPoint({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 207, 'column': 4, 'index': 5475}","  205 |       })
  206 |     );
> 207 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  208 |     q.equalTo(
  209 |       'lastLocation',
  210 |       new Parse.GeoPoint({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 215, 'column': 4, 'index': 5657}","  213 |       })
  214 |     );
> 215 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  216 |
  217 |     q.equalTo(
  218 |       'lastLocation',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 215, 'column': 4, 'index': 5657}","  213 |       })
  214 |     );
> 215 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  216 |
  217 |     q.equalTo(
  218 |       'lastLocation',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 227, 'column': 4, 'index': 5936}","  225 |     q.equalTo('name', 'Bill');
  226 |     q.equalTo('birthday', day);
> 227 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  228 |
  229 |     q.equalTo('name', 'bill');
  230 |     expect(matchesQuery(obj, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 227, 'column': 4, 'index': 5936}","  225 |     q.equalTo('name', 'Bill');
  226 |     q.equalTo('birthday', day);
> 227 |     expect(matchesQuery(obj, q)).toBe(true);
      |    ^ Duplicate Assert
  228 |
  229 |     q.equalTo('name', 'bill');
  230 |     expect(matchesQuery(obj, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 230, 'column': 4, 'index': 6013}","  228 |
  229 |     q.equalTo('name', 'bill');
> 230 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  231 |
  232 |     let img = {
  233 |       id: new Id('Image', 'I1'),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 230, 'column': 4, 'index': 6013}","  228 |
  229 |     q.equalTo('name', 'bill');
> 230 |     expect(matchesQuery(obj, q)).toBe(false);
      |    ^ Duplicate Assert
  231 |
  232 |     let img = {
  233 |       id: new Id('Image', 'I1'),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 239, 'column': 4, 'index': 6230}","  237 |     q = new Parse.Query('Image');
  238 |     q.equalTo('tags', 'selfie');
> 239 |     expect(matchesQuery(img, q)).toBe(false);
      |    ^ Duplicate Assert
  240 |     q.equalTo('tags', 'tbt');
  241 |     expect(matchesQuery(img, q)).toBe(true);
  242 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 239, 'column': 4, 'index': 6230}","  237 |     q = new Parse.Query('Image');
  238 |     q.equalTo('tags', 'selfie');
> 239 |     expect(matchesQuery(img, q)).toBe(false);
      |    ^ Duplicate Assert
  240 |     q.equalTo('tags', 'tbt');
  241 |     expect(matchesQuery(img, q)).toBe(true);
  242 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 241, 'column': 4, 'index': 6306}","  239 |     expect(matchesQuery(img, q)).toBe(false);
  240 |     q.equalTo('tags', 'tbt');
> 241 |     expect(matchesQuery(img, q)).toBe(true);
      |    ^ Duplicate Assert
  242 |
  243 |     const q2 = new Parse.Query('Image');
  244 |     q2.containsAll('tags', ['latergram', 'nofilter']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 241, 'column': 4, 'index': 6306}","  239 |     expect(matchesQuery(img, q)).toBe(false);
  240 |     q.equalTo('tags', 'tbt');
> 241 |     expect(matchesQuery(img, q)).toBe(true);
      |    ^ Duplicate Assert
  242 |
  243 |     const q2 = new Parse.Query('Image');
  244 |     q2.containsAll('tags', ['latergram', 'nofilter']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 245, 'column': 4, 'index': 6448}","  243 |     const q2 = new Parse.Query('Image');
  244 |     q2.containsAll('tags', ['latergram', 'nofilter']);
> 245 |     expect(matchesQuery(img, q2)).toBe(true);
      |    ^ Duplicate Assert
  246 |     q2.containsAll('tags', ['latergram', 'selfie']);
  247 |     expect(matchesQuery(img, q2)).toBe(false);
  248 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 247, 'column': 4, 'index': 6547}","  245 |     expect(matchesQuery(img, q2)).toBe(true);
  246 |     q2.containsAll('tags', ['latergram', 'selfie']);
> 247 |     expect(matchesQuery(img, q2)).toBe(false);
      |    ^ Duplicate Assert
  248 |
  249 |     const u = new Parse.User();
  250 |     u.id = 'U2';"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 262, 'column': 4, 'index': 6849}","  260 |       },
  261 |     };
> 262 |     expect(matchesQuery(img, q)).toBe(true);
      |    ^ Duplicate Assert
  263 |
  264 |     img.owner.objectId = 'U3';
  265 |     expect(matchesQuery(img, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 262, 'column': 4, 'index': 6849}","  260 |       },
  261 |     };
> 262 |     expect(matchesQuery(img, q)).toBe(true);
      |    ^ Duplicate Assert
  263 |
  264 |     img.owner.objectId = 'U3';
  265 |     expect(matchesQuery(img, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 265, 'column': 4, 'index': 6926}","  263 |
  264 |     img.owner.objectId = 'U3';
> 265 |     expect(matchesQuery(img, q)).toBe(false);
      |    ^ Duplicate Assert
  266 |
  267 |     // pointers in arrays
  268 |     q = new Parse.Query('Image');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 265, 'column': 4, 'index': 6926}","  263 |
  264 |     img.owner.objectId = 'U3';
> 265 |     expect(matchesQuery(img, q)).toBe(false);
      |    ^ Duplicate Assert
  266 |
  267 |     // pointers in arrays
  268 |     q = new Parse.Query('Image');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 281, 'column': 4, 'index': 7231}","  279 |       ],
  280 |     };
> 281 |     expect(matchesQuery(img, q)).toBe(true);
      |    ^ Duplicate Assert
  282 |
  283 |     img.owners[0].objectId = 'U3';
  284 |     expect(matchesQuery(img, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 281, 'column': 4, 'index': 7231}","  279 |       ],
  280 |     };
> 281 |     expect(matchesQuery(img, q)).toBe(true);
      |    ^ Duplicate Assert
  282 |
  283 |     img.owners[0].objectId = 'U3';
  284 |     expect(matchesQuery(img, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 284, 'column': 4, 'index': 7312}","  282 |
  283 |     img.owners[0].objectId = 'U3';
> 284 |     expect(matchesQuery(img, q)).toBe(false);
      |    ^ Duplicate Assert
  285 |   });
  286 |
  287 |   it('matches on inequalities', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 284, 'column': 4, 'index': 7312}","  282 |
  283 |     img.owners[0].objectId = 'U3';
> 284 |     expect(matchesQuery(img, q)).toBe(false);
      |    ^ Duplicate Assert
  285 |   });
  286 |
  287 |   it('matches on inequalities', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 296, 'column': 4, 'index': 7616}","  294 |     let q = new Parse.Query('Person');
  295 |     q.lessThan('score', 15);
> 296 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  297 |     q.lessThan('score', 10);
  298 |     expect(matchesQuery(player, q)).toBe(false);
  299 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 296, 'column': 4, 'index': 7616}","  294 |     let q = new Parse.Query('Person');
  295 |     q.lessThan('score', 15);
> 296 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  297 |     q.lessThan('score', 10);
  298 |     expect(matchesQuery(player, q)).toBe(false);
  299 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 298, 'column': 4, 'index': 7693}","  296 |     expect(matchesQuery(player, q)).toBe(true);
  297 |     q.lessThan('score', 10);
> 298 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  299 |
  300 |     q = new Parse.Query('Person');
  301 |     q.lessThanOrEqualTo('score', 15);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 298, 'column': 4, 'index': 7693}","  296 |     expect(matchesQuery(player, q)).toBe(true);
  297 |     q.lessThan('score', 10);
> 298 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  299 |
  300 |     q = new Parse.Query('Person');
  301 |     q.lessThanOrEqualTo('score', 15);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 302, 'column': 4, 'index': 7816}","  300 |     q = new Parse.Query('Person');
  301 |     q.lessThanOrEqualTo('score', 15);
> 302 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  303 |     q.lessThanOrEqualTo('score', 12);
  304 |     expect(matchesQuery(player, q)).toBe(true);
  305 |     q.lessThanOrEqualTo('score', 10);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 302, 'column': 4, 'index': 7816}","  300 |     q = new Parse.Query('Person');
  301 |     q.lessThanOrEqualTo('score', 15);
> 302 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  303 |     q.lessThanOrEqualTo('score', 12);
  304 |     expect(matchesQuery(player, q)).toBe(true);
  305 |     q.lessThanOrEqualTo('score', 10);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 304, 'column': 4, 'index': 7902}","  302 |     expect(matchesQuery(player, q)).toBe(true);
  303 |     q.lessThanOrEqualTo('score', 12);
> 304 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  305 |     q.lessThanOrEqualTo('score', 10);
  306 |     expect(matchesQuery(player, q)).toBe(false);
  307 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 304, 'column': 4, 'index': 7902}","  302 |     expect(matchesQuery(player, q)).toBe(true);
  303 |     q.lessThanOrEqualTo('score', 12);
> 304 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  305 |     q.lessThanOrEqualTo('score', 10);
  306 |     expect(matchesQuery(player, q)).toBe(false);
  307 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 306, 'column': 4, 'index': 7988}","  304 |     expect(matchesQuery(player, q)).toBe(true);
  305 |     q.lessThanOrEqualTo('score', 10);
> 306 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  307 |
  308 |     q = new Parse.Query('Person');
  309 |     q.greaterThan('score', 15);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 306, 'column': 4, 'index': 7988}","  304 |     expect(matchesQuery(player, q)).toBe(true);
  305 |     q.lessThanOrEqualTo('score', 10);
> 306 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  307 |
  308 |     q = new Parse.Query('Person');
  309 |     q.greaterThan('score', 15);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 310, 'column': 4, 'index': 8105}","  308 |     q = new Parse.Query('Person');
  309 |     q.greaterThan('score', 15);
> 310 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  311 |     q.greaterThan('score', 10);
  312 |     expect(matchesQuery(player, q)).toBe(true);
  313 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 310, 'column': 4, 'index': 8105}","  308 |     q = new Parse.Query('Person');
  309 |     q.greaterThan('score', 15);
> 310 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  311 |     q.greaterThan('score', 10);
  312 |     expect(matchesQuery(player, q)).toBe(true);
  313 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 312, 'column': 4, 'index': 8186}","  310 |     expect(matchesQuery(player, q)).toBe(false);
  311 |     q.greaterThan('score', 10);
> 312 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  313 |
  314 |     q = new Parse.Query('Person');
  315 |     q.greaterThanOrEqualTo('score', 15);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 312, 'column': 4, 'index': 8186}","  310 |     expect(matchesQuery(player, q)).toBe(false);
  311 |     q.greaterThan('score', 10);
> 312 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  313 |
  314 |     q = new Parse.Query('Person');
  315 |     q.greaterThanOrEqualTo('score', 15);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 316, 'column': 4, 'index': 8311}","  314 |     q = new Parse.Query('Person');
  315 |     q.greaterThanOrEqualTo('score', 15);
> 316 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  317 |     q.greaterThanOrEqualTo('score', 12);
  318 |     expect(matchesQuery(player, q)).toBe(true);
  319 |     q.greaterThanOrEqualTo('score', 10);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 316, 'column': 4, 'index': 8311}","  314 |     q = new Parse.Query('Person');
  315 |     q.greaterThanOrEqualTo('score', 15);
> 316 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  317 |     q.greaterThanOrEqualTo('score', 12);
  318 |     expect(matchesQuery(player, q)).toBe(true);
  319 |     q.greaterThanOrEqualTo('score', 10);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 318, 'column': 4, 'index': 8401}","  316 |     expect(matchesQuery(player, q)).toBe(false);
  317 |     q.greaterThanOrEqualTo('score', 12);
> 318 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  319 |     q.greaterThanOrEqualTo('score', 10);
  320 |     expect(matchesQuery(player, q)).toBe(true);
  321 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 318, 'column': 4, 'index': 8401}","  316 |     expect(matchesQuery(player, q)).toBe(false);
  317 |     q.greaterThanOrEqualTo('score', 12);
> 318 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  319 |     q.greaterThanOrEqualTo('score', 10);
  320 |     expect(matchesQuery(player, q)).toBe(true);
  321 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 320, 'column': 4, 'index': 8490}","  318 |     expect(matchesQuery(player, q)).toBe(true);
  319 |     q.greaterThanOrEqualTo('score', 10);
> 320 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  321 |
  322 |     q = new Parse.Query('Person');
  323 |     q.notEqualTo('score', 12);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 320, 'column': 4, 'index': 8490}","  318 |     expect(matchesQuery(player, q)).toBe(true);
  319 |     q.greaterThanOrEqualTo('score', 10);
> 320 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  321 |
  322 |     q = new Parse.Query('Person');
  323 |     q.notEqualTo('score', 12);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 324, 'column': 4, 'index': 8605}","  322 |     q = new Parse.Query('Person');
  323 |     q.notEqualTo('score', 12);
> 324 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  325 |     q.notEqualTo('score', 40);
  326 |     expect(matchesQuery(player, q)).toBe(true);
  327 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 324, 'column': 4, 'index': 8605}","  322 |     q = new Parse.Query('Person');
  323 |     q.notEqualTo('score', 12);
> 324 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  325 |     q.notEqualTo('score', 40);
  326 |     expect(matchesQuery(player, q)).toBe(true);
  327 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 326, 'column': 4, 'index': 8685}","  324 |     expect(matchesQuery(player, q)).toBe(false);
  325 |     q.notEqualTo('score', 40);
> 326 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  327 |   });
  328 |
  329 |   it('matches an $or query', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 326, 'column': 4, 'index': 8685}","  324 |     expect(matchesQuery(player, q)).toBe(false);
  325 |     q.notEqualTo('score', 40);
> 326 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  327 |   });
  328 |
  329 |   it('matches an $or query', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 408, 'column': 4, 'index': 11141}","  406 |     let q = new Parse.Query('Player');
  407 |     q.startsWith('name', 'Play');
> 408 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  409 |     q.startsWith('name', 'Ploy');
  410 |     expect(matchesQuery(player, q)).toBe(false);
  411 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 408, 'column': 4, 'index': 11141}","  406 |     let q = new Parse.Query('Player');
  407 |     q.startsWith('name', 'Play');
> 408 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  409 |     q.startsWith('name', 'Ploy');
  410 |     expect(matchesQuery(player, q)).toBe(false);
  411 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 410, 'column': 4, 'index': 11223}","  408 |     expect(matchesQuery(player, q)).toBe(true);
  409 |     q.startsWith('name', 'Ploy');
> 410 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  411 |
  412 |     q = new Parse.Query('Player');
  413 |     q.endsWith('name', ' 1');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 410, 'column': 4, 'index': 11223}","  408 |     expect(matchesQuery(player, q)).toBe(true);
  409 |     q.startsWith('name', 'Ploy');
> 410 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  411 |
  412 |     q = new Parse.Query('Player');
  413 |     q.endsWith('name', ' 1');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 414, 'column': 4, 'index': 11338}","  412 |     q = new Parse.Query('Player');
  413 |     q.endsWith('name', ' 1');
> 414 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  415 |     q.endsWith('name', ' 2');
  416 |     expect(matchesQuery(player, q)).toBe(false);
  417 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 414, 'column': 4, 'index': 11338}","  412 |     q = new Parse.Query('Player');
  413 |     q.endsWith('name', ' 1');
> 414 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  415 |     q.endsWith('name', ' 2');
  416 |     expect(matchesQuery(player, q)).toBe(false);
  417 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 416, 'column': 4, 'index': 11416}","  414 |     expect(matchesQuery(player, q)).toBe(true);
  415 |     q.endsWith('name', ' 2');
> 416 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  417 |
  418 |     // Check that special characters are escaped
  419 |     player.name = 'Android-7';"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 416, 'column': 4, 'index': 11416}","  414 |     expect(matchesQuery(player, q)).toBe(true);
  415 |     q.endsWith('name', ' 2');
> 416 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  417 |
  418 |     // Check that special characters are escaped
  419 |     player.name = 'Android-7';"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 422, 'column': 4, 'index': 11612}","  420 |     q = new Parse.Query('Player');
  421 |     q.contains('name', 'd-7');
> 422 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  423 |
  424 |     q = new Parse.Query('Player');
  425 |     q.matches('name', /A.d/);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 422, 'column': 4, 'index': 11612}","  420 |     q = new Parse.Query('Player');
  421 |     q.contains('name', 'd-7');
> 422 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  423 |
  424 |     q = new Parse.Query('Player');
  425 |     q.matches('name', /A.d/);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 426, 'column': 4, 'index': 11726}","  424 |     q = new Parse.Query('Player');
  425 |     q.matches('name', /A.d/);
> 426 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  427 |
  428 |     q.matches('name', /A[^n]d/);
  429 |     expect(matchesQuery(player, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 426, 'column': 4, 'index': 11726}","  424 |     q = new Parse.Query('Player');
  425 |     q.matches('name', /A.d/);
> 426 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  427 |
  428 |     q.matches('name', /A[^n]d/);
  429 |     expect(matchesQuery(player, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 429, 'column': 4, 'index': 11808}","  427 |
  428 |     q.matches('name', /A[^n]d/);
> 429 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  430 |
  431 |     // Check that the string \\E is returned to normal
  432 |     player.name = 'Slash \\E';"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 429, 'column': 4, 'index': 11808}","  427 |
  428 |     q.matches('name', /A[^n]d/);
> 429 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  430 |
  431 |     // Check that the string \\E is returned to normal
  432 |     player.name = 'Slash \\E';"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 435, 'column': 4, 'index': 12012}","  433 |     q = new Parse.Query('Player');
  434 |     q.endsWith('name', 'h \\E');
> 435 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  436 |
  437 |     q.endsWith('name', 'h \\Ee');
  438 |     expect(matchesQuery(player, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 435, 'column': 4, 'index': 12012}","  433 |     q = new Parse.Query('Player');
  434 |     q.endsWith('name', 'h \\E');
> 435 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  436 |
  437 |     q.endsWith('name', 'h \\Ee');
  438 |     expect(matchesQuery(player, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 438, 'column': 4, 'index': 12095}","  436 |
  437 |     q.endsWith('name', 'h \\Ee');
> 438 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  439 |
  440 |     player.name = 'Slash \\Q and more';
  441 |     q = new Parse.Query('Player');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 438, 'column': 4, 'index': 12095}","  436 |
  437 |     q.endsWith('name', 'h \\Ee');
> 438 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  439 |
  440 |     player.name = 'Slash \\Q and more';
  441 |     q = new Parse.Query('Player');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 443, 'column': 4, 'index': 12257}","  441 |     q = new Parse.Query('Player');
  442 |     q.contains('name', 'h \\Q and');
> 443 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  444 |     q.contains('name', 'h \\Q or');
  445 |     expect(matchesQuery(player, q)).toBe(false);
  446 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 443, 'column': 4, 'index': 12257}","  441 |     q = new Parse.Query('Player');
  442 |     q.contains('name', 'h \\Q and');
> 443 |     expect(matchesQuery(player, q)).toBe(true);
      |    ^ Duplicate Assert
  444 |     q.contains('name', 'h \\Q or');
  445 |     expect(matchesQuery(player, q)).toBe(false);
  446 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 445, 'column': 4, 'index': 12341}","  443 |     expect(matchesQuery(player, q)).toBe(true);
  444 |     q.contains('name', 'h \\Q or');
> 445 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  446 |   });
  447 |
  448 |   it('matches $nearSphere queries', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 445, 'column': 4, 'index': 12341}","  443 |     expect(matchesQuery(player, q)).toBe(true);
  444 |     q.contains('name', 'h \\Q or');
> 445 |     expect(matchesQuery(player, q)).toBe(false);
      |    ^ Duplicate Assert
  446 |   });
  447 |
  448 |   it('matches $nearSphere queries', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 463, 'column': 4, 'index': 12847}","  461 |       location: null,
  462 |     };
> 463 |     expect(matchesQuery(pt, q)).toBe(true);
      |    ^ Duplicate Assert
  464 |     expect(matchesQuery(ptUndefined, q)).toBe(false);
  465 |     expect(matchesQuery(ptNull, q)).toBe(false);
  466 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 463, 'column': 4, 'index': 12847}","  461 |       location: null,
  462 |     };
> 463 |     expect(matchesQuery(pt, q)).toBe(true);
      |    ^ Duplicate Assert
  464 |     expect(matchesQuery(ptUndefined, q)).toBe(false);
  465 |     expect(matchesQuery(ptNull, q)).toBe(false);
  466 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 470, 'column': 4, 'index': 13143}","  468 |     pt.location = new Parse.GeoPoint(40, 40);
  469 |     q.withinRadians('location', new Parse.GeoPoint(30, 30), 0.3);
> 470 |     expect(matchesQuery(pt, q)).toBe(true);
      |    ^ Duplicate Assert
  471 |
  472 |     q.withinRadians('location', new Parse.GeoPoint(30, 30), 0.2);
  473 |     expect(matchesQuery(pt, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 470, 'column': 4, 'index': 13143}","  468 |     pt.location = new Parse.GeoPoint(40, 40);
  469 |     q.withinRadians('location', new Parse.GeoPoint(30, 30), 0.3);
> 470 |     expect(matchesQuery(pt, q)).toBe(true);
      |    ^ Duplicate Assert
  471 |
  472 |     q.withinRadians('location', new Parse.GeoPoint(30, 30), 0.2);
  473 |     expect(matchesQuery(pt, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 473, 'column': 4, 'index': 13254}","  471 |
  472 |     q.withinRadians('location', new Parse.GeoPoint(30, 30), 0.2);
> 473 |     expect(matchesQuery(pt, q)).toBe(false);
      |    ^ Duplicate Assert
  474 |   });
  475 |
  476 |   it('matches $within queries', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 506, 'column': 4, 'index': 14056}","  504 |     );
  505 |
> 506 |     expect(matchesQuery(caltrainStation, q)).toBe(true);
      |    ^ Duplicate Assert
  507 |     expect(matchesQuery(santaClara, q)).toBe(false);
  508 |     expect(matchesQuery(noLocation, q)).toBe(false);
  509 |     expect(matchesQuery(nullLocation, q)).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 507, 'column': 4, 'index': 14113}","  505 |
  506 |     expect(matchesQuery(caltrainStation, q)).toBe(true);
> 507 |     expect(matchesQuery(santaClara, q)).toBe(false);
      |    ^ Duplicate Assert
  508 |     expect(matchesQuery(noLocation, q)).toBe(false);
  509 |     expect(matchesQuery(nullLocation, q)).toBe(false);
  510 |     // Invalid rectangles"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 507, 'column': 4, 'index': 14113}","  505 |
  506 |     expect(matchesQuery(caltrainStation, q)).toBe(true);
> 507 |     expect(matchesQuery(santaClara, q)).toBe(false);
      |    ^ Duplicate Assert
  508 |     expect(matchesQuery(noLocation, q)).toBe(false);
  509 |     expect(matchesQuery(nullLocation, q)).toBe(false);
  510 |     // Invalid rectangles"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 517, 'column': 4, 'index': 14474}","  515 |     );
  516 |
> 517 |     expect(matchesQuery(caltrainStation, q)).toBe(false);
      |    ^ Duplicate Assert
  518 |     expect(matchesQuery(santaClara, q)).toBe(false);
  519 |
  520 |     q = new Parse.Query('Checkin').withinGeoBox("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 517, 'column': 4, 'index': 14474}","  515 |     );
  516 |
> 517 |     expect(matchesQuery(caltrainStation, q)).toBe(false);
      |    ^ Duplicate Assert
  518 |     expect(matchesQuery(santaClara, q)).toBe(false);
  519 |
  520 |     q = new Parse.Query('Checkin').withinGeoBox("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 518, 'column': 4, 'index': 14532}","  516 |
  517 |     expect(matchesQuery(caltrainStation, q)).toBe(false);
> 518 |     expect(matchesQuery(santaClara, q)).toBe(false);
      |    ^ Duplicate Assert
  519 |
  520 |     q = new Parse.Query('Checkin').withinGeoBox(
  521 |       'location',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 518, 'column': 4, 'index': 14532}","  516 |
  517 |     expect(matchesQuery(caltrainStation, q)).toBe(false);
> 518 |     expect(matchesQuery(santaClara, q)).toBe(false);
      |    ^ Duplicate Assert
  519 |
  520 |     q = new Parse.Query('Checkin').withinGeoBox(
  521 |       'location',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 526, 'column': 4, 'index': 14760}","  524 |     );
  525 |
> 526 |     expect(matchesQuery(caltrainStation, q)).toBe(false);
      |    ^ Duplicate Assert
  527 |     expect(matchesQuery(santaClara, q)).toBe(false);
  528 |   });
  529 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 526, 'column': 4, 'index': 14760}","  524 |     );
  525 |
> 526 |     expect(matchesQuery(caltrainStation, q)).toBe(false);
      |    ^ Duplicate Assert
  527 |     expect(matchesQuery(santaClara, q)).toBe(false);
  528 |   });
  529 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 527, 'column': 4, 'index': 14818}","  525 |
  526 |     expect(matchesQuery(caltrainStation, q)).toBe(false);
> 527 |     expect(matchesQuery(santaClara, q)).toBe(false);
      |    ^ Duplicate Assert
  528 |   });
  529 |
  530 |   it('matches on subobjects with dot notation', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 527, 'column': 4, 'index': 14818}","  525 |
  526 |     expect(matchesQuery(caltrainStation, q)).toBe(false);
> 527 |     expect(matchesQuery(santaClara, q)).toBe(false);
      |    ^ Duplicate Assert
  528 |   });
  529 |
  530 |   it('matches on subobjects with dot notation', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 539, 'column': 4, 'index': 15148}","  537 |     let q = new Parse.Query('Message');
  538 |     q.equalTo('status.x', 'read');
> 539 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  540 |
  541 |     q = new Parse.Query('Message');
  542 |     q.equalTo('status.z', 'read');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 539, 'column': 4, 'index': 15148}","  537 |     let q = new Parse.Query('Message');
  538 |     q.equalTo('status.x', 'read');
> 539 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  540 |
  541 |     q = new Parse.Query('Message');
  542 |     q.equalTo('status.z', 'read');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 543, 'column': 4, 'index': 15269}","  541 |     q = new Parse.Query('Message');
  542 |     q.equalTo('status.z', 'read');
> 543 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  544 |
  545 |     q = new Parse.Query('Message');
  546 |     q.equalTo('status.x', 'delivered');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 543, 'column': 4, 'index': 15269}","  541 |     q = new Parse.Query('Message');
  542 |     q.equalTo('status.z', 'read');
> 543 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  544 |
  545 |     q = new Parse.Query('Message');
  546 |     q.equalTo('status.x', 'delivered');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 547, 'column': 4, 'index': 15396}","  545 |     q = new Parse.Query('Message');
  546 |     q.equalTo('status.x', 'delivered');
> 547 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  548 |
  549 |     q = new Parse.Query('Message');
  550 |     q.notEqualTo('status.x', 'read');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 547, 'column': 4, 'index': 15396}","  545 |     q = new Parse.Query('Message');
  546 |     q.equalTo('status.x', 'delivered');
> 547 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  548 |
  549 |     q = new Parse.Query('Message');
  550 |     q.notEqualTo('status.x', 'read');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 551, 'column': 4, 'index': 15521}","  549 |     q = new Parse.Query('Message');
  550 |     q.notEqualTo('status.x', 'read');
> 551 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  552 |
  553 |     q = new Parse.Query('Message');
  554 |     q.notEqualTo('status.z', 'read');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 551, 'column': 4, 'index': 15521}","  549 |     q = new Parse.Query('Message');
  550 |     q.notEqualTo('status.x', 'read');
> 551 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  552 |
  553 |     q = new Parse.Query('Message');
  554 |     q.notEqualTo('status.z', 'read');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 555, 'column': 4, 'index': 15646}","  553 |     q = new Parse.Query('Message');
  554 |     q.notEqualTo('status.z', 'read');
> 555 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  556 |
  557 |     q = new Parse.Query('Message');
  558 |     q.notEqualTo('status.x', 'delivered');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 555, 'column': 4, 'index': 15646}","  553 |     q = new Parse.Query('Message');
  554 |     q.notEqualTo('status.z', 'read');
> 555 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  556 |
  557 |     q = new Parse.Query('Message');
  558 |     q.notEqualTo('status.x', 'delivered');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 559, 'column': 4, 'index': 15775}","  557 |     q = new Parse.Query('Message');
  558 |     q.notEqualTo('status.x', 'delivered');
> 559 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  560 |
  561 |     q = new Parse.Query('Message');
  562 |     q.exists('status.x');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 559, 'column': 4, 'index': 15775}","  557 |     q = new Parse.Query('Message');
  558 |     q.notEqualTo('status.x', 'delivered');
> 559 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  560 |
  561 |     q = new Parse.Query('Message');
  562 |     q.exists('status.x');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 563, 'column': 4, 'index': 15887}","  561 |     q = new Parse.Query('Message');
  562 |     q.exists('status.x');
> 563 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  564 |
  565 |     q = new Parse.Query('Message');
  566 |     q.exists('status.z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 563, 'column': 4, 'index': 15887}","  561 |     q = new Parse.Query('Message');
  562 |     q.exists('status.x');
> 563 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  564 |
  565 |     q = new Parse.Query('Message');
  566 |     q.exists('status.z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 567, 'column': 4, 'index': 15999}","  565 |     q = new Parse.Query('Message');
  566 |     q.exists('status.z');
> 567 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  568 |
  569 |     q = new Parse.Query('Message');
  570 |     q.exists('nonexistent.x');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 567, 'column': 4, 'index': 15999}","  565 |     q = new Parse.Query('Message');
  566 |     q.exists('status.z');
> 567 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  568 |
  569 |     q = new Parse.Query('Message');
  570 |     q.exists('nonexistent.x');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 571, 'column': 4, 'index': 16117}","  569 |     q = new Parse.Query('Message');
  570 |     q.exists('nonexistent.x');
> 571 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  572 |
  573 |     q = new Parse.Query('Message');
  574 |     q.doesNotExist('status.x');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 571, 'column': 4, 'index': 16117}","  569 |     q = new Parse.Query('Message');
  570 |     q.exists('nonexistent.x');
> 571 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  572 |
  573 |     q = new Parse.Query('Message');
  574 |     q.doesNotExist('status.x');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 575, 'column': 4, 'index': 16236}","  573 |     q = new Parse.Query('Message');
  574 |     q.doesNotExist('status.x');
> 575 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  576 |
  577 |     q = new Parse.Query('Message');
  578 |     q.doesNotExist('status.z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 575, 'column': 4, 'index': 16236}","  573 |     q = new Parse.Query('Message');
  574 |     q.doesNotExist('status.x');
> 575 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  576 |
  577 |     q = new Parse.Query('Message');
  578 |     q.doesNotExist('status.z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 579, 'column': 4, 'index': 16355}","  577 |     q = new Parse.Query('Message');
  578 |     q.doesNotExist('status.z');
> 579 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  580 |
  581 |     q = new Parse.Query('Message');
  582 |     q.doesNotExist('nonexistent.z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 579, 'column': 4, 'index': 16355}","  577 |     q = new Parse.Query('Message');
  578 |     q.doesNotExist('status.z');
> 579 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  580 |
  581 |     q = new Parse.Query('Message');
  582 |     q.doesNotExist('nonexistent.z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 583, 'column': 4, 'index': 16478}","  581 |     q = new Parse.Query('Message');
  582 |     q.doesNotExist('nonexistent.z');
> 583 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  584 |
  585 |     q = new Parse.Query('Message');
  586 |     q.equalTo('status.x', 'read');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 583, 'column': 4, 'index': 16478}","  581 |     q = new Parse.Query('Message');
  582 |     q.doesNotExist('nonexistent.z');
> 583 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  584 |
  585 |     q = new Parse.Query('Message');
  586 |     q.equalTo('status.x', 'read');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 588, 'column': 4, 'index': 16631}","  586 |     q.equalTo('status.x', 'read');
  587 |     q.doesNotExist('status.y');
> 588 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  589 |   });
  590 |
  591 |   function pointer(className, objectId) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 588, 'column': 4, 'index': 16631}","  586 |     q.equalTo('status.x', 'read');
  587 |     q.doesNotExist('status.y');
> 588 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  589 |   });
  590 |
  591 |   function pointer(className, objectId) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 605, 'column': 4, 'index': 17176}","  603 |       Parse.Object.fromJSON({ className: 'Profile', objectId: 'def' }),
  604 |     ]);
> 605 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  606 |
  607 |     q = new Parse.Query('Message');
  608 |     q.containedIn('profile', ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 612, 'column': 4, 'index': 17445}","  610 |       Parse.Object.fromJSON({ className: 'Profile', objectId: 'def' }),
  611 |     ]);
> 612 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  613 |   });
  614 |
  615 |   it('should support containedIn with array of pointers', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 627, 'column': 4, 'index': 17932}","  625 |     ]);
  626 |
> 627 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  628 |
  629 |     q = new Parse.Query('Message');
  630 |     q.containedIn('profiles', ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 635, 'column': 4, 'index': 18203}","  633 |     ]);
  634 |
> 635 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  636 |   });
  637 |
  638 |   it('should support notContainedIn with pointers', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 648, 'column': 4, 'index': 18650}","  646 |       Parse.Object.fromJSON({ className: 'Profile', objectId: 'ghi' }),
  647 |     ]);
> 648 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  649 |
  650 |     message = {
  651 |       id: new Id('Message', 'O1'),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 659, 'column': 4, 'index': 19022}","  657 |       Parse.Object.fromJSON({ className: 'Profile', objectId: 'def' }),
  658 |     ]);
> 659 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  660 |   });
  661 |
  662 |   it('should support containedIn queries with [objectId]', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 669, 'column': 4, 'index': 19336}","  667 |     let q = new Parse.Query('Message');
  668 |     q.containedIn('profile', ['abc', 'def']);
> 669 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  670 |
  671 |     message = {
  672 |       id: new Id('Message', 'O1'),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 677, 'column': 4, 'index': 19568}","  675 |     q = new Parse.Query('Message');
  676 |     q.containedIn('profile', ['abc', 'def']);
> 677 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  678 |   });
  679 |
  680 |   it('should support notContainedIn queries with [objectId]', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 687, 'column': 4, 'index': 19888}","  685 |     let q = new Parse.Query('Message');
  686 |     q.notContainedIn('profile', ['abc', 'def']);
> 687 |     expect(matchesQuery(message, q)).toBe(true);
      |    ^ Duplicate Assert
  688 |     message = {
  689 |       id: new Id('Message', 'O1'),
  690 |       profile: pointer('Profile', 'ghi'),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 694, 'column': 4, 'index': 20129}","  692 |     q = new Parse.Query('Message');
  693 |     q.notContainedIn('profile', ['abc', 'def', 'ghi']);
> 694 |     expect(matchesQuery(message, q)).toBe(false);
      |    ^ Duplicate Assert
  695 |   });
  696 |
  697 |   it('matches on Date', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 713, 'column': 4, 'index': 20555}","  711 |     q.equalTo('dateObject', now);
  712 |     q.equalTo('dateJSON', now);
> 713 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  714 |
  715 |     // when, then: lessThan
  716 |     const future = Date(now.getTime() + 1000);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 713, 'column': 4, 'index': 20555}","  711 |     q.equalTo('dateObject', now);
  712 |     q.equalTo('dateJSON', now);
> 713 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  714 |
  715 |     // when, then: lessThan
  716 |     const future = Date(now.getTime() + 1000);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 720, 'column': 4, 'index': 20804}","  718 |     q.lessThan('dateObject', future);
  719 |     q.lessThan('dateJSON', future);
> 720 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  721 |
  722 |     // when, then: lessThanOrEqualTo
  723 |     q = new Parse.Query('Person');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 720, 'column': 4, 'index': 20804}","  718 |     q.lessThan('dateObject', future);
  719 |     q.lessThan('dateJSON', future);
> 720 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  721 |
  722 |     // when, then: lessThanOrEqualTo
  723 |     q = new Parse.Query('Person');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 726, 'column': 4, 'index': 21027}","  724 |     q.lessThanOrEqualTo('dateObject', now);
  725 |     q.lessThanOrEqualTo('dateJSON', now);
> 726 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  727 |
  728 |     // when, then: greaterThan
  729 |     const past = Date(now.getTime() - 1000);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 726, 'column': 4, 'index': 21027}","  724 |     q.lessThanOrEqualTo('dateObject', now);
  725 |     q.lessThanOrEqualTo('dateJSON', now);
> 726 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  727 |
  728 |     // when, then: greaterThan
  729 |     const past = Date(now.getTime() - 1000);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 733, 'column': 4, 'index': 21279}","  731 |     q.greaterThan('dateObject', past);
  732 |     q.greaterThan('dateJSON', past);
> 733 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  734 |
  735 |     // when, then: greaterThanOrEqualTo
  736 |     q = new Parse.Query('Person');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 733, 'column': 4, 'index': 21279}","  731 |     q.greaterThan('dateObject', past);
  732 |     q.greaterThan('dateJSON', past);
> 733 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  734 |
  735 |     // when, then: greaterThanOrEqualTo
  736 |     q = new Parse.Query('Person');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 739, 'column': 4, 'index': 21511}","  737 |     q.greaterThanOrEqualTo('dateObject', now);
  738 |     q.greaterThanOrEqualTo('dateJSON', now);
> 739 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  740 |   });
  741 |
  742 |   it('should support containedBy query', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/QueryTools.spec.js,Duplicate Assert,"{'line': 739, 'column': 4, 'index': 21511}","  737 |     q.greaterThanOrEqualTo('dateObject', now);
  738 |     q.greaterThanOrEqualTo('dateJSON', now);
> 739 |     expect(matchesQuery(Object.assign({}, obj), q)).toBe(true);
      |    ^ Duplicate Assert
  740 |   });
  741 |
  742 |   it('should support containedBy query', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushWorker.spec.js,Conditional Test Logic,"{'line': 32, 'column': 8, 'index': 973}","  30 |         });
  31 |         const installations = [];
> 32 |         while (installations.length != 10) {
     |        ^ Conditional Test Logic
  33 |           const installation = new Parse.Object('_Installation');
  34 |           installation.set('installationId', 'installation_' + installations.length);
  35 |           installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushWorker.spec.js,Magic Number,"{'line': 61, 'column': 31, 'index': 1888}","  59 |       })
  60 |       .then(() => {
> 61 |         expect(sendCount).toBe(10);
     |                               ^ Magic Number
  62 |         done();
  63 |       })
  64 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushWorker.spec.js,Magic Number,"{'line': 262, 'column': 37, 'index': 6944}","  260 |       );
  261 |       expect(spy).toHaveBeenCalled();
> 262 |       expect(spy.calls.count()).toBe(1);
      |                                     ^ Magic Number
  263 |       const lastCall = spy.calls.mostRecent();
  264 |       expect(lastCall.args[0]).toBe('_Installation');
  265 |       expect(lastCall.args[1]).toEqual({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushWorker.spec.js,Sleepy Test,"{'line': 57, 'column': 10, 'index': 1790}","  55 |       .then(() => {
  56 |         return new Promise(resolve => {
> 57 |           setTimeout(resolve, 500);
     |          ^ Sleepy Test
  58 |         });
  59 |       })
  60 |       .then(() => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushRouter.spec.js,Magic Number,"{'line': 86, 'column': 64, 'index': 1998}","  84 |     }).then(res => {
  85 |       expect(res.headers['x-parse-push-status-id']).not.toBe(undefined);
> 86 |       expect(res.headers['x-parse-push-status-id'].length).toBe(10);
     |                                                                ^ Magic Number
  87 |       expect(res.data.result).toBe(true);
  88 |       done();
  89 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 33, 'column': 2, 'index': 946}","  31 |   query.equalTo('objectId', pushId);
  32 |   let result = await query.first({ useMasterKey: true });
> 33 |   while (!(result && result.get('status') === 'succeeded')) {
     |  ^ Conditional Test Logic
  34 |     await jasmine.timeout();
  35 |     result = await query.first({ useMasterKey: true });
  36 |   }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 195, 'column': 4, 'index': 5151}","  193 |     };
  194 |     const installations = [];
> 195 |     while (installations.length != 10) {
      |    ^ Conditional Test Logic
  196 |       const installation = new Parse.Object('_Installation');
  197 |       installation.set('installationId', 'installation_' + installations.length);
  198 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 205, 'column': 4, 'index': 5625}","  203 |     }
  204 |
> 205 |     while (installations.length != 15) {
      |    ^ Conditional Test Logic
  206 |       const installation = new Parse.Object('_Installation');
  207 |       installation.set('installationId', 'installation_' + installations.length);
  208 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 230, 'column': 4, 'index': 6726}","  228 |     const results = await query.find({ useMasterKey: true });
  229 |     expect(results.length).toBe(15);
> 230 |     for (let i = 0; i < 15; i++) {
      |    ^ Conditional Test Logic
  231 |       const installation = results[i];
  232 |       expect(installation.get('badge')).toBe(parseInt(installation.get('originalBadge')) + 1);
  233 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 260, 'column': 4, 'index': 7717}","  258 |     };
  259 |     const installations = [];
> 260 |     while (installations.length != 10) {
      |    ^ Conditional Test Logic
  261 |       const installation = new Parse.Object('_Installation');
  262 |       installation.set('installationId', 'installation_' + installations.length);
  263 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 270, 'column': 4, 'index': 8191}","  268 |     }
  269 |
> 270 |     while (installations.length != 15) {
      |    ^ Conditional Test Logic
  271 |       const installation = new Parse.Object('_Installation');
  272 |       installation.set('installationId', 'installation_' + installations.length);
  273 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 292, 'column': 4, 'index': 9249}","  290 |     const results = await query.find({ useMasterKey: true });
  291 |     expect(results.length).toBe(15);
> 292 |     for (let i = 0; i < 15; i++) {
      |    ^ Conditional Test Logic
  293 |       const installation = results[i];
  294 |       expect(installation.get('badge')).toBe(parseInt(installation.get('originalBadge')) + 3);
  295 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 322, 'column': 4, 'index': 10153}","  320 |     };
  321 |     const installations = [];
> 322 |     while (installations.length != 10) {
      |    ^ Conditional Test Logic
  323 |       const installation = new Parse.Object('_Installation');
  324 |       installation.set('installationId', 'installation_' + installations.length);
  325 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 346, 'column': 4, 'index': 11209}","  344 |     const results = await query.find({ useMasterKey: true });
  345 |     expect(results.length).toBe(10);
> 346 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  347 |       const installation = results[i];
  348 |       expect(installation.get('badge')).toBe(1);
  349 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 360, 'column': 4, 'index': 11601}","  358 |     };
  359 |     const installations = [];
> 360 |     while (installations.length != 10) {
      |    ^ Conditional Test Logic
  361 |       const installation = new Parse.Object('_Installation');
  362 |       installation.set('installationId', 'installation_' + installations.length);
  363 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 414, 'column': 4, 'index': 13679}","  412 |     Parse.Cloud.afterSave('_PushStatus', pushStatusAfterSave.handler);
  413 |     const installations = [];
> 414 |     while (installations.length != 10) {
      |    ^ Conditional Test Logic
  415 |       const installation = new Parse.Object('_Installation');
  416 |       installation.set('installationId', 'installation_' + installations.length);
  417 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 424, 'column': 4, 'index': 14153}","  422 |     }
  423 |
> 424 |     while (installations.length != 15) {
      |    ^ Conditional Test Logic
  425 |       const installation = new Parse.Object('_Installation');
  426 |       installation.set('installationId', 'installation_' + installations.length);
  427 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 496, 'column': 6, 'index': 16659}","  494 |       expect(object instanceof Parse.Object).toBe(true);
  495 |       const pushStatus = getPushStatus(index);
> 496 |       if (pushStatus.get('status') === 'pending') {
      |      ^ Conditional Test Logic
  497 |         pendingCount += 1;
  498 |       }
  499 |       if (pushStatus.get('status') === 'running') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 499, 'column': 6, 'index': 16746}","  497 |         pendingCount += 1;
  498 |       }
> 499 |       if (pushStatus.get('status') === 'running') {
      |      ^ Conditional Test Logic
  500 |         runningCount += 1;
  501 |       }
  502 |       if (pushStatus.get('status') === 'succeeded') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 502, 'column': 6, 'index': 16833}","  500 |         runningCount += 1;
  501 |       }
> 502 |       if (pushStatus.get('status') === 'succeeded') {
      |      ^ Conditional Test Logic
  503 |         succeedCount += 1;
  504 |       }
  505 |       if (pushStatus.get('status') === 'running' && pushStatus.get('numSent') > 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 505, 'column': 6, 'index': 16922}","  503 |         succeedCount += 1;
  504 |       }
> 505 |       if (pushStatus.get('status') === 'running' && pushStatus.get('numSent') > 0) {
      |      ^ Conditional Test Logic
  506 |         expect(pushStatus.get('numSent')).toBe(10);
  507 |         expect(pushStatus.get('numFailed')).toBe(5);
  508 |         expect(pushStatus.get('failedPerType')).toEqual({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 605, 'column': 6, 'index': 19956}","  603 |       const query = new Parse.Query('_PushStatus');
  604 |       let results = await query.find({ useMasterKey: true });
> 605 |       while (results.length === 0) {
      |      ^ Conditional Test Logic
  606 |         results = await query.find({ useMasterKey: true });
  607 |       }
  608 |       expect(results.length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 644, 'column': 4, 'index': 20980}","  642 |     };
  643 |     const installations = [];
> 644 |     while (installations.length != 5) {
      |    ^ Conditional Test Logic
  645 |       const installation = new Parse.Object('_Installation');
  646 |       installation.set('installationId', 'installation_' + installations.length);
  647 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 688, 'column': 4, 'index': 22386}","  686 |     };
  687 |     const installations = [];
> 688 |     while (installations.length != 5) {
      |    ^ Conditional Test Logic
  689 |       const installation = new Parse.Object('_Installation');
  690 |       installation.set('installationId', 'installation_' + installations.length);
  691 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 784, 'column': 4, 'index': 25140}","  782 |
  783 |     const installations = [];
> 784 |     while (installations.length != 10) {
      |    ^ Conditional Test Logic
  785 |       const installation = new Parse.Object('_Installation');
  786 |       installation.set('installationId', 'installation_' + installations.length);
  787 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 810, 'column': 10, 'index': 26244}","  808 |       send: function (body, installations) {
  809 |         const promises = installations.map(device => {
> 810 |           if (!device.deviceToken) {
      |          ^ Conditional Test Logic
  811 |             // Simulate error when device token is not set
  812 |             return Promise.reject();
  813 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 834, 'column': 4, 'index': 26831}","  832 |     };
  833 |     const installations = [];
> 834 |     while (installations.length != 10) {
      |    ^ Conditional Test Logic
  835 |       const installation = new Parse.Object('_Installation');
  836 |       installation.set('installationId', 'installation_' + installations.length);
  837 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 865, 'column': 10, 'index': 28102}","  863 |       send: function (body, installations) {
  864 |         const promises = installations.map(device => {
> 865 |           if (!device.deviceToken) {
      |          ^ Conditional Test Logic
  866 |             // Simulate error when device token is not set
  867 |             return Promise.reject();
  868 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 888, 'column': 4, 'index': 28640}","  886 |     };
  887 |     const installations = [];
> 888 |     while (installations.length != 5) {
      |    ^ Conditional Test Logic
  889 |       const installation = new Parse.Object('_Installation');
  890 |       installation.set('installationId', 'installation_' + installations.length);
  891 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 897, 'column': 4, 'index': 29112}","  895 |       installations.push(installation);
  896 |     }
> 897 |     while (installations.length != 15) {
      |    ^ Conditional Test Logic
  898 |       const installation = new Parse.Object('_Installation');
  899 |       installation.set('installationId', 'installation_' + installations.length);
  900 |       installation.set('badge', installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 924, 'column': 10, 'index': 30244}","  922 |       send: function (body, installations) {
  923 |         const promises = installations.map(device => {
> 924 |           if (!device.deviceToken) {
      |          ^ Conditional Test Logic
  925 |             // Simulate error when device token is not set
  926 |             return Promise.reject();
  927 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 947, 'column': 4, 'index': 30782}","  945 |     };
  946 |     const installations = [];
> 947 |     while (installations.length != 5) {
      |    ^ Conditional Test Logic
  948 |       const installation = new Parse.Object('_Installation');
  949 |       installation.set('installationId', 'installation_' + installations.length);
  950 |       installation.set('badge', installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 994, 'column': 4, 'index': 32312}","  992 |     };
  993 |     const installations = [];
> 994 |     while (installations.length != 5) {
      |    ^ Conditional Test Logic
  995 |       const installation = new Parse.Object('_Installation');
  996 |       installation.set('installationId', 'installation_' + installations.length);
  997 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 1050, 'column': 4, 'index': 34339}","  1048 |     };
  1049 |     const installations = [];
> 1050 |     while (installations.length != 5) {
       |    ^ Conditional Test Logic
  1051 |       const installation = new Parse.Object('_Installation');
  1052 |       installation.set('installationId', 'installation_' + installations.length);
  1053 |       installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 1066, 'column': 6, 'index': 35059}","  1064 |     query.equalTo('query', JSON.stringify(where));
  1065 |     const parseResults = results => {
> 1066 |       if (results.length > 0) {
       |      ^ Conditional Test Logic
  1067 |         audienceId = results[0].id;
  1068 |         timesUsed = results[0].get('timesUsed');
  1069 |         if (!isFinite(timesUsed)) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 1069, 'column': 8, 'index': 35178}","  1067 |         audienceId = results[0].id;
  1068 |         timesUsed = results[0].get('timesUsed');
> 1069 |         if (!isFinite(timesUsed)) {
       |        ^ Conditional Test Logic
  1070 |           timesUsed = 0;
  1071 |         }
  1072 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 1144, 'column': 6, 'index': 37779}","  1142 |       let expectedHour = 17 + noTimezone.getTimezoneOffset() / 60;
  1143 |       let day = '06';
> 1144 |       if (expectedHour >= 24) {
       |      ^ Conditional Test Logic
  1145 |         expectedHour = expectedHour - 24;
  1146 |         day = '07';
  1147 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Conditional Test Logic,"{'line': 1177, 'column': 6, 'index': 38814}","  1175 |       let expectedHour = 17 + new Date(pushTime).getTimezoneOffset() / 60;
  1176 |       let day = '06';
> 1177 |       if (expectedHour >= 24) {
       |      ^ Conditional Test Logic
  1178 |         expectedHour = expectedHour - 24;
  1179 |         day = '07';
  1180 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Duplicate Assert,"{'line': 1293, 'column': 8, 'index': 41811}","  1291 |         );
  1292 |         const pushStatus = await Parse.Push.getPushStatus(pushStatusId);
> 1293 |         expect(pushStatus.get('expiry')).toBeDefined('expiry must be set');
       |        ^ Duplicate Assert
  1294 |         expect(pushStatus.get('expiry')).toEqual(new Date('2017-09-25T13:50:10.452Z').valueOf());
  1295 |
  1296 |         expect(pushStatus.get('expiration_interval')).toBeDefined("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Duplicate Assert,"{'line': 1294, 'column': 8, 'index': 41887}","  1292 |         const pushStatus = await Parse.Push.getPushStatus(pushStatusId);
  1293 |         expect(pushStatus.get('expiry')).toBeDefined('expiry must be set');
> 1294 |         expect(pushStatus.get('expiry')).toEqual(new Date('2017-09-25T13:50:10.452Z').valueOf());
       |        ^ Duplicate Assert
  1295 |
  1296 |         expect(pushStatus.get('expiration_interval')).toBeDefined(
  1297 |           'expiration_interval must be defined'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Duplicate Assert,"{'line': 1296, 'column': 8, 'index': 41986}","  1294 |         expect(pushStatus.get('expiry')).toEqual(new Date('2017-09-25T13:50:10.452Z').valueOf());
  1295 |
> 1296 |         expect(pushStatus.get('expiration_interval')).toBeDefined(
       |        ^ Duplicate Assert
  1297 |           'expiration_interval must be defined'
  1298 |         );
  1299 |         expect(pushStatus.get('expiration_interval')).toBe(20 * 60);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Duplicate Assert,"{'line': 1299, 'column': 8, 'index': 42112}","  1297 |           'expiration_interval must be defined'
  1298 |         );
> 1299 |         expect(pushStatus.get('expiration_interval')).toBe(20 * 60);
       |        ^ Duplicate Assert
  1300 |       });
  1301 |     });
  1302 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Exception Handling,"{'line': 599, 'column': 4, 'index': 19731}","  597 |     const pushController = new PushController();
  598 |     const config = Config.get(Parse.applicationId);
> 599 |     try {
      |    ^ Exception Handling
  600 |       await pushController.sendPush(payload, where, config, auth);
  601 |       fail();
  602 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Magic Number,"{'line': 608, 'column': 34, 'index': 20089}","  606 |         results = await query.find({ useMasterKey: true });
  607 |       }
> 608 |       expect(results.length).toBe(1);
      |                                  ^ Magic Number
  609 |       const pushStatus = results[0];
  610 |       expect(pushStatus.get('status')).toBe('failed');
  611 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Magic Number,"{'line': 701, 'column': 43, 'index': 23123}","  699 |     await pushCompleted(pushStatusId);
  700 |     const pushStatus = await Parse.Push.getPushStatus(pushStatusId);
> 701 |     expect(pushStatus.get('numSent')).toBe(5);
      |                                           ^ Magic Number
  702 |   });
  703 |
  704 |   it('should flatten', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Magic Number,"{'line': 798, 'column': 32, 'index': 25895}","  796 |     const query = new Parse.Query('_PushStatus');
  797 |     const results = await query.find({ useMasterKey: true });
> 798 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  799 |     const pushStatus = results[0];
  800 |     expect(pushStatus.get('status')).not.toBe('scheduled');
  801 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Magic Number,"{'line': 853, 'column': 32, 'index': 27741}","  851 |     const query = new Parse.Query('_PushStatus');
  852 |     const results = await query.find({ useMasterKey: true });
> 853 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  854 |     const pushStatus = results[0];
  855 |     expect(pushStatus.get('status')).toBe('scheduled');
  856 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Magic Number,"{'line': 913, 'column': 43, 'index': 29896}","  911 |     await pushCompleted(pushStatusId);
  912 |     const pushStatus = await Parse.Push.getPushStatus(pushStatusId);
> 913 |     expect(pushStatus.get('numSent')).toBe(5);
      |                                           ^ Magic Number
  914 |     expect(pushStatus.get('status')).toBe('succeeded');
  915 |   });
  916 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Magic Number,"{'line': 1011, 'column': 48, 'index': 33152}","  1009 |     await pushCompleted(pushStatusId);
  1010 |
> 1011 |     expect(pushAdapter.send.calls.count()).toBe(2);
       |                                                ^ Magic Number
  1012 |     const firstCall = pushAdapter.send.calls.first();
  1013 |     expect(firstCall.args[0].data).toEqual({
  1014 |       alert: 'Hello!',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Magic Number,"{'line': 1016, 'column': 42, 'index': 33328}","  1014 |       alert: 'Hello!',
  1015 |     });
> 1016 |     expect(firstCall.args[1].length).toBe(3); // 3 installations
       |                                          ^ Magic Number
  1017 |
  1018 |     const lastCall = pushAdapter.send.calls.mostRecent();
  1019 |     expect(lastCall.args[0].data).toEqual({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Magic Number,"{'line': 1022, 'column': 41, 'index': 33527}","  1020 |       alert: 'Bonjour',
  1021 |     });
> 1022 |     expect(lastCall.args[1].length).toBe(2); // 2 installations
       |                                         ^ Magic Number
  1023 |     // No installation is in es so only 1 call for fr, and another for default
  1024 |   });
  1025 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Redundant Assertion,"{'column': 10, 'line': 304}","  302 |         installations.forEach(installation => {
  303 |           expect(installation.badge).toEqual(badge);
> 304 |           expect(1).toEqual(installation.badge);
      |          ^ Redundant Assertion
  305 |         });
  306 |         return successfulTransmissions(body, installations);
  307 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PushController.spec.js,Redundant Assertion,"{'column': 10, 'line': 376}","  374 |         installations.forEach(installation => {
  375 |           expect(installation.badge).toEqual(badge);
> 376 |           expect(1).toEqual(installation.badge);
      |          ^ Redundant Assertion
  377 |         });
  378 |         return successfulTransmissions(body, installations);
  379 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PurchaseValidation.spec.js,Conditional Test Logic,"{'line': 49, 'column': 4, 'index': 1231}","  47 |     });
  48 |     const body = httpResponse.data;
> 49 |     if (typeof body != 'object') {
     |    ^ Conditional Test Logic
  50 |       fail('Body is not an object');
  51 |     } else {
  52 |       expect(body.__type).toEqual('File');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PurchaseValidation.spec.js,Conditional Test Logic,"{'line': 119, 'column': 4, 'index': 3367}","  117 |     }).catch(error => error);
  118 |     const body = response.data;
> 119 |     if (typeof body != 'object') {
      |    ^ Conditional Test Logic
  120 |       fail('Body is not an object');
  121 |     } else {
  122 |       expect(body.code).toEqual(Parse.Error.OBJECT_NOT_FOUND);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PurchaseValidation.spec.js,Conditional Test Logic,"{'line': 145, 'column': 4, 'index': 4136}","  143 |     });
  144 |     const body = response.data;
> 145 |     if (typeof body != 'object') {
      |    ^ Conditional Test Logic
  146 |       fail('Body is not an object');
  147 |     } else {
  148 |       expect(body.status).toBe(21002);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PurchaseValidation.spec.js,Conditional Test Logic,"{'line': 172, 'column': 8, 'index': 4868}","  170 |       .first()
  171 |       .then(function (product) {
> 172 |         if (!product) {
      |        ^ Conditional Test Logic
  173 |           return Promise.reject(new Error('Product should be found'));
  174 |         }
  175 |         product.set('title', 'a new title');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PurchaseValidation.spec.js,Conditional Test Logic,"{'line': 194, 'column': 8, 'index': 5560}","  192 |       .first()
  193 |       .then(function (product) {
> 194 |         if (!product) {
      |        ^ Conditional Test Logic
  195 |           return Promise.reject(new Error('Product should be found'));
  196 |         }
  197 |         product.unset('title');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PurchaseValidation.spec.js,Magic Number,"{'line': 148, 'column': 31, 'index': 4248}","  146 |       fail('Body is not an object');
  147 |     } else {
> 148 |       expect(body.status).toBe(21002);
      |                               ^ Magic Number
  149 |       expect(body.error).toBe('The data in the receipt-data property was malformed or missing.');
  150 |     }
  151 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Exception Handling,"{'line': 18, 'column': 4, 'index': 418}","  16 |     });
  17 |
> 18 |     try {
     |    ^ Exception Handling
  19 |       await req({
  20 |         method: 'POST',
  21 |         url: 'http://localhost:8378/1/apps/test/request_password_reset',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Exception Handling,"{'line': 40, 'column': 4, 'index': 1109}","  38 |     });
  39 |
> 40 |     try {
     |    ^ Exception Handling
  41 |       await req({
  42 |         method: 'POST',
  43 |         url: 'http://localhost:8378/1/apps/test/request_password_reset',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 30, 'column': 36, 'index': 823}","  28 |       });
  29 |     } catch (error) {
> 30 |       expect(error.status).not.toBe(302);
     |                                    ^ Magic Number
  31 |       expect(error.text).toEqual('{""code"":-1,""error"":""Missing token""}');
  32 |     }
  33 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 52, 'column': 36, 'index': 1515}","  50 |       });
  51 |     } catch (error) {
> 52 |       expect(error.status).not.toBe(302);
     |                                    ^ Magic Number
  53 |       expect(error.text).toEqual('{""code"":201,""error"":""Missing password""}');
  54 |     }
  55 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 59, 'column': 39, 'index': 1784}","  57 |   it('should get invalid_link.html', done => {
  58 |     request('http://localhost:8378/1/apps/invalid_link.html', (err, httpResponse) => {
> 59 |       expect(httpResponse.status).toBe(200);
     |                                       ^ Magic Number
  60 |       done();
  61 |     });
  62 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 70, 'column': 41, 'index': 2119}","  68 |     }).then(() => {
  69 |       request('http://localhost:8378/1/apps/choose_password?id=test', (err, httpResponse) => {
> 70 |         expect(httpResponse.status).toBe(200);
     |                                         ^ Magic Number
  71 |         done();
  72 |       });
  73 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 78, 'column': 39, 'index': 2355}","  76 |   it('should get verify_email_success.html', done => {
  77 |     request('http://localhost:8378/1/apps/verify_email_success.html', (err, httpResponse) => {
> 78 |       expect(httpResponse.status).toBe(200);
     |                                       ^ Magic Number
  79 |       done();
  80 |     });
  81 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 85, 'column': 39, 'index': 2583}","  83 |   it('should get password_reset_success.html', done => {
  84 |     request('http://localhost:8378/1/apps/password_reset_success.html', (err, httpResponse) => {
> 85 |       expect(httpResponse.status).toBe(200);
     |                                       ^ Magic Number
  86 |       done();
  87 |     });
  88 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 97, 'column': 39, 'index': 2937}","   95 |   it('should get 404 on verify_email', done => {
   96 |     request('http://localhost:8378/1/apps/test/verify_email', (err, httpResponse) => {
>  97 |       expect(httpResponse.status).toBe(404);
      |                                       ^ Magic Number
   98 |       done();
   99 |     });
  100 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 104, 'column': 39, 'index': 3153}","  102 |   it('should get 404 choose_password', done => {
  103 |     request('http://localhost:8378/1/apps/choose_password?id=test', (err, httpResponse) => {
> 104 |       expect(httpResponse.status).toBe(404);
      |                                       ^ Magic Number
  105 |       done();
  106 |     });
  107 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 111, 'column': 39, 'index': 3383}","  109 |   it('should get 404 on request_password_reset', done => {
  110 |     request('http://localhost:8378/1/apps/test/request_password_reset', (err, httpResponse) => {
> 111 |       expect(httpResponse.status).toBe(404);
      |                                       ^ Magic Number
  112 |       done();
  113 |     });
  114 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 124, 'column': 39, 'index': 3754}","  122 |   it('should get 403 on verify_email', done => {
  123 |     request('http://localhost:8378/1/apps/invalid/verify_email', (err, httpResponse) => {
> 124 |       expect(httpResponse.status).toBe(403);
      |                                       ^ Magic Number
  125 |       done();
  126 |     });
  127 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 131, 'column': 39, 'index': 3973}","  129 |   it('should get 403 choose_password', done => {
  130 |     request('http://localhost:8378/1/apps/choose_password?id=invalid', (err, httpResponse) => {
> 131 |       expect(httpResponse.status).toBe(403);
      |                                       ^ Magic Number
  132 |       done();
  133 |     });
  134 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 138, 'column': 39, 'index': 4213}","  136 |   it('should get 403 on get of request_password_reset', done => {
  137 |     request('http://localhost:8378/1/apps/invalid/request_password_reset', (err, httpResponse) => {
> 138 |       expect(httpResponse.status).toBe(403);
      |                                       ^ Magic Number
  139 |       done();
  140 |     });
  141 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 148, 'column': 39, 'index': 4501}","  146 |       method: 'POST',
  147 |     }).then(done.fail, httpResponse => {
> 148 |       expect(httpResponse.status).toBe(403);
      |                                       ^ Magic Number
  149 |       done();
  150 |     });
  151 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PublicAPI.spec.js,Magic Number,"{'line': 157, 'column': 41, 'index': 4753}","  155 |       'http://localhost:8378/1/apps/invalid/resend_verification_email',
  156 |       (err, httpResponse) => {
> 157 |         expect(httpResponse.status).toBe(403);
      |                                         ^ Magic Number
  158 |         done();
  159 |       }
  160 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Conditional Test Logic,"{'line': 812, 'column': 6, 'index': 27948}","  810 |     it('should not allow protecting default fields', async () => {
  811 |       const defaultFields = ['objectId', 'createdAt', 'updatedAt', 'ACL'];
> 812 |       for (const field of defaultFields) {
      |      ^ Conditional Test Logic
  813 |         await expectAsync(
  814 |           updateCLP({
  815 |             protectedFields: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 256, 'column': 8, 'index': 8946}","  254 |         let objectAgain = await obj.fetch();
  255 |         expect(objectAgain.get('owners')[0].id).toBe(user1.id);
> 256 |         expect(objectAgain.get('test')).toBe('test');
      |        ^ Duplicate Assert
  257 |         await Parse.User.logIn('user2', 'password');
  258 |         objectAgain = await obj.fetch();
  259 |         expect(objectAgain.get('owners')[1].id).toBe(user2.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 256, 'column': 8, 'index': 8946}","  254 |         let objectAgain = await obj.fetch();
  255 |         expect(objectAgain.get('owners')[0].id).toBe(user1.id);
> 256 |         expect(objectAgain.get('test')).toBe('test');
      |        ^ Duplicate Assert
  257 |         await Parse.User.logIn('user2', 'password');
  258 |         objectAgain = await obj.fetch();
  259 |         expect(objectAgain.get('owners')[1].id).toBe(user2.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 260, 'column': 8, 'index': 9158}","  258 |         objectAgain = await obj.fetch();
  259 |         expect(objectAgain.get('owners')[1].id).toBe(user2.id);
> 260 |         expect(objectAgain.get('test')).toBe('test');
      |        ^ Duplicate Assert
  261 |         done();
  262 |       });
  263 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 260, 'column': 8, 'index': 9158}","  258 |         objectAgain = await obj.fetch();
  259 |         expect(objectAgain.get('owners')[1].id).toBe(user2.id);
> 260 |         expect(objectAgain.get('test')).toBe('test');
      |        ^ Duplicate Assert
  261 |         done();
  262 |       });
  263 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 519, 'column': 8, 'index': 17939}","  517 |         // sort for checking in correct order
  518 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 519 |         expect(results.length).toBe(2);
      |        ^ Duplicate Assert
  520 |
  521 |         expect(results[0].get('owners')[0].id).toBe(user1.id);
  522 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 519, 'column': 8, 'index': 17939}","  517 |         // sort for checking in correct order
  518 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 519 |         expect(results.length).toBe(2);
      |        ^ Duplicate Assert
  520 |
  521 |         expect(results[0].get('owners')[0].id).toBe(user1.id);
  522 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 522, 'column': 8, 'index': 18043}","  520 |
  521 |         expect(results[0].get('owners')[0].id).toBe(user1.id);
> 522 |         expect(results[0].get('test')).toBe('test');
      |        ^ Duplicate Assert
  523 |         expect(results[1].get('owners')[0].id).toBe(user1.id);
  524 |         expect(results[1].get('test')).toBe('test2');
  525 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 522, 'column': 8, 'index': 18043}","  520 |
  521 |         expect(results[0].get('owners')[0].id).toBe(user1.id);
> 522 |         expect(results[0].get('test')).toBe('test');
      |        ^ Duplicate Assert
  523 |         expect(results[1].get('owners')[0].id).toBe(user1.id);
  524 |         expect(results[1].get('test')).toBe('test2');
  525 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 524, 'column': 8, 'index': 18159}","  522 |         expect(results[0].get('test')).toBe('test');
  523 |         expect(results[1].get('owners')[0].id).toBe(user1.id);
> 524 |         expect(results[1].get('test')).toBe('test2');
      |        ^ Duplicate Assert
  525 |
  526 |         await Parse.User.logIn('user2', 'password');
  527 |         results = await q.find();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 524, 'column': 8, 'index': 18159}","  522 |         expect(results[0].get('test')).toBe('test');
  523 |         expect(results[1].get('owners')[0].id).toBe(user1.id);
> 524 |         expect(results[1].get('test')).toBe('test2');
      |        ^ Duplicate Assert
  525 |
  526 |         await Parse.User.logIn('user2', 'password');
  527 |         results = await q.find();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 530, 'column': 8, 'index': 18423}","  528 |         // sort for checking in correct order
  529 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 530 |         expect(results.length).toBe(2);
      |        ^ Duplicate Assert
  531 |
  532 |         expect(results[0].get('owners')[1].id).toBe(user2.id);
  533 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 530, 'column': 8, 'index': 18423}","  528 |         // sort for checking in correct order
  529 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 530 |         expect(results.length).toBe(2);
      |        ^ Duplicate Assert
  531 |
  532 |         expect(results[0].get('owners')[1].id).toBe(user2.id);
  533 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 533, 'column': 8, 'index': 18527}","  531 |
  532 |         expect(results[0].get('owners')[1].id).toBe(user2.id);
> 533 |         expect(results[0].get('test')).toBe('test');
      |        ^ Duplicate Assert
  534 |         expect(results[1].get('owners')[1].id).toBe(user2.id);
  535 |         expect(results[1].get('test')).toBe('test2');
  536 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 533, 'column': 8, 'index': 18527}","  531 |
  532 |         expect(results[0].get('owners')[1].id).toBe(user2.id);
> 533 |         expect(results[0].get('test')).toBe('test');
      |        ^ Duplicate Assert
  534 |         expect(results[1].get('owners')[1].id).toBe(user2.id);
  535 |         expect(results[1].get('test')).toBe('test2');
  536 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 535, 'column': 8, 'index': 18643}","  533 |         expect(results[0].get('test')).toBe('test');
  534 |         expect(results[1].get('owners')[1].id).toBe(user2.id);
> 535 |         expect(results[1].get('test')).toBe('test2');
      |        ^ Duplicate Assert
  536 |         done();
  537 |       });
  538 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 535, 'column': 8, 'index': 18643}","  533 |         expect(results[0].get('test')).toBe('test');
  534 |         expect(results[1].get('owners')[1].id).toBe(user2.id);
> 535 |         expect(results[1].get('test')).toBe('test2');
      |        ^ Duplicate Assert
  536 |         done();
  537 |       });
  538 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 736, 'column': 8, 'index': 25711}","  734 |         // sort for checking in correct order
  735 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 736 |         expect(results.length).toBe(3);
      |        ^ Duplicate Assert
  737 |
  738 |         expect(results[0].get('owner')).not.toBe(undefined);
  739 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 736, 'column': 8, 'index': 25711}","  734 |         // sort for checking in correct order
  735 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 736 |         expect(results.length).toBe(3);
      |        ^ Duplicate Assert
  737 |
  738 |         expect(results[0].get('owner')).not.toBe(undefined);
  739 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 738, 'column': 8, 'index': 25752}","  736 |         expect(results.length).toBe(3);
  737 |
> 738 |         expect(results[0].get('owner')).not.toBe(undefined);
      |        ^ Duplicate Assert
  739 |         expect(results[0].get('test')).toBe('test');
  740 |         expect(results[1].get('owner')).toBe(undefined);
  741 |         expect(results[1].get('test')).toBe('test2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 739, 'column': 8, 'index': 25813}","  737 |
  738 |         expect(results[0].get('owner')).not.toBe(undefined);
> 739 |         expect(results[0].get('test')).toBe('test');
      |        ^ Duplicate Assert
  740 |         expect(results[1].get('owner')).toBe(undefined);
  741 |         expect(results[1].get('test')).toBe('test2');
  742 |         expect(results[2].get('owner')).toBe(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 739, 'column': 8, 'index': 25813}","  737 |
  738 |         expect(results[0].get('owner')).not.toBe(undefined);
> 739 |         expect(results[0].get('test')).toBe('test');
      |        ^ Duplicate Assert
  740 |         expect(results[1].get('owner')).toBe(undefined);
  741 |         expect(results[1].get('test')).toBe('test2');
  742 |         expect(results[2].get('owner')).toBe(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 740, 'column': 8, 'index': 25866}","  738 |         expect(results[0].get('owner')).not.toBe(undefined);
  739 |         expect(results[0].get('test')).toBe('test');
> 740 |         expect(results[1].get('owner')).toBe(undefined);
      |        ^ Duplicate Assert
  741 |         expect(results[1].get('test')).toBe('test2');
  742 |         expect(results[2].get('owner')).toBe(undefined);
  743 |         expect(results[2].get('test')).toBe('test3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 741, 'column': 8, 'index': 25923}","  739 |         expect(results[0].get('test')).toBe('test');
  740 |         expect(results[1].get('owner')).toBe(undefined);
> 741 |         expect(results[1].get('test')).toBe('test2');
      |        ^ Duplicate Assert
  742 |         expect(results[2].get('owner')).toBe(undefined);
  743 |         expect(results[2].get('test')).toBe('test3');
  744 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 741, 'column': 8, 'index': 25923}","  739 |         expect(results[0].get('test')).toBe('test');
  740 |         expect(results[1].get('owner')).toBe(undefined);
> 741 |         expect(results[1].get('test')).toBe('test2');
      |        ^ Duplicate Assert
  742 |         expect(results[2].get('owner')).toBe(undefined);
  743 |         expect(results[2].get('test')).toBe('test3');
  744 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 742, 'column': 8, 'index': 25977}","  740 |         expect(results[1].get('owner')).toBe(undefined);
  741 |         expect(results[1].get('test')).toBe('test2');
> 742 |         expect(results[2].get('owner')).toBe(undefined);
      |        ^ Duplicate Assert
  743 |         expect(results[2].get('test')).toBe('test3');
  744 |
  745 |         await Parse.User.logIn('user2', 'password');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 743, 'column': 8, 'index': 26034}","  741 |         expect(results[1].get('test')).toBe('test2');
  742 |         expect(results[2].get('owner')).toBe(undefined);
> 743 |         expect(results[2].get('test')).toBe('test3');
      |        ^ Duplicate Assert
  744 |
  745 |         await Parse.User.logIn('user2', 'password');
  746 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 743, 'column': 8, 'index': 26034}","  741 |         expect(results[1].get('test')).toBe('test2');
  742 |         expect(results[2].get('owner')).toBe(undefined);
> 743 |         expect(results[2].get('test')).toBe('test3');
      |        ^ Duplicate Assert
  744 |
  745 |         await Parse.User.logIn('user2', 'password');
  746 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 750, 'column': 8, 'index': 26299}","  748 |         // sort for checking in correct order
  749 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 750 |         expect(results.length).toBe(3);
      |        ^ Duplicate Assert
  751 |
  752 |         expect(results[0].get('owner')).toBe(undefined);
  753 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 750, 'column': 8, 'index': 26299}","  748 |         // sort for checking in correct order
  749 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 750 |         expect(results.length).toBe(3);
      |        ^ Duplicate Assert
  751 |
  752 |         expect(results[0].get('owner')).toBe(undefined);
  753 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 752, 'column': 8, 'index': 26340}","  750 |         expect(results.length).toBe(3);
  751 |
> 752 |         expect(results[0].get('owner')).toBe(undefined);
      |        ^ Duplicate Assert
  753 |         expect(results[0].get('test')).toBe('test');
  754 |         expect(results[1].get('owner')).not.toBe(undefined);
  755 |         expect(results[1].get('test')).toBe('test2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 753, 'column': 8, 'index': 26397}","  751 |
  752 |         expect(results[0].get('owner')).toBe(undefined);
> 753 |         expect(results[0].get('test')).toBe('test');
      |        ^ Duplicate Assert
  754 |         expect(results[1].get('owner')).not.toBe(undefined);
  755 |         expect(results[1].get('test')).toBe('test2');
  756 |         expect(results[2].get('owner')).not.toBe(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 753, 'column': 8, 'index': 26397}","  751 |
  752 |         expect(results[0].get('owner')).toBe(undefined);
> 753 |         expect(results[0].get('test')).toBe('test');
      |        ^ Duplicate Assert
  754 |         expect(results[1].get('owner')).not.toBe(undefined);
  755 |         expect(results[1].get('test')).toBe('test2');
  756 |         expect(results[2].get('owner')).not.toBe(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 754, 'column': 8, 'index': 26450}","  752 |         expect(results[0].get('owner')).toBe(undefined);
  753 |         expect(results[0].get('test')).toBe('test');
> 754 |         expect(results[1].get('owner')).not.toBe(undefined);
      |        ^ Duplicate Assert
  755 |         expect(results[1].get('test')).toBe('test2');
  756 |         expect(results[2].get('owner')).not.toBe(undefined);
  757 |         expect(results[2].get('test')).toBe('test3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 755, 'column': 8, 'index': 26511}","  753 |         expect(results[0].get('test')).toBe('test');
  754 |         expect(results[1].get('owner')).not.toBe(undefined);
> 755 |         expect(results[1].get('test')).toBe('test2');
      |        ^ Duplicate Assert
  756 |         expect(results[2].get('owner')).not.toBe(undefined);
  757 |         expect(results[2].get('test')).toBe('test3');
  758 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 755, 'column': 8, 'index': 26511}","  753 |         expect(results[0].get('test')).toBe('test');
  754 |         expect(results[1].get('owner')).not.toBe(undefined);
> 755 |         expect(results[1].get('test')).toBe('test2');
      |        ^ Duplicate Assert
  756 |         expect(results[2].get('owner')).not.toBe(undefined);
  757 |         expect(results[2].get('test')).toBe('test3');
  758 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 756, 'column': 8, 'index': 26565}","  754 |         expect(results[1].get('owner')).not.toBe(undefined);
  755 |         expect(results[1].get('test')).toBe('test2');
> 756 |         expect(results[2].get('owner')).not.toBe(undefined);
      |        ^ Duplicate Assert
  757 |         expect(results[2].get('test')).toBe('test3');
  758 |         done();
  759 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 757, 'column': 8, 'index': 26626}","  755 |         expect(results[1].get('test')).toBe('test2');
  756 |         expect(results[2].get('owner')).not.toBe(undefined);
> 757 |         expect(results[2].get('test')).toBe('test3');
      |        ^ Duplicate Assert
  758 |         done();
  759 |       });
  760 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Duplicate Assert,"{'line': 757, 'column': 8, 'index': 26626}","  755 |         expect(results[1].get('test')).toBe('test2');
  756 |         expect(results[2].get('owner')).not.toBe(undefined);
> 757 |         expect(results[2].get('test')).toBe('test3');
      |        ^ Duplicate Assert
  758 |         done();
  759 |       });
  760 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 342, 'column': 54, 'index': 11865}","  340 |         await Parse.User.logIn('user1', 'password');
  341 |         const objectAgain = await obj.fetch();
> 342 |         expect(objectAgain.get('owners').length).toBe(1);
      |                                                      ^ Magic Number
  343 |         expect(objectAgain.get('owner')).toBe(undefined);
  344 |         expect(objectAgain.get('test')).toBe('test');
  345 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 410, 'column': 36, 'index': 14110}","  408 |         // sort for checking in correct order
  409 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 410 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  411 |
  412 |         expect(results[0].get('owner').id).toBe(user1.id);
  413 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 446, 'column': 36, 'index': 15410}","  444 |         // sort for checking in correct order
  445 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 446 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  447 |
  448 |         expect(results[0].get('owner')).toBe(undefined);
  449 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 481, 'column': 36, 'index': 16648}","  479 |         // sort for checking in correct order
  480 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 481 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  482 |
  483 |         expect(results[0].get('owner')).toBe(undefined);
  484 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 519, 'column': 36, 'index': 17967}","  517 |         // sort for checking in correct order
  518 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 519 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  520 |
  521 |         expect(results[0].get('owners')[0].id).toBe(user1.id);
  522 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 530, 'column': 36, 'index': 18451}","  528 |         // sort for checking in correct order
  529 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 530 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  531 |
  532 |         expect(results[0].get('owners')[1].id).toBe(user2.id);
  533 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 566, 'column': 36, 'index': 19766}","  564 |         // sort for checking in correct order
  565 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 566 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  567 |
  568 |         expect(results[0].get('owners')).toBe(undefined);
  569 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 601, 'column': 36, 'index': 21027}","  599 |         // sort for checking in correct order
  600 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 601 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  602 |
  603 |         expect(results[0].get('owners')).toBe(undefined);
  604 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 644, 'column': 36, 'index': 22566}","  642 |         // sort for checking in correct order
  643 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 644 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  645 |
  646 |         expect(results[0].get('owners').length).toBe(1);
  647 |         expect(results[0].get('owner')).toBe(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 646, 'column': 53, 'index': 22624}","  644 |         expect(results.length).toBe(2);
  645 |
> 646 |         expect(results[0].get('owners').length).toBe(1);
      |                                                     ^ Magic Number
  647 |         expect(results[0].get('owner')).toBe(undefined);
  648 |         expect(results[0].get('test')).toBe('test');
  649 |         expect(results[1].get('owners')).toBe(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 689, 'column': 36, 'index': 24138}","  687 |         // sort for checking in correct order
  688 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 689 |         expect(results.length).toBe(2);
      |                                    ^ Magic Number
  690 |
  691 |         expect(results[0].get('owners')).not.toBe(undefined);
  692 |         expect(results[0].get('owner')).not.toBe(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 736, 'column': 36, 'index': 25739}","  734 |         // sort for checking in correct order
  735 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 736 |         expect(results.length).toBe(3);
      |                                    ^ Magic Number
  737 |
  738 |         expect(results[0].get('owner')).not.toBe(undefined);
  739 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Magic Number,"{'line': 750, 'column': 36, 'index': 26327}","  748 |         // sort for checking in correct order
  749 |         results.sort((a, b) => a.get('test').localeCompare(b.get('test')));
> 750 |         expect(results.length).toBe(3);
      |                                    ^ Magic Number
  751 |
  752 |         expect(results[0].get('owner')).toBe(undefined);
  753 |         expect(results[0].get('test')).toBe('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Unknown Test,"{'column': 4, 'line': 781}","  779 |     });
  780 |
> 781 |     it('should fail setting non-existing protected field', async done => {
      |    ^ Unknown Test
  782 |       const field = 'non-existing';
  783 |       const entity = '*';
  784 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Unknown Test,"{'column': 4, 'line': 800}","  798 |     });
  799 |
> 800 |     it('should allow setting authenticated', async () => {
      |    ^ Unknown Test
  801 |       await expectAsync(
  802 |         updateCLP({
  803 |           protectedFields: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ProtectedFields.spec.js,Unknown Test,"{'column': 4, 'line': 810}","  808 |     });
  809 |
> 810 |     it('should not allow protecting default fields', async () => {
      |    ^ Unknown Test
  811 |       const defaultFields = ['objectId', 'createdAt', 'updatedAt', 'ACL'];
  812 |       for (const field of defaultFields) {
  813 |         await expectAsync("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Conditional Test Logic,"{'line': 342, 'column': 4, 'index': 10486}","  340 |
  341 |     //These are the same query so should be the same size
> 342 |     for (let i = 0; i < preIndexPlan['QUERY PLAN'].length; i++) {
      |    ^ Conditional Test Logic
  343 |       //Sequential should take more time to execute than indexed
  344 |       expect(preIndexPlan['QUERY PLAN'][i]['Execution Time']).toBeGreaterThan(
  345 |         postIndexPlan['QUERY PLAN'][i]['Execution Time']"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 46, 'column': 8, 'index': 1454}","  44 |       .then(() => getColumns(client, className))
  45 |       .then(columns => {
> 46 |         expect(columns).toContain('pushTime');
     |        ^ Duplicate Assert
  47 |         expect(columns).toContain('source');
  48 |         expect(columns).toContain('query');
  49 |         expect(columns).not.toContain('expiration_interval');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 46, 'column': 8, 'index': 1454}","  44 |       .then(() => getColumns(client, className))
  45 |       .then(columns => {
> 46 |         expect(columns).toContain('pushTime');
     |        ^ Duplicate Assert
  47 |         expect(columns).toContain('source');
  48 |         expect(columns).toContain('query');
  49 |         expect(columns).not.toContain('expiration_interval');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 47, 'column': 8, 'index': 1501}","  45 |       .then(columns => {
  46 |         expect(columns).toContain('pushTime');
> 47 |         expect(columns).toContain('source');
     |        ^ Duplicate Assert
  48 |         expect(columns).toContain('query');
  49 |         expect(columns).not.toContain('expiration_interval');
  50 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 47, 'column': 8, 'index': 1501}","  45 |       .then(columns => {
  46 |         expect(columns).toContain('pushTime');
> 47 |         expect(columns).toContain('source');
     |        ^ Duplicate Assert
  48 |         expect(columns).toContain('query');
  49 |         expect(columns).not.toContain('expiration_interval');
  50 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 48, 'column': 8, 'index': 1546}","  46 |         expect(columns).toContain('pushTime');
  47 |         expect(columns).toContain('source');
> 48 |         expect(columns).toContain('query');
     |        ^ Duplicate Assert
  49 |         expect(columns).not.toContain('expiration_interval');
  50 |
  51 |         schema.fields.expiration_interval = { type: 'Number' };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 48, 'column': 8, 'index': 1546}","  46 |         expect(columns).toContain('pushTime');
  47 |         expect(columns).toContain('source');
> 48 |         expect(columns).toContain('query');
     |        ^ Duplicate Assert
  49 |         expect(columns).not.toContain('expiration_interval');
  50 |
  51 |         schema.fields.expiration_interval = { type: 'Number' };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 49, 'column': 8, 'index': 1590}","  47 |         expect(columns).toContain('source');
  48 |         expect(columns).toContain('query');
> 49 |         expect(columns).not.toContain('expiration_interval');
     |        ^ Duplicate Assert
  50 |
  51 |         schema.fields.expiration_interval = { type: 'Number' };
  52 |         return adapter.schemaUpgrade(className, schema);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 56, 'column': 8, 'index': 1863}","  54 |       .then(() => getColumns(client, className))
  55 |       .then(async columns => {
> 56 |         expect(columns).toContain('pushTime');
     |        ^ Duplicate Assert
  57 |         expect(columns).toContain('source');
  58 |         expect(columns).toContain('query');
  59 |         expect(columns).toContain('expiration_interval');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 56, 'column': 8, 'index': 1863}","  54 |       .then(() => getColumns(client, className))
  55 |       .then(async columns => {
> 56 |         expect(columns).toContain('pushTime');
     |        ^ Duplicate Assert
  57 |         expect(columns).toContain('source');
  58 |         expect(columns).toContain('query');
  59 |         expect(columns).toContain('expiration_interval');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 57, 'column': 8, 'index': 1910}","  55 |       .then(async columns => {
  56 |         expect(columns).toContain('pushTime');
> 57 |         expect(columns).toContain('source');
     |        ^ Duplicate Assert
  58 |         expect(columns).toContain('query');
  59 |         expect(columns).toContain('expiration_interval');
  60 |         await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 57, 'column': 8, 'index': 1910}","  55 |       .then(async columns => {
  56 |         expect(columns).toContain('pushTime');
> 57 |         expect(columns).toContain('source');
     |        ^ Duplicate Assert
  58 |         expect(columns).toContain('query');
  59 |         expect(columns).toContain('expiration_interval');
  60 |         await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 58, 'column': 8, 'index': 1955}","  56 |         expect(columns).toContain('pushTime');
  57 |         expect(columns).toContain('source');
> 58 |         expect(columns).toContain('query');
     |        ^ Duplicate Assert
  59 |         expect(columns).toContain('expiration_interval');
  60 |         await reconfigureServer();
  61 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 58, 'column': 8, 'index': 1955}","  56 |         expect(columns).toContain('pushTime');
  57 |         expect(columns).toContain('source');
> 58 |         expect(columns).toContain('query');
     |        ^ Duplicate Assert
  59 |         expect(columns).toContain('expiration_interval');
  60 |         await reconfigureServer();
  61 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 59, 'column': 8, 'index': 1999}","  57 |         expect(columns).toContain('source');
  58 |         expect(columns).toContain('query');
> 59 |         expect(columns).toContain('expiration_interval');
     |        ^ Duplicate Assert
  60 |         await reconfigureServer();
  61 |         done();
  62 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 81, 'column': 8, 'index': 2578}","  79 |       .then(() => getColumns(client, className))
  80 |       .then(columns => {
> 81 |         expect(columns).toContain('columnA');
     |        ^ Duplicate Assert
  82 |         expect(columns).toContain('columnB');
  83 |         expect(columns).toContain('columnC');
  84 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 81, 'column': 8, 'index': 2578}","  79 |       .then(() => getColumns(client, className))
  80 |       .then(columns => {
> 81 |         expect(columns).toContain('columnA');
     |        ^ Duplicate Assert
  82 |         expect(columns).toContain('columnB');
  83 |         expect(columns).toContain('columnC');
  84 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 82, 'column': 8, 'index': 2624}","  80 |       .then(columns => {
  81 |         expect(columns).toContain('columnA');
> 82 |         expect(columns).toContain('columnB');
     |        ^ Duplicate Assert
  83 |         expect(columns).toContain('columnC');
  84 |
  85 |         return adapter.schemaUpgrade(className, schema);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 82, 'column': 8, 'index': 2624}","  80 |       .then(columns => {
  81 |         expect(columns).toContain('columnA');
> 82 |         expect(columns).toContain('columnB');
     |        ^ Duplicate Assert
  83 |         expect(columns).toContain('columnC');
  84 |
  85 |         return adapter.schemaUpgrade(className, schema);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 83, 'column': 8, 'index': 2670}","  81 |         expect(columns).toContain('columnA');
  82 |         expect(columns).toContain('columnB');
> 83 |         expect(columns).toContain('columnC');
     |        ^ Duplicate Assert
  84 |
  85 |         return adapter.schemaUpgrade(className, schema);
  86 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 83, 'column': 8, 'index': 2670}","  81 |         expect(columns).toContain('columnA');
  82 |         expect(columns).toContain('columnB');
> 83 |         expect(columns).toContain('columnC');
     |        ^ Duplicate Assert
  84 |
  85 |         return adapter.schemaUpgrade(className, schema);
  86 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 90, 'column': 8, 'index': 2900}","  88 |       .then(columns => {
  89 |         expect(columns.length).toEqual(3);
> 90 |         expect(columns).toContain('columnA');
     |        ^ Duplicate Assert
  91 |         expect(columns).toContain('columnB');
  92 |         expect(columns).toContain('columnC');
  93 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 90, 'column': 8, 'index': 2900}","  88 |       .then(columns => {
  89 |         expect(columns.length).toEqual(3);
> 90 |         expect(columns).toContain('columnA');
     |        ^ Duplicate Assert
  91 |         expect(columns).toContain('columnB');
  92 |         expect(columns).toContain('columnC');
  93 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 91, 'column': 8, 'index': 2946}","  89 |         expect(columns.length).toEqual(3);
  90 |         expect(columns).toContain('columnA');
> 91 |         expect(columns).toContain('columnB');
     |        ^ Duplicate Assert
  92 |         expect(columns).toContain('columnC');
  93 |
  94 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 91, 'column': 8, 'index': 2946}","  89 |         expect(columns.length).toEqual(3);
  90 |         expect(columns).toContain('columnA');
> 91 |         expect(columns).toContain('columnB');
     |        ^ Duplicate Assert
  92 |         expect(columns).toContain('columnC');
  93 |
  94 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 92, 'column': 8, 'index': 2992}","  90 |         expect(columns).toContain('columnA');
  91 |         expect(columns).toContain('columnB');
> 92 |         expect(columns).toContain('columnC');
     |        ^ Duplicate Assert
  93 |
  94 |         done();
  95 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 92, 'column': 8, 'index': 2992}","  90 |         expect(columns).toContain('columnA');
  91 |         expect(columns).toContain('columnB');
> 92 |         expect(columns).toContain('columnC');
     |        ^ Duplicate Assert
  93 |
  94 |         done();
  95 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 106, 'column': 8, 'index': 3419}","  104 |       .then(() => getColumns(client, className))
  105 |       .then(columns => {
> 106 |         expect(columns.length).toBe(0);
      |        ^ Duplicate Assert
  107 |
  108 |         const newSchema = {
  109 |           fields: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 119, 'column': 8, 'index': 3758}","  117 |       .then(() => getColumns(client, className))
  118 |       .then(columns => {
> 119 |         expect(columns.length).toEqual(2);
      |        ^ Duplicate Assert
  120 |         expect(columns).toContain('columnA');
  121 |         expect(columns).toContain('columnB');
  122 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 120, 'column': 8, 'index': 3801}","  118 |       .then(columns => {
  119 |         expect(columns.length).toEqual(2);
> 120 |         expect(columns).toContain('columnA');
      |        ^ Duplicate Assert
  121 |         expect(columns).toContain('columnB');
  122 |         done();
  123 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 121, 'column': 8, 'index': 3847}","  119 |         expect(columns.length).toEqual(2);
  120 |         expect(columns).toContain('columnA');
> 121 |         expect(columns).toContain('columnB');
      |        ^ Duplicate Assert
  122 |         done();
  123 |       })
  124 |       .catch(done);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 318, 'column': 6, 'index': 9594}","  316 |     preIndexPlan['QUERY PLAN'].forEach(element => {
  317 |       //Make sure search returned with only 1 result
> 318 |       expect(element.Plan['Actual Rows']).toBe(1);
      |      ^ Duplicate Assert
  319 |       expect(element.Plan['Node Type']).toBe('Seq Scan');
  320 |     });
  321 |     const indexName = 'test_case_insensitive_column';"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 318, 'column': 6, 'index': 9594}","  316 |     preIndexPlan['QUERY PLAN'].forEach(element => {
  317 |       //Make sure search returned with only 1 result
> 318 |       expect(element.Plan['Actual Rows']).toBe(1);
      |      ^ Duplicate Assert
  319 |       expect(element.Plan['Node Type']).toBe('Seq Scan');
  320 |     });
  321 |     const indexName = 'test_case_insensitive_column';"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 319, 'column': 6, 'index': 9645}","  317 |       //Make sure search returned with only 1 result
  318 |       expect(element.Plan['Actual Rows']).toBe(1);
> 319 |       expect(element.Plan['Node Type']).toBe('Seq Scan');
      |      ^ Duplicate Assert
  320 |     });
  321 |     const indexName = 'test_case_insensitive_column';
  322 |     await adapter.ensureIndex(tableName, schema, ['objectId'], indexName, true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 331, 'column': 6, 'index': 10090}","  329 |     postIndexPlan['QUERY PLAN'].forEach(element => {
  330 |       //Make sure search returned with only 1 result
> 331 |       expect(element.Plan['Actual Rows']).toBe(1);
      |      ^ Duplicate Assert
  332 |       //Should not be a sequential scan
  333 |       expect(element.Plan['Node Type']).not.toContain('Seq Scan');
  334 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 331, 'column': 6, 'index': 10090}","  329 |     postIndexPlan['QUERY PLAN'].forEach(element => {
  330 |       //Make sure search returned with only 1 result
> 331 |       expect(element.Plan['Actual Rows']).toBe(1);
      |      ^ Duplicate Assert
  332 |       //Should not be a sequential scan
  333 |       expect(element.Plan['Node Type']).not.toContain('Seq Scan');
  334 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 333, 'column': 6, 'index': 10181}","  331 |       expect(element.Plan['Actual Rows']).toBe(1);
  332 |       //Should not be a sequential scan
> 333 |       expect(element.Plan['Node Type']).not.toContain('Seq Scan');
      |      ^ Duplicate Assert
  334 |
  335 |       //Should be using the index created for this
  336 |       element.Plan.Plans.forEach(innerElement => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 333, 'column': 6, 'index': 10181}","  331 |       expect(element.Plan['Actual Rows']).toBe(1);
  332 |       //Should not be a sequential scan
> 333 |       expect(element.Plan['Node Type']).not.toContain('Seq Scan');
      |      ^ Duplicate Assert
  334 |
  335 |       //Should be using the index created for this
  336 |       element.Plan.Plans.forEach(innerElement => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 357, 'column': 6, 'index': 11127}","  355 |     explained['QUERY PLAN'].forEach(element => {
  356 |       //Check that basic query plans isn't a sequential scan
> 357 |       expect(element.Plan['Node Type']).not.toContain('Seq Scan');
      |      ^ Duplicate Assert
  358 |
  359 |       //Basic query plans shouldn't have an execution time
  360 |       expect(element['Execution Time']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 357, 'column': 6, 'index': 11127}","  355 |     explained['QUERY PLAN'].forEach(element => {
  356 |       //Check that basic query plans isn't a sequential scan
> 357 |       expect(element.Plan['Node Type']).not.toContain('Seq Scan');
      |      ^ Duplicate Assert
  358 |
  359 |       //Basic query plans shouldn't have an execution time
  360 |       expect(element['Execution Time']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 398, 'column': 8, 'index': 12729}","  396 |       element['QUERY PLAN'].forEach(innerElement => {
  397 |         //Check that basic query plans isn't a sequential scan, be careful as find uses ""any"" to query
> 398 |         expect(innerElement.Plan['Node Type']).toBe('Seq Scan');
      |        ^ Duplicate Assert
  399 |         //Basic query plans shouldn't have an execution time
  400 |         expect(innerElement['Execution Time']).toBeUndefined();
  401 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 400, 'column': 8, 'index': 12855}","  398 |         expect(innerElement.Plan['Node Type']).toBe('Seq Scan');
  399 |         //Basic query plans shouldn't have an execution time
> 400 |         expect(innerElement['Execution Time']).toBeUndefined();
      |        ^ Duplicate Assert
  401 |       });
  402 |     });
  403 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 400, 'column': 8, 'index': 12855}","  398 |         expect(innerElement.Plan['Node Type']).toBe('Seq Scan');
  399 |         //Basic query plans shouldn't have an execution time
> 400 |         expect(innerElement['Execution Time']).toBeUndefined();
      |        ^ Duplicate Assert
  401 |       });
  402 |     });
  403 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 418, 'column': 8, 'index': 13491}","  416 |       element['QUERY PLAN'].forEach(innerElement => {
  417 |         //Check that basic query plans isn't a sequential scan
> 418 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
      |        ^ Duplicate Assert
  419 |
  420 |         //Basic query plans shouldn't have an execution time
  421 |         expect(innerElement['Execution Time']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 421, 'column': 8, 'index': 13627}","  419 |
  420 |         //Basic query plans shouldn't have an execution time
> 421 |         expect(innerElement['Execution Time']).toBeUndefined();
      |        ^ Duplicate Assert
  422 |       });
  423 |     });
  424 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 421, 'column': 8, 'index': 13627}","  419 |
  420 |         //Basic query plans shouldn't have an execution time
> 421 |         expect(innerElement['Execution Time']).toBeUndefined();
      |        ^ Duplicate Assert
  422 |       });
  423 |     });
  424 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 506, 'column': 8, 'index': 17016}","  504 |     indexPlan.forEach(element => {
  505 |       element['QUERY PLAN'].forEach(innerElement => {
> 506 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
      |        ^ Duplicate Assert
  507 |         expect(innerElement.Plan['Index Name']).toContain(uniqueField);
  508 |       });
  509 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 506, 'column': 8, 'index': 17016}","  504 |     indexPlan.forEach(element => {
  505 |       element['QUERY PLAN'].forEach(innerElement => {
> 506 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
      |        ^ Duplicate Assert
  507 |         expect(innerElement.Plan['Index Name']).toContain(uniqueField);
  508 |       });
  509 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 507, 'column': 8, 'index': 17090}","  505 |       element['QUERY PLAN'].forEach(innerElement => {
  506 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
> 507 |         expect(innerElement.Plan['Index Name']).toContain(uniqueField);
      |        ^ Duplicate Assert
  508 |       });
  509 |     });
  510 |     const indexPlan2 = await database.find("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 507, 'column': 8, 'index': 17090}","  505 |       element['QUERY PLAN'].forEach(innerElement => {
  506 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
> 507 |         expect(innerElement.Plan['Index Name']).toContain(uniqueField);
      |        ^ Duplicate Assert
  508 |       });
  509 |     });
  510 |     const indexPlan2 = await database.find("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 517, 'column': 8, 'index': 17416}","  515 |     indexPlan2.forEach(element => {
  516 |       element['QUERY PLAN'].forEach(innerElement => {
> 517 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
      |        ^ Duplicate Assert
  518 |         expect(innerElement.Plan['Index Name']).toContain(uniqueField);
  519 |       });
  520 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 517, 'column': 8, 'index': 17416}","  515 |     indexPlan2.forEach(element => {
  516 |       element['QUERY PLAN'].forEach(innerElement => {
> 517 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
      |        ^ Duplicate Assert
  518 |         expect(innerElement.Plan['Index Name']).toContain(uniqueField);
  519 |       });
  520 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 518, 'column': 8, 'index': 17490}","  516 |       element['QUERY PLAN'].forEach(innerElement => {
  517 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
> 518 |         expect(innerElement.Plan['Index Name']).toContain(uniqueField);
      |        ^ Duplicate Assert
  519 |       });
  520 |     });
  521 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 518, 'column': 8, 'index': 17490}","  516 |       element['QUERY PLAN'].forEach(innerElement => {
  517 |         expect(innerElement.Plan['Node Type']).not.toContain('Seq Scan');
> 518 |         expect(innerElement.Plan['Index Name']).toContain(uniqueField);
      |        ^ Duplicate Assert
  519 |       });
  520 |     });
  521 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 578, 'column': 4, 'index': 19602}","  576 |   it('handleShutdown, close connection', () => {
  577 |     const adapter = new PostgresStorageAdapter({ uri: databaseURI });
> 578 |     expect(adapter._client.$pool.ending).toEqual(false);
      |    ^ Duplicate Assert
  579 |     adapter.handleShutdown();
  580 |     expect(adapter._client.$pool.ending).toEqual(true);
  581 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 580, 'column': 4, 'index': 19689}","  578 |     expect(adapter._client.$pool.ending).toEqual(false);
  579 |     adapter.handleShutdown();
> 580 |     expect(adapter._client.$pool.ending).toEqual(true);
      |    ^ Duplicate Assert
  581 |   });
  582 |
  583 |   it('handleShutdown, close connection of postgresql uri', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 587, 'column': 4, 'index': 19991}","  585 |     databaseURI2.protocol = 'postgresql:';
  586 |     const adapter = new PostgresStorageAdapter({ uri: databaseURI2.toString() });
> 587 |     expect(adapter._client.$pool.ending).toEqual(false);
      |    ^ Duplicate Assert
  588 |     adapter.handleShutdown();
  589 |     expect(adapter._client.$pool.ending).toEqual(true);
  590 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Duplicate Assert,"{'line': 589, 'column': 4, 'index': 20078}","  587 |     expect(adapter._client.$pool.ending).toEqual(false);
  588 |     adapter.handleShutdown();
> 589 |     expect(adapter._client.$pool.ending).toEqual(true);
      |    ^ Duplicate Assert
  590 |   });
  591 | });
  592 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Exception Handling,"{'line': 176, 'column': 4, 'index': 5419}","  174 |     const database = Config.get(Parse.applicationId).database;
  175 |     await database.loadSchema({ clearCache: true });
> 176 |     try {
      |    ^ Exception Handling
  177 |       await database.find(
  178 |         tableName,
  179 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Exception Handling,"{'line': 219, 'column': 4, 'index': 6583}","  217 |     const database = Config.get(Parse.applicationId).database;
  218 |     await database.loadSchema({ clearCache: true });
> 219 |     try {
      |    ^ Exception Handling
  220 |       await database.find(
  221 |         tableName,
  222 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Exception Handling,"{'line': 262, 'column': 4, 'index': 7751}","  260 |     const database = Config.get(Parse.applicationId).database;
  261 |     await database.loadSchema({ clearCache: true });
> 262 |     try {
      |    ^ Exception Handling
  263 |       await database.find(
  264 |         tableName,
  265 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Magic Number,"{'line': 89, 'column': 39, 'index': 2888}","  87 |       .then(() => getColumns(client, className))
  88 |       .then(columns => {
> 89 |         expect(columns.length).toEqual(3);
     |                                       ^ Magic Number
  90 |         expect(columns).toContain('columnA');
  91 |         expect(columns).toContain('columnB');
  92 |         expect(columns).toContain('columnC');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Magic Number,"{'line': 106, 'column': 36, 'index': 3447}","  104 |       .then(() => getColumns(client, className))
  105 |       .then(columns => {
> 106 |         expect(columns.length).toBe(0);
      |                                    ^ Magic Number
  107 |
  108 |         const newSchema = {
  109 |           fields: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Magic Number,"{'line': 119, 'column': 39, 'index': 3789}","  117 |       .then(() => getColumns(client, className))
  118 |       .then(columns => {
> 119 |         expect(columns.length).toEqual(2);
      |                                       ^ Magic Number
  120 |         expect(columns).toContain('columnA');
  121 |         expect(columns).toContain('columnB');
  122 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Magic Number,"{'line': 318, 'column': 47, 'index': 9635}","  316 |     preIndexPlan['QUERY PLAN'].forEach(element => {
  317 |       //Make sure search returned with only 1 result
> 318 |       expect(element.Plan['Actual Rows']).toBe(1);
      |                                               ^ Magic Number
  319 |       expect(element.Plan['Node Type']).toBe('Seq Scan');
  320 |     });
  321 |     const indexName = 'test_case_insensitive_column';"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Magic Number,"{'line': 331, 'column': 47, 'index': 10131}","  329 |     postIndexPlan['QUERY PLAN'].forEach(element => {
  330 |       //Make sure search returned with only 1 result
> 331 |       expect(element.Plan['Actual Rows']).toBe(1);
      |                                               ^ Magic Number
  332 |       //Should not be a sequential scan
  333 |       expect(element.Plan['Node Type']).not.toContain('Seq Scan');
  334 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Sleepy Test,"{'line': 558, 'column': 33, 'index': 18687}","  556 |       classLevelPermissions: undefined,
  557 |     });
> 558 |     await new Promise(resolve => setTimeout(resolve, 2000));
      |                                 ^ Sleepy Test
  559 |     expect(adapter._onchange).toHaveBeenCalled();
  560 |   });
  561 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresStorageAdapter.spec.js,Unknown Test,"{'column': 2, 'line': 140}","  138 |   });
  139 |
> 140 |   it('getClass if not exists', async () => {
      |  ^ Unknown Test
  141 |     const schema = {
  142 |       fields: {
  143 |         array: { type: 'Array' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresInitOptions.spec.js,Exception Handling,"{'line': 69, 'column': 4, 'index': 1912}","  67 |       databaseOptions: databaseOptions2,
  68 |     });
> 69 |     try {
     |    ^ Exception Handling
  70 |       await reconfigureServer({
  71 |         databaseAdapter: adapter,
  72 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresInitOptions.spec.js,Unknown Test,"{'column': 2, 'line': 27}","  25 |
  26 | describe_only_db('postgres')('Postgres database init options', () => {
> 27 |   it('should create server with public schema databaseOptions', async () => {
     |  ^ Unknown Test
  28 |     const adapter = new PostgresStorageAdapter({
  29 |       uri: postgresURI,
  30 |       collectionPrefix: 'test_',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresInitOptions.spec.js,Unknown Test,"{'column': 2, 'line': 44}","  42 |   });
  43 |
> 44 |   it('should create server using postgresql uri with public schema databaseOptions', async () => {
     |  ^ Unknown Test
  45 |     const postgresURI2 = new URL(postgresURI);
  46 |     postgresURI2.protocol = 'postgresql:';
  47 |     const adapter = new PostgresStorageAdapter({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresConfigParser.spec.js,Conditional Test Logic,"{'line': 12, 'column': 4, 'index': 400}","  10 | describe('PostgresConfigParser.parseQueryParams', () => {
  11 |   it('creates a map from a query string', () => {
> 12 |     for (const key in queryParamTests) {
     |    ^ Conditional Test Logic
  13 |       const result = parser.parseQueryParams(key);
  14 |
  15 |       const testObj = queryParamTests[key];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresConfigParser.spec.js,Conditional Test Logic,"{'line': 19, 'column': 6, 'index': 620}","  17 |       expect(Object.keys(result).length).toEqual(Object.keys(testObj).length);
  18 |
> 19 |       for (const k in result) {
     |      ^ Conditional Test Logic
  20 |         expect(result[k]).toEqual(testObj[k]);
  21 |       }
  22 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresConfigParser.spec.js,Conditional Test Logic,"{'line': 72, 'column': 4, 'index': 2125}","  70 | describe('PostgresConfigParser.getDatabaseOptionsFromURI', () => {
  71 |   it('creates a db options map from a query string', () => {
> 72 |     for (const key in dbOptionsTest) {
     |    ^ Conditional Test Logic
  73 |       const result = parser.getDatabaseOptionsFromURI(key);
  74 |
  75 |       const testObj = dbOptionsTest[key];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresConfigParser.spec.js,Conditional Test Logic,"{'line': 77, 'column': 6, 'index': 2270}","  75 |       const testObj = dbOptionsTest[key];
  76 |
> 77 |       for (const k in testObj) {
     |      ^ Conditional Test Logic
  78 |         expect(result[k]).toEqual(testObj[k]);
  79 |       }
  80 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresConfigParser.spec.js,Magic Number,"{'line': 86, 'column': 31, 'index': 2543}","  84 |     const result = parser.getDatabaseOptionsFromURI(`${baseURI}?poolSize=sdf`);
  85 |
> 86 |     expect(result.max).toEqual(10);
     |                               ^ Magic Number
  87 |   });
  88 |
  89 |   it('sets the max to 10 if the it is not a number', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresConfigParser.spec.js,Magic Number,"{'line': 93, 'column': 31, 'index': 2769}","  91 |
  92 |     expect(result.poolSize).toBeUndefined();
> 93 |     expect(result.max).toEqual(10);
     |                               ^ Magic Number
  94 |   });
  95 |
  96 |   it('max should take precedence over poolSize', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PostgresConfigParser.spec.js,Magic Number,"{'line': 100, 'column': 31, 'index': 3001}","   98 |
   99 |     expect(result.poolSize).toBeUndefined();
> 100 |     expect(result.max).toEqual(12);
      |                               ^ Magic Number
  101 |   });
  102 | });
  103 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 132, 'column': 14, 'index': 3704}","  130 |             expect(res.length).toBe(2);
  131 |             res.forEach(result => {
> 132 |               if (result.id == obj.id) {
      |              ^ Conditional Test Logic
  133 |                 expect(result.get('hello')).toBe('world');
  134 |               } else {
  135 |                 expect(result.id).toBe(obj2.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1131, 'column': 10, 'index': 32664}","  1129 |         expect(res.length).toBe(2);
  1130 |         res.forEach(result => {
> 1131 |           if (result.id == obj.id) {
       |          ^ Conditional Test Logic
  1132 |             expect(result.get('hello')).toBe('world');
  1133 |           } else {
  1134 |             expect(result.id).toBe(obj2.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1193, 'column': 6, 'index': 34418}","  1191 |       }
  1192 |
> 1193 |       for (const owner of ['user1', 'user2']) {
       |      ^ Conditional Test Logic
  1194 |         await Parse.User.logIn(owner, 'password');
  1195 |         try {
  1196 |           const q = new Parse.Query('AnObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1237, 'column': 6, 'index': 35765}","  1235 |       await schema.updateClass('AnObject', {}, { find: {}, get: {}, readUserFields: ['owners'] });
  1236 |
> 1237 |       for (const owner of ['user1', 'user2']) {
       |      ^ Conditional Test Logic
  1238 |         await Parse.User.logIn(owner, 'password');
  1239 |         try {
  1240 |           const q = new Parse.Query('AnObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1282, 'column': 6, 'index': 37126}","  1280 |       await schema.updateClass('AnObject', {}, { find: {}, get: {}, readUserFields: ['owners'] });
  1281 |
> 1282 |       for (const owner of ['user1', 'user2']) {
       |      ^ Conditional Test Logic
  1283 |         try {
  1284 |           await Parse.User.logIn(owner, 'password');
  1285 |           // Since querying for arrays is not supported this should throw an error"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1322, 'column': 6, 'index': 38321}","  1320 |       );
  1321 |
> 1322 |       for (const owner of ['user1', 'user2']) {
       |      ^ Conditional Test Logic
  1323 |         await Parse.User.logIn(owner, 'password');
  1324 |         try {
  1325 |           obj.set('owners', [user, user2]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1587, 'column': 6, 'index': 46294}","  1585 |       await schema.updateClass('AnObject', {}, { update: {}, writeUserFields: ['owners'] });
  1586 |
> 1587 |       for (const owner of ['user2', 'user3']) {
       |      ^ Conditional Test Logic
  1588 |         await Parse.User.logIn(owner, 'password');
  1589 |         try {
  1590 |           await obj.save({ key: 'value' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1637, 'column': 6, 'index': 47809}","  1635 |       await schema.updateClass('AnObject', {}, { update: {}, writeUserFields: ['owners'] });
  1636 |
> 1637 |       for (const owner of ['user2', 'user3']) {
       |      ^ Conditional Test Logic
  1638 |         await Parse.User.logIn(owner, 'password');
  1639 |         try {
  1640 |           const objectAgain = await obj.save({ key: 'value' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1751, 'column': 6, 'index': 51072}","  1749 |       );
  1750 |
> 1751 |       for (const owner of ['user2', 'user3']) {
       |      ^ Conditional Test Logic
  1752 |         await Parse.User.logIn(owner, 'password');
  1753 |         try {
  1754 |           const objectAgain = await obj.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Conditional Test Logic,"{'line': 1808, 'column': 6, 'index': 52655}","  1806 |       );
  1807 |
> 1808 |       for (const owner of ['user2', 'user3']) {
       |      ^ Conditional Test Logic
  1809 |         await Parse.User.logIn(owner, 'password');
  1810 |         try {
  1811 |           await obj.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 187, 'column': 10, 'index': 5161}","  185 |         })
  186 |         .then(res => {
> 187 |           expect(res.length).toBe(0);
      |          ^ Duplicate Assert
  188 |         })
  189 |         .then(() => {
  190 |           return Parse.User.logIn('user2', 'password');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 187, 'column': 10, 'index': 5161}","  185 |         })
  186 |         .then(res => {
> 187 |           expect(res.length).toBe(0);
      |          ^ Duplicate Assert
  188 |         })
  189 |         .then(() => {
  190 |           return Parse.User.logIn('user2', 'password');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 197, 'column': 10, 'index': 5431}","  195 |         })
  196 |         .then(res => {
> 197 |           expect(res.length).toBe(0);
      |          ^ Duplicate Assert
  198 |           const q = new Parse.Query('AnObject');
  199 |           return q.get(obj.id);
  200 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 197, 'column': 10, 'index': 5431}","  195 |         })
  196 |         .then(res => {
> 197 |           expect(res.length).toBe(0);
      |          ^ Duplicate Assert
  198 |           const q = new Parse.Query('AnObject');
  199 |           return q.get(obj.id);
  200 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 219, 'column': 10, 'index': 6090}","  217 |         })
  218 |         .then(res => {
> 219 |           expect(res.length).toBe(1);
      |          ^ Duplicate Assert
  220 |           done();
  221 |         })
  222 |         .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1176, 'column': 6, 'index': 33939}","  1174 |       let q = new Parse.Query('AnObject');
  1175 |       let result = await q.find();
> 1176 |       expect(result.length).toBe(0);
       |      ^ Duplicate Assert
  1177 |
  1178 |       Parse.User.logIn('user3', 'password');
  1179 |       q = new Parse.Query('AnObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1176, 'column': 6, 'index': 33939}","  1174 |       let q = new Parse.Query('AnObject');
  1175 |       let result = await q.find();
> 1176 |       expect(result.length).toBe(0);
       |      ^ Duplicate Assert
  1177 |
  1178 |       Parse.User.logIn('user3', 'password');
  1179 |       q = new Parse.Query('AnObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1182, 'column': 6, 'index': 34093}","  1180 |       result = await q.find();
  1181 |
> 1182 |       expect(result.length).toBe(0);
       |      ^ Duplicate Assert
  1183 |       q = new Parse.Query('AnObject');
  1184 |
  1185 |       try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1182, 'column': 6, 'index': 34093}","  1180 |       result = await q.find();
  1181 |
> 1182 |       expect(result.length).toBe(0);
       |      ^ Duplicate Assert
  1183 |       q = new Parse.Query('AnObject');
  1184 |
  1185 |       try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1198, 'column': 10, 'index': 34619}","  1196 |           const q = new Parse.Query('AnObject');
  1197 |           result = await q.find();
> 1198 |           expect(result.length).toBe(1);
       |          ^ Duplicate Assert
  1199 |         } catch (err) {
  1200 |           done.fail('should not fail');
  1201 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1479, 'column': 8, 'index': 43176}","  1477 |         const q = new Parse.Query('AnObject');
  1478 |         const res = await q.find();
> 1479 |         expect(res.length).toBe(1);
       |        ^ Duplicate Assert
  1480 |         expect(res[0].id).toBe(obj.id);
  1481 |       } catch (err) {
  1482 |         done.fail(JSON.stringify(err));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1491, 'column': 8, 'index': 43503}","  1489 |         const q = new Parse.Query('AnObject');
  1490 |         const res = await q.find();
> 1491 |         expect(res.length).toBe(0);
       |        ^ Duplicate Assert
  1492 |         done();
  1493 |       } catch (err) {
  1494 |         done.fail(JSON.stringify(err));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1836, 'column': 6, 'index': 53559}","  1834 |       const q = new Parse.Query('AnObject');
  1835 |       const objects = await q.find();
> 1836 |       expect(objects.length).toBe(0);
       |      ^ Duplicate Assert
  1837 |
  1838 |       try {
  1839 |         const objects = await q.find({ useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Duplicate Assert,"{'line': 1840, 'column': 8, 'index': 53674}","  1838 |       try {
  1839 |         const objects = await q.find({ useMasterKey: true });
> 1840 |         expect(objects.length).toBe(1);
       |        ^ Duplicate Assert
  1841 |         done();
  1842 |       } catch (err) {
  1843 |         done.fail('master key should find the object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1062, 'column': 6, 'index': 30736}","  1060 |       await Parse.User.logIn('user1', 'password');
  1061 |
> 1062 |       try {
       |      ^ Exception Handling
  1063 |         const q = new Parse.Query('AnObject');
  1064 |         const res = await q.find();
  1065 |         expect(res.length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1185, 'column': 6, 'index': 34170}","  1183 |       q = new Parse.Query('AnObject');
  1184 |
> 1185 |       try {
       |      ^ Exception Handling
  1186 |         await q.get(obj.id);
  1187 |         done.fail('User 3 should not get the obj1 object');
  1188 |       } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1195, 'column': 8, 'index': 34519}","  1193 |       for (const owner of ['user1', 'user2']) {
  1194 |         await Parse.User.logIn(owner, 'password');
> 1195 |         try {
       |        ^ Exception Handling
  1196 |           const q = new Parse.Query('AnObject');
  1197 |           result = await q.find();
  1198 |           expect(result.length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1283, 'column': 8, 'index': 37176}","  1281 |
  1282 |       for (const owner of ['user1', 'user2']) {
> 1283 |         try {
       |        ^ Exception Handling
  1284 |           await Parse.User.logIn(owner, 'password');
  1285 |           // Since querying for arrays is not supported this should throw an error
  1286 |           const q = new Parse.Query('AnObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1324, 'column': 8, 'index': 38422}","  1322 |       for (const owner of ['user1', 'user2']) {
  1323 |         await Parse.User.logIn(owner, 'password');
> 1324 |         try {
       |        ^ Exception Handling
  1325 |           obj.set('owners', [user, user2]);
  1326 |           await obj.save();
  1327 |           done.fail('should not succeed');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1367, 'column': 6, 'index': 39645}","  1365 |       await Parse.User.logOut();
  1366 |
> 1367 |       try {
       |      ^ Exception Handling
  1368 |         const q = new Parse.Query('AnObject');
  1369 |         const result = await q.first();
  1370 |         expect(result.get('hello')).toBe('fromUser2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1380, 'column': 6, 'index': 40089}","  1378 |       const config = Config.get(Parse.applicationId);
  1379 |       const schema = await config.database.loadSchema();
> 1380 |       try {
       |      ^ Exception Handling
  1381 |         await schema.addClassIfNotExists(
  1382 |           'AnObject',
  1383 |           {},"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1403, 'column': 6, 'index': 40800}","  1401 |       const config = Config.get(Parse.applicationId);
  1402 |       const schema = await config.database.loadSchema();
> 1403 |       try {
       |      ^ Exception Handling
  1404 |         await schema.addClassIfNotExists(
  1405 |           'AnObject',
  1406 |           { owners: { type: 'String' } },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1430, 'column': 6, 'index': 41654}","  1428 |
  1429 |       const schema = await config.database.loadSchema();
> 1430 |       try {
       |      ^ Exception Handling
  1431 |         await schema.updateClass(
  1432 |           'AnObject',
  1433 |           {},"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1476, 'column': 6, 'index': 43079}","  1474 |       await Parse.User.logIn('user1', 'password');
  1475 |
> 1476 |       try {
       |      ^ Exception Handling
  1477 |         const q = new Parse.Query('AnObject');
  1478 |         const res = await q.find();
  1479 |         expect(res.length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1488, 'column': 6, 'index': 43406}","  1486 |       await Parse.User.logIn('user2', 'password');
  1487 |
> 1488 |       try {
       |      ^ Exception Handling
  1489 |         const q = new Parse.Query('AnObject');
  1490 |         const res = await q.find();
  1491 |         expect(res.length).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1539, 'column': 6, 'index': 44871}","  1537 |
  1538 |       await Parse.User.logIn('user1', 'password');
> 1539 |       try {
       |      ^ Exception Handling
  1540 |         // user1 has ACL read/write but should be blocked by PP
  1541 |         await obj.save({ key: 'value' });
  1542 |         done.fail('Should not succeed saving');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1589, 'column': 8, 'index': 46395}","  1587 |       for (const owner of ['user2', 'user3']) {
  1588 |         await Parse.User.logIn(owner, 'password');
> 1589 |         try {
       |        ^ Exception Handling
  1590 |           await obj.save({ key: 'value' });
  1591 |           done.fail('Should not succeed saving');
  1592 |         } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1639, 'column': 8, 'index': 47910}","  1637 |       for (const owner of ['user2', 'user3']) {
  1638 |         await Parse.User.logIn(owner, 'password');
> 1639 |         try {
       |        ^ Exception Handling
  1640 |           const objectAgain = await obj.save({ key: 'value' });
  1641 |           expect(objectAgain.get('key')).toBe('value');
  1642 |         } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1690, 'column': 6, 'index': 49401}","  1688 |
  1689 |       await Parse.User.logIn('user1', 'password');
> 1690 |       try {
       |      ^ Exception Handling
  1691 |         // user1 has ACL read/write but should be blocked
  1692 |         await obj.fetch();
  1693 |         done.fail('Should not succeed fetching');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1753, 'column': 8, 'index': 51173}","  1751 |       for (const owner of ['user2', 'user3']) {
  1752 |         await Parse.User.logIn(owner, 'password');
> 1753 |         try {
       |        ^ Exception Handling
  1754 |           const objectAgain = await obj.fetch();
  1755 |           expect(objectAgain.id).toBe(obj.id);
  1756 |         } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1810, 'column': 8, 'index': 52756}","  1808 |       for (const owner of ['user2', 'user3']) {
  1809 |         await Parse.User.logIn(owner, 'password');
> 1810 |         try {
       |        ^ Exception Handling
  1811 |           await obj.fetch();
  1812 |           done.fail('Should not succeed fetching');
  1813 |         } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1838, 'column': 6, 'index': 53598}","  1836 |       expect(objects.length).toBe(0);
  1837 |
> 1838 |       try {
       |      ^ Exception Handling
  1839 |         const objects = await q.find({ useMasterKey: true });
  1840 |         expect(objects.length).toBe(1);
  1841 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1862, 'column': 6, 'index': 54366}","  1860 |
  1861 |       const q = new Parse.Query('AnObject');
> 1862 |       try {
       |      ^ Exception Handling
  1863 |         await q.get(object.id);
  1864 |         done.fail();
  1865 |       } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1869, 'column': 6, 'index': 54523}","  1867 |       }
  1868 |
> 1869 |       try {
       |      ^ Exception Handling
  1870 |         const objectAgain = await q.get(object.id, { useMasterKey: true });
  1871 |         expect(objectAgain).not.toBeUndefined();
  1872 |         expect(objectAgain.id).toBe(object.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1893, 'column': 6, 'index': 55312}","  1891 |       );
  1892 |
> 1893 |       try {
       |      ^ Exception Handling
  1894 |         await object.save({ hello: 'bar' });
  1895 |         done.fail();
  1896 |       } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1900, 'column': 6, 'index': 55482}","  1898 |       }
  1899 |
> 1900 |       try {
       |      ^ Exception Handling
  1901 |         const objectAgain = await object.save({ hello: 'baz' }, { useMasterKey: true });
  1902 |         expect(objectAgain.get('hello')).toBe('baz');
  1903 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1924, 'column': 6, 'index': 56243}","  1922 |       );
  1923 |
> 1924 |       try {
       |      ^ Exception Handling
  1925 |         await object.destroy();
  1926 |         done.fail();
  1927 |       } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1930, 'column': 6, 'index': 56399}","  1928 |         expect(err.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  1929 |       }
> 1930 |       try {
       |      ^ Exception Handling
  1931 |         await object.destroy({ useMasterKey: true });
  1932 |         done();
  1933 |       } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1941, 'column': 6, 'index': 56767}","  1939 |       const config = Config.get(Parse.applicationId);
  1940 |       const schema = await config.database.loadSchema();
> 1941 |       try {
       |      ^ Exception Handling
  1942 |         // Lock the delete, and let only owners write
  1943 |         await schema.addClassIfNotExists(
  1944 |           'AnObject',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Exception Handling,"{'line': 1957, 'column': 6, 'index': 57310}","  1955 |       const config = Config.get(Parse.applicationId);
  1956 |       const schema = await config.database.loadSchema();
> 1957 |       try {
       |      ^ Exception Handling
  1958 |         // Lock the delete, and let only owners write
  1959 |         await schema.addClassIfNotExists(
  1960 |           'AnObject',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 44, 'column': 34, 'index': 1316}","  42 |         })
  43 |         .then(res => {
> 44 |           expect(res.length).toBe(1);
     |                                  ^ Magic Number
  45 |           expect(res[0].id).toBe(obj.id);
  46 |           done();
  47 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 130, 'column': 36, 'index': 3650}","  128 |         .then(
  129 |           res => {
> 130 |             expect(res.length).toBe(2);
      |                                    ^ Magic Number
  131 |             res.forEach(result => {
  132 |               if (result.id == obj.id) {
  133 |                 expect(result.get('hello')).toBe('world');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 187, 'column': 34, 'index': 5185}","  185 |         })
  186 |         .then(res => {
> 187 |           expect(res.length).toBe(0);
      |                                  ^ Magic Number
  188 |         })
  189 |         .then(() => {
  190 |           return Parse.User.logIn('user2', 'password');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 197, 'column': 34, 'index': 5455}","  195 |         })
  196 |         .then(res => {
> 197 |           expect(res.length).toBe(0);
      |                                  ^ Magic Number
  198 |           const q = new Parse.Query('AnObject');
  199 |           return q.get(obj.id);
  200 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 219, 'column': 34, 'index': 6114}","  217 |         })
  218 |         .then(res => {
> 219 |           expect(res.length).toBe(1);
      |                                  ^ Magic Number
  220 |           done();
  221 |         })
  222 |         .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 319, 'column': 34, 'index': 8834}","  317 |           },
  318 |           err => {
> 319 |             expect(err.code).toBe(119);
      |                                  ^ Magic Number
  320 |             done();
  321 |           }
  322 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 390, 'column': 32, 'index': 10882}","  388 |         })
  389 |         .catch(err => {
> 390 |           expect(err.code).toBe(107);
      |                                ^ Magic Number
  391 |           expect(err.message).toBe(
  392 |             ""'owner' is not a valid column for class level pointer permissions writeUserFields""
  393 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 417, 'column': 32, 'index': 11688}","  415 |         })
  416 |         .catch(err => {
> 417 |           expect(err.code).toBe(107);
      |                                ^ Magic Number
  418 |           expect(err.message).toBe(
  419 |             ""'owner' is not a valid column for class level pointer permissions writeUserFields""
  420 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 444, 'column': 32, 'index': 12523}","  442 |         })
  443 |         .catch(err => {
> 444 |           expect(err.code).toBe(107);
      |                                ^ Magic Number
  445 |           expect(err.message).toBe(
  446 |             ""'owner' is not a valid column for class level pointer permissions writeUserFields""
  447 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 476, 'column': 32, 'index': 13445}","  474 |         })
  475 |         .catch(err => {
> 476 |           expect(err.code).toBe(107);
      |                                ^ Magic Number
  477 |           expect(err.message).toBe(
  478 |             ""'owner' is not a valid column for class level pointer permissions writeUserFields""
  479 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 861, 'column': 40, 'index': 24772}","  859 |         .then(
  860 |           objects => {
> 861 |             expect(objects.length).toBe(1);
      |                                        ^ Magic Number
  862 |             done();
  863 |           },
  864 |           () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1065, 'column': 32, 'index': 30857}","  1063 |         const q = new Parse.Query('AnObject');
  1064 |         const res = await q.find();
> 1065 |         expect(res.length).toBe(1);
       |                                ^ Magic Number
  1066 |         expect(res[0].id).toBe(obj.id);
  1067 |         done();
  1068 |       } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1176, 'column': 33, 'index': 33966}","  1174 |       let q = new Parse.Query('AnObject');
  1175 |       let result = await q.find();
> 1176 |       expect(result.length).toBe(0);
       |                                 ^ Magic Number
  1177 |
  1178 |       Parse.User.logIn('user3', 'password');
  1179 |       q = new Parse.Query('AnObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1182, 'column': 33, 'index': 34120}","  1180 |       result = await q.find();
  1181 |
> 1182 |       expect(result.length).toBe(0);
       |                                 ^ Magic Number
  1183 |       q = new Parse.Query('AnObject');
  1184 |
  1185 |       try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1198, 'column': 37, 'index': 34646}","  1196 |           const q = new Parse.Query('AnObject');
  1197 |           result = await q.find();
> 1198 |           expect(result.length).toBe(1);
       |                                     ^ Magic Number
  1199 |         } catch (err) {
  1200 |           done.fail('should not fail');
  1201 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1329, 'column': 32, 'index': 38599}","  1327 |           done.fail('should not succeed');
  1328 |         } catch (err) {
> 1329 |           expect(err.code).toBe(119);
       |                                ^ Magic Number
  1330 |         }
  1331 |       }
  1332 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1392, 'column': 30, 'index': 40406}","  1390 |         done.fail('should not succeed');
  1391 |       } catch (err) {
> 1392 |         expect(err.code).toBe(107);
       |                              ^ Magic Number
  1393 |         expect(err.message).toBe(
  1394 |           ""'owners' is not a valid column for class level pointer permissions writeUserFields""
  1395 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1415, 'column': 30, 'index': 41145}","  1413 |         done.fail('should not succeed');
  1414 |       } catch (err) {
> 1415 |         expect(err.code).toBe(107);
       |                              ^ Magic Number
  1416 |         expect(err.message).toBe(
  1417 |           ""'owners' is not a valid column for class level pointer permissions writeUserFields""
  1418 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1442, 'column': 30, 'index': 41963}","  1440 |         done.fail('should not succeed');
  1441 |       } catch (err) {
> 1442 |         expect(err.code).toBe(107);
       |                              ^ Magic Number
  1443 |         expect(err.message).toBe(
  1444 |           ""'owners' is not a valid column for class level pointer permissions writeUserFields""
  1445 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1479, 'column': 32, 'index': 43200}","  1477 |         const q = new Parse.Query('AnObject');
  1478 |         const res = await q.find();
> 1479 |         expect(res.length).toBe(1);
       |                                ^ Magic Number
  1480 |         expect(res[0].id).toBe(obj.id);
  1481 |       } catch (err) {
  1482 |         done.fail(JSON.stringify(err));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1491, 'column': 32, 'index': 43527}","  1489 |         const q = new Parse.Query('AnObject');
  1490 |         const res = await q.find();
> 1491 |         expect(res.length).toBe(0);
       |                                ^ Magic Number
  1492 |         done();
  1493 |       } catch (err) {
  1494 |         done.fail(JSON.stringify(err));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1836, 'column': 34, 'index': 53587}","  1834 |       const q = new Parse.Query('AnObject');
  1835 |       const objects = await q.find();
> 1836 |       expect(objects.length).toBe(0);
       |                                  ^ Magic Number
  1837 |
  1838 |       try {
  1839 |         const objects = await q.find({ useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 1840, 'column': 36, 'index': 53702}","  1838 |       try {
  1839 |         const objects = await q.find({ useMasterKey: true });
> 1840 |         expect(objects.length).toBe(1);
       |                                    ^ Magic Number
  1841 |         done();
  1842 |       } catch (err) {
  1843 |         done.fail('master key should find the object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2123, 'column': 38, 'index': 61867}","  2121 |
  2122 |           const results = await actionFind();
> 2123 |           expect(results.length).toBe(1);
       |                                      ^ Magic Number
  2124 |           done();
  2125 |         });
  2126 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2163, 'column': 29, 'index': 62839}","  2161 |
  2162 |           const count = await actionCount();
> 2163 |           expect(count).toBe(1);
       |                             ^ Magic Number
  2164 |           done();
  2165 |         });
  2166 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2178, 'column': 25, 'index': 63230}","  2176 |
  2177 |           const p = await actionCount();
> 2178 |           expect(p).toBe(0);
       |                         ^ Magic Number
  2179 |
  2180 |           done();
  2181 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2570, 'column': 38, 'index': 73000}","  2568 |
  2569 |           const results = await actionFind();
> 2570 |           expect(results.length).toBe(1);
       |                                      ^ Magic Number
  2571 |           done();
  2572 |         });
  2573 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2584, 'column': 38, 'index': 73347}","  2582 |
  2583 |           const results = await actionFind();
> 2584 |           expect(results.length).toBe(2);
       |                                      ^ Magic Number
  2585 |           done();
  2586 |         });
  2587 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2598, 'column': 38, 'index': 73709}","  2596 |
  2597 |           const results = await actionFind();
> 2598 |           expect(results.length).toBe(1);
       |                                      ^ Magic Number
  2599 |           done();
  2600 |         });
  2601 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2641, 'column': 29, 'index': 74780}","  2639 |
  2640 |           const count = await actionCount();
> 2641 |           expect(count).toBe(1);
       |                             ^ Magic Number
  2642 |           done();
  2643 |         });
  2644 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2649, 'column': 29, 'index': 75009}","  2647 |
  2648 |           const count = await actionCount();
> 2649 |           expect(count).toBe(2);
       |                             ^ Magic Number
  2650 |
  2651 |           done();
  2652 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 2999, 'column': 34, 'index': 84297}","  2997 |
  2998 |         const found = await actionFind();
> 2999 |         expect(found.length).toBe(1);
       |                                  ^ Magic Number
  3000 |
  3001 |         const counted = await actionCount();
  3002 |         expect(counted).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Magic Number,"{'line': 3002, 'column': 29, 'index': 84376}","  3000 |
  3001 |         const counted = await actionCount();
> 3002 |         expect(counted).toBe(1);
       |                             ^ Magic Number
  3003 |
  3004 |         done();
  3005 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 4, 'line': 1251}","  1249 |     });
  1250 |
> 1251 |     it('should not query using arrays on pointer permission enabled column', async done => {
       |    ^ Unknown Test
  1252 |       const config = Config.get(Parse.applicationId);
  1253 |       const user = new Parse.User();
  1254 |       const user2 = new Parse.User();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2074}","  2072 |         });
  2073 |
> 2074 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2075 |           await updateCLP({
  2076 |             get: {
  2077 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2100}","  2098 |
  2099 |       describe('find action', () => {
> 2100 |         it('should be allowed', async done => {
       |        ^ Unknown Test
  2101 |           await updateCLP({
  2102 |             find: {
  2103 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2127}","  2125 |         });
  2126 |
> 2127 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2128 |           await updateCLP({
  2129 |             find: {
  2130 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2183}","  2181 |         });
  2182 |
> 2183 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2184 |           await updateCLP({
  2185 |             count: {
  2186 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2209}","  2207 |
  2208 |       describe('update action', () => {
> 2209 |         it('should be allowed', async done => {
       |        ^ Unknown Test
  2210 |           await updateCLP({
  2211 |             update: {
  2212 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2234}","  2232 |         });
  2233 |
> 2234 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2235 |           await updateCLP({
  2236 |             update: {
  2237 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2260}","  2258 |
  2259 |       describe('delete action', () => {
> 2260 |         it('should be allowed', async done => {
       |        ^ Unknown Test
  2261 |           await updateCLP({
  2262 |             delete: {
  2263 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2286}","  2284 |         });
  2285 |
> 2286 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2287 |           await updateCLP({
  2288 |             delete: {
  2289 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2314}","  2312 |         // For Pointer permissions create is different from other operations
  2313 |         // since there's no object holding the pointer before created
> 2314 |         it('should be denied (writelock) when no other permissions on class', async done => {
       |        ^ Unknown Test
  2315 |           await updateCLP({
  2316 |             create: {
  2317 |               pointerFields: ['owner'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2365}","  2363 |         });
  2364 |
> 2365 |         it('should be allowed when updating object', async done => {
       |        ^ Unknown Test
  2366 |           await updateCLP({
  2367 |             update: {
  2368 |               '*': true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2382}","  2380 |         });
  2381 |
> 2382 |         it('should be denied when updating object for user without addField permission', async done => {
       |        ^ Unknown Test
  2383 |           await updateCLP({
  2384 |             update: {
  2385 |               '*': true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2533}","  2531 |         });
  2532 |
> 2533 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2534 |           await updateCLP({
  2535 |             get: {
  2536 |               pointerFields: ['owners'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2602}","  2600 |         });
  2601 |
> 2602 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2603 |           await updateCLP({
  2604 |             find: {
  2605 |               pointerFields: ['moderators'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2654}","  2652 |         });
  2653 |
> 2654 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2655 |           await logIn(user1);
  2656 |
  2657 |           await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2675}","  2673 |
  2674 |       describe('update action', () => {
> 2675 |         it('should be allowed (1 user in array)', async done => {
       |        ^ Unknown Test
  2676 |           await updateCLP({
  2677 |             update: {
  2678 |               pointerFields: ['owners'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2714}","  2712 |         });
  2713 |
> 2714 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2715 |           await updateCLP({
  2716 |             update: {
  2717 |               pointerFields: ['moderators'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2741}","  2739 |
  2740 |       describe('delete action', () => {
> 2741 |         it('should be allowed (1 user in array)', async done => {
       |        ^ Unknown Test
  2742 |           await updateCLP({
  2743 |             delete: {
  2744 |               pointerFields: ['owners'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2754}","  2752 |         });
  2753 |
> 2754 |         it('should be allowed (multiple users in array)', async done => {
       |        ^ Unknown Test
  2755 |           await updateCLP({
  2756 |             delete: {
  2757 |               pointerFields: ['moderators'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2780}","  2778 |         });
  2779 |
> 2780 |         it('should not allow other actions', async done => {
       |        ^ Unknown Test
  2781 |           await updateCLP({
  2782 |             delete: {
  2783 |               pointerFields: ['moderators'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2809}","  2807 |         /* For Pointer permissions 'create' is different from other operations
  2808 |          since there's no object holding the pointer before created */
> 2809 |         it('should be denied (writelock) when no other permissions on class', async done => {
       |        ^ Unknown Test
  2810 |           await updateCLP({
  2811 |             create: {
  2812 |               pointerFields: ['moderators'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2823}","  2821 |
  2822 |       describe('addField action', () => {
> 2823 |         it('should have no effect on create (allowed by explicit userid)', async done => {
       |        ^ Unknown Test
  2824 |           await updateCLP({
  2825 |             create: {
  2826 |               '*': true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2840}","  2838 |         });
  2839 |
> 2840 |         it('should be denied when creating object (and no explicit permission)', async done => {
       |        ^ Unknown Test
  2841 |           await updateCLP({
  2842 |             create: {
  2843 |               '*': true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 8, 'line': 2860}","  2858 |         });
  2859 |
> 2860 |         it('should be allowed when updating object', async done => {
       |        ^ Unknown Test
  2861 |           await updateCLP({
  2862 |             update: {
  2863 |               '*': true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PointerPermissions.spec.js,Unknown Test,"{'column': 6, 'line': 3007}","  3005 |       });
  3006 |
> 3007 |       it('should not inherit scope of grouped write permissions from another field', async done => {
       |      ^ Unknown Test
  3008 |         await updateCLP({
  3009 |           update: {
  3010 |             pointerFields: ['moderators'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Conditional Test Logic,"{'line': 627, 'column': 12, 'index': 19626}","  625 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  626 |             const match = response.text.match(re);
> 627 |             if (!match) {
      |            ^ Conditional Test Logic
  628 |               fail('should have a token');
  629 |               done();
  630 |               return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Conditional Test Logic,"{'line': 719, 'column': 12, 'index': 22644}","  717 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  718 |             const match = response.text.match(re);
> 719 |             if (!match) {
      |            ^ Conditional Test Logic
  720 |               fail('should have a token');
  721 |               done();
  722 |               return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Conditional Test Logic,"{'line': 905, 'column': 12, 'index': 28551}","  903 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  904 |             const match = response.text.match(re);
> 905 |             if (!match) {
      |            ^ Conditional Test Logic
  906 |               fail('should have a token');
  907 |               done();
  908 |               return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Conditional Test Logic,"{'line': 996, 'column': 8, 'index': 31582}","  994 |         const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  995 |         const match = response.text.match(re);
> 996 |         if (!match) {
      |        ^ Conditional Test Logic
  997 |           fail('should have a token');
  998 |           return;
  999 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Conditional Test Logic,"{'line': 1056, 'column': 12, 'index': 33552}","  1054 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1055 |             const match = response.text.match(re);
> 1056 |             if (!match) {
       |            ^ Conditional Test Logic
  1057 |               fail('should have a token');
  1058 |               done();
  1059 |               return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Conditional Test Logic,"{'line': 1322, 'column': 12, 'index': 42222}","  1320 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1321 |             const match = response.text.match(re);
> 1322 |             if (!match) {
       |            ^ Conditional Test Logic
  1323 |               fail('should have a token');
  1324 |               done();
  1325 |               return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Conditional Test Logic,"{'line': 1477, 'column': 12, 'index': 47259}","  1475 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1476 |             const match = response.text.match(re);
> 1477 |             if (!match) {
       |            ^ Conditional Test Logic
  1478 |               fail('should have a token');
  1479 |               return Promise.reject('Invalid password link');
  1480 |             }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 203, 'column': 6, 'index': 6474}","  201 |       fail('should have thrown.');
  202 |     } catch (e) {
> 203 |       expect(e).toBe('resetTokenReuseIfValid must be a boolean value');
      |      ^ Duplicate Assert
  204 |     }
  205 |     try {
  206 |       await reconfigureServer({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 216, 'column': 6, 'index': 6857}","  214 |       fail('should have thrown.');
  215 |     } catch (e) {
> 216 |       expect(e).toBe('You cannot use resetTokenReuseIfValid without resetTokenValidityDuration');
      |      ^ Duplicate Assert
  217 |     }
  218 |     done();
  219 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 624, 'column': 12, 'index': 19416}","  622 |         })
  623 |           .then(response => {
> 624 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  625 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  626 |             const match = response.text.match(re);
  627 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 624, 'column': 12, 'index': 19416}","  622 |         })
  623 |           .then(response => {
> 624 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  625 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  626 |             const match = response.text.match(re);
  627 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 646, 'column': 16, 'index': 20257}","  644 |             })
  645 |               .then(response => {
> 646 |                 expect(response.status).toEqual(302);
      |                ^ Duplicate Assert
  647 |                 expect(response.text).toEqual(
  648 |                   'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  649 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 646, 'column': 16, 'index': 20257}","  644 |             })
  645 |               .then(response => {
> 646 |                 expect(response.status).toEqual(302);
      |                ^ Duplicate Assert
  647 |                 expect(response.text).toEqual(
  648 |                   'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  649 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 716, 'column': 12, 'index': 22434}","  714 |         })
  715 |           .then(response => {
> 716 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  717 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  718 |             const match = response.text.match(re);
  719 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 716, 'column': 12, 'index': 22434}","  714 |         })
  715 |           .then(response => {
> 716 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  717 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  718 |             const match = response.text.match(re);
  719 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 738, 'column': 16, 'index': 23277}","  736 |             })
  737 |               .then(response => {
> 738 |                 expect(response.status).toEqual(302);
      |                ^ Duplicate Assert
  739 |                 expect(response.text).toEqual(
  740 |                   `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=Password%20should%20contain%20at%20least%20one%20digit.&app=passwordPolicy`
  741 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 738, 'column': 16, 'index': 23277}","  736 |             })
  737 |               .then(response => {
> 738 |                 expect(response.status).toEqual(302);
      |                ^ Duplicate Assert
  739 |                 expect(response.text).toEqual(
  740 |                   `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=Password%20should%20contain%20at%20least%20one%20digit.&app=passwordPolicy`
  741 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 902, 'column': 12, 'index': 28341}","  900 |         })
  901 |           .then(response => {
> 902 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  903 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  904 |             const match = response.text.match(re);
  905 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 902, 'column': 12, 'index': 28341}","  900 |         })
  901 |           .then(response => {
> 902 |             expect(response.status).toEqual(302);
      |            ^ Duplicate Assert
  903 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  904 |             const match = response.text.match(re);
  905 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 924, 'column': 16, 'index': 29181}","  922 |             })
  923 |               .then(response => {
> 924 |                 expect(response.status).toEqual(302);
      |                ^ Duplicate Assert
  925 |                 expect(response.text).toEqual(
  926 |                   `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=Password%20cannot%20contain%20your%20username.&app=passwordPolicy`
  927 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 924, 'column': 16, 'index': 29181}","  922 |             })
  923 |               .then(response => {
> 924 |                 expect(response.status).toEqual(302);
      |                ^ Duplicate Assert
  925 |                 expect(response.text).toEqual(
  926 |                   `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=Password%20cannot%20contain%20your%20username.&app=passwordPolicy`
  927 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 1053, 'column': 12, 'index': 33342}","  1051 |         })
  1052 |           .then(response => {
> 1053 |             expect(response.status).toEqual(302);
       |            ^ Duplicate Assert
  1054 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1055 |             const match = response.text.match(re);
  1056 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 1053, 'column': 12, 'index': 33342}","  1051 |         })
  1052 |           .then(response => {
> 1053 |             expect(response.status).toEqual(302);
       |            ^ Duplicate Assert
  1054 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1055 |             const match = response.text.match(re);
  1056 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 1075, 'column': 16, 'index': 34182}","  1073 |             })
  1074 |               .then(response => {
> 1075 |                 expect(response.status).toEqual(302);
       |                ^ Duplicate Assert
  1076 |                 expect(response.text).toEqual(
  1077 |                   'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  1078 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 1075, 'column': 16, 'index': 34182}","  1073 |             })
  1074 |               .then(response => {
> 1075 |                 expect(response.status).toEqual(302);
       |                ^ Duplicate Assert
  1076 |                 expect(response.text).toEqual(
  1077 |                   'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  1078 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 1474, 'column': 12, 'index': 47049}","  1472 |         })
  1473 |           .then(response => {
> 1474 |             expect(response.status).toEqual(302);
       |            ^ Duplicate Assert
  1475 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1476 |             const match = response.text.match(re);
  1477 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 1474, 'column': 12, 'index': 47049}","  1472 |         })
  1473 |           .then(response => {
> 1474 |             expect(response.status).toEqual(302);
       |            ^ Duplicate Assert
  1475 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1476 |             const match = response.text.match(re);
  1477 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 1501, 'column': 12, 'index': 48119}","  1499 |             const response = data[0];
  1500 |             const token = data[1];
> 1501 |             expect(response.status).toEqual(302);
       |            ^ Duplicate Assert
  1502 |             expect(response.text).toEqual(
  1503 |               `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=New%20password%20should%20not%20be%20the%20same%20as%20last%201%20passwords.&app=passwordPolicy`
  1504 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Duplicate Assert,"{'line': 1501, 'column': 12, 'index': 48119}","  1499 |             const response = data[0];
  1500 |             const token = data[1];
> 1501 |             expect(response.status).toEqual(302);
       |            ^ Duplicate Assert
  1502 |             expect(response.text).toEqual(
  1503 |               `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=New%20password%20should%20not%20be%20the%20same%20as%20last%201%20passwords.&app=passwordPolicy`
  1504 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Exception Handling,"{'line': 191, 'column': 4, 'index': 6110}","  189 |       sendMail: () => {},
  190 |     };
> 191 |     try {
      |    ^ Exception Handling
  192 |       await reconfigureServer({
  193 |         appName: 'passwordPolicy',
  194 |         emailAdapter: emailAdapter,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Exception Handling,"{'line': 205, 'column': 4, 'index': 6550}","  203 |       expect(e).toBe('resetTokenReuseIfValid must be a boolean value');
  204 |     }
> 205 |     try {
      |    ^ Exception Handling
  206 |       await reconfigureServer({
  207 |         appName: 'passwordPolicy',
  208 |         emailAdapter: emailAdapter,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Exception Handling,"{'line': 1002, 'column': 8, 'index': 31704}","  1000 |         const token = match[1];
  1001 |
> 1002 |         try {
       |        ^ Exception Handling
  1003 |           await request({
  1004 |             method: 'POST',
  1005 |             url: 'http://localhost:8378/1/apps/test/request_password_reset',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 109, 'column': 46, 'index': 3411}","  107 |           })
  108 |             .then(response => {
> 109 |               expect(response.status).toEqual(302);
      |                                              ^ Magic Number
  110 |               const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=[a-zA-Z0-9]+\&id=test\&/;
  111 |               expect(response.text.match(re)).not.toBe(null);
  112 |               done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 314, 'column': 37, 'index': 9986}","  312 |         })
  313 |         .catch(error => {
> 314 |           expect(error.code).toEqual(142);
      |                                     ^ Magic Number
  315 |           done();
  316 |         });
  317 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 339, 'column': 37, 'index': 10764}","  337 |         })
  338 |         .catch(error => {
> 339 |           expect(error.code).toEqual(142);
      |                                     ^ Magic Number
  340 |           done();
  341 |         });
  342 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 471, 'column': 37, 'index': 14776}","  469 |         })
  470 |         .catch(error => {
> 471 |           expect(error.code).toEqual(142);
      |                                     ^ Magic Number
  472 |           done();
  473 |         });
  474 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 538, 'column': 37, 'index': 16820}","  536 |         })
  537 |         .catch(error => {
> 538 |           expect(error.code).toEqual(142);
      |                                     ^ Magic Number
  539 |           done();
  540 |         });
  541 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 564, 'column': 37, 'index': 17640}","  562 |         })
  563 |         .catch(error => {
> 564 |           expect(error.code).toEqual(142);
      |                                     ^ Magic Number
  565 |           done();
  566 |         });
  567 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 624, 'column': 44, 'index': 19448}","  622 |         })
  623 |           .then(response => {
> 624 |             expect(response.status).toEqual(302);
      |                                            ^ Magic Number
  625 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  626 |             const match = response.text.match(re);
  627 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 646, 'column': 48, 'index': 20289}","  644 |             })
  645 |               .then(response => {
> 646 |                 expect(response.status).toEqual(302);
      |                                                ^ Magic Number
  647 |                 expect(response.text).toEqual(
  648 |                   'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  649 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 716, 'column': 44, 'index': 22466}","  714 |         })
  715 |           .then(response => {
> 716 |             expect(response.status).toEqual(302);
      |                                            ^ Magic Number
  717 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  718 |             const match = response.text.match(re);
  719 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 738, 'column': 48, 'index': 23309}","  736 |             })
  737 |               .then(response => {
> 738 |                 expect(response.status).toEqual(302);
      |                                                ^ Magic Number
  739 |                 expect(response.text).toEqual(
  740 |                   `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=Password%20should%20contain%20at%20least%20one%20digit.&app=passwordPolicy`
  741 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 835, 'column': 37, 'index': 26377}","  833 |         })
  834 |         .catch(error => {
> 835 |           expect(error.code).toEqual(142);
      |                                     ^ Magic Number
  836 |           expect(error.message).toEqual('Password cannot contain your username.');
  837 |           done();
  838 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 902, 'column': 44, 'index': 28373}","  900 |         })
  901 |           .then(response => {
> 902 |             expect(response.status).toEqual(302);
      |                                            ^ Magic Number
  903 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  904 |             const match = response.text.match(re);
  905 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 924, 'column': 48, 'index': 29213}","  922 |             })
  923 |               .then(response => {
> 924 |                 expect(response.status).toEqual(302);
      |                                                ^ Magic Number
  925 |                 expect(response.text).toEqual(
  926 |                   `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=Password%20cannot%20contain%20your%20username.&app=passwordPolicy`
  927 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 993, 'column': 40, 'index': 31416}","  991 |           resolveWithFullResponse: true,
  992 |         });
> 993 |         expect(response.status).toEqual(302);
      |                                        ^ Magic Number
  994 |         const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  995 |         const match = response.text.match(re);
  996 |         if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 1014, 'column': 40, 'index': 32171}","  1012 |           });
  1013 |         } catch (error) {
> 1014 |           expect(error.status).not.toBe(302);
       |                                        ^ Magic Number
  1015 |           expect(error.text).toEqual(
  1016 |             '{""code"":-1,""error"":""Password cannot contain your username.""}'
  1017 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 1053, 'column': 44, 'index': 33374}","  1051 |         })
  1052 |           .then(response => {
> 1053 |             expect(response.status).toEqual(302);
       |                                            ^ Magic Number
  1054 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1055 |             const match = response.text.match(re);
  1056 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 1075, 'column': 48, 'index': 34214}","  1073 |             })
  1074 |               .then(response => {
> 1075 |                 expect(response.status).toEqual(302);
       |                                                ^ Magic Number
  1076 |                 expect(response.text).toEqual(
  1077 |                   'Found. Redirecting to http://localhost:8378/1/apps/password_reset_success.html'
  1078 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 1474, 'column': 44, 'index': 47081}","  1472 |         })
  1473 |           .then(response => {
> 1474 |             expect(response.status).toEqual(302);
       |                                            ^ Magic Number
  1475 |             const re = /http:\/\/localhost:8378\/1\/apps\/choose_password\?token=([a-zA-Z0-9]+)\&id=test\&/;
  1476 |             const match = response.text.match(re);
  1477 |             if (!match) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 1501, 'column': 44, 'index': 48151}","  1499 |             const response = data[0];
  1500 |             const token = data[1];
> 1501 |             expect(response.status).toEqual(302);
       |                                            ^ Magic Number
  1502 |             expect(response.text).toEqual(
  1503 |               `Found. Redirecting to http://localhost:8378/1/apps/choose_password?token=${token}&id=test&error=New%20password%20should%20not%20be%20the%20same%20as%20last%201%20passwords.&app=passwordPolicy`
  1504 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 1715, 'column': 50, 'index': 54472}","  1713 |       headers,
  1714 |     }).then(res => res.data);
> 1715 |     expect(result1._password_history.length).toBe(1);
       |                                                  ^ Magic Number
  1716 |
  1717 |     user.setPassword('user3');
  1718 |     await user.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Magic Number,"{'line': 1726, 'column': 50, 'index': 54765}","  1724 |       headers,
  1725 |     }).then(res => res.data);
> 1726 |     expect(result2._password_history.length).toBe(1);
       |                                                  ^ Magic Number
  1727 |
  1728 |     expect(result1._password_history).not.toEqual(result2._password_history);
  1729 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Sleepy Test,"{'line': 99, 'column': 8, 'index': 3078}","   97 |       .then(() => {
   98 |         // wait for a bit but less than the validity duration
>  99 |         setTimeout(() => {
      |        ^ Sleepy Test
  100 |           expect(sendEmailOptions).not.toBeUndefined();
  101 |
  102 |           request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 370}","  368 |   });
  369 |
> 370 |   it('signup should succeed if password conforms to the policy enforced using validatorPattern', done => {
      |  ^ Unknown Test
  371 |     const user = new Parse.User();
  372 |     reconfigureServer({
  373 |       appName: 'passwordPolicy',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 411}","  409 |   });
  410 |
> 411 |   it('signup should succeed if password conforms to the policy enforced using validatorPattern string', done => {
      |  ^ Unknown Test
  412 |     const user = new Parse.User();
  413 |     reconfigureServer({
  414 |       appName: 'passwordPolicy',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 477}","  475 |   });
  476 |
> 477 |   it('signup should succeed if password conforms to the policy enforced using validatorCallback', done => {
      |  ^ Unknown Test
  478 |     const user = new Parse.User();
  479 |     reconfigureServer({
  480 |       appName: 'passwordPolicy',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 570}","  568 |   });
  569 |
> 570 |   it('signup should succeed if password conforms to both validatorPattern and validatorCallback', done => {
      |  ^ Unknown Test
  571 |     const user = new Parse.User();
  572 |     reconfigureServer({
  573 |       appName: 'passwordPolicy',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 842}","  840 |   });
  841 |
> 842 |   it('signup should succeed if password does not contain the username and is not allowed by policy', done => {
      |  ^ Unknown Test
  843 |     const user = new Parse.User();
  844 |     reconfigureServer({
  845 |       appName: 'passwordPolicy',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 866}","  864 |   });
  865 |
> 866 |   it('signup should succeed if password contains the username and it is allowed by policy', done => {
      |  ^ Unknown Test
  867 |     const user = new Parse.User();
  868 |     reconfigureServer({
  869 |       appName: 'passwordPolicy',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PasswordPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 1627}","  1625 |   });
  1626 |
> 1627 |   it('should succeed if the new password is same as the 6th oldest one and policy does not allow only previous 5', done => {
       |  ^ Unknown Test
  1628 |     const user = new Parse.User();
  1629 |
  1630 |     reconfigureServer({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 96, 'column': 4, 'index': 2824}","  94 |
  95 |     expect(onConnectCallback).toHaveBeenCalled();
> 96 |     expect(ws.waitingForPong).toBe(false);
     |    ^ Duplicate Assert
  97 |     await new Promise(resolve => setTimeout(resolve, 10));
  98 |     expect(ws.ping).toHaveBeenCalled();
  99 |     expect(ws.waitingForPong).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 96, 'column': 4, 'index': 2824}","  94 |
  95 |     expect(onConnectCallback).toHaveBeenCalled();
> 96 |     expect(ws.waitingForPong).toBe(false);
     |    ^ Duplicate Assert
  97 |     await new Promise(resolve => setTimeout(resolve, 10));
  98 |     expect(ws.ping).toHaveBeenCalled();
  99 |     expect(ws.waitingForPong).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 99, 'column': 4, 'index': 2966}","   97 |     await new Promise(resolve => setTimeout(resolve, 10));
   98 |     expect(ws.ping).toHaveBeenCalled();
>  99 |     expect(ws.waitingForPong).toBe(true);
      |    ^ Duplicate Assert
  100 |     ws.emit('pong');
  101 |     expect(ws.waitingForPong).toBe(false);
  102 |     await new Promise(resolve => setTimeout(resolve, 10));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 99, 'column': 4, 'index': 2966}","   97 |     await new Promise(resolve => setTimeout(resolve, 10));
   98 |     expect(ws.ping).toHaveBeenCalled();
>  99 |     expect(ws.waitingForPong).toBe(true);
      |    ^ Duplicate Assert
  100 |     ws.emit('pong');
  101 |     expect(ws.waitingForPong).toBe(false);
  102 |     await new Promise(resolve => setTimeout(resolve, 10));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 101, 'column': 4, 'index': 3029}","   99 |     expect(ws.waitingForPong).toBe(true);
  100 |     ws.emit('pong');
> 101 |     expect(ws.waitingForPong).toBe(false);
      |    ^ Duplicate Assert
  102 |     await new Promise(resolve => setTimeout(resolve, 10));
  103 |     expect(ws.waitingForPong).toBe(true);
  104 |     expect(ws.terminate).not.toHaveBeenCalled();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 101, 'column': 4, 'index': 3029}","   99 |     expect(ws.waitingForPong).toBe(true);
  100 |     ws.emit('pong');
> 101 |     expect(ws.waitingForPong).toBe(false);
      |    ^ Duplicate Assert
  102 |     await new Promise(resolve => setTimeout(resolve, 10));
  103 |     expect(ws.waitingForPong).toBe(true);
  104 |     expect(ws.terminate).not.toHaveBeenCalled();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 103, 'column': 4, 'index': 3131}","  101 |     expect(ws.waitingForPong).toBe(false);
  102 |     await new Promise(resolve => setTimeout(resolve, 10));
> 103 |     expect(ws.waitingForPong).toBe(true);
      |    ^ Duplicate Assert
  104 |     expect(ws.terminate).not.toHaveBeenCalled();
  105 |     server.close();
  106 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 103, 'column': 4, 'index': 3131}","  101 |     expect(ws.waitingForPong).toBe(false);
  102 |     await new Promise(resolve => setTimeout(resolve, 10));
> 103 |     expect(ws.waitingForPong).toBe(true);
      |    ^ Duplicate Assert
  104 |     expect(ws.terminate).not.toHaveBeenCalled();
  105 |     server.close();
  106 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 125, 'column': 4, 'index': 3872}","  123 |     // Make sure callback is called
  124 |     expect(onConnectCallback).toHaveBeenCalled();
> 125 |     expect(ws.waitingForPong).toBe(false);
      |    ^ Duplicate Assert
  126 |     await new Promise(resolve => setTimeout(resolve, 10));
  127 |     expect(ws.ping).toHaveBeenCalled();
  128 |     expect(ws.waitingForPong).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Duplicate Assert,"{'line': 128, 'column': 4, 'index': 4014}","  126 |     await new Promise(resolve => setTimeout(resolve, 10));
  127 |     expect(ws.ping).toHaveBeenCalled();
> 128 |     expect(ws.waitingForPong).toBe(true);
      |    ^ Duplicate Assert
  129 |     await new Promise(resolve => setTimeout(resolve, 10));
  130 |     expect(ws.terminate).toHaveBeenCalled();
  131 |     server.close();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Sleepy Test,"{'line': 33, 'column': 4, 'index': 1033}","  31 |     expect(onConnectCallback).toHaveBeenCalled();
  32 |     // Make sure we ping to the client
> 33 |     setTimeout(function () {
     |    ^ Sleepy Test
  34 |       expect(ws.ping).toHaveBeenCalled();
  35 |       server.close();
  36 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Sleepy Test,"{'line': 97, 'column': 33, 'index': 2896}","   95 |     expect(onConnectCallback).toHaveBeenCalled();
   96 |     expect(ws.waitingForPong).toBe(false);
>  97 |     await new Promise(resolve => setTimeout(resolve, 10));
      |                                 ^ Sleepy Test
   98 |     expect(ws.ping).toHaveBeenCalled();
   99 |     expect(ws.waitingForPong).toBe(true);
  100 |     ws.emit('pong');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Sleepy Test,"{'line': 102, 'column': 33, 'index': 3101}","  100 |     ws.emit('pong');
  101 |     expect(ws.waitingForPong).toBe(false);
> 102 |     await new Promise(resolve => setTimeout(resolve, 10));
      |                                 ^ Sleepy Test
  103 |     expect(ws.waitingForPong).toBe(true);
  104 |     expect(ws.terminate).not.toHaveBeenCalled();
  105 |     server.close();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Sleepy Test,"{'line': 126, 'column': 33, 'index': 3944}","  124 |     expect(onConnectCallback).toHaveBeenCalled();
  125 |     expect(ws.waitingForPong).toBe(false);
> 126 |     await new Promise(resolve => setTimeout(resolve, 10));
      |                                 ^ Sleepy Test
  127 |     expect(ws.ping).toHaveBeenCalled();
  128 |     expect(ws.waitingForPong).toBe(true);
  129 |     await new Promise(resolve => setTimeout(resolve, 10));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocketServer.spec.js,Sleepy Test,"{'line': 129, 'column': 33, 'index': 4085}","  127 |     expect(ws.ping).toHaveBeenCalled();
  128 |     expect(ws.waitingForPong).toBe(true);
> 129 |     await new Promise(resolve => setTimeout(resolve, 10));
      |                                 ^ Sleepy Test
  130 |     expect(ws.terminate).toHaveBeenCalled();
  131 |     server.close();
  132 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocket.spec.js,Unknown Test,"{'column': 2, 'line': 11}","   9 |   });
  10 |
> 11 |   it('can handle disconnect event', function (done) {
     |  ^ Unknown Test
  12 |     const ws = {
  13 |       onclose: () => {},
  14 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseWebSocket.spec.js,Unknown Test,"{'column': 2, 'line': 22}","  20 |   });
  21 |
> 22 |   it('can handle message event', function (done) {
     |  ^ Unknown Test
  23 |     const ws = {
  24 |       onmessage: () => {},
  25 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 34, 'column': 4, 'index': 1248}","  32 |   it('should enforce boolean values', async () => {
  33 |     const options = [[], 'a', '', 0, 1, {}, 'true', 'false'];
> 34 |     for (const option of options) {
     |    ^ Conditional Test Logic
  35 |       await expectAsync(reconfigureServer({ allowExpiredAuthDataToken: option })).toBeRejected();
  36 |     }
  37 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 803, 'column': 6, 'index': 23517}","  801 |     signUpAll(userList, async function (users) {
  802 |       // Make a list of messages.
> 803 |       if (!users || users.length != USERS) {
      |      ^ Conditional Test Logic
  804 |         fail('signupAll failed');
  805 |         done();
  806 |         return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1165, 'column': 8, 'index': 34550}","  1163 |
  1164 |       authenticate: function (options) {
> 1165 |         if (this.shouldError) {
       |        ^ Conditional Test Logic
  1166 |           options.error(this, 'An error occurred');
  1167 |         } else if (this.shouldCancel) {
  1168 |           options.error(this, null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1167, 'column': 15, 'index': 34641}","  1165 |         if (this.shouldError) {
  1166 |           options.error(this, 'An error occurred');
> 1167 |         } else if (this.shouldCancel) {
       |               ^ Conditional Test Logic
  1168 |           options.error(this, null);
  1169 |         } else {
  1170 |           options.success(this, this.authData);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1174, 'column': 8, 'index': 34846}","  1172 |       },
  1173 |       restoreAuthentication: function (authData) {
> 1174 |         if (!authData) {
       |        ^ Conditional Test Logic
  1175 |           this.synchronizedUserId = null;
  1176 |           this.synchronizedAuthToken = null;
  1177 |           this.synchronizedExpiration = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1215, 'column': 8, 'index': 36005}","  1213 |
  1214 |       authenticate(options) {
> 1215 |         if (this.shouldError) {
       |        ^ Conditional Test Logic
  1216 |           options.error(this, 'An error occurred');
  1217 |         } else if (this.shouldCancel) {
  1218 |           options.error(this, null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1217, 'column': 15, 'index': 36096}","  1215 |         if (this.shouldError) {
  1216 |           options.error(this, 'An error occurred');
> 1217 |         } else if (this.shouldCancel) {
       |               ^ Conditional Test Logic
  1218 |           options.error(this, null);
  1219 |         } else {
  1220 |           options.success(this, this.authData);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1224, 'column': 8, 'index': 36290}","  1222 |       },
  1223 |       restoreAuthentication(authData) {
> 1224 |         if (!authData) {
       |        ^ Conditional Test Logic
  1225 |           this.synchronizedUserId = null;
  1226 |           this.synchronizedAuthToken = null;
  1227 |           this.synchronizedExpiration = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1511, 'column': 6, 'index': 46617}","  1509 |     Parse.Cloud.beforeLogin(req => {
  1510 |       hit++;
> 1511 |       if (req.object.get('isBanned')) {
       |      ^ Conditional Test Logic
  1512 |         throw new Error('banned account');
  1513 |       }
  1514 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1537, 'column': 6, 'index': 47375}","  1535 |     Parse.Cloud.beforeLogin(req => {
  1536 |       hit++;
> 1537 |       if (req.object.get('isBanned')) {
       |      ^ Conditional Test Logic
  1538 |         throw new Error('banned account');
  1539 |       }
  1540 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1966, 'column': 6, 'index': 64199}","  1964 |       const authData = request.object.get('authData');
  1965 |       expect(authData).not.toBeUndefined();
> 1966 |       if (authData) {
       |      ^ Conditional Test Logic
  1967 |         expect(authData.facebook.id).toEqual('8675309');
  1968 |         expect(authData.facebook.access_token).toEqual('jenny');
  1969 |       } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 1977, 'column': 6, 'index': 64562}","  1975 |       const authData = request.object.get('authData');
  1976 |       expect(authData).not.toBeUndefined();
> 1977 |       if (authData) {
       |      ^ Conditional Test Logic
  1978 |         expect(authData.facebook.id).toEqual('8675309');
  1979 |         expect(authData.facebook.access_token).toEqual('jenny');
  1980 |       } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 3572, 'column': 4, 'index': 112315}","  3570 |     });
  3571 |     await user.signUp();
> 3572 |     for (let i = 0; i < 2; i++) {
       |    ^ Conditional Test Logic
  3573 |       try {
  3574 |         await Parse.User.logIn(user.getEmail(), 'abc');
  3575 |       } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 3634, 'column': 4, 'index': 114208}","  3632 |       headers,
  3633 |     }).then(res => res.data.results[0]);
> 3634 |     for (const key in toSet) {
       |    ^ Conditional Test Logic
  3635 |       const value = toSet[key];
  3636 |       if (update[key] && update[key].iso) {
  3637 |         expect(update[key].iso).toEqual(value.toISOString());"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 3636, 'column': 6, 'index': 114273}","  3634 |     for (const key in toSet) {
  3635 |       const value = toSet[key];
> 3636 |       if (update[key] && update[key].iso) {
       |      ^ Conditional Test Logic
  3637 |         expect(update[key].iso).toEqual(value.toISOString());
  3638 |       } else if (value.toISOString) {
  3639 |         expect(update[key]).toEqual(value.toISOString());"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 3638, 'column': 13, 'index': 114386}","  3636 |       if (update[key] && update[key].iso) {
  3637 |         expect(update[key].iso).toEqual(value.toISOString());
> 3638 |       } else if (value.toISOString) {
       |             ^ Conditional Test Logic
  3639 |         expect(update[key]).toEqual(value.toISOString());
  3640 |       } else {
  3641 |         expect(update[key]).toEqual(value);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 4039, 'column': 8, 'index': 125651}","  4037 |         let promise = Promise.resolve();
  4038 |         let count = 0;
> 4039 |         while (count < 5) {
       |        ^ Conditional Test Logic
  4040 |           promise = promise.then(() => {
  4041 |             return Parse.User.logIn('yolo', 'yolo').then(res => {
  4042 |               // ensure a new session token is generated at each login"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 4099, 'column': 4, 'index': 127485}","  4097 |   it('should throw when enforcePrivateUsers is invalid', async () => {
  4098 |     const options = [[], 'a', 0, {}];
> 4099 |     for (const option of options) {
       |    ^ Conditional Test Logic
  4100 |       await expectAsync(reconfigureServer({ enforcePrivateUsers: option })).toBeRejected();
  4101 |     }
  4102 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 4181, 'column': 6, 'index': 130806}","  4179 |       expect(obj.authData).toBeUndefined();
  4180 |       expect(prev && prev.authData).toBeUndefined();
> 4181 |       if (prev && prev.get) {
       |      ^ Conditional Test Logic
  4182 |         expect(prev.get('authData')).toBeUndefined();
  4183 |       }
  4184 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 4186, 'column': 4, 'index': 130925}","  4184 |     };
  4185 |     const calls = {};
> 4186 |     for (const key of events) {
       |    ^ Conditional Test Logic
  4187 |       calls[key] = response;
  4188 |       spyOn(calls, key).and.callThrough();
  4189 |       subscription.on(key, calls[key]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 4200, 'column': 4, 'index': 131367}","  4198 |     await user.destroy();
  4199 |     await new Promise(resolve => setTimeout(resolve, 10));
> 4200 |     for (const key of events) {
       |    ^ Conditional Test Logic
  4201 |       expect(calls[key]).toHaveBeenCalled();
  4202 |     }
  4203 |     subscription.unsubscribe();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 4344, 'column': 4, 'index': 136154}","  4342 |     const invalidUserIds = [undefined, null, ''];
  4343 |
> 4344 |     for (const invalidUserId of invalidUserIds) {
       |    ^ Conditional Test Logic
  4345 |       try {
  4346 |         await request({
  4347 |           method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Conditional Test Logic,"{'line': 4410, 'column': 4, 'index': 138174}","  4408 |   it('should enforce boolean values', async () => {
  4409 |     const options = [[], 'a', '', 0, 1, {}, 'true', 'false'];
> 4410 |     for (const option of options) {
       |    ^ Conditional Test Logic
  4411 |       await expectAsync(reconfigureServer({ allowClientClassCreation: option })).toBeRejected();
  4412 |     }
  4413 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 81, 'column': 6, 'index': 2508}","  79 |     const context = { foo: 'bar' };
  80 |     Parse.Cloud.beforeLogin(req => {
> 81 |       expect(req.context).toEqual(context);
     |      ^ Duplicate Assert
  82 |       hit++;
  83 |     });
  84 |     Parse.Cloud.afterLogin(req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 81, 'column': 6, 'index': 2508}","  79 |     const context = { foo: 'bar' };
  80 |     Parse.Cloud.beforeLogin(req => {
> 81 |       expect(req.context).toEqual(context);
     |      ^ Duplicate Assert
  82 |       hit++;
  83 |     });
  84 |     Parse.Cloud.afterLogin(req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 85, 'column': 6, 'index': 2609}","  83 |     });
  84 |     Parse.Cloud.afterLogin(req => {
> 85 |       expect(req.context).toEqual(context);
     |      ^ Duplicate Assert
  86 |       hit++;
  87 |     });
  88 |     await Parse.User.signUp('asdf', 'zxcv');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 85, 'column': 6, 'index': 2609}","  83 |     });
  84 |     Parse.Cloud.afterLogin(req => {
> 85 |       expect(req.context).toEqual(context);
     |      ^ Duplicate Assert
  86 |       hit++;
  87 |     });
  88 |     await Parse.User.signUp('asdf', 'zxcv');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 222, 'column': 8, 'index': 6589}","  220 |         equal(user.get('username'), 'asdf');
  221 |         const ACL = user.getACL();
> 222 |         expect(ACL.getReadAccess(user)).toBe(true);
      |        ^ Duplicate Assert
  223 |         expect(ACL.getWriteAccess(user)).toBe(true);
  224 |         expect(ACL.getPublicReadAccess()).toBe(false);
  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 222, 'column': 8, 'index': 6589}","  220 |         equal(user.get('username'), 'asdf');
  221 |         const ACL = user.getACL();
> 222 |         expect(ACL.getReadAccess(user)).toBe(true);
      |        ^ Duplicate Assert
  223 |         expect(ACL.getWriteAccess(user)).toBe(true);
  224 |         expect(ACL.getPublicReadAccess()).toBe(false);
  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 223, 'column': 8, 'index': 6641}","  221 |         const ACL = user.getACL();
  222 |         expect(ACL.getReadAccess(user)).toBe(true);
> 223 |         expect(ACL.getWriteAccess(user)).toBe(true);
      |        ^ Duplicate Assert
  224 |         expect(ACL.getPublicReadAccess()).toBe(false);
  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  226 |         const perms = ACL.permissionsById;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 223, 'column': 8, 'index': 6641}","  221 |         const ACL = user.getACL();
  222 |         expect(ACL.getReadAccess(user)).toBe(true);
> 223 |         expect(ACL.getWriteAccess(user)).toBe(true);
      |        ^ Duplicate Assert
  224 |         expect(ACL.getPublicReadAccess()).toBe(false);
  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  226 |         const perms = ACL.permissionsById;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 224, 'column': 8, 'index': 6694}","  222 |         expect(ACL.getReadAccess(user)).toBe(true);
  223 |         expect(ACL.getWriteAccess(user)).toBe(true);
> 224 |         expect(ACL.getPublicReadAccess()).toBe(false);
      |        ^ Duplicate Assert
  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  226 |         const perms = ACL.permissionsById;
  227 |         expect(Object.keys(perms).length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 224, 'column': 8, 'index': 6694}","  222 |         expect(ACL.getReadAccess(user)).toBe(true);
  223 |         expect(ACL.getWriteAccess(user)).toBe(true);
> 224 |         expect(ACL.getPublicReadAccess()).toBe(false);
      |        ^ Duplicate Assert
  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  226 |         const perms = ACL.permissionsById;
  227 |         expect(Object.keys(perms).length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 225, 'column': 8, 'index': 6749}","  223 |         expect(ACL.getWriteAccess(user)).toBe(true);
  224 |         expect(ACL.getPublicReadAccess()).toBe(false);
> 225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
      |        ^ Duplicate Assert
  226 |         const perms = ACL.permissionsById;
  227 |         expect(Object.keys(perms).length).toBe(1);
  228 |         expect(perms[user.id].read).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 225, 'column': 8, 'index': 6749}","  223 |         expect(ACL.getWriteAccess(user)).toBe(true);
  224 |         expect(ACL.getPublicReadAccess()).toBe(false);
> 225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
      |        ^ Duplicate Assert
  226 |         const perms = ACL.permissionsById;
  227 |         expect(Object.keys(perms).length).toBe(1);
  228 |         expect(perms[user.id].read).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 227, 'column': 8, 'index': 6848}","  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  226 |         const perms = ACL.permissionsById;
> 227 |         expect(Object.keys(perms).length).toBe(1);
      |        ^ Duplicate Assert
  228 |         expect(perms[user.id].read).toBe(true);
  229 |         expect(perms[user.id].write).toBe(true);
  230 |         expect(perms['*']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 227, 'column': 8, 'index': 6848}","  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  226 |         const perms = ACL.permissionsById;
> 227 |         expect(Object.keys(perms).length).toBe(1);
      |        ^ Duplicate Assert
  228 |         expect(perms[user.id].read).toBe(true);
  229 |         expect(perms[user.id].write).toBe(true);
  230 |         expect(perms['*']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 228, 'column': 8, 'index': 6899}","  226 |         const perms = ACL.permissionsById;
  227 |         expect(Object.keys(perms).length).toBe(1);
> 228 |         expect(perms[user.id].read).toBe(true);
      |        ^ Duplicate Assert
  229 |         expect(perms[user.id].write).toBe(true);
  230 |         expect(perms['*']).toBeUndefined();
  231 |         // Try to lock out user"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 228, 'column': 8, 'index': 6899}","  226 |         const perms = ACL.permissionsById;
  227 |         expect(Object.keys(perms).length).toBe(1);
> 228 |         expect(perms[user.id].read).toBe(true);
      |        ^ Duplicate Assert
  229 |         expect(perms[user.id].write).toBe(true);
  230 |         expect(perms['*']).toBeUndefined();
  231 |         // Try to lock out user"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 229, 'column': 8, 'index': 6947}","  227 |         expect(Object.keys(perms).length).toBe(1);
  228 |         expect(perms[user.id].read).toBe(true);
> 229 |         expect(perms[user.id].write).toBe(true);
      |        ^ Duplicate Assert
  230 |         expect(perms['*']).toBeUndefined();
  231 |         // Try to lock out user
  232 |         const newACL = new Parse.ACL();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 229, 'column': 8, 'index': 6947}","  227 |         expect(Object.keys(perms).length).toBe(1);
  228 |         expect(perms[user.id].read).toBe(true);
> 229 |         expect(perms[user.id].write).toBe(true);
      |        ^ Duplicate Assert
  230 |         expect(perms['*']).toBeUndefined();
  231 |         // Try to lock out user
  232 |         const newACL = new Parse.ACL();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 230, 'column': 8, 'index': 6996}","  228 |         expect(perms[user.id].read).toBe(true);
  229 |         expect(perms[user.id].write).toBe(true);
> 230 |         expect(perms['*']).toBeUndefined();
      |        ^ Duplicate Assert
  231 |         // Try to lock out user
  232 |         const newACL = new Parse.ACL();
  233 |         newACL.setReadAccess(user.id, false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 230, 'column': 8, 'index': 6996}","  228 |         expect(perms[user.id].read).toBe(true);
  229 |         expect(perms[user.id].write).toBe(true);
> 230 |         expect(perms['*']).toBeUndefined();
      |        ^ Duplicate Assert
  231 |         // Try to lock out user
  232 |         const newACL = new Parse.ACL();
  233 |         newACL.setReadAccess(user.id, false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 244, 'column': 8, 'index': 7451}","  242 |         equal(user.get('username'), 'asdf');
  243 |         const ACL = user.getACL();
> 244 |         expect(ACL.getReadAccess(user)).toBe(true);
      |        ^ Duplicate Assert
  245 |         expect(ACL.getWriteAccess(user)).toBe(true);
  246 |         expect(ACL.getPublicReadAccess()).toBe(false);
  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 244, 'column': 8, 'index': 7451}","  242 |         equal(user.get('username'), 'asdf');
  243 |         const ACL = user.getACL();
> 244 |         expect(ACL.getReadAccess(user)).toBe(true);
      |        ^ Duplicate Assert
  245 |         expect(ACL.getWriteAccess(user)).toBe(true);
  246 |         expect(ACL.getPublicReadAccess()).toBe(false);
  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 245, 'column': 8, 'index': 7503}","  243 |         const ACL = user.getACL();
  244 |         expect(ACL.getReadAccess(user)).toBe(true);
> 245 |         expect(ACL.getWriteAccess(user)).toBe(true);
      |        ^ Duplicate Assert
  246 |         expect(ACL.getPublicReadAccess()).toBe(false);
  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  248 |         const perms = ACL.permissionsById;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 245, 'column': 8, 'index': 7503}","  243 |         const ACL = user.getACL();
  244 |         expect(ACL.getReadAccess(user)).toBe(true);
> 245 |         expect(ACL.getWriteAccess(user)).toBe(true);
      |        ^ Duplicate Assert
  246 |         expect(ACL.getPublicReadAccess()).toBe(false);
  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  248 |         const perms = ACL.permissionsById;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 246, 'column': 8, 'index': 7556}","  244 |         expect(ACL.getReadAccess(user)).toBe(true);
  245 |         expect(ACL.getWriteAccess(user)).toBe(true);
> 246 |         expect(ACL.getPublicReadAccess()).toBe(false);
      |        ^ Duplicate Assert
  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  248 |         const perms = ACL.permissionsById;
  249 |         expect(Object.keys(perms).length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 246, 'column': 8, 'index': 7556}","  244 |         expect(ACL.getReadAccess(user)).toBe(true);
  245 |         expect(ACL.getWriteAccess(user)).toBe(true);
> 246 |         expect(ACL.getPublicReadAccess()).toBe(false);
      |        ^ Duplicate Assert
  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  248 |         const perms = ACL.permissionsById;
  249 |         expect(Object.keys(perms).length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 247, 'column': 8, 'index': 7611}","  245 |         expect(ACL.getWriteAccess(user)).toBe(true);
  246 |         expect(ACL.getPublicReadAccess()).toBe(false);
> 247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
      |        ^ Duplicate Assert
  248 |         const perms = ACL.permissionsById;
  249 |         expect(Object.keys(perms).length).toBe(1);
  250 |         expect(perms[user.id].read).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 247, 'column': 8, 'index': 7611}","  245 |         expect(ACL.getWriteAccess(user)).toBe(true);
  246 |         expect(ACL.getPublicReadAccess()).toBe(false);
> 247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
      |        ^ Duplicate Assert
  248 |         const perms = ACL.permissionsById;
  249 |         expect(Object.keys(perms).length).toBe(1);
  250 |         expect(perms[user.id].read).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 249, 'column': 8, 'index': 7710}","  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  248 |         const perms = ACL.permissionsById;
> 249 |         expect(Object.keys(perms).length).toBe(1);
      |        ^ Duplicate Assert
  250 |         expect(perms[user.id].read).toBe(true);
  251 |         expect(perms[user.id].write).toBe(true);
  252 |         expect(perms['*']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 249, 'column': 8, 'index': 7710}","  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  248 |         const perms = ACL.permissionsById;
> 249 |         expect(Object.keys(perms).length).toBe(1);
      |        ^ Duplicate Assert
  250 |         expect(perms[user.id].read).toBe(true);
  251 |         expect(perms[user.id].write).toBe(true);
  252 |         expect(perms['*']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 250, 'column': 8, 'index': 7761}","  248 |         const perms = ACL.permissionsById;
  249 |         expect(Object.keys(perms).length).toBe(1);
> 250 |         expect(perms[user.id].read).toBe(true);
      |        ^ Duplicate Assert
  251 |         expect(perms[user.id].write).toBe(true);
  252 |         expect(perms['*']).toBeUndefined();
  253 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 250, 'column': 8, 'index': 7761}","  248 |         const perms = ACL.permissionsById;
  249 |         expect(Object.keys(perms).length).toBe(1);
> 250 |         expect(perms[user.id].read).toBe(true);
      |        ^ Duplicate Assert
  251 |         expect(perms[user.id].write).toBe(true);
  252 |         expect(perms['*']).toBeUndefined();
  253 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 251, 'column': 8, 'index': 7809}","  249 |         expect(Object.keys(perms).length).toBe(1);
  250 |         expect(perms[user.id].read).toBe(true);
> 251 |         expect(perms[user.id].write).toBe(true);
      |        ^ Duplicate Assert
  252 |         expect(perms['*']).toBeUndefined();
  253 |         done();
  254 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 251, 'column': 8, 'index': 7809}","  249 |         expect(Object.keys(perms).length).toBe(1);
  250 |         expect(perms[user.id].read).toBe(true);
> 251 |         expect(perms[user.id].write).toBe(true);
      |        ^ Duplicate Assert
  252 |         expect(perms['*']).toBeUndefined();
  253 |         done();
  254 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 252, 'column': 8, 'index': 7858}","  250 |         expect(perms[user.id].read).toBe(true);
  251 |         expect(perms[user.id].write).toBe(true);
> 252 |         expect(perms['*']).toBeUndefined();
      |        ^ Duplicate Assert
  253 |         done();
  254 |       })
  255 |       .catch(() => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 252, 'column': 8, 'index': 7858}","  250 |         expect(perms[user.id].read).toBe(true);
  251 |         expect(perms[user.id].write).toBe(true);
> 252 |         expect(perms['*']).toBeUndefined();
      |        ^ Duplicate Assert
  253 |         done();
  254 |       })
  255 |       .catch(() => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 636, 'column': 6, 'index': 18698}","  634 |     } catch (e) {
  635 |       failed = true;
> 636 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
      |      ^ Duplicate Assert
  637 |     }
  638 |     expect({ failed }).toEqual({ failed: true });
  639 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 636, 'column': 6, 'index': 18698}","  634 |     } catch (e) {
  635 |       failed = true;
> 636 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
      |      ^ Duplicate Assert
  637 |     }
  638 |     expect({ failed }).toEqual({ failed: true });
  639 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 638, 'column': 4, 'index': 18758}","  636 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
  637 |     }
> 638 |     expect({ failed }).toEqual({ failed: true });
      |    ^ Duplicate Assert
  639 |
  640 |     // Try to save with a random user, should fail
  641 |     failed = false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 638, 'column': 4, 'index': 18758}","  636 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
  637 |     }
> 638 |     expect({ failed }).toEqual({ failed: true });
      |    ^ Duplicate Assert
  639 |
  640 |     // Try to save with a random user, should fail
  641 |     failed = false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 651, 'column': 6, 'index': 19109}","  649 |     } catch (e) {
  650 |       failed = true;
> 651 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
      |      ^ Duplicate Assert
  652 |     }
  653 |     expect({ failed }).toEqual({ failed: true });
  654 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 651, 'column': 6, 'index': 19109}","  649 |     } catch (e) {
  650 |       failed = true;
> 651 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
      |      ^ Duplicate Assert
  652 |     }
  653 |     expect({ failed }).toEqual({ failed: true });
  654 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 653, 'column': 4, 'index': 19169}","  651 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
  652 |     }
> 653 |     expect({ failed }).toEqual({ failed: true });
      |    ^ Duplicate Assert
  654 |   });
  655 |
  656 |   it('current user', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 653, 'column': 4, 'index': 19169}","  651 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
  652 |     }
> 653 |     expect({ failed }).toEqual({ failed: true });
      |    ^ Duplicate Assert
  654 |   });
  655 |
  656 |   it('current user', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1634, 'column': 4, 'index': 51093}","  1632 |     const u2 = await query.get(user.id);
  1633 |     const model = await u2._linkWith('facebook', {}, { useMasterKey: true });
> 1634 |     expect(u2.getSessionToken()).toBeDefined();
       |    ^ Duplicate Assert
  1635 |     expect(model.getSessionToken()).toBeDefined();
  1636 |     expect(u2.getSessionToken()).toBe(model.getSessionToken());
  1637 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1636, 'column': 4, 'index': 51192}","  1634 |     expect(u2.getSessionToken()).toBeDefined();
  1635 |     expect(model.getSessionToken()).toBeDefined();
> 1636 |     expect(u2.getSessionToken()).toBe(model.getSessionToken());
       |    ^ Duplicate Assert
  1637 |   });
  1638 |
  1639 |   it('link with provider via sessionToken should not create new sessionToken (Regression #5799)', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1649, 'column': 4, 'index': 51747}","  1647 |
  1648 |     await user._linkWith('facebook', {}, { sessionToken });
> 1649 |     expect(sessionToken).toBe(user.getSessionToken());
       |    ^ Duplicate Assert
  1650 |
  1651 |     expect(user._isLinked(provider)).toBe(true);
  1652 |     await user._unlinkFrom(provider, { sessionToken });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1651, 'column': 4, 'index': 51803}","  1649 |     expect(sessionToken).toBe(user.getSessionToken());
  1650 |
> 1651 |     expect(user._isLinked(provider)).toBe(true);
       |    ^ Duplicate Assert
  1652 |     await user._unlinkFrom(provider, { sessionToken });
  1653 |     expect(user._isLinked(provider)).toBe(false);
  1654 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1653, 'column': 4, 'index': 51908}","  1651 |     expect(user._isLinked(provider)).toBe(true);
  1652 |     await user._unlinkFrom(provider, { sessionToken });
> 1653 |     expect(user._isLinked(provider)).toBe(false);
       |    ^ Duplicate Assert
  1654 |
  1655 |     const become = await Parse.User.become(sessionToken);
  1656 |     expect(sessionToken).toBe(become.getSessionToken());"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1656, 'column': 4, 'index': 52017}","  1654 |
  1655 |     const become = await Parse.User.become(sessionToken);
> 1656 |     expect(sessionToken).toBe(become.getSessionToken());
       |    ^ Duplicate Assert
  1657 |   });
  1658 |
  1659 |   it('link with provider failed', async done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1965, 'column': 6, 'index': 64155}","  1963 |     Parse.Cloud.beforeSave('_User', request => {
  1964 |       const authData = request.object.get('authData');
> 1965 |       expect(authData).not.toBeUndefined();
       |      ^ Duplicate Assert
  1966 |       if (authData) {
  1967 |         expect(authData.facebook.id).toEqual('8675309');
  1968 |         expect(authData.facebook.access_token).toEqual('jenny');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1965, 'column': 6, 'index': 64155}","  1963 |     Parse.Cloud.beforeSave('_User', request => {
  1964 |       const authData = request.object.get('authData');
> 1965 |       expect(authData).not.toBeUndefined();
       |      ^ Duplicate Assert
  1966 |       if (authData) {
  1967 |         expect(authData.facebook.id).toEqual('8675309');
  1968 |         expect(authData.facebook.access_token).toEqual('jenny');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1967, 'column': 8, 'index': 64223}","  1965 |       expect(authData).not.toBeUndefined();
  1966 |       if (authData) {
> 1967 |         expect(authData.facebook.id).toEqual('8675309');
       |        ^ Duplicate Assert
  1968 |         expect(authData.facebook.access_token).toEqual('jenny');
  1969 |       } else {
  1970 |         fail('authData should be set');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1967, 'column': 8, 'index': 64223}","  1965 |       expect(authData).not.toBeUndefined();
  1966 |       if (authData) {
> 1967 |         expect(authData.facebook.id).toEqual('8675309');
       |        ^ Duplicate Assert
  1968 |         expect(authData.facebook.access_token).toEqual('jenny');
  1969 |       } else {
  1970 |         fail('authData should be set');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1968, 'column': 8, 'index': 64280}","  1966 |       if (authData) {
  1967 |         expect(authData.facebook.id).toEqual('8675309');
> 1968 |         expect(authData.facebook.access_token).toEqual('jenny');
       |        ^ Duplicate Assert
  1969 |       } else {
  1970 |         fail('authData should be set');
  1971 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1968, 'column': 8, 'index': 64280}","  1966 |       if (authData) {
  1967 |         expect(authData.facebook.id).toEqual('8675309');
> 1968 |         expect(authData.facebook.access_token).toEqual('jenny');
       |        ^ Duplicate Assert
  1969 |       } else {
  1970 |         fail('authData should be set');
  1971 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1976, 'column': 6, 'index': 64518}","  1974 |     Parse.Cloud.afterSave('_User', request => {
  1975 |       const authData = request.object.get('authData');
> 1976 |       expect(authData).not.toBeUndefined();
       |      ^ Duplicate Assert
  1977 |       if (authData) {
  1978 |         expect(authData.facebook.id).toEqual('8675309');
  1979 |         expect(authData.facebook.access_token).toEqual('jenny');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1976, 'column': 6, 'index': 64518}","  1974 |     Parse.Cloud.afterSave('_User', request => {
  1975 |       const authData = request.object.get('authData');
> 1976 |       expect(authData).not.toBeUndefined();
       |      ^ Duplicate Assert
  1977 |       if (authData) {
  1978 |         expect(authData.facebook.id).toEqual('8675309');
  1979 |         expect(authData.facebook.access_token).toEqual('jenny');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1978, 'column': 8, 'index': 64586}","  1976 |       expect(authData).not.toBeUndefined();
  1977 |       if (authData) {
> 1978 |         expect(authData.facebook.id).toEqual('8675309');
       |        ^ Duplicate Assert
  1979 |         expect(authData.facebook.access_token).toEqual('jenny');
  1980 |       } else {
  1981 |         fail('authData should be set');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1978, 'column': 8, 'index': 64586}","  1976 |       expect(authData).not.toBeUndefined();
  1977 |       if (authData) {
> 1978 |         expect(authData.facebook.id).toEqual('8675309');
       |        ^ Duplicate Assert
  1979 |         expect(authData.facebook.access_token).toEqual('jenny');
  1980 |       } else {
  1981 |         fail('authData should be set');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1979, 'column': 8, 'index': 64643}","  1977 |       if (authData) {
  1978 |         expect(authData.facebook.id).toEqual('8675309');
> 1979 |         expect(authData.facebook.access_token).toEqual('jenny');
       |        ^ Duplicate Assert
  1980 |       } else {
  1981 |         fail('authData should be set');
  1982 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 1979, 'column': 8, 'index': 64643}","  1977 |       if (authData) {
  1978 |         expect(authData.facebook.id).toEqual('8675309');
> 1979 |         expect(authData.facebook.access_token).toEqual('jenny');
       |        ^ Duplicate Assert
  1980 |       } else {
  1981 |         fail('authData should be set');
  1982 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 2335, 'column': 8, 'index': 75095}","  2333 |
  2334 |         expect(username1).not.toBeUndefined();
> 2335 |         expect(username2).not.toBeUndefined();
       |        ^ Duplicate Assert
  2336 |         expect(username1.toLowerCase()).toBe('abcdefghijklmnop');
  2337 |         expect(username2.toLowerCase()).toBe('abcdefghijklmnop');
  2338 |         expect(username2).not.toBe(username1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 2337, 'column': 8, 'index': 75208}","  2335 |         expect(username2).not.toBeUndefined();
  2336 |         expect(username1.toLowerCase()).toBe('abcdefghijklmnop');
> 2337 |         expect(username2.toLowerCase()).toBe('abcdefghijklmnop');
       |        ^ Duplicate Assert
  2338 |         expect(username2).not.toBe(username1);
  2339 |         expect(username2.toLowerCase()).toBe(username1.toLowerCase()); // this is redundant :).
  2340 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 2338, 'column': 8, 'index': 75274}","  2336 |         expect(username1.toLowerCase()).toBe('abcdefghijklmnop');
  2337 |         expect(username2.toLowerCase()).toBe('abcdefghijklmnop');
> 2338 |         expect(username2).not.toBe(username1);
       |        ^ Duplicate Assert
  2339 |         expect(username2.toLowerCase()).toBe(username1.toLowerCase()); // this is redundant :).
  2340 |       });
  2341 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 2339, 'column': 8, 'index': 75321}","  2337 |         expect(username2.toLowerCase()).toBe('abcdefghijklmnop');
  2338 |         expect(username2).not.toBe(username1);
> 2339 |         expect(username2.toLowerCase()).toBe(username1.toLowerCase()); // this is redundant :).
       |        ^ Duplicate Assert
  2340 |       });
  2341 |     });
  2342 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 2535, 'column': 12, 'index': 81783}","  2533 |           }).then(fail, response => {
  2534 |             const b = response.data;
> 2535 |             expect(b.error).toBe('Invalid session token');
       |            ^ Duplicate Assert
  2536 |             request({
  2537 |               method: 'PUT',
  2538 |               headers: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 2546, 'column': 14, 'index': 82235}","  2544 |             }).then(fail, response => {
  2545 |               const b = response.data;
> 2546 |               expect(b.error).toBe('Session token required.');
       |              ^ Duplicate Assert
  2547 |               done();
  2548 |             });
  2549 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 2930, 'column': 8, 'index': 93423}","  2928 |         expect(typeof user).toEqual('object');
  2929 |         expect(user.authData).toBeUndefined();
> 2930 |         expect(user.sessionToken).not.toBeUndefined();
       |        ^ Duplicate Assert
  2931 |         // Session token should have changed
  2932 |         expect(user.sessionToken).not.toEqual(originalSessionToken);
  2933 |         // test that the sessionToken is valid"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 2932, 'column': 8, 'index': 93523}","  2930 |         expect(user.sessionToken).not.toBeUndefined();
  2931 |         // Session token should have changed
> 2932 |         expect(user.sessionToken).not.toEqual(originalSessionToken);
       |        ^ Duplicate Assert
  2933 |         // test that the sessionToken is valid
  2934 |         return request({
  2935 |           url: 'http://localhost:8378/1/users/me',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3240, 'column': 4, 'index': 102742}","  3238 |     await user.signUp();
  3239 |     await user._linkWith('facebook');
> 3240 |     expect(user.get('username')).toEqual('testLinkWithProvider');
       |    ^ Duplicate Assert
  3241 |     expect(Parse.FacebookUtils.isLinked(user)).toBeTruthy();
  3242 |     await user._unlinkFrom('facebook');
  3243 |     user = await user.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3240, 'column': 4, 'index': 102742}","  3238 |     await user.signUp();
  3239 |     await user._linkWith('facebook');
> 3240 |     expect(user.get('username')).toEqual('testLinkWithProvider');
       |    ^ Duplicate Assert
  3241 |     expect(Parse.FacebookUtils.isLinked(user)).toBeTruthy();
  3242 |     await user._unlinkFrom('facebook');
  3243 |     user = await user.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3241, 'column': 4, 'index': 102808}","  3239 |     await user._linkWith('facebook');
  3240 |     expect(user.get('username')).toEqual('testLinkWithProvider');
> 3241 |     expect(Parse.FacebookUtils.isLinked(user)).toBeTruthy();
       |    ^ Duplicate Assert
  3242 |     await user._unlinkFrom('facebook');
  3243 |     user = await user.fetch();
  3244 |     expect(user.get('username')).toEqual('testLinkWithProvider');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3244, 'column': 4, 'index': 102940}","  3242 |     await user._unlinkFrom('facebook');
  3243 |     user = await user.fetch();
> 3244 |     expect(user.get('username')).toEqual('testLinkWithProvider');
       |    ^ Duplicate Assert
  3245 |     expect(Parse.FacebookUtils.isLinked(user)).toBeFalsy();
  3246 |     done();
  3247 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3244, 'column': 4, 'index': 102940}","  3242 |     await user._unlinkFrom('facebook');
  3243 |     user = await user.fetch();
> 3244 |     expect(user.get('username')).toEqual('testLinkWithProvider');
       |    ^ Duplicate Assert
  3245 |     expect(Parse.FacebookUtils.isLinked(user)).toBeFalsy();
  3246 |     done();
  3247 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3245, 'column': 4, 'index': 103006}","  3243 |     user = await user.fetch();
  3244 |     expect(user.get('username')).toEqual('testLinkWithProvider');
> 3245 |     expect(Parse.FacebookUtils.isLinked(user)).toBeFalsy();
       |    ^ Duplicate Assert
  3246 |     done();
  3247 |   });
  3248 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3639, 'column': 8, 'index': 114419}","  3637 |         expect(update[key].iso).toEqual(value.toISOString());
  3638 |       } else if (value.toISOString) {
> 3639 |         expect(update[key]).toEqual(value.toISOString());
       |        ^ Duplicate Assert
  3640 |       } else {
  3641 |         expect(update[key]).toEqual(value);
  3642 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3641, 'column': 8, 'index': 114492}","  3639 |         expect(update[key]).toEqual(value.toISOString());
  3640 |       } else {
> 3641 |         expect(update[key]).toEqual(value);
       |        ^ Duplicate Assert
  3642 |       }
  3643 |     }
  3644 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3733, 'column': 10, 'index': 117315}","  3731 |         return validate(user => {
  3732 |           // validate that keys are set on creation
> 3733 |           expect(user.key).toBe('value');
       |          ^ Duplicate Assert
  3734 |         });
  3735 |       })
  3736 |       .then(() => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 3759, 'column': 10, 'index': 118111}","  3757 |         return validate(user => {
  3758 |           // validate that keys are set on update
> 3759 |           expect(user.key).toBe('otherValue');
       |          ^ Duplicate Assert
  3760 |         });
  3761 |       })
  3762 |       .then(() => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 4075, 'column': 6, 'index': 126846}","  4073 |       throw '';
  4074 |     } catch (e) {
> 4075 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
       |      ^ Duplicate Assert
  4076 |     }
  4077 |     try {
  4078 |       await non_existent_user.save({}, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 4075, 'column': 6, 'index': 126846}","  4073 |       throw '';
  4074 |     } catch (e) {
> 4075 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
       |      ^ Duplicate Assert
  4076 |     }
  4077 |     try {
  4078 |       await non_existent_user.save({}, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 4081, 'column': 6, 'index': 127017}","  4079 |       throw '';
  4080 |     } catch (e) {
> 4081 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
       |      ^ Duplicate Assert
  4082 |     }
  4083 |     try {
  4084 |       await non_existent_user.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 4081, 'column': 6, 'index': 127017}","  4079 |       throw '';
  4080 |     } catch (e) {
> 4081 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
       |      ^ Duplicate Assert
  4082 |     }
  4083 |     try {
  4084 |       await non_existent_user.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 4087, 'column': 6, 'index': 127162}","  4085 |       throw '';
  4086 |     } catch (e) {
> 4087 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
       |      ^ Duplicate Assert
  4088 |     }
  4089 |     try {
  4090 |       await non_existent_user.destroy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 4087, 'column': 6, 'index': 127162}","  4085 |       throw '';
  4086 |     } catch (e) {
> 4087 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
       |      ^ Duplicate Assert
  4088 |     }
  4089 |     try {
  4090 |       await non_existent_user.destroy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 4093, 'column': 6, 'index': 127309}","  4091 |       throw '';
  4092 |     } catch (e) {
> 4093 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
       |      ^ Duplicate Assert
  4094 |     }
  4095 |   });
  4096 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Duplicate Assert,"{'line': 4093, 'column': 6, 'index': 127309}","  4091 |       throw '';
  4092 |     } catch (e) {
> 4093 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
       |      ^ Duplicate Assert
  4094 |     }
  4095 |   });
  4096 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 57, 'column': 4, 'index': 1902}","  55 |   it('user login wrong username', async done => {
  56 |     await Parse.User.signUp('asdf', 'zxcv');
> 57 |     try {
     |    ^ Exception Handling
  58 |       await Parse.User.logIn('non_existent_user', 'asdf3');
  59 |       done.fail();
  60 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 68, 'column': 4, 'index': 2188}","  66 |   it('user login wrong password', async done => {
  67 |     await Parse.User.signUp('asdf', 'zxcv');
> 68 |     try {
     |    ^ Exception Handling
  69 |       await Parse.User.logIn('asdf', 'asdfWrong');
  70 |       done.fail();
  71 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 546, 'column': 4, 'index': 16023}","  544 |     equal(userAgain, user);
  545 |     userNotAuthed.set('username', 'changed');
> 546 |     try {
      |    ^ Exception Handling
  547 |       await userNotAuthed.destroy();
  548 |       done.fail();
  549 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 582, 'column': 4, 'index': 17000}","  580 |     const item2 = new TestObject();
  581 |     item2.set('number', 2);
> 582 |     try {
      |    ^ Exception Handling
  583 |       await Parse.Object.saveAll([item1, item2, userNotAuthed]);
  584 |       done.fail();
  585 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 630, 'column': 4, 'index': 18527}","  628 |     // Try to save when logged out (public)
  629 |     let failed = false;
> 630 |     try {
      |    ^ Exception Handling
  631 |       // Ensure no session token is sent
  632 |       await Parse.User.logOut();
  633 |       await user.save({ key: 'fromPublic' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 647, 'column': 4, 'index': 19011}","  645 |       password: 'password',
  646 |     });
> 647 |     try {
      |    ^ Exception Handling
  648 |       await user.save({ key: 'fromAnyUser' });
  649 |     } catch (e) {
  650 |       failed = true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 854, 'column': 4, 'index': 24966}","  852 |     await user.destroy();
  853 |     const query = new Parse.Query(Parse.User);
> 854 |     try {
      |    ^ Exception Handling
  855 |       await query.get(user.id);
  856 |       done.fail();
  857 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1077, 'column': 4, 'index': 32107}","  1075 |     const user = new Parse.User();
  1076 |     user.set('password', 'foo');
> 1077 |     try {
       |    ^ Exception Handling
  1078 |       await user.signUp();
  1079 |       done.fail();
  1080 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1089, 'column': 4, 'index': 32381}","  1087 |     const user = new Parse.User();
  1088 |     user.set('username', 'foo');
> 1089 |     try {
       |    ^ Exception Handling
  1090 |       await user.signUp();
  1091 |       done.fail();
  1092 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1266, 'column': 4, 'index': 37697}","  1264 |
  1265 |   it('can not set authdata to null', async () => {
> 1266 |     try {
       |    ^ Exception Handling
  1267 |       const provider = getMockFacebookProvider();
  1268 |       Parse.User._registerAuthenticationProvider(provider);
  1269 |       const user = await Parse.User._logInWith('facebook');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1417, 'column': 4, 'index': 43848}","  1415 |     provider.shouldError = true;
  1416 |     Parse.User._registerAuthenticationProvider(provider);
> 1417 |     try {
       |    ^ Exception Handling
  1418 |       await Parse.User._logInWith('facebook');
  1419 |       done.fail();
  1420 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1430, 'column': 4, 'index': 44213}","  1428 |     provider.shouldCancel = true;
  1429 |     Parse.User._registerAuthenticationProvider(provider);
> 1430 |     try {
       |    ^ Exception Handling
  1431 |       await Parse.User._logInWith('facebook');
  1432 |       done.fail();
  1433 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1495, 'column': 4, 'index': 46206}","  1493 |     await Parse.User.logOut();
  1494 |     provider.shouldError = true;
> 1495 |     try {
       |    ^ Exception Handling
  1496 |       await Parse.User._logInWith('facebook');
  1497 |     } catch (e) {
  1498 |       expect(e).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1512, 'column': 8, 'index': 46659}","  1510 |       hit++;
  1511 |       if (req.object.get('isBanned')) {
> 1512 |         throw new Error('banned account');
       |        ^ Exception Handling
  1513 |       }
  1514 |     });
  1515 |     await Parse.User._logInWith('facebook');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1519, 'column': 4, 'index': 46848}","  1517 |     await Parse.User.logOut();
  1518 |
> 1519 |     try {
       |    ^ Exception Handling
  1520 |       await Parse.User._logInWith('facebook');
  1521 |       throw new Error('should not have continued login.');
  1522 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1521, 'column': 6, 'index': 46907}","  1519 |     try {
  1520 |       await Parse.User._logInWith('facebook');
> 1521 |       throw new Error('should not have continued login.');
       |      ^ Exception Handling
  1522 |     } catch (e) {
  1523 |       expect(e.message).toBe('banned account');
  1524 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1538, 'column': 8, 'index': 47417}","  1536 |       hit++;
  1537 |       if (req.object.get('isBanned')) {
> 1538 |         throw new Error('banned account');
       |        ^ Exception Handling
  1539 |       }
  1540 |     });
  1541 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1549, 'column': 4, 'index': 47751}","  1547 |     await Parse.User.logOut();
  1548 |
> 1549 |     try {
       |    ^ Exception Handling
  1550 |       await Parse.User._logInWith('facebook');
  1551 |       throw new Error('should not have continued login.');
  1552 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1551, 'column': 6, 'index': 47810}","  1549 |     try {
  1550 |       await Parse.User._logInWith('facebook');
> 1551 |       throw new Error('should not have continued login.');
       |      ^ Exception Handling
  1552 |     } catch (e) {
  1553 |       expect(e.message).toBe('banned account');
  1554 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1615, 'column': 4, 'index': 50418}","  1613 |     user2.set('password', 'mypass');
  1614 |     await user2.signUp();
> 1615 |     try {
       |    ^ Exception Handling
  1616 |       await user2._linkWith('facebook');
  1617 |       done.fail();
  1618 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1667, 'column': 4, 'index': 52416}","  1665 |     user.set('password', 'mypass');
  1666 |     await user.signUp();
> 1667 |     try {
       |    ^ Exception Handling
  1668 |       await user._linkWith('facebook');
  1669 |       done.fail();
  1670 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1685, 'column': 4, 'index': 52993}","  1683 |     user.set('password', 'mypass');
  1684 |     await user.signUp();
> 1685 |     try {
       |    ^ Exception Handling
  1686 |       await user._linkWith('facebook');
  1687 |       done.fail();
  1688 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 1814, 'column': 4, 'index': 59201}","  1812 |     await user.signUp();
  1813 |     // try to link here
> 1814 |     try {
       |    ^ Exception Handling
  1815 |       await user._linkWith('facebook');
  1816 |       done.fail();
  1817 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 2599, 'column': 10, 'index': 83820}","  2597 |           const b = response.data;
  2598 |           let objId;
> 2599 |           try {
       |          ^ Exception Handling
  2600 |             expect(b.results.length).toEqual(1);
  2601 |             objId = b.results[0].objectId;
  2602 |           } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 3573, 'column': 6, 'index': 112351}","  3571 |     await user.signUp();
  3572 |     for (let i = 0; i < 2; i++) {
> 3573 |       try {
       |      ^ Exception Handling
  3574 |         await Parse.User.logIn(user.getEmail(), 'abc');
  3575 |       } catch (e) {
  3576 |         expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4071, 'column': 4, 'index': 126737}","  4069 |     // create a fake user (just so we simulate an object not found)
  4070 |     const non_existent_user = Parse.User.createWithoutData('fake_id');
> 4071 |     try {
       |    ^ Exception Handling
  4072 |       await non_existent_user.destroy({ useMasterKey: true });
  4073 |       throw '';
  4074 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4073, 'column': 6, 'index': 126812}","  4071 |     try {
  4072 |       await non_existent_user.destroy({ useMasterKey: true });
> 4073 |       throw '';
       |      ^ Exception Handling
  4074 |     } catch (e) {
  4075 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  4076 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4077, 'column': 4, 'index': 126907}","  4075 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  4076 |     }
> 4077 |     try {
       |    ^ Exception Handling
  4078 |       await non_existent_user.save({}, { useMasterKey: true });
  4079 |       throw '';
  4080 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4079, 'column': 6, 'index': 126983}","  4077 |     try {
  4078 |       await non_existent_user.save({}, { useMasterKey: true });
> 4079 |       throw '';
       |      ^ Exception Handling
  4080 |     } catch (e) {
  4081 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  4082 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4083, 'column': 4, 'index': 127078}","  4081 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  4082 |     }
> 4083 |     try {
       |    ^ Exception Handling
  4084 |       await non_existent_user.save();
  4085 |       throw '';
  4086 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4085, 'column': 6, 'index': 127128}","  4083 |     try {
  4084 |       await non_existent_user.save();
> 4085 |       throw '';
       |      ^ Exception Handling
  4086 |     } catch (e) {
  4087 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
  4088 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4089, 'column': 4, 'index': 127222}","  4087 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
  4088 |     }
> 4089 |     try {
       |    ^ Exception Handling
  4090 |       await non_existent_user.destroy();
  4091 |       throw '';
  4092 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4091, 'column': 6, 'index': 127275}","  4089 |     try {
  4090 |       await non_existent_user.destroy();
> 4091 |       throw '';
       |      ^ Exception Handling
  4092 |     } catch (e) {
  4093 |       expect(e.code).toBe(Parse.Error.SESSION_MISSING);
  4094 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4285, 'column': 4, 'index': 134431}","  4283 |     await Parse.User.logOut();
  4284 |
> 4285 |     try {
       |    ^ Exception Handling
  4286 |       const response = await request({
  4287 |         method: 'POST',
  4288 |         url: 'http://localhost:8378/1/loginAs',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4313, 'column': 4, 'index': 135241}","  4311 |
  4312 |   it('rejects creating a session for another user if the user does not exist', async done => {
> 4313 |     try {
       |    ^ Exception Handling
  4314 |       await request({
  4315 |         method: 'POST',
  4316 |         url: 'http://localhost:8378/1/loginAs',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4345, 'column': 6, 'index': 136206}","  4343 |
  4344 |     for (const invalidUserId of invalidUserIds) {
> 4345 |       try {
       |      ^ Exception Handling
  4346 |         await request({
  4347 |           method: 'POST',
  4348 |           url: 'http://localhost:8378/1/loginAs',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Exception Handling,"{'line': 4379, 'column': 4, 'index': 137278}","  4377 |     await Parse.User.logOut();
  4378 |
> 4379 |     try {
       |    ^ Exception Handling
  4380 |       await request({
  4381 |         method: 'POST',
  4382 |         url: 'http://localhost:8378/1/loginAs',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 104, 'column': 21, 'index': 3150}","  102 |       },
  103 |     });
> 104 |     expect(hit).toBe(2);
      |                     ^ Magic Number
  105 |   });
  106 |
  107 |   it('user login with non-string username with REST API', async done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 128, 'column': 32, 'index': 3810}","  126 |       })
  127 |       .catch(err => {
> 128 |         expect(err.status).toBe(404);
      |                                ^ Magic Number
  129 |         expect(err.text).toMatch(
  130 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  131 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 157, 'column': 32, 'index': 4640}","  155 |       })
  156 |       .catch(err => {
> 157 |         expect(err.status).toBe(404);
      |                                ^ Magic Number
  158 |         expect(err.text).toMatch(
  159 |           `{""code"":${Parse.Error.OBJECT_NOT_FOUND},""error"":""Invalid username/password.""}`
  160 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 199, 'column': 43, 'index': 5939}","  197 |     expect(ACL.getPublicWriteAccess()).toBe(false);
  198 |     const perms = ACL.permissionsById;
> 199 |     expect(Object.keys(perms).length).toBe(1);
      |                                           ^ Magic Number
  200 |     expect(perms[user.id].read).toBe(true);
  201 |     expect(perms[user.id].write).toBe(true);
  202 |     expect(perms['*']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 227, 'column': 47, 'index': 6887}","  225 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  226 |         const perms = ACL.permissionsById;
> 227 |         expect(Object.keys(perms).length).toBe(1);
      |                                               ^ Magic Number
  228 |         expect(perms[user.id].read).toBe(true);
  229 |         expect(perms[user.id].write).toBe(true);
  230 |         expect(perms['*']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 249, 'column': 47, 'index': 7749}","  247 |         expect(ACL.getPublicWriteAccess()).toBe(false);
  248 |         const perms = ACL.permissionsById;
> 249 |         expect(Object.keys(perms).length).toBe(1);
      |                                               ^ Magic Number
  250 |         expect(perms[user.id].read).toBe(true);
  251 |         expect(perms[user.id].write).toBe(true);
  252 |         expect(perms['*']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 501, 'column': 21, 'index': 14781}","  499 |     const sessionToken = Parse.User.current().getSessionToken();
  500 |     await Parse.User.become(sessionToken);
> 501 |     expect(hit).toBe(0);
      |                     ^ Magic Number
  502 |     done();
  503 |   });
  504 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 1350, 'column': 36, 'index': 41222}","  1348 |       .find({ useMasterKey: true })
  1349 |       .then(results => {
> 1350 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  1351 |         expect(results[0].get('sessionToken')).toBe(sessionToken);
  1352 |         expect(results[0].get('createdWith')).toEqual({
  1353 |           action: 'login',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 1462, 'column': 21, 'index': 45198}","  1460 |
  1461 |     await Parse.User._logInWith('facebook');
> 1462 |     expect(hit).toBe(0);
       |                     ^ Magic Number
  1463 |     done();
  1464 |   });
  1465 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 1480, 'column': 21, 'index': 45799}","  1478 |     await Parse.User.logOut();
  1479 |     await Parse.User._logInWith('facebook');
> 1480 |     expect(hit).toBe(1);
       |                     ^ Magic Number
  1481 |     done();
  1482 |   });
  1483 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 1500, 'column': 21, 'index': 46335}","  1498 |       expect(e).toBeDefined();
  1499 |     }
> 1500 |     expect(hit).toBe(0);
       |                     ^ Magic Number
  1501 |     done();
  1502 |   });
  1503 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 1526, 'column': 21, 'index': 47054}","  1524 |     }
  1525 |
> 1526 |     expect(hit).toBe(1);
       |                     ^ Magic Number
  1527 |     done();
  1528 |   });
  1529 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 1556, 'column': 21, 'index': 47957}","  1554 |     }
  1555 |
> 1556 |     expect(hit).toBe(1);
       |                     ^ Magic Number
  1557 |     done();
  1558 |   });
  1559 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2184, 'column': 41, 'index': 70177}","  2182 |       }).then(response => {
  2183 |         const b = response.data;
> 2184 |         expect(b.results.length).toEqual(1);
       |                                         ^ Magic Number
  2185 |         const user = b.results[0];
  2186 |         expect(Object.keys(user).length).toEqual(6);
  2187 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2186, 'column': 49, 'index': 70265}","  2184 |         expect(b.results.length).toEqual(1);
  2185 |         const user = b.results[0];
> 2186 |         expect(Object.keys(user).length).toEqual(6);
       |                                                 ^ Magic Number
  2187 |         done();
  2188 |       });
  2189 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2228, 'column': 35, 'index': 71332}","  2226 |       },
  2227 |       error => {
> 2228 |         expect(error.code).toEqual(125);
       |                                   ^ Magic Number
  2229 |         done();
  2230 |       }
  2231 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2572, 'column': 43, 'index': 83015}","  2570 |         }).then(response => {
  2571 |           const b = response.data;
> 2572 |           expect(b.results.length).toEqual(1);
       |                                           ^ Magic Number
  2573 |           expect(typeof b.results[0].user).toEqual('object');
  2574 |           expect(b.results[0].user.objectId).toEqual(user.id);
  2575 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2600, 'column': 45, 'index': 83871}","  2598 |           let objId;
  2599 |           try {
> 2600 |             expect(b.results.length).toEqual(1);
       |                                             ^ Magic Number
  2601 |             objId = b.results[0].objectId;
  2602 |           } catch (e) {
  2603 |             jfail(e);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2625, 'column': 37, 'index': 84747}","  2623 |             }).then(fail, response => {
  2624 |               const b = response.data;
> 2625 |               expect(b.code).toEqual(209);
       |                                     ^ Magic Number
  2626 |               expect(b.error).toBe('Invalid session token');
  2627 |               done();
  2628 |             });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2652, 'column': 43, 'index': 85552}","  2650 |         }).then(response => {
  2651 |           const b = response.data;
> 2652 |           expect(b.results.length).toEqual(1);
       |                                           ^ Magic Number
  2653 |           const objId = b.results[0].objectId;
  2654 |           request({
  2655 |             method: 'DELETE',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2663, 'column': 35, 'index': 85957}","  2661 |           }).then(fail, response => {
  2662 |             const b = response.data;
> 2663 |             expect(b.code).toEqual(209);
       |                                   ^ Magic Number
  2664 |             expect(b.error).toBe('Invalid session token');
  2665 |             done();
  2666 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 2811, 'column': 29, 'index': 89914}","  2809 |     }).then(fail, response => {
  2810 |       const body = response.data;
> 2811 |       expect(body.code).toBe(209);
       |                             ^ Magic Number
  2812 |       expect(body.error).toBe('Invalid session token');
  2813 |       done();
  2814 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 3086, 'column': 25, 'index': 98336}","  3084 |       })
  3085 |       .then(() => {
> 3086 |         expect(hit).toBe(2);
       |                         ^ Magic Number
  3087 |         done();
  3088 |       });
  3089 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 3157, 'column': 37, 'index': 100231}","  3155 |         },
  3156 |         error => {
> 3157 |           expect(error.code).toEqual(209);
       |                                     ^ Magic Number
  3158 |           expect(error.message).toEqual('Session token is expired.');
  3159 |           done();
  3160 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 3221, 'column': 34, 'index': 102169}","  3219 |         res => {
  3220 |           // We should have no session created
> 3221 |           expect(res.length).toBe(0);
       |                                  ^ Magic Number
  3222 |           done();
  3223 |         },
  3224 |         () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 3342, 'column': 32, 'index': 106052}","  3340 |       })
  3341 |       .then(res => {
> 3342 |         expect(res.length).toBe(0);
       |                                ^ Magic Number
  3343 |         done();
  3344 |       })
  3345 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 3660, 'column': 36, 'index': 115083}","  3658 |       })
  3659 |       .then(results => {
> 3660 |         expect(results.length).toBe(0);
       |                                    ^ Magic Number
  3661 |         done();
  3662 |       }, done.fail);
  3663 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 4062, 'column': 36, 'index': 126413}","  4060 |       .then(results => {
  4061 |         // only one session in the end
> 4062 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  4063 |       })
  4064 |       .then(done, done.fail);
  4065 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 4115, 'column': 43, 'index': 128198}","  4113 |     expect(ACL.getPublicWriteAccess()).toBe(false);
  4114 |     const perms = ACL.permissionsById;
> 4115 |     expect(Object.keys(perms).length).toBe(1);
       |                                           ^ Magic Number
  4116 |     expect(perms[user.id].read).toBe(true);
  4117 |     expect(perms[user.id].write).toBe(true);
  4118 |     expect(perms['*']).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 4307, 'column': 45, 'index': 135118}","  4305 |     const sessionsQuery = new Parse.Query(Parse.Session);
  4306 |     const sessionsAfterRequest = await sessionsQuery.find({ useMasterKey: true });
> 4307 |     expect(sessionsAfterRequest.length).toBe(1);
       |                                             ^ Magic Number
  4308 |
  4309 |     done();
  4310 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 4336, 'column': 45, 'index': 135983}","  4334 |     const sessionsQuery = new Parse.Query(Parse.Session);
  4335 |     const sessionsAfterRequest = await sessionsQuery.find({ useMasterKey: true });
> 4336 |     expect(sessionsAfterRequest.length).toBe(0);
       |                                             ^ Magic Number
  4337 |
  4338 |     done();
  4339 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 4368, 'column': 47, 'index': 137018}","  4366 |       const sessionsQuery = new Parse.Query(Parse.Session);
  4367 |       const sessionsAfterRequest = await sessionsQuery.find({ useMasterKey: true });
> 4368 |       expect(sessionsAfterRequest.length).toBe(0);
       |                                               ^ Magic Number
  4369 |     }
  4370 |
  4371 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Magic Number,"{'line': 4401, 'column': 45, 'index': 137976}","  4399 |     const sessionsQuery = new Parse.Query(Parse.Session);
  4400 |     const sessionsAfterRequest = await sessionsQuery.find({ useMasterKey: true });
> 4401 |     expect(sessionsAfterRequest.length).toBe(0);
       |                                             ^ Magic Number
  4402 |
  4403 |     done();
  4404 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Redundant Print,"{'line': 2006, 'column': 10, 'index': 65340}","  2004 |         },
  2005 |         e => {
> 2006 |           console.log(e);
       |          ^ Redundant Print
  2007 |           fail();
  2008 |         }
  2009 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Sleepy Test,"{'line': 4053, 'column': 10, 'index': 126135}","  4051 |         // wait because session destruction is not synchronous
  4052 |         return new Promise(resolve => {
> 4053 |           setTimeout(resolve, 100);
       |          ^ Sleepy Test
  4054 |         });
  4055 |       })
  4056 |       .then(() => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Sleepy Test,"{'line': 4199, 'column': 33, 'index': 131337}","  4197 |     await user.save();
  4198 |     await user.destroy();
> 4199 |     await new Promise(resolve => setTimeout(resolve, 10));
       |                                 ^ Sleepy Test
  4200 |     for (const key of events) {
  4201 |       expect(calls[key]).toHaveBeenCalled();
  4202 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Sleepy Test,"{'line': 4206, 'column': 33, 'index': 131628}","  4204 |     const client = await Parse.CoreManager.getLiveQueryController().getDefaultLiveQueryClient();
  4205 |     client.close();
> 4206 |     await new Promise(resolve => setTimeout(resolve, 10));
       |                                 ^ Sleepy Test
  4207 |   });
  4208 | });
  4209 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 32}","  30 |   });
  31 |
> 32 |   it('should enforce boolean values', async () => {
     |  ^ Unknown Test
  33 |     const options = [[], 'a', '', 0, 1, {}, 'true', 'false'];
  34 |     for (const option of options) {
  35 |       await expectAsync(reconfigureServer({ allowExpiredAuthDataToken: option })).toBeRejected();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 41}","  39 |
  40 | describe('Parse.User testing', () => {
> 41 |   it('user sign up class method', async done => {
     |  ^ Unknown Test
  42 |     const user = await Parse.User.signUp('asdf', 'zxcv');
  43 |     ok(user.getSessionToken());
  44 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 47}","  45 |   });
  46 |
> 47 |   it('user sign up instance method', async () => {
     |  ^ Unknown Test
  48 |     const user = new Parse.User();
  49 |     user.setPassword('asdf');
  50 |     user.setUsername('zxcv');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 377}","  375 |   });
  376 |
> 377 |   it('user login with files', done => {
      |  ^ Unknown Test
  378 |     const file = new Parse.File('yolo.txt', [1, 2, 3], 'text/plain');
  379 |     file
  380 |       .save()"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 430}","  428 |   });
  429 |
> 430 |   it('become', done => {
      |  ^ Unknown Test
  431 |     let user = null;
  432 |     let sessionToken = null;
  433 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 656}","  654 |   });
  655 |
> 656 |   it('current user', done => {
      |  ^ Unknown Test
  657 |     const user = new Parse.User();
  658 |     user.set('password', 'asdf');
  659 |     user.set('email', 'asdf@example.com');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 681}","  679 |   });
  680 |
> 681 |   it('user.isCurrent', done => {
      |  ^ Unknown Test
  682 |     const user1 = new Parse.User();
  683 |     const user2 = new Parse.User();
  684 |     const user3 = new Parse.User();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 738}","  736 |   });
  737 |
> 738 |   it('user associations', async done => {
      |  ^ Unknown Test
  739 |     const child = new TestObject();
  740 |     await child.save();
  741 |     const user = new Parse.User();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 759}","  757 |   });
  758 |
> 759 |   it('user queries', async done => {
      |  ^ Unknown Test
  760 |     const user = new Parse.User();
  761 |     user.set('password', 'asdf');
  762 |     user.set('email', 'asdf@example.com');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 788}","  786 |   }
  787 |
> 788 |   it('contained in user array queries', async done => {
      |  ^ Unknown Test
  789 |     const USERS = 4;
  790 |     const MESSAGES = 5;
  791 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 828}","  826 |   });
  827 |
> 828 |   it(""saving a user signs them up but doesn't log them in"", async done => {
      |  ^ Unknown Test
  829 |     const user = new Parse.User();
  830 |     await user.save({
  831 |       password: 'asdf',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 839}","  837 |   });
  838 |
> 839 |   it('user updates', async done => {
      |  ^ Unknown Test
  840 |     const user = new Parse.User();
  841 |     await user.signUp({
  842 |       password: 'asdf',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 864}","  862 |   });
  863 |
> 864 |   it('count users', async done => {
      |  ^ Unknown Test
  865 |     const james = new Parse.User();
  866 |     james.set('username', 'james');
  867 |     james.set('password', 'mypass');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 879}","  877 |   });
  878 |
> 879 |   it('user sign up with container class', async done => {
      |  ^ Unknown Test
  880 |     await Parse.User.signUp('ilya', 'mypass', { array: ['hello'] });
  881 |     done();
  882 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 884}","  882 |   });
  883 |
> 884 |   it('user modified while saving', async done => {
      |  ^ Unknown Test
  885 |     Parse.Object.disableSingleInstance();
  886 |     await reconfigureServer();
  887 |     const user = new Parse.User();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 907}","  905 |   });
  906 |
> 907 |   it('user modified while saving with unsaved child', done => {
      |  ^ Unknown Test
  908 |     Parse.Object.disableSingleInstance();
  909 |     const user = new Parse.User();
  910 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 928}","  926 |   });
  927 |
> 928 |   it('user loaded from localStorage from signup', async done => {
      |  ^ Unknown Test
  929 |     const alice = await Parse.User.signUp('alice', 'password');
  930 |     ok(alice.id, 'Alice should have an objectId');
  931 |     ok(alice.getSessionToken(), 'Alice should have a session token');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 946}","  944 |   });
  945 |
> 946 |   it('user loaded from localStorage from login', done => {
      |  ^ Unknown Test
  947 |     let id;
  948 |     Parse.User.signUp('alice', 'password')
  949 |       .then(alice => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1074}","  1072 |   });
  1073 |
> 1074 |   it('user with missing username', async done => {
       |  ^ Unknown Test
  1075 |     const user = new Parse.User();
  1076 |     user.set('password', 'foo');
  1077 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1086}","  1084 |   });
  1085 |
> 1086 |   it('user with missing password', async done => {
       |  ^ Unknown Test
  1087 |     const user = new Parse.User();
  1088 |     user.set('username', 'foo');
  1089 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1098}","  1096 |   });
  1097 |
> 1098 |   it('user stupid subclassing', async done => {
       |  ^ Unknown Test
  1099 |     const SuperUser = Parse.Object.extend('User');
  1100 |     const user = new SuperUser();
  1101 |     user.set('username', 'bob');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1108}","  1106 |   });
  1107 |
> 1108 |   it('user signup class method uses subclassing', async done => {
       |  ^ Unknown Test
  1109 |     const SuperUser = Parse.User.extend({
  1110 |       secret: function () {
  1111 |         return 1337;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1121}","  1119 |   });
  1120 |
> 1121 |   it('user on disk gets updated after save', async done => {
       |  ^ Unknown Test
  1122 |     Parse.User.extend({
  1123 |       isSuper: function () {
  1124 |         return true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1139}","  1137 |   });
  1138 |
> 1139 |   it(""current user isn't dirty"", async done => {
       |  ^ Unknown Test
  1140 |     const user = await Parse.User.signUp('andrew', 'oppa', {
  1141 |       style: 'gangnam',
  1142 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1251}","  1249 |   });
  1250 |
> 1251 |   it('log in with provider', async done => {
       |  ^ Unknown Test
  1252 |     const provider = getMockFacebookProvider();
  1253 |     Parse.User._registerAuthenticationProvider(provider);
  1254 |     const model = await Parse.User._logInWith('facebook');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1387}","  1385 |   });
  1386 |
> 1387 |   it('log in with provider twice', async done => {
       |  ^ Unknown Test
  1388 |     const provider = getMockFacebookProvider();
  1389 |     Parse.User._registerAuthenticationProvider(provider);
  1390 |     const model = await Parse.User._logInWith('facebook');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1413}","  1411 |   });
  1412 |
> 1413 |   it('log in with provider failed', async done => {
       |  ^ Unknown Test
  1414 |     const provider = getMockFacebookProvider();
  1415 |     provider.shouldError = true;
  1416 |     Parse.User._registerAuthenticationProvider(provider);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1426}","  1424 |   });
  1425 |
> 1426 |   it('log in with provider cancelled', async done => {
       |  ^ Unknown Test
  1427 |     const provider = getMockFacebookProvider();
  1428 |     provider.shouldCancel = true;
  1429 |     Parse.User._registerAuthenticationProvider(provider);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1439}","  1437 |   });
  1438 |
> 1439 |   it('login with provider should not call beforeSave trigger', async done => {
       |  ^ Unknown Test
  1440 |     const provider = getMockFacebookProvider();
  1441 |     Parse.User._registerAuthenticationProvider(provider);
  1442 |     await Parse.User._logInWith('facebook');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1578}","  1576 |   });
  1577 |
> 1578 |   it('link with provider', async done => {
       |  ^ Unknown Test
  1579 |     const provider = getMockFacebookProvider();
  1580 |     Parse.User._registerAuthenticationProvider(provider);
  1581 |     const user = new Parse.User();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1659}","  1657 |   });
  1658 |
> 1659 |   it('link with provider failed', async done => {
       |  ^ Unknown Test
  1660 |     const provider = getMockFacebookProvider();
  1661 |     provider.shouldError = true;
  1662 |     Parse.User._registerAuthenticationProvider(provider);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1677}","  1675 |   });
  1676 |
> 1677 |   it('link with provider cancelled', async done => {
       |  ^ Unknown Test
  1678 |     const provider = getMockFacebookProvider();
  1679 |     provider.shouldCancel = true;
  1680 |     Parse.User._registerAuthenticationProvider(provider);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1695}","  1693 |   });
  1694 |
> 1695 |   it('unlink with provider', async done => {
       |  ^ Unknown Test
  1696 |     const provider = getMockFacebookProvider();
  1697 |     Parse.User._registerAuthenticationProvider(provider);
  1698 |     const model = await Parse.User._logInWith('facebook');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1714}","  1712 |   });
  1713 |
> 1714 |   it('unlink and link', async done => {
       |  ^ Unknown Test
  1715 |     const provider = getMockFacebookProvider();
  1716 |     Parse.User._registerAuthenticationProvider(provider);
  1717 |     const model = await Parse.User._logInWith('facebook');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1804}","  1802 |   });
  1803 |
> 1804 |   it('should fail linking with existing', async done => {
       |  ^ Unknown Test
  1805 |     const provider = getMockFacebookProvider();
  1806 |     Parse.User._registerAuthenticationProvider(provider);
  1807 |     await Parse.User._logInWith('facebook');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1848}","  1846 |   });
  1847 |
> 1848 |   it('should not allow login with expired authData token since allowExpiredAuthDataToken is set to false by default', async () => {
       |  ^ Unknown Test
  1849 |     const provider = {
  1850 |       authData: {
  1851 |         id: '12345',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 1877}","  1875 |   });
  1876 |
> 1877 |   it('should allow PUT request with stale auth Data', done => {
       |  ^ Unknown Test
  1878 |     const provider = {
  1879 |       authData: {
  1880 |         id: '12345',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2012}","  2010 |   });
  2011 |
> 2012 |   it('authenticated check', async done => {
       |  ^ Unknown Test
  2013 |     const user = new Parse.User();
  2014 |     user.set('username', 'darkhelmet');
  2015 |     user.set('password', 'onetwothreefour');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2022}","  2020 |   });
  2021 |
> 2022 |   it('log in with explicit facebook auth data', async done => {
       |  ^ Unknown Test
  2023 |     await Parse.FacebookUtils.logIn({
  2024 |       id: '8675309',
  2025 |       access_token: 'jenny',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2031}","  2029 |   });
  2030 |
> 2031 |   it('log in async with explicit facebook auth data', done => {
       |  ^ Unknown Test
  2032 |     Parse.FacebookUtils.logIn({
  2033 |       id: '8675309',
  2034 |       access_token: 'jenny',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2047}","  2045 |   });
  2046 |
> 2047 |   it('link with explicit facebook auth data', async done => {
       |  ^ Unknown Test
  2048 |     const user = await Parse.User.signUp('mask', 'open sesame');
  2049 |     Parse.FacebookUtils.link(user, {
  2050 |       id: '8675309',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2059}","  2057 |   });
  2058 |
> 2059 |   it('link async with explicit facebook auth data', async done => {
       |  ^ Unknown Test
  2060 |     const user = await Parse.User.signUp('mask', 'open sesame');
  2061 |     Parse.FacebookUtils.link(user, {
  2062 |       id: '8675309',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2076}","  2074 |   });
  2075 |
> 2076 |   it('async methods', done => {
       |  ^ Unknown Test
  2077 |     const data = { foo: 'bar' };
  2078 |
  2079 |     Parse.User.signUp('finn', 'human', data)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2234}","  2232 |   });
  2233 |
> 2234 |   it('user signup should error if email taken', done => {
       |  ^ Unknown Test
  2235 |     const user = new Parse.User();
  2236 |     user.set('username', 'test1');
  2237 |     user.set('password', 'test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2344}","  2342 |   });
  2343 |
> 2344 |   it('user cannot update email to existing user', done => {
       |  ^ Unknown Test
  2345 |     const user = new Parse.User();
  2346 |     user.set('username', 'test1');
  2347 |     user.set('password', 'test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2477}","  2475 |   });
  2476 |
> 2477 |   it('user update session with other field', done => {
       |  ^ Unknown Test
  2478 |     Promise.resolve()
  2479 |       .then(() => {
  2480 |         return Parse.User.signUp('finn', 'human', { foo: 'bar' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2715}","  2713 |   });
  2714 |
> 2715 |   it('test parse user become', done => {
       |  ^ Unknown Test
  2716 |     let sessionToken = null;
  2717 |     Promise.resolve()
  2718 |       .then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 2772}","  2770 |   });
  2771 |
> 2772 |   it('support user/password signup with empty authData block', done => {
       |  ^ Unknown Test
  2773 |     // The android SDK can send an empty authData object along with username and password.
  2774 |     Parse.User.signUp('artof', 'thedeal', { authData: {} }).then(
  2775 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 3292}","  3290 |   });
  3291 |
> 3292 |   it('should not revoke session tokens if the server is configures to not revoke session tokens', done => {
       |  ^ Unknown Test
  3293 |     reconfigureServer({ revokeSessionOnPasswordReset: false }).then(() => {
  3294 |       request({
  3295 |         method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 3522}","  3520 |   });
  3521 |
> 3522 |   it('should not allow updates to hidden fields', async () => {
       |  ^ Unknown Test
  3523 |     const emailAdapter = {
  3524 |       sendVerificationEmail: () => {},
  3525 |       sendPasswordResetEmail: () => Promise.resolve(),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 3769}","  3767 |   });
  3768 |
> 3769 |   it('can login with email', done => {
       |  ^ Unknown Test
  3770 |     const user = new Parse.User();
  3771 |     user
  3772 |       .save({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 3792}","  3790 |   });
  3791 |
> 3792 |   it('cannot login with email and invalid password', done => {
       |  ^ Unknown Test
  3793 |     const user = new Parse.User();
  3794 |     user
  3795 |       .save({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 3817}","  3815 |   });
  3816 |
> 3817 |   it('can login with email through query string', done => {
       |  ^ Unknown Test
  3818 |     const user = new Parse.User();
  3819 |     user
  3820 |       .save({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 3839}","  3837 |   });
  3838 |
> 3839 |   it('can login when both email and username are passed', done => {
       |  ^ Unknown Test
  3840 |     const user = new Parse.User();
  3841 |     user
  3842 |       .save({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 4097}","  4095 |   });
  4096 |
> 4097 |   it('should throw when enforcePrivateUsers is invalid', async () => {
       |  ^ Unknown Test
  4098 |     const options = [[], 'a', 0, {}];
  4099 |     for (const option of options) {
  4100 |       await expectAsync(reconfigureServer({ enforcePrivateUsers: option })).toBeRejected();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseUser.spec.js,Unknown Test,"{'column': 2, 'line': 4408}","  4406 |
  4407 | describe('allowClientClassCreation option', () => {
> 4408 |   it('should enforce boolean values', async () => {
       |  ^ Unknown Test
  4409 |     const options = [[], 'a', '', 0, 1, {}, 'true', 'false'];
  4410 |     for (const option of options) {
  4411 |       await expectAsync(reconfigureServer({ allowClientClassCreation: option })).toBeRejected();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Conditional Test Logic,"{'line': 51, 'column': 8, 'index': 1236}","  49 |         const foundKeys = [];
  50 |         expect(results.length).toBe(3);
> 51 |         for (const key in results) {
     |        ^ Conditional Test Logic
  52 |           const sessionToken = results[key].get('sessionToken');
  53 |           if (foundKeys[sessionToken]) {
  54 |             fail('Duplicate session token present in response');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Conditional Test Logic,"{'line': 53, 'column': 10, 'index': 1340}","  51 |         for (const key in results) {
  52 |           const sessionToken = results[key].get('sessionToken');
> 53 |           if (foundKeys[sessionToken]) {
     |          ^ Conditional Test Logic
  54 |             fail('Duplicate session token present in response');
  55 |             break;
  56 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Conditional Test Logic,"{'line': 101, 'column': 8, 'index': 2751}","   99 |         const foundKeys = [];
  100 |         expect(results.length).toBe(3);
> 101 |         for (const key in results) {
      |        ^ Conditional Test Logic
  102 |           const sessionToken = results[key].get('sessionToken');
  103 |           if (foundKeys[sessionToken] && sessionToken !== undefined) {
  104 |             fail('Duplicate session token present in response');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Conditional Test Logic,"{'line': 103, 'column': 10, 'index': 2855}","  101 |         for (const key in results) {
  102 |           const sessionToken = results[key].get('sessionToken');
> 103 |           if (foundKeys[sessionToken] && sessionToken !== undefined) {
      |          ^ Conditional Test Logic
  104 |             fail('Duplicate session token present in response');
  105 |             break;
  106 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Conditional Test Logic,"{'line': 130, 'column': 8, 'index': 3654}","  128 |         const foundKeys = [];
  129 |         expect(results.length).toBe(3);
> 130 |         for (const key in results) {
      |        ^ Conditional Test Logic
  131 |           const sessionToken = results[key].get('sessionToken');
  132 |           if (foundKeys[sessionToken] && sessionToken !== undefined) {
  133 |             fail('Duplicate session token present in response');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Conditional Test Logic,"{'line': 132, 'column': 10, 'index': 3758}","  130 |         for (const key in results) {
  131 |           const sessionToken = results[key].get('sessionToken');
> 132 |           if (foundKeys[sessionToken] && sessionToken !== undefined) {
      |          ^ Conditional Test Logic
  133 |             fail('Duplicate session token present in response');
  134 |             break;
  135 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Magic Number,"{'line': 50, 'column': 36, 'index': 1224}","  48 |       .then(results => {
  49 |         const foundKeys = [];
> 50 |         expect(results.length).toBe(3);
     |                                    ^ Magic Number
  51 |         for (const key in results) {
  52 |           const sessionToken = results[key].get('sessionToken');
  53 |           if (foundKeys[sessionToken]) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Magic Number,"{'line': 78, 'column': 36, 'index': 2069}","  76 |       })
  77 |       .then(results => {
> 78 |         expect(results.length).toBe(1);
     |                                    ^ Magic Number
  79 |         const sessionToken = results[0].get('sessionToken');
  80 |         expect(sessionToken).toBe(knownSessionToken);
  81 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Magic Number,"{'line': 100, 'column': 36, 'index': 2739}","   98 |       .then(results => {
   99 |         const foundKeys = [];
> 100 |         expect(results.length).toBe(3);
      |                                    ^ Magic Number
  101 |         for (const key in results) {
  102 |           const sessionToken = results[key].get('sessionToken');
  103 |           if (foundKeys[sessionToken] && sessionToken !== undefined) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseSession.spec.js,Magic Number,"{'line': 129, 'column': 36, 'index': 3642}","  127 |       .then(results => {
  128 |         const foundKeys = [];
> 129 |         expect(results.length).toBe(3);
      |                                    ^ Magic Number
  130 |         for (const key in results) {
  131 |           const sessionToken = results[key].get('sessionToken');
  132 |           if (foundKeys[sessionToken] && sessionToken !== undefined) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 132, 'column': 2, 'index': 4082}","  130 |   });
  131 |
> 132 |   if (
      |  ^ Conditional Test Logic
  133 |     process.env.MONGODB_TOPOLOGY === 'replicaset' ||
  134 |     process.env.PARSE_SERVER_TEST_DB === 'postgres'
  135 |   ) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 165, 'column': 8, 'index': 5417}","  163 |         const results = await query.find();
  164 |         expect(createSpy.calls.count()).toBe(2);
> 165 |         for (let i = 0; i + 1 < createSpy.calls.length; i = i + 2) {
      |        ^ Conditional Test Logic
  166 |           expect(createSpy.calls.argsFor(i)[3]).toBe(
  167 |             createSpy.calls.argsFor(i + 1)[3]
  168 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 298, 'column': 10, 'index': 9861}","  296 |         Parse.Cloud.beforeSave('MyObject', async () => {
  297 |           myObjectCalls++;
> 298 |           if (myObjectCalls === 2) {
      |          ^ Conditional Test Logic
  299 |             try {
  300 |               // Saving a number to a string field should fail
  301 |               await RESTController.request('POST', 'batch', {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 458, 'column': 8, 'index': 15189}","  456 |         let myObject2DBCalls = 0;
  457 |         let myObject3DBCalls = 0;
> 458 |         for (let i = 0; i < createSpy.calls.count(); i++) {
      |        ^ Conditional Test Logic
  459 |           const args = createSpy.calls.argsFor(i);
  460 |           switch (args[0]) {
  461 |             case 'MyObject':"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 460, 'column': 10, 'index': 15302}","  458 |         for (let i = 0; i < createSpy.calls.count(); i++) {
  459 |           const args = createSpy.calls.argsFor(i);
> 460 |           switch (args[0]) {
      |          ^ Conditional Test Logic
  461 |             case 'MyObject':
  462 |               myObjectDBCalls++;
  463 |               if (!transactionalSession || (myObjectDBCalls - 1) % 2 === 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 463, 'column': 14, 'index': 15397}","  461 |             case 'MyObject':
  462 |               myObjectDBCalls++;
> 463 |               if (!transactionalSession || (myObjectDBCalls - 1) % 2 === 0) {
      |              ^ Conditional Test Logic
  464 |                 transactionalSession = args[3];
  465 |               } else {
  466 |                 expect(transactionalSession).toBe(args[3]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 468, 'column': 14, 'index': 15622}","  466 |                 expect(transactionalSession).toBe(args[3]);
  467 |               }
> 468 |               if (transactionalSession2) {
      |              ^ Conditional Test Logic
  469 |                 expect(transactionalSession2).not.toBe(args[3]);
  470 |               }
  471 |               break;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 474, 'column': 14, 'index': 15831}","  472 |             case 'MyObject2':
  473 |               myObject2DBCalls++;
> 474 |               if (!transactionalSession2 || (myObject2DBCalls - 1) % 9 === 0) {
      |              ^ Conditional Test Logic
  475 |                 transactionalSession2 = args[3];
  476 |               } else {
  477 |                 expect(transactionalSession2).toBe(args[3]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Conditional Test Logic,"{'line': 479, 'column': 14, 'index': 16060}","  477 |                 expect(transactionalSession2).toBe(args[3]);
  478 |               }
> 479 |               if (transactionalSession) {
      |              ^ Conditional Test Logic
  480 |                 expect(transactionalSession).not.toBe(args[3]);
  481 |               }
  482 |               break;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 119, 'column': 6, 'index': 3708}","  117 |     Parse.Cloud.define('handleStatus', async () => {
  118 |       const obj = new Parse.Object('TestObject');
> 119 |       expect(obj.existed()).toBe(false);
      |      ^ Duplicate Assert
  120 |       await obj.save();
  121 |       expect(obj.existed()).toBe(false);
  122 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 119, 'column': 6, 'index': 3708}","  117 |     Parse.Cloud.define('handleStatus', async () => {
  118 |       const obj = new Parse.Object('TestObject');
> 119 |       expect(obj.existed()).toBe(false);
      |      ^ Duplicate Assert
  120 |       await obj.save();
  121 |       expect(obj.existed()).toBe(false);
  122 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 121, 'column': 6, 'index': 3773}","  119 |       expect(obj.existed()).toBe(false);
  120 |       await obj.save();
> 121 |       expect(obj.existed()).toBe(false);
      |      ^ Duplicate Assert
  122 |
  123 |       const query = new Parse.Query('TestObject');
  124 |       const result = await query.get(obj.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 121, 'column': 6, 'index': 3773}","  119 |       expect(obj.existed()).toBe(false);
  120 |       await obj.save();
> 121 |       expect(obj.existed()).toBe(false);
      |      ^ Duplicate Assert
  122 |
  123 |       const query = new Parse.Query('TestObject');
  124 |       const result = await query.get(obj.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 466, 'column': 16, 'index': 15548}","  464 |                 transactionalSession = args[3];
  465 |               } else {
> 466 |                 expect(transactionalSession).toBe(args[3]);
      |                ^ Duplicate Assert
  467 |               }
  468 |               if (transactionalSession2) {
  469 |                 expect(transactionalSession2).not.toBe(args[3]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 469, 'column': 16, 'index': 15667}","  467 |               }
  468 |               if (transactionalSession2) {
> 469 |                 expect(transactionalSession2).not.toBe(args[3]);
      |                ^ Duplicate Assert
  470 |               }
  471 |               break;
  472 |             case 'MyObject2':"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 477, 'column': 16, 'index': 15985}","  475 |                 transactionalSession2 = args[3];
  476 |               } else {
> 477 |                 expect(transactionalSession2).toBe(args[3]);
      |                ^ Duplicate Assert
  478 |               }
  479 |               if (transactionalSession) {
  480 |                 expect(transactionalSession).not.toBe(args[3]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 480, 'column': 16, 'index': 16104}","  478 |               }
  479 |               if (transactionalSession) {
> 480 |                 expect(transactionalSession).not.toBe(args[3]);
      |                ^ Duplicate Assert
  481 |               }
  482 |               break;
  483 |             case 'MyObject3':"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 508, 'column': 6, 'index': 17085}","  506 |   it('should handle a POST request with context', async () => {
  507 |     Parse.Cloud.beforeSave('MyObject', req => {
> 508 |       expect(req.context.a).toEqual('a');
      |      ^ Duplicate Assert
  509 |     });
  510 |     Parse.Cloud.afterSave('MyObject', req => {
  511 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 508, 'column': 6, 'index': 17085}","  506 |   it('should handle a POST request with context', async () => {
  507 |     Parse.Cloud.beforeSave('MyObject', req => {
> 508 |       expect(req.context.a).toEqual('a');
      |      ^ Duplicate Assert
  509 |     });
  510 |     Parse.Cloud.afterSave('MyObject', req => {
  511 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 511, 'column': 6, 'index': 17182}","  509 |     });
  510 |     Parse.Cloud.afterSave('MyObject', req => {
> 511 |       expect(req.context.a).toEqual('a');
      |      ^ Duplicate Assert
  512 |     });
  513 |
  514 |     await RESTController.request("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 511, 'column': 6, 'index': 17182}","  509 |     });
  510 |     Parse.Cloud.afterSave('MyObject', req => {
> 511 |       expect(req.context.a).toEqual('a');
      |      ^ Duplicate Assert
  512 |     });
  513 |
  514 |     await RESTController.request("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 606, 'column': 4, 'index': 20420}","  604 |     let sessions = await query.find({ useMasterKey: true });
  605 |
> 606 |     expect(sessions.length).toBe(1);
      |    ^ Duplicate Assert
  607 |     expect(sessions[0].get('installationId')).toBe(installationId);
  608 |     expect(sessions[0].get('sessionToken')).toBe(user.sessionToken);
  609 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 606, 'column': 4, 'index': 20420}","  604 |     let sessions = await query.find({ useMasterKey: true });
  605 |
> 606 |     expect(sessions.length).toBe(1);
      |    ^ Duplicate Assert
  607 |     expect(sessions[0].get('installationId')).toBe(installationId);
  608 |     expect(sessions[0].get('sessionToken')).toBe(user.sessionToken);
  609 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 607, 'column': 4, 'index': 20457}","  605 |
  606 |     expect(sessions.length).toBe(1);
> 607 |     expect(sessions[0].get('installationId')).toBe(installationId);
      |    ^ Duplicate Assert
  608 |     expect(sessions[0].get('sessionToken')).toBe(user.sessionToken);
  609 |
  610 |     const loggedUser = await RESTController.request("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 607, 'column': 4, 'index': 20457}","  605 |
  606 |     expect(sessions.length).toBe(1);
> 607 |     expect(sessions[0].get('installationId')).toBe(installationId);
      |    ^ Duplicate Assert
  608 |     expect(sessions[0].get('sessionToken')).toBe(user.sessionToken);
  609 |
  610 |     const loggedUser = await RESTController.request("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 608, 'column': 4, 'index': 20525}","  606 |     expect(sessions.length).toBe(1);
  607 |     expect(sessions[0].get('installationId')).toBe(installationId);
> 608 |     expect(sessions[0].get('sessionToken')).toBe(user.sessionToken);
      |    ^ Duplicate Assert
  609 |
  610 |     const loggedUser = await RESTController.request(
  611 |       'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 620, 'column': 4, 'index': 20934}","  618 |
  619 |     // Should clean up old sessions with this installationId
> 620 |     expect(sessions.length).toBe(1);
      |    ^ Duplicate Assert
  621 |     expect(sessions[0].get('installationId')).toBe(installationId);
  622 |     expect(sessions[0].get('sessionToken')).toBe(loggedUser.sessionToken);
  623 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 620, 'column': 4, 'index': 20934}","  618 |
  619 |     // Should clean up old sessions with this installationId
> 620 |     expect(sessions.length).toBe(1);
      |    ^ Duplicate Assert
  621 |     expect(sessions[0].get('installationId')).toBe(installationId);
  622 |     expect(sessions[0].get('sessionToken')).toBe(loggedUser.sessionToken);
  623 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 621, 'column': 4, 'index': 20971}","  619 |     // Should clean up old sessions with this installationId
  620 |     expect(sessions.length).toBe(1);
> 621 |     expect(sessions[0].get('installationId')).toBe(installationId);
      |    ^ Duplicate Assert
  622 |     expect(sessions[0].get('sessionToken')).toBe(loggedUser.sessionToken);
  623 |   });
  624 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 621, 'column': 4, 'index': 20971}","  619 |     // Should clean up old sessions with this installationId
  620 |     expect(sessions.length).toBe(1);
> 621 |     expect(sessions[0].get('installationId')).toBe(installationId);
      |    ^ Duplicate Assert
  622 |     expect(sessions[0].get('sessionToken')).toBe(loggedUser.sessionToken);
  623 |   });
  624 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Duplicate Assert,"{'line': 622, 'column': 4, 'index': 21039}","  620 |     expect(sessions.length).toBe(1);
  621 |     expect(sessions[0].get('installationId')).toBe(installationId);
> 622 |     expect(sessions[0].get('sessionToken')).toBe(loggedUser.sessionToken);
      |    ^ Duplicate Assert
  623 |   });
  624 |
  625 |   it('returns a statusId when running jobs', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Exception Handling,"{'line': 178, 'column': 8, 'index': 6063}","  176 |         await myObject.destroy();
  177 |         createSpy.calls.reset();
> 178 |         try {
      |        ^ Exception Handling
  179 |           // Saving a number to a string field should fail
  180 |           await RESTController.request('POST', 'batch', {
  181 |             requests: ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Exception Handling,"{'line': 299, 'column': 12, 'index': 9900}","  297 |           myObjectCalls++;
  298 |           if (myObjectCalls === 2) {
> 299 |             try {
      |            ^ Exception Handling
  300 |               // Saving a number to a string field should fail
  301 |               await RESTController.request('POST', 'batch', {
  302 |                 requests: ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Exception Handling,"{'line': 544, 'column': 4, 'index': 18208}","  542 |
  543 |   it('ensures no user is created when passing an empty username', async () => {
> 544 |     try {
      |    ^ Exception Handling
  545 |       await RESTController.request('POST', '/classes/_User', {
  546 |         username: '',
  547 |         password: 'world',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Exception Handling,"{'line': 557, 'column': 4, 'index': 18656}","  555 |
  556 |   it('ensures no user is created when passing an empty password', async () => {
> 557 |     try {
      |    ^ Exception Handling
  558 |       await RESTController.request('POST', '/classes/_User', {
  559 |         username: 'hello',
  560 |         password: '',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 20, 'column': 36, 'index': 703}","  18 |   it('should handle a get request', async () => {
  19 |     const res = await RESTController.request('GET', '/classes/MyObject');
> 20 |     expect(res.results.length).toBe(0);
     |                                    ^ Magic Number
  21 |   });
  22 |
  23 |   it('should handle a get request with full serverURL mount path', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 25, 'column': 36, 'index': 907}","  23 |   it('should handle a get request with full serverURL mount path', async () => {
  24 |     const res = await RESTController.request('GET', '/1/classes/MyObject');
> 25 |     expect(res.results.length).toBe(0);
     |                                    ^ Magic Number
  26 |   });
  27 |
  28 |   it('should handle a POST batch without transaction', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 46, 'column': 28, 'index': 1398}","  44 |       ],
  45 |     });
> 46 |     expect(res.length).toBe(3);
     |                            ^ Magic Number
  47 |   });
  48 |
  49 |   it('should handle a POST batch with transaction=false', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 68, 'column': 28, 'index': 1918}","  66 |       transaction: false,
  67 |     });
> 68 |     expect(res.length).toBe(3);
     |                            ^ Magic Number
  69 |   });
  70 |
  71 |   it('should handle response status', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 78, 'column': 24, 'index': 2393}","  76 |     const { status, response, location } = await router.tryRouteRequest.calls.all()[0].returnValue;
  77 |
> 78 |     expect(status).toBe(201);
     |                        ^ Magic Number
  79 |     expect(response).toEqual(resp);
  80 |     expect(location).toBe(`http://localhost:8378/1/classes/MyObject/${resp.objectId}`);
  81 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 106, 'column': 29, 'index': 3190}","  104 |       }
  105 |     );
> 106 |     expect(resp.length).toBe(2);
      |                             ^ Magic Number
  107 |     expect(resp[0]._status).toBe(201);
  108 |     expect(resp[1]._status).toBe(201);
  109 |     expect(resp[0].success).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 107, 'column': 33, 'index': 3227}","  105 |     );
  106 |     expect(resp.length).toBe(2);
> 107 |     expect(resp[0]._status).toBe(201);
      |                                 ^ Magic Number
  108 |     expect(resp[1]._status).toBe(201);
  109 |     expect(resp[0].success).toBeDefined();
  110 |     expect(resp[1].success).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 108, 'column': 33, 'index': 3266}","  106 |     expect(resp.length).toBe(2);
  107 |     expect(resp[0]._status).toBe(201);
> 108 |     expect(resp[1]._status).toBe(201);
      |                                 ^ Magic Number
  109 |     expect(resp[0].success).toBeDefined();
  110 |     expect(resp[1].success).toBeDefined();
  111 |     expect(router.tryRouteRequest.calls.all().length).toBe(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 111, 'column': 59, 'index': 3417}","  109 |     expect(resp[0].success).toBeDefined();
  110 |     expect(resp[1].success).toBeDefined();
> 111 |     expect(router.tryRouteRequest.calls.all().length).toBe(2);
      |                                                           ^ Magic Number
  112 |   });
  113 |
  114 |   it('properly handle existed', async done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 157, 'column': 40, 'index': 5019}","  155 |           transaction: true,
  156 |         });
> 157 |         expect(response.length).toEqual(2);
      |                                        ^ Magic Number
  158 |         expect(response[0].success.objectId).toBeDefined();
  159 |         expect(response[0].success.createdAt).toBeDefined();
  160 |         expect(response[1].success.objectId).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 164, 'column': 45, 'index': 5405}","  162 |         const query = new Parse.Query('MyObject');
  163 |         const results = await query.find();
> 164 |         expect(createSpy.calls.count()).toBe(2);
      |                                             ^ Magic Number
  165 |         for (let i = 0; i + 1 < createSpy.calls.length; i = i + 2) {
  166 |           expect(createSpy.calls.argsFor(i)[3]).toBe(
  167 |             createSpy.calls.argsFor(i + 1)[3]"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 280, 'column': 38, 'index': 9154}","  278 |           const query = new Parse.Query('MyObject');
  279 |           const results = await query.find();
> 280 |           expect(results.length).toBe(0);
      |                                      ^ Magic Number
  281 |         }
  282 |       });
  283 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 419, 'column': 40, 'index': 13784}","  417 |         });
  418 |
> 419 |         expect(response.length).toEqual(2);
      |                                        ^ Magic Number
  420 |         expect(response[0].success.objectId).toBeDefined();
  421 |         expect(response[0].success.createdAt).toBeDefined();
  422 |         expect(response[1].success.objectId).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 446, 'column': 40, 'index': 14749}","  444 |         const query2 = new Parse.Query('MyObject2');
  445 |         const results2 = await query2.find();
> 446 |         expect(results2.length).toEqual(0);
      |                                        ^ Magic Number
  447 |
  448 |         const query3 = new Parse.Query('MyObject3');
  449 |         const results3 = await query3.find();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 489, 'column': 44, 'index': 16385}","  487 |           }
  488 |         }
> 489 |         expect(myObjectDBCalls % 2).toEqual(0);
      |                                            ^ Magic Number
  490 |         expect(myObjectDBCalls > 0).toEqual(true);
  491 |         expect(myObject2DBCalls % 9).toEqual(0);
  492 |         expect(myObject2DBCalls > 0).toEqual(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 491, 'column': 45, 'index': 16485}","  489 |         expect(myObjectDBCalls % 2).toEqual(0);
  490 |         expect(myObjectDBCalls > 0).toEqual(true);
> 491 |         expect(myObject2DBCalls % 9).toEqual(0);
      |                                             ^ Magic Number
  492 |         expect(myObject2DBCalls > 0).toEqual(true);
  493 |         expect(myObject3DBCalls % 2).toEqual(0);
  494 |         expect(myObject3DBCalls > 0).toEqual(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 493, 'column': 45, 'index': 16586}","  491 |         expect(myObject2DBCalls % 9).toEqual(0);
  492 |         expect(myObject2DBCalls > 0).toEqual(true);
> 493 |         expect(myObject3DBCalls % 2).toEqual(0);
      |                                             ^ Magic Number
  494 |         expect(myObject3DBCalls > 0).toEqual(true);
  495 |       });
  496 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 502, 'column': 36, 'index': 16907}","  500 |     await RESTController.request('POST', '/classes/MyObject', { key: 'value' });
  501 |     const res = await RESTController.request('GET', '/classes/MyObject');
> 502 |     expect(res.results.length).toBe(1);
      |                                    ^ Magic Number
  503 |     expect(res.results[0].key).toEqual('value');
  504 |   });
  505 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 539, 'column': 36, 'index': 18060}","  537 |       useMasterKey: true,
  538 |     });
> 539 |     expect(res.results.length).toBe(1);
      |                                    ^ Magic Number
  540 |     expect(res.results[0].objectId).toEqual(userId);
  541 |   });
  542 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 577, 'column': 33, 'index': 19415}","  575 |     const query = new Parse.Query('_Session');
  576 |     const sessions = await query.find({ useMasterKey: true });
> 577 |     expect(sessions.length).toBe(0);
      |                                 ^ Magic Number
  578 |   });
  579 |
  580 |   it('ensures a session token is created when passing installationId != cloud', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 590, 'column': 33, 'index': 19898}","  588 |     const query = new Parse.Query('_Session');
  589 |     const sessions = await query.find({ useMasterKey: true });
> 590 |     expect(sessions.length).toBe(1);
      |                                 ^ Magic Number
  591 |     expect(sessions[0].get('installationId')).toBe('my-installation');
  592 |   });
  593 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 606, 'column': 33, 'index': 20449}","  604 |     let sessions = await query.find({ useMasterKey: true });
  605 |
> 606 |     expect(sessions.length).toBe(1);
      |                                 ^ Magic Number
  607 |     expect(sessions[0].get('installationId')).toBe(installationId);
  608 |     expect(sessions[0].get('sessionToken')).toBe(user.sessionToken);
  609 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServerRESTController.spec.js,Magic Number,"{'line': 620, 'column': 33, 'index': 20963}","  618 |
  619 |     // Should clean up old sessions with this installationId
> 620 |     expect(sessions.length).toBe(1);
      |                                 ^ Magic Number
  621 |     expect(sessions[0].get('installationId')).toBe(installationId);
  622 |     expect(sessions[0].get('sessionToken')).toBe(loggedUser.sessionToken);
  623 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServer.spec.js,Conditional Test Logic,"{'line': 11, 'column': 4, 'index': 294}","   9 |   let server;
  10 |   beforeEach(done => {
> 11 |     if (!server) {
     |    ^ Conditional Test Logic
  12 |       const app = express();
  13 |       app.get('/health', function (req, res) {
  14 |         res.json({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServer.spec.js,Magic Number,"{'line': 56, 'column': 27, 'index': 1727}","  54 |     });
  55 |     parseServerProcess.on('close', async code => {
> 56 |       expect(code).toEqual(1);
     |                           ^ Magic Number
  57 |       expect(stdout).not.toContain('UnhandledPromiseRejectionWarning');
  58 |       expect(stderr).toContain('MongoServerSelectionError');
  59 |       await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseServer.spec.js,Redundant Print,"{'line': 40, 'column': 11, 'index': 1072}","  38 |     const response = await ParseServer.verifyServerUrl();
  39 |     expect(response).not.toBeTrue();
> 40 |     expect(console.warn).toHaveBeenCalledWith(
     |           ^ Redundant Print
  41 |       `\nWARNING, Unable to connect to 'notavalidurl' as the URL is invalid. Cloud code and push notifications may be unavailable!\n`
  42 |     );
  43 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 51, 'column': 2, 'index': 1659}","  49 | const createRole = function (name, sibling, user) {
  50 |   const role = new Parse.Role(name, new Parse.ACL());
> 51 |   if (user) {
     |  ^ Conditional Test Logic
  52 |     const users = role.relation('users');
  53 |     users.add(user);
  54 |   }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 55, 'column': 2, 'index': 1740}","  53 |     users.add(user);
  54 |   }
> 55 |   if (sibling) {
     |  ^ Conditional Test Logic
  56 |     role.relation('roles').add(sibling);
  57 |   }
  58 |   return role.save({}, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 157, 'column': 10, 'index': 4993}","  155 |         roles.forEach(function (role, i) {
  156 |           // Add all roles to the RootRole
> 157 |           if (role.id !== rootRoleObj.id) {
      |          ^ Conditional Test Logic
  158 |             role.relation('roles').add(rootRoleObj);
  159 |           }
  160 |           // Add all ""roleNames"" roles to the previous role"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 161, 'column': 10, 'index': 5162}","  159 |           }
  160 |           // Add all ""roleNames"" roles to the previous role
> 161 |           if (i > 0) {
      |          ^ Conditional Test Logic
  162 |             role.relation('roles').add(roles[i - 1]);
  163 |           }
  164 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 293, 'column': 10, 'index': 9340}","  291 |           const id = result.id;
  292 |           const roleNames = result.roleNames;
> 293 |           if (id == admin.id) {
      |          ^ Conditional Test Logic
  294 |             expect(roleNames.length).toBe(2);
  295 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
  296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 297, 'column': 17, 'index': 9560}","  295 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
  296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
> 297 |           } else if (id == moderator.id) {
      |                 ^ Conditional Test Logic
  298 |             expect(roleNames.length).toBe(1);
  299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);
  300 |           } else if (id == contentManager.id) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 300, 'column': 17, 'index': 9714}","  298 |             expect(roleNames.length).toBe(1);
  299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);
> 300 |           } else if (id == contentManager.id) {
      |                 ^ Conditional Test Logic
  301 |             expect(roleNames.length).toBe(0);
  302 |           } else if (id == superModerator.id) {
  303 |             expect(roleNames.length).toBe(3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 302, 'column': 17, 'index': 9808}","  300 |           } else if (id == contentManager.id) {
  301 |             expect(roleNames.length).toBe(0);
> 302 |           } else if (id == superModerator.id) {
      |                 ^ Conditional Test Logic
  303 |             expect(roleNames.length).toBe(3);
  304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
  305 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 430, 'column': 10, 'index': 13866}","  428 |         },
  429 |         e => {
> 430 |           if (e) {
      |          ^ Conditional Test Logic
  431 |             expect(e.code).toEqual(Parse.Error.OBJECT_NOT_FOUND);
  432 |           } else {
  433 |             fail('should return an error');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Conditional Test Logic,"{'line': 660, 'column': 6, 'index': 21482}","  658 |     Parse.Cloud.beforeSave(Parse.Role, req => {
  659 |       // Modify the role name in beforeSave
> 660 |       if (req.object.get('name') === 'OriginalName') {
      |      ^ Conditional Test Logic
  661 |         req.object.set('name', 'ModifiedName');
  662 |       }
  663 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 84, 'column': 8, 'index': 2537}","  82 |       })
  83 |       .then(x => {
> 84 |         expect(x.length).toEqual(1);
     |        ^ Duplicate Assert
  85 |         const relation = x[0].relation('users').query();
  86 |         return relation.first({ useMasterKey: true });
  87 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 84, 'column': 8, 'index': 2537}","  82 |       })
  83 |       .then(x => {
> 84 |         expect(x.length).toEqual(1);
     |        ^ Duplicate Assert
  85 |         const relation = x[0].relation('users').query();
  86 |         return relation.first({ useMasterKey: true });
  87 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 107, 'column': 8, 'index': 3412}","  105 |       })
  106 |       .then(x => {
> 107 |         expect(x.length).toEqual(1);
      |        ^ Duplicate Assert
  108 |         const objAgain = x[0];
  109 |         objAgain.set('foo', 'bar');
  110 |         // This should succeed:"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 107, 'column': 8, 'index': 3412}","  105 |       })
  106 |       .then(x => {
> 107 |         expect(x.length).toEqual(1);
      |        ^ Duplicate Assert
  108 |         const objAgain = x[0];
  109 |         objAgain.set('foo', 'bar');
  110 |         // This should succeed:"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 294, 'column': 12, 'index': 9374}","  292 |           const roleNames = result.roleNames;
  293 |           if (id == admin.id) {
> 294 |             expect(roleNames.length).toBe(2);
      |            ^ Duplicate Assert
  295 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
  296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  297 |           } else if (id == moderator.id) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 295, 'column': 12, 'index': 9420}","  293 |           if (id == admin.id) {
  294 |             expect(roleNames.length).toBe(2);
> 295 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
      |            ^ Duplicate Assert
  296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  297 |           } else if (id == moderator.id) {
  298 |             expect(roleNames.length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 295, 'column': 12, 'index': 9420}","  293 |           if (id == admin.id) {
  294 |             expect(roleNames.length).toBe(2);
> 295 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
      |            ^ Duplicate Assert
  296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  297 |           } else if (id == moderator.id) {
  298 |             expect(roleNames.length).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 296, 'column': 12, 'index': 9485}","  294 |             expect(roleNames.length).toBe(2);
  295 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
> 296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
      |            ^ Duplicate Assert
  297 |           } else if (id == moderator.id) {
  298 |             expect(roleNames.length).toBe(1);
  299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 296, 'column': 12, 'index': 9485}","  294 |             expect(roleNames.length).toBe(2);
  295 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
> 296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
      |            ^ Duplicate Assert
  297 |           } else if (id == moderator.id) {
  298 |             expect(roleNames.length).toBe(1);
  299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 298, 'column': 12, 'index': 9598}","  296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  297 |           } else if (id == moderator.id) {
> 298 |             expect(roleNames.length).toBe(1);
      |            ^ Duplicate Assert
  299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);
  300 |           } else if (id == contentManager.id) {
  301 |             expect(roleNames.length).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 299, 'column': 12, 'index': 9644}","  297 |           } else if (id == moderator.id) {
  298 |             expect(roleNames.length).toBe(1);
> 299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);
      |            ^ Duplicate Assert
  300 |           } else if (id == contentManager.id) {
  301 |             expect(roleNames.length).toBe(0);
  302 |           } else if (id == superModerator.id) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 301, 'column': 12, 'index': 9757}","  299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);
  300 |           } else if (id == contentManager.id) {
> 301 |             expect(roleNames.length).toBe(0);
      |            ^ Duplicate Assert
  302 |           } else if (id == superModerator.id) {
  303 |             expect(roleNames.length).toBe(3);
  304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 303, 'column': 12, 'index': 9851}","  301 |             expect(roleNames.length).toBe(0);
  302 |           } else if (id == superModerator.id) {
> 303 |             expect(roleNames.length).toBe(3);
      |            ^ Duplicate Assert
  304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
  305 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  306 |             expect(roleNames.indexOf('SuperContentManager')).not.toBe(-1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 304, 'column': 12, 'index': 9897}","  302 |           } else if (id == superModerator.id) {
  303 |             expect(roleNames.length).toBe(3);
> 304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
      |            ^ Duplicate Assert
  305 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  306 |             expect(roleNames.indexOf('SuperContentManager')).not.toBe(-1);
  307 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 304, 'column': 12, 'index': 9897}","  302 |           } else if (id == superModerator.id) {
  303 |             expect(roleNames.length).toBe(3);
> 304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
      |            ^ Duplicate Assert
  305 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  306 |             expect(roleNames.indexOf('SuperContentManager')).not.toBe(-1);
  307 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 305, 'column': 12, 'index': 9962}","  303 |             expect(roleNames.length).toBe(3);
  304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
> 305 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
      |            ^ Duplicate Assert
  306 |             expect(roleNames.indexOf('SuperContentManager')).not.toBe(-1);
  307 |           }
  308 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 305, 'column': 12, 'index': 9962}","  303 |             expect(roleNames.length).toBe(3);
  304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
> 305 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
      |            ^ Duplicate Assert
  306 |             expect(roleNames.indexOf('SuperContentManager')).not.toBe(-1);
  307 |           }
  308 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 474, 'column': 8, 'index': 15111}","  472 |       })
  473 |       .then(role => {
> 474 |         expect(role.length).toEqual(1);
      |        ^ Duplicate Assert
  475 |         const users = role[0].relation('users').query();
  476 |         return users.find({ useMasterKey: true });
  477 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 474, 'column': 8, 'index': 15111}","  472 |       })
  473 |       .then(role => {
> 474 |         expect(role.length).toEqual(1);
      |        ^ Duplicate Assert
  475 |         const users = role[0].relation('users').query();
  476 |         return users.find({ useMasterKey: true });
  477 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 479, 'column': 8, 'index': 15291}","  477 |       })
  478 |       .then(users => {
> 479 |         expect(users.length).toEqual(3);
      |        ^ Duplicate Assert
  480 |         obj = new Parse.Object('TestObjectRoles');
  481 |         obj.set('ACL', prACL);
  482 |         return obj.save(null, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 497, 'column': 8, 'index': 16025}","  495 |       })
  496 |       .then(role => {
> 497 |         expect(role.length).toEqual(1);
      |        ^ Duplicate Assert
  498 |         const users = role[0].relation('users');
  499 |         users.remove(user);
  500 |         users.remove(user3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 497, 'column': 8, 'index': 16025}","  495 |       })
  496 |       .then(role => {
> 497 |         expect(role.length).toEqual(1);
      |        ^ Duplicate Assert
  498 |         const users = role[0].relation('users');
  499 |         users.remove(user);
  500 |         users.remove(user3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Duplicate Assert,"{'line': 508, 'column': 8, 'index': 16396}","  506 |       })
  507 |       .then(users => {
> 508 |         expect(users.length).toEqual(1);
      |        ^ Duplicate Assert
  509 |         expect(users[0].get('username')).toEqual('user2');
  510 |         done();
  511 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 84, 'column': 33, 'index': 2562}","  82 |       })
  83 |       .then(x => {
> 84 |         expect(x.length).toEqual(1);
     |                                 ^ Magic Number
  85 |         const relation = x[0].relation('users').query();
  86 |         return relation.first({ useMasterKey: true });
  87 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 107, 'column': 33, 'index': 3437}","  105 |       })
  106 |       .then(x => {
> 107 |         expect(x.length).toEqual(1);
      |                                 ^ Magic Number
  108 |         const objAgain = x[0];
  109 |         objAgain.set('foo', 'bar');
  110 |         // This should succeed:"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 215, 'column': 35, 'index': 6661}","  213 |       },
  214 |       error => {
> 215 |         expect(error.code).toEqual(111);
      |                                   ^ Magic Number
  216 |         role.set('name', 'testRole');
  217 |         role.save(null, { useMasterKey: true }).then(
  218 |           () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 222, 'column': 40, 'index': 6915}","  220 |           },
  221 |           error2 => {
> 222 |             expect(error2.code).toEqual(111);
      |                                        ^ Magic Number
  223 |             done();
  224 |           }
  225 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 249, 'column': 37, 'index': 7584}","  247 |         },
  248 |         error => {
> 249 |           expect(error.code).toEqual(137);
      |                                     ^ Magic Number
  250 |           done();
  251 |         }
  252 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 294, 'column': 42, 'index': 9404}","  292 |           const roleNames = result.roleNames;
  293 |           if (id == admin.id) {
> 294 |             expect(roleNames.length).toBe(2);
      |                                          ^ Magic Number
  295 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
  296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  297 |           } else if (id == moderator.id) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 298, 'column': 42, 'index': 9628}","  296 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  297 |           } else if (id == moderator.id) {
> 298 |             expect(roleNames.length).toBe(1);
      |                                          ^ Magic Number
  299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);
  300 |           } else if (id == contentManager.id) {
  301 |             expect(roleNames.length).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 299, 'column': 61, 'index': 9693}","  297 |           } else if (id == moderator.id) {
  298 |             expect(roleNames.length).toBe(1);
> 299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);
      |                                                             ^ Magic Number
  300 |           } else if (id == contentManager.id) {
  301 |             expect(roleNames.length).toBe(0);
  302 |           } else if (id == superModerator.id) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 301, 'column': 42, 'index': 9787}","  299 |             expect(roleNames.indexOf('ContentManager')).toBe(0);
  300 |           } else if (id == contentManager.id) {
> 301 |             expect(roleNames.length).toBe(0);
      |                                          ^ Magic Number
  302 |           } else if (id == superModerator.id) {
  303 |             expect(roleNames.length).toBe(3);
  304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 303, 'column': 42, 'index': 9881}","  301 |             expect(roleNames.length).toBe(0);
  302 |           } else if (id == superModerator.id) {
> 303 |             expect(roleNames.length).toBe(3);
      |                                          ^ Magic Number
  304 |             expect(roleNames.indexOf('Moderator')).not.toBe(-1);
  305 |             expect(roleNames.indexOf('ContentManager')).not.toBe(-1);
  306 |             expect(roleNames.indexOf('SuperContentManager')).not.toBe(-1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 396, 'column': 33, 'index': 12700}","  394 |       })
  395 |       .then(x => {
> 396 |         expect(x.length).toEqual(3);
      |                                 ^ Magic Number
  397 |
  398 |         obj = new Parse.Object('TestObjectRoles');
  399 |         obj.set('ACL', customerACL);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 474, 'column': 36, 'index': 15139}","  472 |       })
  473 |       .then(role => {
> 474 |         expect(role.length).toEqual(1);
      |                                    ^ Magic Number
  475 |         const users = role[0].relation('users').query();
  476 |         return users.find({ useMasterKey: true });
  477 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 479, 'column': 37, 'index': 15320}","  477 |       })
  478 |       .then(users => {
> 479 |         expect(users.length).toEqual(3);
      |                                     ^ Magic Number
  480 |         obj = new Parse.Object('TestObjectRoles');
  481 |         obj.set('ACL', prACL);
  482 |         return obj.save(null, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 497, 'column': 36, 'index': 16053}","  495 |       })
  496 |       .then(role => {
> 497 |         expect(role.length).toEqual(1);
      |                                    ^ Magic Number
  498 |         const users = role[0].relation('users');
  499 |         users.remove(user);
  500 |         users.remove(user3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 508, 'column': 37, 'index': 16425}","  506 |       })
  507 |       .then(users => {
> 508 |         expect(users.length).toEqual(1);
      |                                     ^ Magic Number
  509 |         expect(users[0].get('username')).toEqual('user2');
  510 |         done();
  511 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 533, 'column': 36, 'index': 17133}","  531 |       })
  532 |       .then(results => {
> 533 |         expect(results.length).toBe(0);
      |                                    ^ Magic Number
  534 |         done();
  535 |       })
  536 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 553, 'column': 39, 'index': 17859}","  551 |         query.equalTo('users', user);
  552 |         query.find().then(function (roles) {
> 553 |           expect(roles.length).toEqual(1);
      |                                       ^ Magic Number
  554 |           done();
  555 |         });
  556 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 576, 'column': 41, 'index': 18753}","  574 |           query.equalTo('users', otherUser);
  575 |           query.find().then(function (roles) {
> 576 |             expect(roles.length).toEqual(0);
      |                                         ^ Magic Number
  577 |             done();
  578 |           });
  579 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Magic Number,"{'line': 598, 'column': 39, 'index': 19517}","  596 |         query.equalTo('users', null);
  597 |         query.find().then(function (roles) {
> 598 |           expect(roles.length).toEqual(0);
      |                                       ^ Magic Number
  599 |           done();
  600 |         });
  601 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Unknown Test,"{'column': 2, 'line': 200}","  198 |   });
  199 |
> 200 |   it('should recursively load roles', done => {
      |  ^ Unknown Test
  201 |     testLoadRoles(Config.get('test'), done);
  202 |   });
  203 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Unknown Test,"{'column': 2, 'line': 204}","  202 |   });
  203 |
> 204 |   it('should recursively load roles without config', done => {
      |  ^ Unknown Test
  205 |     testLoadRoles(undefined, done);
  206 |   });
  207 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRole.spec.js,Unknown Test,"{'column': 2, 'line': 316}","  314 |   });
  315 |
> 316 |   it('can create role and query empty users', done => {
      |  ^ Unknown Test
  317 |     const roleACL = new Parse.ACL();
  318 |     roleACL.setPublicReadAccess(true);
  319 |     const role = new Parse.Role('subscribers', roleACL);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 51, 'column': 4, 'index': 1461}","  49 |     const ChildObject = Parse.Object.extend('ChildObject');
  50 |     const childObjects = [];
> 51 |     for (let i = 0; i < 10; i++) {
     |    ^ Conditional Test Logic
  52 |       childObjects.push(new ChildObject({ x: i }));
  53 |     }
  54 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 73, 'column': 4, 'index': 2309}","  71 |     const ChildObject = Parse.Object.extend('ChildObject');
  72 |     const childObjects = [];
> 73 |     for (let i = 0; i < 10; i++) {
     |    ^ Conditional Test Logic
  74 |       childObjects.push(new ChildObject({ x: i }));
  75 |     }
  76 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 96, 'column': 4, 'index': 3244}","  94 |     const ChildObject = Parse.Object.extend('ChildObject');
  95 |     const childObjects = [];
> 96 |     for (let i = 0; i < 10; i++) {
     |    ^ Conditional Test Logic
  97 |       childObjects.push(new ChildObject({ x: i }));
  98 |     }
  99 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 146, 'column': 4, 'index': 4799}","  144 |     const ChildObject = Parse.Object.extend('ChildObject');
  145 |     const childObjects = [];
> 146 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  147 |       childObjects.push(new ChildObject({ x: i }));
  148 |     }
  149 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 178, 'column': 4, 'index': 5681}","  176 |     const ChildObject = Parse.Object.extend('ChildObject');
  177 |     const childObjects = [];
> 178 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  179 |       childObjects.push(new ChildObject({ x: i }));
  180 |     }
  181 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 202, 'column': 4, 'index': 6594}","  200 |     const ChildObject = Parse.Object.extend('ChildObject');
  201 |     const childObjects = [];
> 202 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  203 |       childObjects.push(new ChildObject({ x: i }));
  204 |     }
  205 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 236, 'column': 4, 'index': 7897}","  234 |     const ChildObject = Parse.Object.extend('ChildObject');
  235 |     const childObjects = [];
> 236 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  237 |       childObjects.push(new ChildObject({ x: i }));
  238 |     }
  239 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 289, 'column': 4, 'index': 10108}","  287 |     const ChildObject = Parse.Object.extend('ChildObject');
  288 |     const childObjects = [];
> 289 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  290 |       childObjects.push(new ChildObject({ x: i }));
  291 |     }
  292 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 332, 'column': 4, 'index': 11438}","  330 |     const ChildObject = Parse.Object.extend('ChildObject');
  331 |     const childObjects = [];
> 332 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  333 |       childObjects.push(new ChildObject({ x: i }));
  334 |     }
  335 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 372, 'column': 4, 'index': 12745}","  370 |     const ChildObject = Parse.Object.extend('ChildObject');
  371 |     const childObjects = [];
> 372 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  373 |       childObjects.push(new ChildObject({ x: i }));
  374 |     }
  375 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 416, 'column': 4, 'index': 14297}","  414 |     const ChildObject = Parse.Object.extend('ChildObject');
  415 |     const childObjects = [];
> 416 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  417 |       childObjects.push(new ChildObject({ x: i }));
  418 |     }
  419 |     await Parse.Object.saveAll(childObjects);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 568, 'column': 4, 'index': 19071}","  566 |     const allObjects = [];
  567 |     // Build 10 Objects and 10 owners
> 568 |     while (objects.length != 10) {
      |    ^ Conditional Test Logic
  569 |       const object = new Parse.Object('AnObject');
  570 |       object.set({
  571 |         index: objects.length,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 674, 'column': 10, 'index': 22995}","  672 |           const results = await mainQuery.find();
  673 |           equal(results.length, 1);
> 674 |           if (results.length > 0) {
      |          ^ Conditional Test Logic
  675 |             equal(results[0].get('name'), 'Bob');
  676 |           }
  677 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 718, 'column': 10, 'index': 24676}","  716 |           const results = await mainQuery.find();
  717 |           equal(results.length, 2);
> 718 |           if (results.length > 0) {
      |          ^ Conditional Test Logic
  719 |             equal(results[0].get('name'), 'Billy');
  720 |             equal(results[1].get('name'), 'Tom');
  721 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Conditional Test Logic,"{'line': 769, 'column': 14, 'index': 26388}","  767 |           admins.first({ useMasterKey: true }).then(
  768 |             user => {
> 769 |               if (user) {
      |              ^ Conditional Test Logic
  770 |                 done();
  771 |               } else {
  772 |                 fail('Should have found admin user, found nothing instead');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 608, 'column': 8, 'index': 20506}","  606 |       })
  607 |       .then(results => {
> 608 |         expect(results.length).toBe(5);
      |        ^ Duplicate Assert
  609 |         results.forEach(result => {
  610 |           expect(result.get('key').get('even')).toBe(true);
  611 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 608, 'column': 8, 'index': 20506}","  606 |       })
  607 |       .then(results => {
> 608 |         expect(results.length).toBe(5);
      |        ^ Duplicate Assert
  609 |         results.forEach(result => {
  610 |           expect(result.get('key').get('even')).toBe(true);
  611 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 610, 'column': 10, 'index': 20584}","  608 |         expect(results.length).toBe(5);
  609 |         results.forEach(result => {
> 610 |           expect(result.get('key').get('even')).toBe(true);
      |          ^ Duplicate Assert
  611 |         });
  612 |         return Promise.resolve();
  613 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 630, 'column': 10, 'index': 21303}","  628 |       .then(
  629 |         results => {
> 630 |           expect(results.length).toBe(5);
      |          ^ Duplicate Assert
  631 |           results.forEach(result => {
  632 |             expect(result.get('key').get('even')).toBe(false);
  633 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 630, 'column': 10, 'index': 21303}","  628 |       .then(
  629 |         results => {
> 630 |           expect(results.length).toBe(5);
      |          ^ Duplicate Assert
  631 |           results.forEach(result => {
  632 |             expect(result.get('key').get('even')).toBe(false);
  633 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 632, 'column': 12, 'index': 21385}","  630 |           expect(results.length).toBe(5);
  631 |           results.forEach(result => {
> 632 |             expect(result.get('key').get('even')).toBe(false);
      |            ^ Duplicate Assert
  633 |           });
  634 |           done();
  635 |         },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 744, 'column': 10, 'index': 25495}","  742 |         query.equalTo('relation', p1);
  743 |         query.find().then(results => {
> 744 |           expect(results.length).toEqual(0);
      |          ^ Duplicate Assert
  745 |
  746 |           const query = new Parse.Query(PersonObject);
  747 |           query.equalTo('relation', p2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 749, 'column': 12, 'index': 25680}","  747 |           query.equalTo('relation', p2);
  748 |           query.find().then(results => {
> 749 |             expect(results.length).toEqual(1);
      |            ^ Duplicate Assert
  750 |             expect(results[0].objectId).toEqual(p1.objectId);
  751 |             done();
  752 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 874, 'column': 34, 'index': 29254}","  872 |       .then(children => {
  873 |         // Without an after find all is good, all results have been redirected with proper className
> 874 |         children.forEach(child => expect(child.className).toBe('Child'));
      |                                  ^ Duplicate Assert
  875 |         // Setup the afterFind
  876 |         Parse.Cloud.afterFind('Child', req => {
  877 |           return Promise.resolve("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 874, 'column': 34, 'index': 29254}","  872 |       .then(children => {
  873 |         // Without an after find all is good, all results have been redirected with proper className
> 874 |         children.forEach(child => expect(child.className).toBe('Child'));
      |                                  ^ Duplicate Assert
  875 |         // Setup the afterFind
  876 |         Parse.Cloud.afterFind('Child', req => {
  877 |           return Promise.resolve("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 890, 'column': 10, 'index': 29796}","  888 |       .then(children => {
  889 |         children.forEach(child => {
> 890 |           expect(child.className).toBe('Child');
      |          ^ Duplicate Assert
  891 |           expect(child.get('afterFound')).toBe(true);
  892 |         });
  893 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Duplicate Assert,"{'line': 890, 'column': 10, 'index': 29796}","  888 |       .then(children => {
  889 |         children.forEach(child => {
> 890 |           expect(child.className).toBe('Child');
      |          ^ Duplicate Assert
  891 |           expect(child.get('afterFound')).toBe(true);
  892 |         });
  893 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 170, 'column': 33, 'index': 5493}","  168 |       })
  169 |       .then(function (list) {
> 170 |         expect(list.length).toBe(3);
      |                                 ^ Magic Number
  171 |       })
  172 |       .then(done, done.fail);
  173 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 271, 'column': 63, 'index': 9457}","  269 |       .then(objectsWithChild0InBothChildren => {
  270 |         //No parent has child 0 in both it's ""child"" and ""otherChild"" field;
> 271 |         expect(objectsWithChild0InBothChildren.length).toEqual(0);
      |                                                               ^ Magic Number
  272 |       })
  273 |       .then(() => {
  274 |         const objectsWithChild4andOtherChild1 = new Parse.Query(ParentObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 281, 'column': 39, 'index': 9912}","  279 |       .then(objects => {
  280 |         // parent2 has child 4 and otherChild 1
> 281 |         expect(objects.length).toEqual(1);
      |                                       ^ Magic Number
  282 |         done();
  283 |       });
  284 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 558, 'column': 39, 'index': 18841}","  556 |       })
  557 |       .then(results => {
> 558 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  559 |         done();
  560 |       });
  561 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 608, 'column': 36, 'index': 20534}","  606 |       })
  607 |       .then(results => {
> 608 |         expect(results.length).toBe(5);
      |                                    ^ Magic Number
  609 |         results.forEach(result => {
  610 |           expect(result.get('key').get('even')).toBe(true);
  611 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 630, 'column': 38, 'index': 21331}","  628 |       .then(
  629 |         results => {
> 630 |           expect(results.length).toBe(5);
      |                                      ^ Magic Number
  631 |           results.forEach(result => {
  632 |             expect(result.get('key').get('even')).toBe(false);
  633 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 658, 'column': 38, 'index': 22334}","  656 |     const owner = new OwnerObject({ name: 'Joe' });
  657 |     const allObjects = [owner].concat(restaurants).concat(persons);
> 658 |     expect(allObjects.length).toEqual(6);
      |                                      ^ Magic Number
  659 |     Parse.Object.saveAll([owner].concat(restaurants).concat(persons))
  660 |       .then(function () {
  661 |         owner.relation('restaurants').add(restaurants);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 701, 'column': 38, 'index': 23971}","  699 |     const owner = new OwnerObject({ name: 'Joe' });
  700 |     const allObjects = [owner].concat(restaurants).concat(persons);
> 701 |     expect(allObjects.length).toEqual(6);
      |                                      ^ Magic Number
  702 |     Parse.Object.saveAll([owner].concat(restaurants).concat(persons))
  703 |       .then(function () {
  704 |         owner.relation('restaurants').add(restaurants);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 744, 'column': 41, 'index': 25526}","  742 |         query.equalTo('relation', p1);
  743 |         query.find().then(results => {
> 744 |           expect(results.length).toEqual(0);
      |                                         ^ Magic Number
  745 |
  746 |           const query = new Parse.Query(PersonObject);
  747 |           query.equalTo('relation', p2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Magic Number,"{'line': 749, 'column': 43, 'index': 25711}","  747 |           query.equalTo('relation', p2);
  748 |           query.find().then(results => {
> 749 |             expect(results.length).toEqual(1);
      |                                           ^ Magic Number
  750 |             expect(results[0].objectId).toEqual(p1.objectId);
  751 |             done();
  752 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 9}","   7 |
   8 | describe('Parse.Relation testing', () => {
>  9 |   it('simple add and remove relation', done => {
     |  ^ Unknown Test
  10 |     const child = new ChildObject();
  11 |     child.set('x', 2);
  12 |     const parent = new ParentObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 48}","  46 |   });
  47 |
> 48 |   it('query relation without schema', async () => {
     |  ^ Unknown Test
  49 |     const ChildObject = Parse.Object.extend('ChildObject');
  50 |     const childObjects = [];
  51 |     for (let i = 0; i < 10; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 70}","  68 |   });
  69 |
> 70 |   it('relations are constructed right from query', async () => {
     |  ^ Unknown Test
  71 |     const ChildObject = Parse.Object.extend('ChildObject');
  72 |     const childObjects = [];
  73 |     for (let i = 0; i < 10; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 93}","  91 |   });
  92 |
> 93 |   it('compound add and remove relation', done => {
     |  ^ Unknown Test
  94 |     const ChildObject = Parse.Object.extend('ChildObject');
  95 |     const childObjects = [];
  96 |     for (let i = 0; i < 10; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 175}","  173 |   });
  174 |
> 175 |   it('queries with relations', async () => {
      |  ^ Unknown Test
  176 |     const ChildObject = Parse.Object.extend('ChildObject');
  177 |     const childObjects = [];
  178 |     for (let i = 0; i < 10; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 199}","  197 |   });
  198 |
> 199 |   it('queries on relation fields', async () => {
      |  ^ Unknown Test
  200 |     const ChildObject = Parse.Object.extend('ChildObject');
  201 |     const childObjects = [];
  202 |     for (let i = 0; i < 10; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 286}","  284 |   });
  285 |
> 286 |   it('query on pointer and relation fields with equal', done => {
      |  ^ Unknown Test
  287 |     const ChildObject = Parse.Object.extend('ChildObject');
  288 |     const childObjects = [];
  289 |     for (let i = 0; i < 10; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 329}","  327 |   });
  328 |
> 329 |   it('query on pointer and relation fields with equal bis', done => {
      |  ^ Unknown Test
  330 |     const ChildObject = Parse.Object.extend('ChildObject');
  331 |     const childObjects = [];
  332 |     for (let i = 0; i < 10; i++) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 456}","  454 |   });
  455 |
> 456 |   it('Get query on relation using un-fetched parent object', done => {
      |  ^ Unknown Test
  457 |     // Setup data model
  458 |     const Wheel = Parse.Object.extend('Wheel');
  459 |     const Car = Parse.Object.extend('Car');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 497}","  495 |   });
  496 |
> 497 |   it('Find query on relation using un-fetched parent object', done => {
      |  ^ Unknown Test
  498 |     // Setup data model
  499 |     const Wheel = Parse.Object.extend('Wheel');
  500 |     const Car = Parse.Object.extend('Car');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 758}","  756 |   });
  757 |
> 758 |   it('can query roles in Cloud Code (regession test #1489)', done => {
      |  ^ Unknown Test
  759 |     Parse.Cloud.define('isAdmin', request => {
  760 |       const query = new Parse.Query(Parse.Role);
  761 |       query.equalTo('name', 'admin');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseRelation.spec.js,Unknown Test,"{'column': 2, 'line': 820}","  818 |   });
  819 |
> 820 |   it('can be saved without error', done => {
      |  ^ Unknown Test
  821 |     const obj1 = new Parse.Object('PPAP');
  822 |     obj1.save().then(
  823 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 45, 'column': 4, 'index': 1432}","  43 |     // Note that anything that is not truthy (like 0) does not cause an exception, as they get swallowed up by ClassesRouter::optionsFromBody
  44 |     const values = [1, 'yolo', { a: 1 }, [1, 2, 3]];
> 45 |     for (const value of values) {
     |    ^ Conditional Test Logic
  46 |       try {
  47 |         await request({
  48 |           method: 'GET',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 76, 'column': 4, 'index': 2607}","  74 |       // 'queryPlannerExtended' is excluded as it only applies to MongoDB Data Lake which is currently not available in our CI environment
  75 |     ];
> 76 |     for (const value of values) {
     |    ^ Conditional Test Logic
  77 |       const response = await request({
  78 |         method: 'GET',
  79 |         url: `http://localhost:8378/1/classes/_User?explain=${value}`,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 84, 'column': 6, 'index': 2882}","  82 |       });
  83 |       expect(response.status).toBe(200);
> 84 |       if (value) {
     |      ^ Conditional Test Logic
  85 |         expect(response.data.results.ok).toBe(1);
  86 |       }
  87 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 374, 'column': 4, 'index': 12003}","  372 |   it('containedIn object array queries', function (done) {
  373 |     const messageList = [];
> 374 |     for (let i = 0; i < 4; ++i) {
      |    ^ Conditional Test Logic
  375 |       const message = new TestObject({});
  376 |       if (i > 0) {
  377 |         message.set('prior', messageList[i - 1]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 376, 'column': 6, 'index': 12081}","  374 |     for (let i = 0; i < 4; ++i) {
  375 |       const message = new TestObject({});
> 376 |       if (i > 0) {
      |      ^ Conditional Test Logic
  377 |         message.set('prior', messageList[i - 1]);
  378 |       }
  379 |       messageList.push(message);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 546, 'column': 6, 'index': 17138}","  544 |       );
  545 |       const match = regexp.exec(iso8601);
> 546 |       if (!match) {
      |      ^ Conditional Test Logic
  547 |         return null;
  548 |       }
  549 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 599, 'column': 4, 'index': 18601}","  597 |
  598 |     const messageList = [];
> 599 |     for (let i = 0; i < 4; ++i) {
      |    ^ Conditional Test Logic
  600 |       messageList.push(new TestObject({ i: i }));
  601 |     }
  602 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 1390, 'column': 8, 'index': 43000}","  1388 |       query.ascending('number');
  1389 |       query.find().then(function (results) {
> 1390 |         if (results.length != 3) {
       |        ^ Conditional Test Logic
  1391 |           fail('expected 3 results');
  1392 |         } else {
  1393 |           equal(results[0].get('number'), 0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 1410, 'column': 8, 'index': 43666}","  1408 |       query.equalTo('objectId', list[4].id);
  1409 |       query.find().then(function (results) {
> 1410 |         if (results.length != 1) {
       |        ^ Conditional Test Logic
  1411 |           fail('expected 1 result');
  1412 |           done();
  1413 |         } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2237, 'column': 4, 'index': 70278}","  2235 |   it('exists', function (done) {
  2236 |     const objects = [];
> 2237 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
       |    ^ Conditional Test Logic
  2238 |       const item = new TestObject();
  2239 |       if (i % 2 === 0) {
  2240 |         item.set('x', i + 1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2239, 'column': 6, 'index': 70368}","  2237 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
  2238 |       const item = new TestObject();
> 2239 |       if (i % 2 === 0) {
       |      ^ Conditional Test Logic
  2240 |         item.set('x', i + 1);
  2241 |       } else {
  2242 |         item.set('y', i + 1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2251, 'column': 8, 'index': 70716}","  2249 |       query.find().then(function (results) {
  2250 |         equal(results.length, 5);
> 2251 |         for (const result of results) {
       |        ^ Conditional Test Logic
  2252 |           ok(result.get('x'));
  2253 |         }
  2254 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2261, 'column': 4, 'index': 70897}","  2259 |   it('doesNotExist', function (done) {
  2260 |     const objects = [];
> 2261 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
       |    ^ Conditional Test Logic
  2262 |       const item = new TestObject();
  2263 |       if (i % 2 === 0) {
  2264 |         item.set('x', i + 1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2263, 'column': 6, 'index': 70987}","  2261 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
  2262 |       const item = new TestObject();
> 2263 |       if (i % 2 === 0) {
       |      ^ Conditional Test Logic
  2264 |         item.set('x', i + 1);
  2265 |       } else {
  2266 |         item.set('y', i + 1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2275, 'column': 8, 'index': 71341}","  2273 |       query.find().then(function (results) {
  2274 |         equal(results.length, 4);
> 2275 |         for (const result of results) {
       |        ^ Conditional Test Logic
  2276 |           ok(result.get('y'));
  2277 |         }
  2278 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2285, 'column': 4, 'index': 71525}","  2283 |   it('exists relation', function (done) {
  2284 |     const objects = [];
> 2285 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
       |    ^ Conditional Test Logic
  2286 |       const container = new Container();
  2287 |       if (i % 2 === 0) {
  2288 |         const item = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2287, 'column': 6, 'index': 71619}","  2285 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
  2286 |       const container = new Container();
> 2287 |       if (i % 2 === 0) {
       |      ^ Conditional Test Logic
  2288 |         const item = new TestObject();
  2289 |         item.set('x', i);
  2290 |         container.set('x', item);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2302, 'column': 8, 'index': 72069}","  2300 |       query.find().then(function (results) {
  2301 |         equal(results.length, 5);
> 2302 |         for (const result of results) {
       |        ^ Conditional Test Logic
  2303 |           ok(result.get('x'));
  2304 |         }
  2305 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2312, 'column': 4, 'index': 72259}","  2310 |   it('doesNotExist relation', function (done) {
  2311 |     const objects = [];
> 2312 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7]) {
       |    ^ Conditional Test Logic
  2313 |       const container = new Container();
  2314 |       if (i % 2 === 0) {
  2315 |         const item = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2314, 'column': 6, 'index': 72350}","  2312 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7]) {
  2313 |       const container = new Container();
> 2314 |       if (i % 2 === 0) {
       |      ^ Conditional Test Logic
  2315 |         const item = new TestObject();
  2316 |         item.set('x', i);
  2317 |         container.set('x', item);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2329, 'column': 8, 'index': 72806}","  2327 |       query.find().then(function (results) {
  2328 |         equal(results.length, 4);
> 2329 |         for (const result of results) {
       |        ^ Conditional Test Logic
  2330 |           ok(result.get('y'));
  2331 |         }
  2332 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2408, 'column': 4, 'index': 75350}","  2406 |     const Grandparent = Parse.Object.extend('Grandparent');
  2407 |     const objects = [];
> 2408 |     for (let i = 0; i < 5; ++i) {
       |    ^ Conditional Test Logic
  2409 |       const grandparent = new Grandparent({
  2410 |         z: i,
  2411 |         parent: new Parent({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2426, 'column': 8, 'index': 75835}","  2424 |       query.find().then(function (results) {
  2425 |         equal(results.length, 5);
> 2426 |         for (const object of results) {
       |        ^ Conditional Test Logic
  2427 |           equal(object.get('z'), object.get('parent').get('y'));
  2428 |           equal(object.get('z'), object.get('parent').get('child').get('x'));
  2429 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2463, 'column': 4, 'index': 77006}","  2461 |     const objects = [];
  2462 |     let total = 0;
> 2463 |     while (objects.length != 5) {
       |    ^ Conditional Test Logic
  2464 |       const object = new Parse.Object('AnObject');
  2465 |       object.set('key', objects.length);
  2466 |       total += objects.length;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2502, 'column': 4, 'index': 78079}","  2500 |     const objects = [];
  2501 |     let total = 0;
> 2502 |     while (objects.length != 5) {
       |    ^ Conditional Test Logic
  2503 |       const object = new Parse.Object('AnObject');
  2504 |       object.set('key', objects.length);
  2505 |       total += objects.length;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2508, 'column': 4, 'index': 78270}","  2506 |       objects.push(object);
  2507 |     }
> 2508 |     while (objects.length != 10) {
       |    ^ Conditional Test Logic
  2509 |       const object = new Parse.Object('AnotherObject');
  2510 |       object.set('key', objects.length);
  2511 |       total += objects.length;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2548, 'column': 4, 'index': 79395}","  2546 |     const objects = [];
  2547 |     let total = 0;
> 2548 |     while (objects.length != 5) {
       |    ^ Conditional Test Logic
  2549 |       const object = new Parse.Object('AnObject');
  2550 |       object.set('key', objects.length);
  2551 |       objects.push(object);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2553, 'column': 4, 'index': 79555}","  2551 |       objects.push(object);
  2552 |     }
> 2553 |     while (objects.length != 10) {
       |    ^ Conditional Test Logic
  2554 |       const object = new Parse.Object('AnotherObject');
  2555 |       object.set('key', objects.length);
  2556 |       objects.push(object);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2561, 'column': 8, 'index': 79834}","  2559 |       .then(() => {
  2560 |         const object = new Parse.Object('AContainer');
> 2561 |         for (let i = 0; i < objects.length; i++) {
       |        ^ Conditional Test Logic
  2562 |           if (i % 2 == 0) {
  2563 |             objects[i].id = 'randomThing';
  2564 |           } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2562, 'column': 10, 'index': 79887}","  2560 |         const object = new Parse.Object('AContainer');
  2561 |         for (let i = 0; i < objects.length; i++) {
> 2562 |           if (i % 2 == 0) {
       |          ^ Conditional Test Logic
  2563 |             objects[i].id = 'randomThing';
  2564 |           } else {
  2565 |             total += objects[i].get('key');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2668, 'column': 4, 'index': 83043}","  2666 |     const ChildObject = Parse.Object.extend('ChildObject');
  2667 |     const objects = [];
> 2668 |     for (let i = 0; i < 10; ++i) {
       |    ^ Conditional Test Logic
  2669 |       objects.push(
  2670 |         new ParentObject({
  2671 |           child: new ChildObject({ x: i }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2683, 'column': 8, 'index': 83537}","  2681 |       query.find().then(function (results) {
  2682 |         equal(results.length, 4);
> 2683 |         for (const object of results) {
       |        ^ Conditional Test Logic
  2684 |           ok(object.get('x') > 15);
  2685 |         }
  2686 |         const query = new Parse.Query(ParentObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2690, 'column': 10, 'index': 83813}","  2688 |         query.find().then(function (results) {
  2689 |           equal(results.length, 6);
> 2690 |           for (const object of results) {
       |          ^ Conditional Test Logic
  2691 |             ok(object.get('x') >= 10);
  2692 |             ok(object.get('x') <= 15);
  2693 |             done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 2980, 'column': 8, 'index': 93953}","  2978 |       orQuery.find().then(function (results) {
  2979 |         equal(results.length, 6);
> 2980 |         for (const number of results) {
       |        ^ Conditional Test Logic
  2981 |           ok(number.get('x') < 2 || number.get('x') > 5);
  2982 |         }
  2983 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 3077, 'column': 10, 'index': 96632}","  3075 |         .then(function () {
  3076 |           equal(seen.length, COUNT);
> 3077 |           for (let i = 0; i < COUNT; i++) {
       |          ^ Conditional Test Logic
  3078 |             equal(seen[i], 1, 'Should have seen object number ' + i);
  3079 |           }
  3080 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 3119, 'column': 8, 'index': 97644}","  3117 |       .then(function () {
  3118 |         equal(seen.length, COUNT);
> 3119 |         for (let i = 0; i < COUNT; i++) {
       |        ^ Conditional Test Logic
  3120 |           equal(seen[i], 1, 'Should have seen object number ' + i);
  3121 |         }
  3122 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 3805, 'column': 4, 'index': 123256}","  3803 |     const parents = [];
  3804 |     const promises = [];
> 3805 |     for (let i = 0; i < 2; i++) {
       |    ^ Conditional Test Logic
  3806 |       const proc = iter => {
  3807 |         const child = new Parse.Object('Child');
  3808 |         children.push(child);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 3856, 'column': 4, 'index': 124671}","  3854 |   it('query within dictionary', done => {
  3855 |     const promises = [];
> 3856 |     for (let i = 0; i < 2; i++) {
       |    ^ Conditional Test Logic
  3857 |       const proc = iter => {
  3858 |         const obj = new Parse.Object('TestObject');
  3859 |         obj.set('aDict', { x: iter + 1, y: iter + 2 });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4089, 'column': 12, 'index': 131080}","  4087 |           .then(r => {
  4088 |             expect(r.length).toEqual(1);
> 4089 |             if (r.length > 0) {
       |            ^ Conditional Test Logic
  4090 |               expect(r[0].id).toEqual(p.id);
  4091 |             }
  4092 |             done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4099, 'column': 4, 'index': 131357}","  4097 |   it_id('d95818c0-9e3c-41e6-be20-e7bafb59eefb')(it)('should find objects with array of pointers', done => {
  4098 |     const objects = [];
> 4099 |     while (objects.length != 5) {
       |    ^ Conditional Test Logic
  4100 |       const object = new Parse.Object('ContainedObject');
  4101 |       object.set('index', objects.length);
  4102 |       objects.push(object);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4128, 'column': 8, 'index': 132363}","  4126 |       })
  4127 |       .then(results => {
> 4128 |         if (results) {
       |        ^ Conditional Test Logic
  4129 |           expect(results.length).toBe(2);
  4130 |         }
  4131 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4159, 'column': 12, 'index': 133305}","  4157 |           .then(results => {
  4158 |             expect(results.length).toEqual(1);
> 4159 |             if (results.length == 1) {
       |            ^ Conditional Test Logic
  4160 |               expect(results[0].objectId).toEqual(q1.objectId);
  4161 |             }
  4162 |             done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4173, 'column': 8, 'index': 133660}","  4171 |       .then(obj => {
  4172 |         const longListOfStrings = [];
> 4173 |         for (let i = 0; i < 130; i++) {
       |        ^ Conditional Test Logic
  4174 |           longListOfStrings.push(i.toString());
  4175 |         }
  4176 |         longListOfStrings.push(obj.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4199, 'column': 8, 'index': 134409}","  4197 |       .then(() => {
  4198 |         const objs = [];
> 4199 |         for (let i = 0; i < 10; i++) {
       |        ^ Conditional Test Logic
  4200 |           objs.push(new Parse.Object('MyClass'));
  4201 |         }
  4202 |         return Parse.Object.saveAll(objs);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4219, 'column': 4, 'index': 134975}","  4217 |     const objs = [];
  4218 |     const children = [];
> 4219 |     for (let i = 0; i < 10; i++) {
       |    ^ Conditional Test Logic
  4220 |       const obj = new Parse.Object('MyClass');
  4221 |       const child = new Parse.Object('Child');
  4222 |       objs.push(obj);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4300, 'column': 10, 'index': 137622}","  4298 |           equal(foobarObj.get('fizz'), 'buzz');
  4299 |           equal(foobarObj.get('foo'), undefined);
> 4300 |           if (foobarObj.has('barBaz')) {
       |          ^ Conditional Test Logic
  4301 |             equal(foobarObj.get('barBaz').get('key'), 'value');
  4302 |             equal(foobarObj.get('barBaz').get('otherKey'), undefined);
  4303 |           } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4337, 'column': 10, 'index': 138881}","  4335 |           equal(foobarObj.get('fizz'), 'buzz');
  4336 |           equal(foobarObj.get('foo'), undefined);
> 4337 |           if (foobarObj.has('barBaz')) {
       |          ^ Conditional Test Logic
  4338 |             equal(foobarObj.get('barBaz').get('key'), 'value');
  4339 |             equal(foobarObj.get('barBaz').get('otherKey'), undefined);
  4340 |             equal(foobarObj.get('barBaz').get('bazoo').get('some'), 'thing');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4367, 'column': 4, 'index': 139958}","  4365 |     equal(foobarObj.get('fizz'), 'buzz');
  4366 |     equal(foobarObj.get('foo'), undefined);
> 4367 |     if (foobarObj.has('barBaz')) {
       |    ^ Conditional Test Logic
  4368 |       equal(foobarObj.get('barBaz').get('key'), 'value');
  4369 |       equal(foobarObj.get('barBaz').get('otherKey'), undefined);
  4370 |     } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4399, 'column': 4, 'index': 141008}","  4397 |     equal(foobarObj.get('fizz'), 'buzz');
  4398 |     equal(foobarObj.get('foo'), undefined);
> 4399 |     if (foobarObj.has('barBaz')) {
       |    ^ Conditional Test Logic
  4400 |       equal(foobarObj.get('barBaz').get('key'), 'value');
  4401 |       equal(foobarObj.get('barBaz').get('otherKey'), undefined);
  4402 |       equal(foobarObj.get('barBaz').get('bazoo').get('some'), 'thing');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4700, 'column': 8, 'index': 151767}","  4698 |         equal(foobarObj.get('fizz'), 'buzz');
  4699 |         equal(foobarObj.get('foo'), undefined);
> 4700 |         if (foobarObj.has('barBaz')) {
       |        ^ Conditional Test Logic
  4701 |           equal(foobarObj.get('barBaz').get('key'), 'value');
  4702 |           equal(foobarObj.get('barBaz').get('otherKey'), undefined);
  4703 |           if (foobarObj.get('barBaz').has('bazoo')) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4703, 'column': 10, 'index': 151939}","  4701 |           equal(foobarObj.get('barBaz').get('key'), 'value');
  4702 |           equal(foobarObj.get('barBaz').get('otherKey'), undefined);
> 4703 |           if (foobarObj.get('barBaz').has('bazoo')) {
       |          ^ Conditional Test Logic
  4704 |             equal(foobarObj.get('barBaz').get('bazoo').get('some'), 'thing');
  4705 |             equal(foobarObj.get('barBaz').get('bazoo').get('otherSome'), undefined);
  4706 |           } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 4718, 'column': 4, 'index': 152400}","  4716 |   it('properly handles nested ors', function (done) {
  4717 |     const objects = [];
> 4718 |     while (objects.length != 4) {
       |    ^ Conditional Test Logic
  4719 |       const obj = new Parse.Object('Object');
  4720 |       obj.set('x', objects.length);
  4721 |       objects.push(obj);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Conditional Test Logic,"{'line': 5247, 'column': 4, 'index': 168914}","  5245 |     equal(result.get('array').length, 5);
  5246 |
> 5247 |     for (let i = 0; i < 100; i += 1) {
       |    ^ Conditional Test Logic
  5248 |       array.push(i);
  5249 |     }
  5250 |     obj.set('array', array);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Duplicate Assert,"{'line': 961, 'column': 8, 'index': 29655}","  959 |       .then(response => {
  960 |         const results = response.data;
> 961 |         expect(results.results[0].objectId).not.toBeUndefined();
      |        ^ Duplicate Assert
  962 |         expect(results.results[0].objectId).toBe(obj3.id);
  963 |         expect(results.results.length).toBe(1);
  964 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Duplicate Assert,"{'line': 962, 'column': 8, 'index': 29720}","  960 |         const results = response.data;
  961 |         expect(results.results[0].objectId).not.toBeUndefined();
> 962 |         expect(results.results[0].objectId).toBe(obj3.id);
      |        ^ Duplicate Assert
  963 |         expect(results.results.length).toBe(1);
  964 |         done();
  965 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Duplicate Assert,"{'line': 1642, 'column': 8, 'index': 50612}","  1640 |       .then(() => new Parse.Query('Test').addDescending('sortField.value').first())
  1641 |       .then(result => {
> 1642 |         expect(result.get('sortField').value).toBe('Z');
       |        ^ Duplicate Assert
  1643 |         return new Parse.Query('Test').addAscending('sortField.value').first();
  1644 |       })
  1645 |       .then(result => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Duplicate Assert,"{'line': 1646, 'column': 8, 'index': 50782}","  1644 |       })
  1645 |       .then(result => {
> 1646 |         expect(result.get('sortField').value).toBe('A');
       |        ^ Duplicate Assert
  1647 |         done();
  1648 |       })
  1649 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Duplicate Assert,"{'line': 1663, 'column': 8, 'index': 51357}","  1661 |       .then(() => new Parse.Query('Test').addDescending('sortField.value.field').first())
  1662 |       .then(result => {
> 1663 |         expect(result.get('sortField').value.field).toBe('Z');
       |        ^ Duplicate Assert
  1664 |         return new Parse.Query('Test').addAscending('sortField.value.field').first();
  1665 |       })
  1666 |       .then(result => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Duplicate Assert,"{'line': 1667, 'column': 8, 'index': 51539}","  1665 |       })
  1666 |       .then(result => {
> 1667 |         expect(result.get('sortField').value.field).toBe('A');
       |        ^ Duplicate Assert
  1668 |         done();
  1669 |       })
  1670 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Exception Handling,"{'line': 4866, 'column': 4, 'index': 157604}","  4864 |     const q = new Parse.Query('MyCustomObject');
  4865 |     q.greaterThan('ttl', { $relativeTime: '-12 bananas ago' });
> 4866 |     try {
       |    ^ Exception Handling
  4867 |       await q.find({ useMasterKey: true });
  4868 |       fail('Should have thrown error');
  4869 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Exception Handling,"{'line': 4883, 'column': 4, 'index': 158217}","  4881 |     const q = new Parse.Query('MyCustomObject');
  4882 |     q.greaterThan('nonDateField', { $relativeTime: '1 day ago' });
> 4883 |     try {
       |    ^ Exception Handling
  4884 |       await q.find({ useMasterKey: true });
  4885 |       fail('Should have thrown error');
  4886 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 326, 'column': 31, 'index': 10374}","  324 |     const query = new Parse.Query(TestObject);
  325 |     const result = await query.find();
> 326 |     expect(result.length).toBe(1);
      |                               ^ Magic Number
  327 |   });
  328 |
  329 |   it('query with limit', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 336, 'column': 31, 'index': 10705}","  334 |     query.limit(1);
  335 |     const result = await query.find();
> 336 |     expect(result.length).toBe(1);
      |                               ^ Magic Number
  337 |   });
  338 |
  339 |   it('query with limit overrides default limit', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 347, 'column': 31, 'index': 11110}","  345 |     query.limit(1);
  346 |     const result = await query.find();
> 347 |     expect(result.length).toBe(1);
      |                               ^ Magic Number
  348 |   });
  349 |
  350 |   it('query with limit equal to maxlimit', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 358, 'column': 31, 'index': 11505}","  356 |     query.limit(1);
  357 |     const result = await query.find();
> 358 |     expect(result.length).toBe(1);
      |                               ^ Magic Number
  359 |   });
  360 |
  361 |   it('query with limit exceeding maxlimit', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 369, 'column': 31, 'index': 11901}","  367 |     query.limit(2);
  368 |     const result = await query.find();
> 369 |     expect(result.length).toBe(1);
      |                               ^ Magic Number
  370 |   });
  371 |
  372 |   it('containedIn object array queries', function (done) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 963, 'column': 44, 'index': 29815}","  961 |         expect(results.results[0].objectId).not.toBeUndefined();
  962 |         expect(results.results[0].objectId).toBe(obj3.id);
> 963 |         expect(results.results.length).toBe(1);
      |                                            ^ Magic Number
  964 |         done();
  965 |       });
  966 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 983, 'column': 44, 'index': 30499}","  981 |       .then(response => {
  982 |         const results = response.data;
> 983 |         expect(results.results.length).toBe(0);
      |                                            ^ Magic Number
  984 |         done();
  985 |       });
  986 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 1745, 'column': 32, 'index': 54487}","  1743 |     await Parse.Object.saveAll([3, 1, 3, 2].map(makeBoxedNumber));
  1744 |     const results = await new Parse.Query(BoxedNumber).ascending('foo').find();
> 1745 |     expect(results.length).toBe(4);
       |                                ^ Magic Number
  1746 |   });
  1747 |
  1748 |   it('order by descending number then ascending string', function (done) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2482, 'column': 38, 'index': 77598}","  2480 |       .then(
  2481 |         results => {
> 2482 |           expect(results.length).toBe(1);
       |                                      ^ Magic Number
  2483 |           const res = results[0];
  2484 |           const objects = res.get('objects');
  2485 |           expect(objects.length).toBe(5);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2485, 'column': 38, 'index': 77720}","  2483 |           const res = results[0];
  2484 |           const objects = res.get('objects');
> 2485 |           expect(objects.length).toBe(5);
       |                                      ^ Magic Number
  2486 |           objects.forEach(object => {
  2487 |             total -= object.get('key');
  2488 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2489, 'column': 29, 'index': 77845}","  2487 |             total -= object.get('key');
  2488 |           });
> 2489 |           expect(total).toBe(0);
       |                             ^ Magic Number
  2490 |           done();
  2491 |         },
  2492 |         () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2527, 'column': 38, 'index': 78868}","  2525 |       .then(
  2526 |         results => {
> 2527 |           expect(results.length).toBe(1);
       |                                      ^ Magic Number
  2528 |           const res = results[0];
  2529 |           const objects = res.get('objects');
  2530 |           expect(objects.length).toBe(10);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2530, 'column': 38, 'index': 78990}","  2528 |           const res = results[0];
  2529 |           const objects = res.get('objects');
> 2530 |           expect(objects.length).toBe(10);
       |                                      ^ Magic Number
  2531 |           objects.forEach(object => {
  2532 |             total -= object.get('key');
  2533 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2534, 'column': 29, 'index': 79116}","  2532 |             total -= object.get('key');
  2533 |           });
> 2534 |           expect(total).toBe(0);
       |                             ^ Magic Number
  2535 |           done();
  2536 |         },
  2537 |         e => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2578, 'column': 38, 'index': 80329}","  2576 |       .then(
  2577 |         results => {
> 2578 |           expect(results.length).toBe(1);
       |                                      ^ Magic Number
  2579 |           const res = results[0];
  2580 |           const objects = res.get('objects');
  2581 |           expect(objects.length).toBe(5);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2581, 'column': 38, 'index': 80451}","  2579 |           const res = results[0];
  2580 |           const objects = res.get('objects');
> 2581 |           expect(objects.length).toBe(5);
       |                                      ^ Magic Number
  2582 |           objects.forEach(object => {
  2583 |             total -= object.get('key');
  2584 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2585, 'column': 29, 'index': 80576}","  2583 |             total -= object.get('key');
  2584 |           });
> 2585 |           expect(total).toBe(0);
       |                             ^ Magic Number
  2586 |           done();
  2587 |         },
  2588 |         err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2618, 'column': 38, 'index': 81510}","  2616 |       .then(
  2617 |         results => {
> 2618 |           expect(results.length).toBe(1);
       |                                      ^ Magic Number
  2619 |           const figure = results[0];
  2620 |           expect(figure.get('consistsOf').length).toBe(1);
  2621 |           expect(figure.get('consistsOf')[0].get('color').get('hex')).toBe('#133733');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2620, 'column': 55, 'index': 81606}","  2618 |           expect(results.length).toBe(1);
  2619 |           const figure = results[0];
> 2620 |           expect(figure.get('consistsOf').length).toBe(1);
       |                                                       ^ Magic Number
  2621 |           expect(figure.get('consistsOf')[0].get('color').get('hex')).toBe('#133733');
  2622 |           done();
  2623 |         },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2748, 'column': 41, 'index': 85942}","  2746 |       .then(
  2747 |         results => {
> 2748 |           expect(results.length).toEqual(2);
       |                                         ^ Magic Number
  2749 |           done();
  2750 |         },
  2751 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 2908, 'column': 37, 'index': 91202}","  2906 |           .find()
  2907 |           .then(r => {
> 2908 |             expect(r.length).toEqual(0);
       |                                     ^ Magic Number
  2909 |             done();
  2910 |           }, done.fail);
  2911 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3194, 'column': 11, 'index': 99365}","  3192 |     const COUNT = 25;
  3193 |
> 3194 |     expect(0);
       |           ^ Magic Number
  3195 |
  3196 |     const items = range(TOTAL).map(function (x) {
  3197 |       const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3358, 'column': 47, 'index': 105750}","  3356 |     });
  3357 |     expect(response3.data.results[0].foo).toBe('baz');
> 3358 |     expect(response3.data.results[0].bar).toBe(1);
       |                                               ^ Magic Number
  3359 |     expect(response3.data.results[0].hello).toBe('world');
  3360 |
  3361 |     const response4 = await request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3388, 'column': 47, 'index': 107030}","  3386 |     ok(response5.data.results[0].updatedAt, 'expected object updatedAt to be set');
  3387 |     expect(response5.data.results[0].foo).toBe('baz');
> 3388 |     expect(response5.data.results[0].bar).toBe(1);
       |                                               ^ Magic Number
  3389 |     expect(response5.data.results[0].hello).toBe('world');
  3390 |   });
  3391 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3438, 'column': 47, 'index': 109125}","  3436 |     ok(response3.data.results[0].updatedAt, 'expected object updatedAt to be set');
  3437 |     expect(response3.data.results[0].foo).toBe('baz');
> 3438 |     expect(response3.data.results[0].bar).toBe(1);
       |                                               ^ Magic Number
  3439 |     expect(response3.data.results[0].hello).toBe('world');
  3440 |   });
  3441 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3872, 'column': 41, 'index': 125152}","  3870 |       .then(
  3871 |         results => {
> 3872 |           expect(results.length).toEqual(1);
       |                                         ^ Magic Number
  3873 |           done();
  3874 |         },
  3875 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3902, 'column': 35, 'index': 125947}","  3900 |       .then(
  3901 |         objs => {
> 3902 |           expect(objs.length).toBe(1);
       |                                   ^ Magic Number
  3903 |           expect(objs[0].get('child').get('hello')).toEqual('world');
  3904 |           expect(objs[0].createdAt instanceof Date).toBe(true);
  3905 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3931, 'column': 41, 'index': 126711}","  3929 |       .then(
  3930 |         results => {
> 3931 |           expect(results.length).toEqual(1);
       |                                         ^ Magic Number
  3932 |           done();
  3933 |         },
  3934 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3962, 'column': 41, 'index': 127441}","  3960 |       .then(
  3961 |         results => {
> 3962 |           expect(results.length).toEqual(1);
       |                                         ^ Magic Number
  3963 |           done();
  3964 |         },
  3965 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 3990, 'column': 41, 'index': 128146}","  3988 |       .then(
  3989 |         results => {
> 3990 |           expect(results.length).toEqual(0);
       |                                         ^ Magic Number
  3991 |           done();
  3992 |         },
  3993 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4088, 'column': 37, 'index': 131064}","  4086 |           .find()
  4087 |           .then(r => {
> 4088 |             expect(r.length).toEqual(1);
       |                                     ^ Magic Number
  4089 |             if (r.length > 0) {
  4090 |               expect(r[0].id).toEqual(p.id);
  4091 |             }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4158, 'column': 43, 'index': 133289}","  4156 |           .find()
  4157 |           .then(results => {
> 4158 |             expect(results.length).toEqual(1);
       |                                           ^ Magic Number
  4159 |             if (results.length == 1) {
  4160 |               expect(results[0].objectId).toEqual(q1.objectId);
  4161 |             }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4183, 'column': 39, 'index': 134042}","  4181 |       })
  4182 |       .then(results => {
> 4183 |         expect(results.length).toEqual(1);
       |                                       ^ Magic Number
  4184 |         done();
  4185 |       });
  4186 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4210, 'column': 36, 'index': 134769}","  4208 |       })
  4209 |       .then(results => {
> 4210 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  4211 |       })
  4212 |       .then(done)
  4213 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4243, 'column': 36, 'index': 135692}","  4241 |       })
  4242 |       .then(results => {
> 4243 |         expect(results.length).toBe(5);
       |                                    ^ Magic Number
  4244 |       })
  4245 |       .then(done)
  4246 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4735, 'column': 36, 'index': 152982}","  4733 |       })
  4734 |       .then(results => {
> 4735 |         expect(results.length).toBe(3);
       |                                    ^ Magic Number
  4736 |         done();
  4737 |       })
  4738 |       .catch(error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4778, 'column': 46, 'index': 154327}","  4776 |         response => {
  4777 |           const results = response.data;
> 4778 |           expect(results.results.length).toBe(1);
       |                                              ^ Magic Number
  4779 |           done();
  4780 |         },
  4781 |         res => done.fail(res.data)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4824, 'column': 33, 'index': 155918}","  4822 |     q1.greaterThan('ttl', { $relativeTime: 'in 1 day' });
  4823 |     const results1 = await q1.find({ useMasterKey: true });
> 4824 |     expect(results1.length).toBe(1);
       |                                 ^ Magic Number
  4825 |
  4826 |     const q2 = new Parse.Query('MyCustomObject');
  4827 |     q2.greaterThan('ttl', { $relativeTime: '1 day ago' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4829, 'column': 33, 'index': 156125}","  4827 |     q2.greaterThan('ttl', { $relativeTime: '1 day ago' });
  4828 |     const results2 = await q2.find({ useMasterKey: true });
> 4829 |     expect(results2.length).toBe(1);
       |                                 ^ Magic Number
  4830 |
  4831 |     const q3 = new Parse.Query('MyCustomObject');
  4832 |     q3.lessThan('ttl', { $relativeTime: '5 days ago' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4834, 'column': 33, 'index': 156330}","  4832 |     q3.lessThan('ttl', { $relativeTime: '5 days ago' });
  4833 |     const results3 = await q3.find({ useMasterKey: true });
> 4834 |     expect(results3.length).toBe(0);
       |                                 ^ Magic Number
  4835 |
  4836 |     const q4 = new Parse.Query('MyCustomObject');
  4837 |     q4.greaterThan('ttl', { $relativeTime: '3 days ago' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4839, 'column': 33, 'index': 156538}","  4837 |     q4.greaterThan('ttl', { $relativeTime: '3 days ago' });
  4838 |     const results4 = await q4.find({ useMasterKey: true });
> 4839 |     expect(results4.length).toBe(2);
       |                                 ^ Magic Number
  4840 |
  4841 |     const q5 = new Parse.Query('MyCustomObject');
  4842 |     q5.greaterThan('ttl', { $relativeTime: 'now' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4844, 'column': 33, 'index': 156739}","  4842 |     q5.greaterThan('ttl', { $relativeTime: 'now' });
  4843 |     const results5 = await q5.find({ useMasterKey: true });
> 4844 |     expect(results5.length).toBe(1);
       |                                 ^ Magic Number
  4845 |
  4846 |     const q6 = new Parse.Query('MyCustomObject');
  4847 |     q6.greaterThan('ttl', { $relativeTime: 'now' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4850, 'column': 33, 'index': 156995}","  4848 |     q6.lessThan('ttl', { $relativeTime: 'in 1 day' });
  4849 |     const results6 = await q6.find({ useMasterKey: true });
> 4850 |     expect(results6.length).toBe(0);
       |                                 ^ Magic Number
  4851 |
  4852 |     const q7 = new Parse.Query('MyCustomObject');
  4853 |     q7.greaterThan('ttl', { $relativeTime: '1 year 3 weeks ago' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 4855, 'column': 33, 'index': 157211}","  4853 |     q7.greaterThan('ttl', { $relativeTime: '1 year 3 weeks ago' });
  4854 |     const results7 = await q7.find({ useMasterKey: true });
> 4855 |     expect(results7.length).toBe(2);
       |                                 ^ Magic Number
  4856 |   });
  4857 |
  4858 |   it('should error on invalid relative time', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 5234, 'column': 32, 'index': 168514}","  5232 |     const results = await query.find();
  5233 |
> 5234 |     expect(results.length).toBe(1);
       |                                ^ Magic Number
  5235 |     expect(results[0].get('field')).toBe('autoo');
  5236 |   });
  5237 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 5340, 'column': 36, 'index': 171560}","  5338 |         .find();
  5339 |
> 5340 |       expect(query1.length).toEqual(1);
       |                                    ^ Magic Number
  5341 |     });
  5342 |
  5343 |     it('queries nested key using containedIn', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 5362, 'column': 36, 'index': 172095}","  5360 |         .find();
  5361 |
> 5362 |       expect(query1.length).toEqual(1);
       |                                    ^ Magic Number
  5363 |     });
  5364 |
  5365 |     it('queries nested key using matchesQuery', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Magic Number,"{'line': 5384, 'column': 36, 'index': 172673}","  5382 |         .find();
  5383 |
> 5384 |       expect(query1.length).toEqual(1);
       |                                    ^ Magic Number
  5385 |     });
  5386 |   });
  5387 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Redundant Assertion,"{'column': 4, 'line': 3194}","  3192 |     const COUNT = 25;
  3193 |
> 3194 |     expect(0);
       |    ^ Redundant Assertion
  3195 |
  3196 |     const items = range(TOTAL).map(function (x) {
  3197 |       const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Redundant Print,"{'line': 3876, 'column': 10, 'index': 125214}","  3874 |         },
  3875 |         error => {
> 3876 |           console.log(error);
       |          ^ Redundant Print
  3877 |         }
  3878 |       );
  3879 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Redundant Print,"{'line': 3935, 'column': 10, 'index': 126773}","  3933 |         },
  3934 |         error => {
> 3935 |           console.log(error);
       |          ^ Redundant Print
  3936 |         }
  3937 |       );
  3938 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Redundant Print,"{'line': 3966, 'column': 10, 'index': 127503}","  3964 |         },
  3965 |         error => {
> 3966 |           console.log(error);
       |          ^ Redundant Print
  3967 |         }
  3968 |       );
  3969 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Redundant Print,"{'line': 3994, 'column': 10, 'index': 128208}","  3992 |         },
  3993 |         error => {
> 3994 |           console.log(error);
       |          ^ Redundant Print
  3995 |         }
  3996 |       );
  3997 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 28}","  26 |
  27 | describe('Parse.Query testing', () => {
> 28 |   it('basic query', function (done) {
     |  ^ Unknown Test
  29 |     const baz = new TestObject({ foo: 'baz' });
  30 |     const qux = new TestObject({ foo: 'qux' });
  31 |     Parse.Object.saveAll([baz, qux]).then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 90}","  88 |   });
  89 |
> 90 |   it('searching for null', function (done) {
     |  ^ Unknown Test
  91 |     const baz = new TestObject({ foo: null });
  92 |     const qux = new TestObject({ foo: 'qux' });
  93 |     const qux2 = new TestObject({});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 110}","  108 |   });
  109 |
> 110 |   it('searching for not null', function (done) {
      |  ^ Unknown Test
  111 |     const baz = new TestObject({ foo: null });
  112 |     const qux = new TestObject({ foo: 'qux' });
  113 |     const qux2 = new TestObject({});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 295}","  293 |   });
  294 |
> 295 |   it('query notContainedIn on empty array', async () => {
      |  ^ Unknown Test
  296 |     const object = new TestObject();
  297 |     object.set('value', 100);
  298 |     await object.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 307}","  305 |   });
  306 |
> 307 |   it('query containedIn on empty array', async () => {
      |  ^ Unknown Test
  308 |     const object = new TestObject();
  309 |     object.set('value', 100);
  310 |     await object.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 372}","  370 |   });
  371 |
> 372 |   it('containedIn object array queries', function (done) {
      |  ^ Unknown Test
  373 |     const messageList = [];
  374 |     for (let i = 0; i < 4; ++i) {
  375 |       const message = new TestObject({});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 410}","  408 |   });
  409 |
> 410 |   it('containedIn null array', done => {
      |  ^ Unknown Test
  411 |     const emails = ['contact@xyz.com', 'contact@zyx.com', null];
  412 |     const user = new Parse.User();
  413 |     user.setUsername(emails[0]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 428}","  426 |   });
  427 |
> 428 |   it('nested equalTo string with single quote', async () => {
      |  ^ Unknown Test
  429 |     const obj = new TestObject({ nested: { foo: ""single'quote"" } });
  430 |     await obj.save();
  431 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 437}","  435 |   });
  436 |
> 437 |   it('nested containedIn string with single quote', async () => {
      |  ^ Unknown Test
  438 |     const obj = new TestObject({ nested: { foo: [""single'quote""] } });
  439 |     await obj.save();
  440 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 446}","  444 |   });
  445 |
> 446 |   it('nested containedIn string', done => {
      |  ^ Unknown Test
  447 |     const sender1 = { group: ['A', 'B'] };
  448 |     const sender2 = { group: ['A', 'C'] };
  449 |     const sender3 = { group: ['B', 'C'] };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 465}","  463 |   });
  464 |
> 465 |   it('nested containedIn number', done => {
      |  ^ Unknown Test
  466 |     const sender1 = { group: [1, 2] };
  467 |     const sender2 = { group: [1, 3] };
  468 |     const sender3 = { group: [2, 3] };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 484}","  482 |   });
  483 |
> 484 |   it('containsAll number array queries', function (done) {
      |  ^ Unknown Test
  485 |     const NumberSet = Parse.Object.extend({ className: 'NumberSet' });
  486 |
  487 |     const objectsList = [];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 512}","  510 |   });
  511 |
> 512 |   it('containsAll string array queries', function (done) {
      |  ^ Unknown Test
  513 |     const StringSet = Parse.Object.extend({ className: 'StringSet' });
  514 |
  515 |     const objectsList = [];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 534}","  532 |   });
  533 |
> 534 |   it('containsAll date array queries', function (done) {
      |  ^ Unknown Test
  535 |     const DateSet = Parse.Object.extend({ className: 'DateSet' });
  536 |
  537 |     function parseDate(iso8601) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 630}","  628 |   });
  629 |
> 630 |   it('containsAllStartingWith should match all strings that starts with string', done => {
      |  ^ Unknown Test
  631 |     const object = new Parse.Object('Object');
  632 |     object.set('strings', ['the', 'brown', 'lazy', 'fox', 'jumps']);
  633 |     const object2 = new Parse.Object('Object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 745}","  743 |   });
  744 |
> 745 |   it('containsAllStartingWith empty array values should return empty results', done => {
      |  ^ Unknown Test
  746 |     const object = new Parse.Object('Object');
  747 |     object.set('strings', ['the', 'brown', 'lazy', 'fox', 'jumps']);
  748 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 780}","  778 |   });
  779 |
> 780 |   it('containsAllStartingWith single empty value returns empty results', done => {
      |  ^ Unknown Test
  781 |     const object = new Parse.Object('Object');
  782 |     object.set('strings', ['the', 'brown', 'lazy', 'fox', 'jumps']);
  783 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 815}","  813 |   });
  814 |
> 815 |   it('containsAllStartingWith single regex value should return corresponding matching results', done => {
      |  ^ Unknown Test
  816 |     const object = new Parse.Object('Object');
  817 |     object.set('strings', ['the', 'brown', 'lazy', 'fox', 'jumps']);
  818 |     const object2 = new Parse.Object('Object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 855}","  853 |   });
  854 |
> 855 |   it('containsAllStartingWith single invalid regex returns empty results', done => {
      |  ^ Unknown Test
  856 |     const object = new Parse.Object('Object');
  857 |     object.set('strings', ['the', 'brown', 'lazy', 'fox', 'jumps']);
  858 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 988}","  986 |   });
  987 |
> 988 |   it('containedBy invalid query', done => {
      |  ^ Unknown Test
  989 |     const options = Object.assign({}, masterKeyOptions, {
  990 |       qs: {
  991 |         where: JSON.stringify({ objects: { $containedBy: 1234 } }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1008}","  1006 |   });
  1007 |
> 1008 |   it('equalTo queries', function (done) {
       |  ^ Unknown Test
  1009 |     const makeBoxedNumber = function (i) {
  1010 |       return new BoxedNumber({ number: i });
  1011 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1022}","  1020 |   });
  1021 |
> 1022 |   it('equalTo undefined', function (done) {
       |  ^ Unknown Test
  1023 |     const makeBoxedNumber = function (i) {
  1024 |       return new BoxedNumber({ number: i });
  1025 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1036}","  1034 |   });
  1035 |
> 1036 |   it('lessThan queries', function (done) {
       |  ^ Unknown Test
  1037 |     const makeBoxedNumber = function (i) {
  1038 |       return new BoxedNumber({ number: i });
  1039 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1050}","  1048 |   });
  1049 |
> 1050 |   it('lessThanOrEqualTo queries', function (done) {
       |  ^ Unknown Test
  1051 |     const makeBoxedNumber = function (i) {
  1052 |       return new BoxedNumber({ number: i });
  1053 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1064}","  1062 |   });
  1063 |
> 1064 |   it('lessThan zero queries', done => {
       |  ^ Unknown Test
  1065 |     const makeBoxedNumber = i => {
  1066 |       return new BoxedNumber({ number: i });
  1067 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1082}","  1080 |   });
  1081 |
> 1082 |   it('lessThanOrEqualTo zero queries', done => {
       |  ^ Unknown Test
  1083 |     const makeBoxedNumber = i => {
  1084 |       return new BoxedNumber({ number: i });
  1085 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1100}","  1098 |   });
  1099 |
> 1100 |   it('greaterThan queries', function (done) {
       |  ^ Unknown Test
  1101 |     const makeBoxedNumber = function (i) {
  1102 |       return new BoxedNumber({ number: i });
  1103 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1114}","  1112 |   });
  1113 |
> 1114 |   it('greaterThanOrEqualTo queries', function (done) {
       |  ^ Unknown Test
  1115 |     const makeBoxedNumber = function (i) {
  1116 |       return new BoxedNumber({ number: i });
  1117 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1128}","  1126 |   });
  1127 |
> 1128 |   it('greaterThan zero queries', done => {
       |  ^ Unknown Test
  1129 |     const makeBoxedNumber = i => {
  1130 |       return new BoxedNumber({ number: i });
  1131 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1146}","  1144 |   });
  1145 |
> 1146 |   it('greaterThanOrEqualTo zero queries', done => {
       |  ^ Unknown Test
  1147 |     const makeBoxedNumber = i => {
  1148 |       return new BoxedNumber({ number: i });
  1149 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1164}","  1162 |   });
  1163 |
> 1164 |   it('lessThanOrEqualTo greaterThanOrEqualTo queries', function (done) {
       |  ^ Unknown Test
  1165 |     const makeBoxedNumber = function (i) {
  1166 |       return new BoxedNumber({ number: i });
  1167 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1179}","  1177 |   });
  1178 |
> 1179 |   it('lessThan greaterThan queries', function (done) {
       |  ^ Unknown Test
  1180 |     const makeBoxedNumber = function (i) {
  1181 |       return new BoxedNumber({ number: i });
  1182 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1194}","  1192 |   });
  1193 |
> 1194 |   it('notEqualTo queries', function (done) {
       |  ^ Unknown Test
  1195 |     const makeBoxedNumber = function (i) {
  1196 |       return new BoxedNumber({ number: i });
  1197 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1208}","  1206 |   });
  1207 |
> 1208 |   it('notEqualTo zero queries', done => {
       |  ^ Unknown Test
  1209 |     const makeBoxedNumber = i => {
  1210 |       return new BoxedNumber({ number: i });
  1211 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1226}","  1224 |   });
  1225 |
> 1226 |   it('equalTo zero queries', done => {
       |  ^ Unknown Test
  1227 |     const makeBoxedNumber = i => {
  1228 |       return new BoxedNumber({ number: i });
  1229 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1244}","  1242 |   });
  1243 |
> 1244 |   it('number equalTo boolean queries', done => {
       |  ^ Unknown Test
  1245 |     const makeBoxedNumber = i => {
  1246 |       return new BoxedNumber({ number: i });
  1247 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1262}","  1260 |   });
  1261 |
> 1262 |   it('equalTo false queries', done => {
       |  ^ Unknown Test
  1263 |     const obj1 = new TestObject({ field: false });
  1264 |     const obj2 = new TestObject({ field: true });
  1265 |     Parse.Object.saveAll([obj1, obj2])"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1277}","  1275 |   });
  1276 |
> 1277 |   it('where $eq false queries (rest)', done => {
       |  ^ Unknown Test
  1278 |     const options = Object.assign({}, masterKeyOptions, {
  1279 |       qs: {
  1280 |         where: JSON.stringify({ field: { $eq: false } }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1295}","  1293 |   });
  1294 |
> 1295 |   it('where $eq null queries (rest)', done => {
       |  ^ Unknown Test
  1296 |     const options = Object.assign({}, masterKeyOptions, {
  1297 |       qs: {
  1298 |         where: JSON.stringify({ field: { $eq: null } }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1313}","  1311 |   });
  1312 |
> 1313 |   it('containedIn queries', function (done) {
       |  ^ Unknown Test
  1314 |     const makeBoxedNumber = function (i) {
  1315 |       return new BoxedNumber({ number: i });
  1316 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1327}","  1325 |   });
  1326 |
> 1327 |   it('containedIn false queries', done => {
       |  ^ Unknown Test
  1328 |     const makeBoxedNumber = i => {
  1329 |       return new BoxedNumber({ number: i });
  1330 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1347}","  1345 |   });
  1346 |
> 1347 |   it('notContainedIn false queries', done => {
       |  ^ Unknown Test
  1348 |     const makeBoxedNumber = i => {
  1349 |       return new BoxedNumber({ number: i });
  1350 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1367}","  1365 |   });
  1366 |
> 1367 |   it('notContainedIn queries', function (done) {
       |  ^ Unknown Test
  1368 |     const makeBoxedNumber = function (i) {
  1369 |       return new BoxedNumber({ number: i });
  1370 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1381}","  1379 |   });
  1380 |
> 1381 |   it('objectId containedIn queries', function (done) {
       |  ^ Unknown Test
  1382 |     const makeBoxedNumber = function (i) {
  1383 |       return new BoxedNumber({ number: i });
  1384 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1402}","  1400 |   });
  1401 |
> 1402 |   it('objectId equalTo queries', function (done) {
       |  ^ Unknown Test
  1403 |     const makeBoxedNumber = function (i) {
  1404 |       return new BoxedNumber({ number: i });
  1405 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1421}","  1419 |   });
  1420 |
> 1421 |   it('find no elements', function (done) {
       |  ^ Unknown Test
  1422 |     const makeBoxedNumber = function (i) {
  1423 |       return new BoxedNumber({ number: i });
  1424 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1445}","  1443 |   });
  1444 |
> 1445 |   it('get', function (done) {
       |  ^ Unknown Test
  1446 |     Parse.Object.saveAll([new TestObject({ foo: 'bar' })]).then(function (items) {
  1447 |       ok(items[0]);
  1448 |       const objectId = items[0].id;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1461}","  1459 |   });
  1460 |
> 1461 |   it('get undefined', function (done) {
       |  ^ Unknown Test
  1462 |     Parse.Object.saveAll([new TestObject({ foo: 'bar' })]).then(function (items) {
  1463 |       ok(items[0]);
  1464 |       const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1469}","  1467 |   });
  1468 |
> 1469 |   it('get error', function (done) {
       |  ^ Unknown Test
  1470 |     Parse.Object.saveAll([new TestObject({ foo: 'bar' })]).then(function (items) {
  1471 |       ok(items[0]);
  1472 |       const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1486}","  1484 |   });
  1485 |
> 1486 |   it('first', function (done) {
       |  ^ Unknown Test
  1487 |     Parse.Object.saveAll([new TestObject({ foo: 'bar' })]).then(function () {
  1488 |       const query = new Parse.Query(TestObject);
  1489 |       query.equalTo('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1497}","  1495 |   });
  1496 |
> 1497 |   it('first no result', function (done) {
       |  ^ Unknown Test
  1498 |     Parse.Object.saveAll([new TestObject({ foo: 'bar' })]).then(function () {
  1499 |       const query = new Parse.Query(TestObject);
  1500 |       query.equalTo('foo', 'baz');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1508}","  1506 |   });
  1507 |
> 1508 |   it('first with two results', function (done) {
       |  ^ Unknown Test
  1509 |     Parse.Object.saveAll([new TestObject({ foo: 'bar' }), new TestObject({ foo: 'bar' })]).then(
  1510 |       function () {
  1511 |         const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1535}","  1533 |   });
  1534 |
> 1535 |   it('notEqualTo object', function (done) {
       |  ^ Unknown Test
  1536 |     const item1 = new TestObject();
  1537 |     const item2 = new TestObject();
  1538 |     const container1 = new Container({ item: item1 });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1550}","  1548 |   });
  1549 |
> 1550 |   it('skip', function (done) {
       |  ^ Unknown Test
  1551 |     Parse.Object.saveAll([new TestObject(), new TestObject()]).then(function () {
  1552 |       const query = new Parse.Query(TestObject);
  1553 |       query.skip(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1565}","  1563 |   });
  1564 |
> 1565 |   it(""skip doesn't affect count"", function (done) {
       |  ^ Unknown Test
  1566 |     Parse.Object.saveAll([new TestObject(), new TestObject()]).then(function () {
  1567 |       const query = new Parse.Query(TestObject);
  1568 |       query.count().then(function (count) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1583}","  1581 |   });
  1582 |
> 1583 |   it('count', function (done) {
       |  ^ Unknown Test
  1584 |     const makeBoxedNumber = function (i) {
  1585 |       return new BoxedNumber({ number: i });
  1586 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1597}","  1595 |   });
  1596 |
> 1597 |   it('order by ascending number', function (done) {
       |  ^ Unknown Test
  1598 |     const makeBoxedNumber = function (i) {
  1599 |       return new BoxedNumber({ number: i });
  1600 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1614}","  1612 |   });
  1613 |
> 1614 |   it('order by descending number', function (done) {
       |  ^ Unknown Test
  1615 |     const makeBoxedNumber = function (i) {
  1616 |       return new BoxedNumber({ number: i });
  1617 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1715}","  1713 |   });
  1714 |
> 1715 |   it('order by ascending number then descending string', function (done) {
       |  ^ Unknown Test
  1716 |     const strings = ['a', 'b', 'c', 'd'];
  1717 |     const makeBoxedNumber = function (num, i) {
  1718 |       return new BoxedNumber({ number: num, string: strings[i] });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1748}","  1746 |   });
  1747 |
> 1748 |   it('order by descending number then ascending string', function (done) {
       |  ^ Unknown Test
  1749 |     const strings = ['a', 'b', 'c', 'd'];
  1750 |     const makeBoxedNumber = function (num, i) {
  1751 |       return new BoxedNumber({ number: num, string: strings[i] });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1781}","  1779 |   });
  1780 |
> 1781 |   it('order by descending number and string', function (done) {
       |  ^ Unknown Test
  1782 |     const strings = ['a', 'b', 'c', 'd'];
  1783 |     const makeBoxedNumber = function (num, i) {
  1784 |       return new BoxedNumber({ number: num, string: strings[i] });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1804}","  1802 |   });
  1803 |
> 1804 |   it('order by descending number and string, with space', function (done) {
       |  ^ Unknown Test
  1805 |     const strings = ['a', 'b', 'c', 'd'];
  1806 |     const makeBoxedNumber = function (num, i) {
  1807 |       return new BoxedNumber({ number: num, string: strings[i] });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1833}","  1831 |   });
  1832 |
> 1833 |   it('order by descending number and string, with array arg', function (done) {
       |  ^ Unknown Test
  1834 |     const strings = ['a', 'b', 'c', 'd'];
  1835 |     const makeBoxedNumber = function (num, i) {
  1836 |       return new BoxedNumber({ number: num, string: strings[i] });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1856}","  1854 |   });
  1855 |
> 1856 |   it('order by descending number and string, with multiple args', function (done) {
       |  ^ Unknown Test
  1857 |     const strings = ['a', 'b', 'c', 'd'];
  1858 |     const makeBoxedNumber = function (num, i) {
  1859 |       return new BoxedNumber({ number: num, string: strings[i] });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1894}","  1892 |   });
  1893 |
> 1894 |   it('order by _created_at', function (done) {
       |  ^ Unknown Test
  1895 |     const makeBoxedNumber = function (i) {
  1896 |       return new BoxedNumber({ number: i });
  1897 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1920}","  1918 |   });
  1919 |
> 1920 |   it('order by createdAt', function (done) {
       |  ^ Unknown Test
  1921 |     const makeBoxedNumber = function (i) {
  1922 |       return new BoxedNumber({ number: i });
  1923 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1946}","  1944 |   });
  1945 |
> 1946 |   it('order by _updated_at', function (done) {
       |  ^ Unknown Test
  1947 |     const makeBoxedNumber = function (i) {
  1948 |       return new BoxedNumber({ number: i });
  1949 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 1975}","  1973 |   });
  1974 |
> 1975 |   it('order by updatedAt', function (done) {
       |  ^ Unknown Test
  1976 |     const makeBoxedNumber = function (i) {
  1977 |       return new BoxedNumber({ number: i });
  1978 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2031}","  2029 |   }
  2030 |
> 2031 |   it('time equality', function (done) {
       |  ^ Unknown Test
  2032 |     makeThreeTimeObjects().then(function (list) {
  2033 |       const query = new Parse.Query(TestObject);
  2034 |       query.equalTo('time', list[1].get('time'));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2043}","  2041 |   });
  2042 |
> 2043 |   it('time lessThan', function (done) {
       |  ^ Unknown Test
  2044 |     makeThreeTimeObjects().then(function (list) {
  2045 |       const query = new Parse.Query(TestObject);
  2046 |       query.lessThan('time', list[2].get('time'));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2055}","  2053 |
  2054 |   // This test requires Date objects to be consistently stored as a Date.
> 2055 |   it('time createdAt', function (done) {
       |  ^ Unknown Test
  2056 |     makeThreeTimeObjects().then(function (list) {
  2057 |       const query = new Parse.Query(TestObject);
  2058 |       query.greaterThanOrEqualTo('createdAt', list[0].createdAt);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2066}","  2064 |   });
  2065 |
> 2066 |   it('matches string', function (done) {
       |  ^ Unknown Test
  2067 |     const thing1 = new TestObject();
  2068 |     thing1.set('myString', 'football');
  2069 |     const thing2 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2081}","  2079 |   });
  2080 |
> 2081 |   it('matches regex', function (done) {
       |  ^ Unknown Test
  2082 |     const thing1 = new TestObject();
  2083 |     thing1.set('myString', 'football');
  2084 |     const thing2 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2096}","  2094 |   });
  2095 |
> 2096 |   it('case insensitive regex success', function (done) {
       |  ^ Unknown Test
  2097 |     const thing = new TestObject();
  2098 |     thing.set('myString', 'football');
  2099 |     Parse.Object.saveAll([thing]).then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2151}","  2149 |   });
  2150 |
> 2151 |   it('Regular expression constructor includes modifiers inline', function (done) {
       |  ^ Unknown Test
  2152 |     const thing = new TestObject();
  2153 |     thing.set('myString', '\n\nbuffer\n\nparse.COM');
  2154 |     Parse.Object.saveAll([thing]).then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2168}","  2166 |     ""VWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'"";
  2167 |
> 2168 |   it('contains', function (done) {
       |  ^ Unknown Test
  2169 |     Parse.Object.saveAll([
  2170 |       new TestObject({ myString: 'zax' + someAscii + 'qub' }),
  2171 |       new TestObject({ myString: 'start' + someAscii }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2184}","  2182 |   });
  2183 |
> 2184 |   it('nested contains', done => {
       |  ^ Unknown Test
  2185 |     const sender1 = { group: ['A', 'B'] };
  2186 |     const sender2 = { group: ['A', 'C'] };
  2187 |     const sender3 = { group: ['B', 'C'] };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2203}","  2201 |   });
  2202 |
> 2203 |   it('startsWith', function (done) {
       |  ^ Unknown Test
  2204 |     Parse.Object.saveAll([
  2205 |       new TestObject({ myString: 'zax' + someAscii + 'qub' }),
  2206 |       new TestObject({ myString: 'start' + someAscii }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2219}","  2217 |   });
  2218 |
> 2219 |   it('endsWith', function (done) {
       |  ^ Unknown Test
  2220 |     Parse.Object.saveAll([
  2221 |       new TestObject({ myString: 'zax' + someAscii + 'qub' }),
  2222 |       new TestObject({ myString: 'start' + someAscii }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2235}","  2233 |   });
  2234 |
> 2235 |   it('exists', function (done) {
       |  ^ Unknown Test
  2236 |     const objects = [];
  2237 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
  2238 |       const item = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2259}","  2257 |   });
  2258 |
> 2259 |   it('doesNotExist', function (done) {
       |  ^ Unknown Test
  2260 |     const objects = [];
  2261 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
  2262 |       const item = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2283}","  2281 |   });
  2282 |
> 2283 |   it('exists relation', function (done) {
       |  ^ Unknown Test
  2284 |     const objects = [];
  2285 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7, 8]) {
  2286 |       const container = new Container();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2310}","  2308 |   });
  2309 |
> 2310 |   it('doesNotExist relation', function (done) {
       |  ^ Unknown Test
  2311 |     const objects = [];
  2312 |     for (const i of [0, 1, 2, 3, 4, 5, 6, 7]) {
  2313 |       const container = new Container();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2337}","  2335 |   });
  2336 |
> 2337 |   it(""don't include by default"", function (done) {
       |  ^ Unknown Test
  2338 |     const child = new TestObject();
  2339 |     const parent = new Container();
  2340 |     child.set('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2359}","  2357 |   });
  2358 |
> 2359 |   it('include relation', function (done) {
       |  ^ Unknown Test
  2360 |     const child = new TestObject();
  2361 |     const parent = new Container();
  2362 |     child.set('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2381}","  2379 |   });
  2380 |
> 2381 |   it('include relation array', function (done) {
       |  ^ Unknown Test
  2382 |     const child = new TestObject();
  2383 |     const parent = new Container();
  2384 |     child.set('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2403}","  2401 |   });
  2402 |
> 2403 |   it('nested include', function (done) {
       |  ^ Unknown Test
  2404 |     const Child = Parse.Object.extend('Child');
  2405 |     const Parent = Parse.Object.extend('Parent');
  2406 |     const Grandparent = Parse.Object.extend('Grandparent');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2435}","  2433 |   });
  2434 |
> 2435 |   it(""include doesn't make dirty wrong"", function (done) {
       |  ^ Unknown Test
  2436 |     const Parent = Parse.Object.extend('ParentObject');
  2437 |     const Child = Parse.Object.extend('ChildObject');
  2438 |     const parent = new Parent();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2631}","  2629 |   });
  2630 |
> 2631 |   it('result object creation uses current extension', function (done) {
       |  ^ Unknown Test
  2632 |     const ParentObject = Parse.Object.extend({ className: 'ParentObject' });
  2633 |     // Add a foo() method to ChildObject.
  2634 |     let ChildObject = Parse.Object.extend('ChildObject', {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2664}","  2662 |   });
  2663 |
> 2664 |   it('matches query', function (done) {
       |  ^ Unknown Test
  2665 |     const ParentObject = Parse.Object.extend('ParentObject');
  2666 |     const ChildObject = Parse.Object.extend('ChildObject');
  2667 |     const objects = [];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2700}","  2698 |   });
  2699 |
> 2700 |   it('select query', function (done) {
       |  ^ Unknown Test
  2701 |     const RestaurantObject = Parse.Object.extend('Restaurant');
  2702 |     const PersonObject = Parse.Object.extend('Person');
  2703 |     const objects = ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2787}","  2785 |   });
  2786 |
> 2787 |   it('$nor invalid query - empty array', done => {
       |  ^ Unknown Test
  2788 |     const options = Object.assign({}, masterKeyOptions, {
  2789 |       qs: {
  2790 |         where: JSON.stringify({ $nor: [] }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2806}","  2804 |   });
  2805 |
> 2806 |   it('$nor invalid query - wrong type', done => {
       |  ^ Unknown Test
  2807 |     const options = Object.assign({}, masterKeyOptions, {
  2808 |       qs: {
  2809 |         where: JSON.stringify({ $nor: 1337 }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2825}","  2823 |   });
  2824 |
> 2825 |   it('dontSelect query', function (done) {
       |  ^ Unknown Test
  2826 |     const RestaurantObject = Parse.Object.extend('Restaurant');
  2827 |     const PersonObject = Parse.Object.extend('Person');
  2828 |     const objects = ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2849}","  2847 |   });
  2848 |
> 2849 |   it('dontSelect query without conditions', function (done) {
       |  ^ Unknown Test
  2850 |     const RestaurantObject = Parse.Object.extend('Restaurant');
  2851 |     const PersonObject = Parse.Object.extend('Person');
  2852 |     const objects = ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2914}","  2912 |   });
  2913 |
> 2914 |   it('multiple dontSelect query', function (done) {
       |  ^ Unknown Test
  2915 |     const RestaurantObject = Parse.Object.extend('Restaurant');
  2916 |     const PersonObject = Parse.Object.extend('Person');
  2917 |     const objects = ["
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2945}","  2943 |   });
  2944 |
> 2945 |   it('include user', function (done) {
       |  ^ Unknown Test
  2946 |     Parse.User.signUp('bob', 'password', { age: 21 }).then(function (user) {
  2947 |       const TestObject = Parse.Object.extend('TestObject');
  2948 |       const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2966}","  2964 |   });
  2965 |
> 2966 |   it('or queries', function (done) {
       |  ^ Unknown Test
  2967 |     const objects = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(function (x) {
  2968 |       const object = new Parse.Object('BoxedNumber');
  2969 |       object.set('x', x);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 2989}","  2987 |
  2988 |   // This relies on matchesQuery aka the $inQuery operator
> 2989 |   it('or complex queries', function (done) {
       |  ^ Unknown Test
  2990 |     const objects = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(function (x) {
  2991 |       const child = new Parse.Object('Child');
  2992 |       child.set('x', x);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 3014}","  3012 |   });
  3013 |
> 3014 |   it('async methods', function (done) {
       |  ^ Unknown Test
  3015 |     const saves = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(function (x) {
  3016 |       const obj = new Parse.Object('TestObject');
  3017 |       obj.set('x', x + 1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 3051}","  3049 |   });
  3050 |
> 3051 |   it('query.each', function (done) {
       |  ^ Unknown Test
  3052 |     const TOTAL = 50;
  3053 |     const COUNT = 25;
  3054 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 3126}","  3124 |   });
  3125 |
> 3126 |   it('query.each fails with order', function (done) {
       |  ^ Unknown Test
  3127 |     const TOTAL = 50;
  3128 |     const COUNT = 25;
  3129 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 3158}","  3156 |   });
  3157 |
> 3158 |   it('query.each fails with skip', function (done) {
       |  ^ Unknown Test
  3159 |     const TOTAL = 50;
  3160 |     const COUNT = 25;
  3161 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 3224}","  3222 |   });
  3223 |
> 3224 |   it('select keys query JS SDK', async () => {
       |  ^ Unknown Test
  3225 |     const obj = new TestObject({ foo: 'baz', bar: 1, qux: 2 });
  3226 |     await obj.save();
  3227 |     obj._clearServerData();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 3442}","  3440 |   });
  3441 |
> 3442 |   it('exclude keys query JS SDK', async () => {
       |  ^ Unknown Test
  3443 |     const obj = new TestObject({ foo: 'baz', bar: 1, qux: 2 });
  3444 |
  3445 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 3773}","  3771 |   });
  3772 |
> 3773 |   it('select keys with each query', function (done) {
       |  ^ Unknown Test
  3774 |     const obj = new TestObject({ foo: 'baz', bar: 1 });
  3775 |
  3776 |     obj.save().then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4000}","  3998 |
  3999 |   // #371
> 4000 |   it('should properly interpret a query v1', done => {
       |  ^ Unknown Test
  4001 |     const query = new Parse.Query('C1');
  4002 |     const auxQuery = new Parse.Query('C1');
  4003 |     query.matchesKeyInQuery('A1', 'A2', auxQuery);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4249}","  4247 |   });
  4248 |
> 4249 |   it('include for specific object', function (done) {
       |  ^ Unknown Test
  4250 |     const child = new Parse.Object('Child');
  4251 |     const parent = new Parse.Object('Parent');
  4252 |     child.set('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4267}","  4265 |   });
  4266 |
> 4267 |   it('select keys for specific object', function (done) {
       |  ^ Unknown Test
  4268 |     const Foobar = new Parse.Object('Foobar');
  4269 |     Foobar.set('foo', 'bar');
  4270 |     Foobar.set('fizz', 'buzz');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4282}","  4280 |   });
  4281 |
> 4282 |   it('select nested keys (issue #1567)', function (done) {
       |  ^ Unknown Test
  4283 |     const Foobar = new Parse.Object('Foobar');
  4284 |     const BarBaz = new Parse.Object('Barbaz');
  4285 |     BarBaz.set('key', 'value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4311}","  4309 |   });
  4310 |
> 4311 |   it('select nested keys 2 level (issue #1567)', function (done) {
       |  ^ Unknown Test
  4312 |     const Foobar = new Parse.Object('Foobar');
  4313 |     const BarBaz = new Parse.Object('Barbaz');
  4314 |     const Bazoo = new Parse.Object('Bazoo');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4350}","  4348 |   });
  4349 |
> 4350 |   it('exclude nested keys', async () => {
       |  ^ Unknown Test
  4351 |     const Foobar = new Parse.Object('Foobar');
  4352 |     const BarBaz = new Parse.Object('Barbaz');
  4353 |     BarBaz.set('key', 'value');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4375}","  4373 |   });
  4374 |
> 4375 |   it('exclude nested keys 2 level', async () => {
       |  ^ Unknown Test
  4376 |     const Foobar = new Parse.Object('Foobar');
  4377 |     const BarBaz = new Parse.Object('Barbaz');
  4378 |     const Bazoo = new Parse.Object('Bazoo');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4409}","  4407 |   });
  4408 |
> 4409 |   it('include with *', async () => {
       |  ^ Unknown Test
  4410 |     const child1 = new TestObject({ foo: 'bar', name: 'ac' });
  4411 |     const child2 = new TestObject({ foo: 'baz', name: 'flo' });
  4412 |     const child3 = new TestObject({ foo: 'bad', name: 'mo' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4433}","  4431 |   });
  4432 |
> 4433 |   it('include with [""*""]', async () => {
       |  ^ Unknown Test
  4434 |     const child1 = new TestObject({ foo: 'bar', name: 'ac' });
  4435 |     const child2 = new TestObject({ foo: 'baz', name: 'flo' });
  4436 |     const child3 = new TestObject({ foo: 'bad', name: 'mo' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4457}","  4455 |   });
  4456 |
> 4457 |   it('include with * overrides', async () => {
       |  ^ Unknown Test
  4458 |     const child1 = new TestObject({ foo: 'bar', name: 'ac' });
  4459 |     const child2 = new TestObject({ foo: 'baz', name: 'flo' });
  4460 |     const child3 = new TestObject({ foo: 'bad', name: 'mo' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4481}","  4479 |   });
  4480 |
> 4481 |   it('include with [""*""] overrides', async () => {
       |  ^ Unknown Test
  4482 |     const child1 = new TestObject({ foo: 'bar', name: 'ac' });
  4483 |     const child2 = new TestObject({ foo: 'baz', name: 'flo' });
  4484 |     const child3 = new TestObject({ foo: 'bad', name: 'mo' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4505}","  4503 |   });
  4504 |
> 4505 |   it('includeAll', done => {
       |  ^ Unknown Test
  4506 |     const child1 = new TestObject({ foo: 'bar', name: 'ac' });
  4507 |     const child2 = new TestObject({ foo: 'baz', name: 'flo' });
  4508 |     const child3 = new TestObject({ foo: 'bad', name: 'mo' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4532}","  4530 |   });
  4531 |
> 4532 |   it('include pointer and pointer array', function (done) {
       |  ^ Unknown Test
  4533 |     const child = new TestObject();
  4534 |     const child2 = new TestObject();
  4535 |     child.set('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4560}","  4558 |   });
  4559 |
> 4560 |   it('include pointer and pointer array (keys switched)', function (done) {
       |  ^ Unknown Test
  4561 |     const child = new TestObject();
  4562 |     const child2 = new TestObject();
  4563 |     child.set('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4588}","  4586 |   });
  4587 |
> 4588 |   it('includeAll pointer and pointer array', function (done) {
       |  ^ Unknown Test
  4589 |     const child = new TestObject();
  4590 |     const child2 = new TestObject();
  4591 |     child.set('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4616}","  4614 |   });
  4615 |
> 4616 |   it('select nested keys 2 level includeAll', done => {
       |  ^ Unknown Test
  4617 |     const Foobar = new Parse.Object('Foobar');
  4618 |     const BarBaz = new Parse.Object('Barbaz');
  4619 |     const Bazoo = new Parse.Object('Bazoo');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4672}","  4670 |   });
  4671 |
> 4672 |   it('select nested keys 2 level without include (issue #3185)', function (done) {
       |  ^ Unknown Test
  4673 |     const Foobar = new Parse.Object('Foobar');
  4674 |     const BarBaz = new Parse.Object('Barbaz');
  4675 |     const Bazoo = new Parse.Object('Bazoo');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4785}","  4783 |   });
  4784 |
> 4785 |   it('should not interfere with has when using select on field with undefined value #3999', done => {
       |  ^ Unknown Test
  4786 |     const obj1 = new Parse.Object('TestObject');
  4787 |     const obj2 = new Parse.Object('OtherObject');
  4788 |     obj2.set('otherField', 1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4891}","  4889 |   });
  4890 |
> 4891 |   it('should match complex structure with dot notation when using matchesKeyInQuery', function (done) {
       |  ^ Unknown Test
  4892 |     const group1 = new Parse.Object('Group', {
  4893 |       name: 'Group #1',
  4894 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4931}","  4929 |   });
  4930 |
> 4931 |   it('should match complex structure with dot notation when using doesNotMatchKeyInQuery', function (done) {
       |  ^ Unknown Test
  4932 |     const group1 = new Parse.Object('Group', {
  4933 |       name: 'Group #1',
  4934 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4971}","  4969 |   });
  4970 |
> 4971 |   it('should not throw error with undefined dot notation when using matchesKeyInQuery', async () => {
       |  ^ Unknown Test
  4972 |     const group = new Parse.Object('Group', { name: 'Group #1' });
  4973 |     await group.save();
  4974 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 4999}","  4997 |   });
  4998 |
> 4999 |   it('should not throw error with undefined dot notation when using doesNotMatchKeyInQuery', async () => {
       |  ^ Unknown Test
  5000 |     const group1 = new Parse.Object('Group', { name: 'Group #1' });
  5001 |     const group2 = new Parse.Object('Group', { name: 'Group #2' });
  5002 |     await Parse.Object.saveAll([group1, group2]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 5101}","  5099 |   });
  5100 |
> 5101 |   it('withJSON with geoWithin.centerSphere fails with invalid coordinate', done => {
       |  ^ Unknown Test
  5102 |     const q = new Parse.Query(TestObject);
  5103 |     const jsonQ = q.toJSON();
  5104 |     jsonQ.where.location = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 5115}","  5113 |   });
  5114 |
> 5115 |   it('withJSON with geoWithin.centerSphere fails with invalid geo point', done => {
       |  ^ Unknown Test
  5116 |     const q = new Parse.Query(TestObject);
  5117 |     const jsonQ = q.toJSON();
  5118 |     jsonQ.where.location = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 5161}","  5159 |   });
  5160 |
> 5161 |   it('can set object type key', async () => {
       |  ^ Unknown Test
  5162 |     const data = { bar: true, baz: 100 };
  5163 |     const object = new TestObject();
  5164 |     object.set('objectField', data);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 5178}","  5176 |   });
  5177 |
> 5178 |   it('can update numeric array', async () => {
       |  ^ Unknown Test
  5179 |     const data1 = [0, 1.1, 1, -2, 3];
  5180 |     const data2 = [0, 1.1, 1, -2, 3, 4];
  5181 |     const obj1 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 5201}","  5199 |   });
  5200 |
> 5201 |   it('can update mixed array', async () => {
       |  ^ Unknown Test
  5202 |     const data1 = [0, 1.1, 'hello world', { foo: 'bar' }];
  5203 |     const data2 = [0, 1, { foo: 'bar' }, [], [1, 2, 'bar']];
  5204 |     const obj1 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.spec.js,Unknown Test,"{'column': 2, 'line': 5238}","  5236 |   });
  5237 |
> 5238 |   it('can update mixed array more than 100 elements', async () => {
       |  ^ Unknown Test
  5239 |     const array = [0, 1.1, 'hello world', { foo: 'bar' }, null];
  5240 |     const obj = new TestObject({ array });
  5241 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Duplicate Assert,"{'line': 141, 'column': 4, 'index': 5117}","  139 |     await databaseAdapter.dropAllIndexes('TestObject');
  140 |     let indexes = await databaseAdapter.getIndexes('TestObject');
> 141 |     expect(indexes.length).toEqual(1);
      |    ^ Duplicate Assert
  142 |     await databaseAdapter.createIndex('TestObject', {
  143 |       subject: 'text',
  144 |       comment: 'text',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Duplicate Assert,"{'line': 158, 'column': 4, 'index': 5725}","  156 |
  157 |     indexes = await databaseAdapter.getIndexes('TestObject');
> 158 |     expect(indexes.length).toEqual(2);
      |    ^ Duplicate Assert
  159 |
  160 |     const schemas = await new Parse.Schema('TestObject').get();
  161 |     expect(schemas.indexes._id_).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Duplicate Assert,"{'line': 177, 'column': 8, 'index': 6478}","  175 |       })
  176 |       .then(indexes => {
> 177 |         expect(indexes.length).toEqual(1);
      |        ^ Duplicate Assert
  178 |         return request({
  179 |           method: 'PUT',
  180 |           url: 'http://localhost:8378/1/schemas/TestObject',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Duplicate Assert,"{'line': 198, 'column': 8, 'index': 7110}","  196 |       })
  197 |       .then(indexes => {
> 198 |         expect(indexes.length).toEqual(2);
      |        ^ Duplicate Assert
  199 |         const where = {
  200 |           subject: {
  201 |             $text: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Duplicate Assert,"{'line': 198, 'column': 8, 'index': 7110}","  196 |       })
  197 |       .then(indexes => {
> 198 |         expect(indexes.length).toEqual(2);
      |        ^ Duplicate Assert
  199 |         const where = {
  200 |           subject: {
  201 |             $text: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Duplicate Assert,"{'line': 224, 'column': 8, 'index': 7847}","  222 |       })
  223 |       .then(indexes => {
> 224 |         expect(indexes.length).toEqual(2);
      |        ^ Duplicate Assert
  225 |         request({
  226 |           url: 'http://localhost:8378/1/schemas/TestObject',
  227 |           headers: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Duplicate Assert,"{'line': 224, 'column': 8, 'index': 7847}","  222 |       })
  223 |       .then(indexes => {
> 224 |         expect(indexes.length).toEqual(2);
      |        ^ Duplicate Assert
  225 |         request({
  226 |           url: 'http://localhost:8378/1/schemas/TestObject',
  227 |           headers: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 141, 'column': 35, 'index': 5148}","  139 |     await databaseAdapter.dropAllIndexes('TestObject');
  140 |     let indexes = await databaseAdapter.getIndexes('TestObject');
> 141 |     expect(indexes.length).toEqual(1);
      |                                   ^ Magic Number
  142 |     await databaseAdapter.createIndex('TestObject', {
  143 |       subject: 'text',
  144 |       comment: 'text',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 152, 'column': 32, 'index': 5543}","  150 |     query.ascending('$score');
  151 |     const results = await query.find();
> 152 |     expect(results.length).toBe(3);
      |                                ^ Magic Number
  153 |     expect(results[0].get('score'));
  154 |     expect(results[1].get('score'));
  155 |     expect(results[2].get('score'));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 158, 'column': 35, 'index': 5756}","  156 |
  157 |     indexes = await databaseAdapter.getIndexes('TestObject');
> 158 |     expect(indexes.length).toEqual(2);
      |                                   ^ Magic Number
  159 |
  160 |     const schemas = await new Parse.Schema('TestObject').get();
  161 |     expect(schemas.indexes._id_).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 162, 'column': 45, 'index': 5918}","  160 |     const schemas = await new Parse.Schema('TestObject').get();
  161 |     expect(schemas.indexes._id_).toBeDefined();
> 162 |     expect(schemas.indexes._id_._id).toEqual(1);
      |                                             ^ Magic Number
  163 |     expect(schemas.indexes.subject_text_comment_text).toBeDefined();
  164 |     expect(schemas.indexes.subject_text_comment_text.subject).toEqual('text');
  165 |     expect(schemas.indexes.subject_text_comment_text.comment).toEqual('text');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 177, 'column': 39, 'index': 6509}","  175 |       })
  176 |       .then(indexes => {
> 177 |         expect(indexes.length).toEqual(1);
      |                                       ^ Magic Number
  178 |         return request({
  179 |           method: 'PUT',
  180 |           url: 'http://localhost:8378/1/schemas/TestObject',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 198, 'column': 39, 'index': 7141}","  196 |       })
  197 |       .then(indexes => {
> 198 |         expect(indexes.length).toEqual(2);
      |                                       ^ Magic Number
  199 |         const where = {
  200 |           subject: {
  201 |             $text: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 220, 'column': 49, 'index': 7744}","  218 |       })
  219 |       .then(resp => {
> 220 |         expect(resp.data.results.length).toEqual(3);
      |                                                 ^ Magic Number
  221 |         return databaseAdapter.getIndexes('TestObject');
  222 |       })
  223 |       .then(indexes => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 224, 'column': 39, 'index': 7878}","  222 |       })
  223 |       .then(indexes => {
> 224 |         expect(indexes.length).toEqual(2);
      |                                       ^ Magic Number
  225 |         request({
  226 |           url: 'http://localhost:8378/1/schemas/TestObject',
  227 |           headers: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 235, 'column': 48, 'index': 8298}","  233 |           const body = response.data;
  234 |           expect(body.indexes._id_).toBeDefined();
> 235 |           expect(body.indexes._id_._id).toEqual(1);
      |                                                ^ Magic Number
  236 |           expect(body.indexes.text_test).toBeDefined();
  237 |           expect(body.indexes.text_test.subject).toEqual('text');
  238 |           expect(body.indexes.text_test.comment).toEqual('text');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 250, 'column': 29, 'index': 8840}","  248 |     query.fullText('subject', 'CAF', { diacriticSensitive: false });
  249 |     const resp = await query.find();
> 250 |     expect(resp.length).toBe(2);
      |                             ^ Magic Number
  251 |   });
  252 |
  253 |   it('fullTextSearch: $caseSensitive', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.FullTextSearch.spec.js,Magic Number,"{'line': 258, 'column': 32, 'index': 9119}","  256 |     query.fullText('subject', 'Coffee', { caseSensitive: true });
  257 |     const results = await query.find();
> 258 |     expect(results.length).toBe(1);
      |                                ^ Magic Number
  259 |   });
  260 | });
  261 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Conditional Test Logic,"{'line': 66, 'column': 4, 'index': 1988}","  64 |     const maxRetries = 10;
  65 |     const retryDelay = 100;
> 66 |     for (let i = 0; i < maxRetries; i++) {
     |    ^ Conditional Test Logic
  67 |       result = await database.collection('system.profile').findOne(
  68 |         { 'command.explain.comment': comment },
  69 |         { sort: { ts: -1 } }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Conditional Test Logic,"{'line': 71, 'column': 6, 'index': 2187}","  69 |         { sort: { ts: -1 } }
  70 |       );
> 71 |       if (result) {
     |      ^ Conditional Test Logic
  72 |         break;
  73 |       }
  74 |       await new Promise(resolve => setTimeout(resolve, retryDelay));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Conditional Test Logic,"{'line': 93, 'column': 4, 'index': 2884}","  91 |     const maxRetries = 10;
  92 |     const retryDelay = 100;
> 93 |     for (let i = 0; i < maxRetries; i++) {
     |    ^ Conditional Test Logic
  94 |       result = await database.collection('system.profile').findOne(
  95 |         { 'command.comment': comment },
  96 |         { sort: { ts: -1 } }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Conditional Test Logic,"{'line': 98, 'column': 6, 'index': 3075}","   96 |         { sort: { ts: -1 } }
   97 |       );
>  98 |       if (result) {
      |      ^ Conditional Test Logic
   99 |         break;
  100 |       }
  101 |       await new Promise(resolve => setTimeout(resolve, retryDelay));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Conditional Test Logic,"{'line': 126, 'column': 4, 'index': 3928}","  124 |     const maxRetries = 10;
  125 |     const retryDelay = 100;
> 126 |     for (let i = 0; i < maxRetries; i++) {
      |    ^ Conditional Test Logic
  127 |       result = await database.collection('system.profile').findOne(
  128 |         { 'command.comment': comment },
  129 |         { sort: { ts: -1 } }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Conditional Test Logic,"{'line': 131, 'column': 6, 'index': 4119}","  129 |         { sort: { ts: -1 } }
  130 |       );
> 131 |       if (result) {
      |      ^ Conditional Test Logic
  132 |         break;
  133 |       }
  134 |       await new Promise(resolve => setTimeout(resolve, retryDelay));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Conditional Test Logic,"{'line': 156, 'column': 4, 'index': 4864}","  154 |     const maxRetries = 10;
  155 |     const retryDelay = 100;
> 156 |     for (let i = 0; i < maxRetries; i++) {
      |    ^ Conditional Test Logic
  157 |       result = await database.collection('system.profile').findOne(
  158 |         { 'command.explain.comment': comment },
  159 |         { sort: { ts: -1 } }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Conditional Test Logic,"{'line': 161, 'column': 6, 'index': 5063}","  159 |         { sort: { ts: -1 } }
  160 |       );
> 161 |       if (result) {
      |      ^ Conditional Test Logic
  162 |         break;
  163 |       }
  164 |       await new Promise(resolve => setTimeout(resolve, retryDelay));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Magic Number,"{'line': 120, 'column': 32, 'index': 3791}","  118 |     const collection = await config.database.adapter._adaptiveCollection('TestObject');
  119 |     const countResult = await collection.count({ name: 'object' }, { comment: comment });
> 120 |     expect(countResult).toEqual(2);
      |                                ^ Magic Number
  121 |
  122 |     // Wait for profile entry to appear with retry logic
  123 |     let result;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Sleepy Test,"{'line': 74, 'column': 35, 'index': 2259}","  72 |         break;
  73 |       }
> 74 |       await new Promise(resolve => setTimeout(resolve, retryDelay));
     |                                   ^ Sleepy Test
  75 |     }
  76 |
  77 |     expect(result).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Sleepy Test,"{'line': 101, 'column': 35, 'index': 3147}","   99 |         break;
  100 |       }
> 101 |       await new Promise(resolve => setTimeout(resolve, retryDelay));
      |                                   ^ Sleepy Test
  102 |     }
  103 |
  104 |     expect(result).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Sleepy Test,"{'line': 134, 'column': 35, 'index': 4191}","  132 |         break;
  133 |       }
> 134 |       await new Promise(resolve => setTimeout(resolve, retryDelay));
      |                                   ^ Sleepy Test
  135 |     }
  136 |
  137 |     expect(result).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Comment.spec.js,Sleepy Test,"{'line': 164, 'column': 35, 'index': 5135}","  162 |         break;
  163 |       }
> 164 |       await new Promise(resolve => setTimeout(resolve, retryDelay));
      |                                   ^ Sleepy Test
  165 |     }
  166 |
  167 |     expect(result).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Aggregate.spec.js,Conditional Test Logic,"{'line': 343, 'column': 8, 'index': 10107}","  341 |       .then(results => {
  342 |         expect(results.length).toEqual(2);
> 343 |         if (results[0].name === 'item a') {
      |        ^ Conditional Test Logic
  344 |           expect(results[0].total).toEqual(20);
  345 |           expect(results[1].total).toEqual(25);
  346 |         } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Aggregate.spec.js,Conditional Test Logic,"{'line': 395, 'column': 6, 'index': 11762}","  393 |     query.aggregate(pipeline).then(results => {
  394 |       expect(results.length).toEqual(4);
> 395 |       for (let i = 0; i < results.length; i++) {
      |      ^ Conditional Test Logic
  396 |         const item = results[i];
  397 |         expect(Object.prototype.hasOwnProperty.call(item, 'updatedAt')).toEqual(true);
  398 |         expect(Object.prototype.hasOwnProperty.call(item, 'objectId')).toEqual(false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Aggregate.spec.js,Conditional Test Logic,"{'line': 1067, 'column': 10, 'index': 35213}","  1065 |           expect(result.size).toBe(undefined);
  1066 |           expect(result.score).not.toBe(undefined);
> 1067 |           if (result.objectId === 10) {
       |          ^ Conditional Test Logic
  1068 |             expect(result.score).toBe(30);
  1069 |           }
  1070 |           if (result.objectId === 20) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Aggregate.spec.js,Conditional Test Logic,"{'line': 1070, 'column': 10, 'index': 35308}","  1068 |             expect(result.score).toBe(30);
  1069 |           }
> 1070 |           if (result.objectId === 20) {
       |          ^ Conditional Test Logic
  1071 |             expect(result.score).toBe(20);
  1072 |           }
  1073 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Aggregate.spec.js,Magic Number,"{'line': 1087, 'column': 41, 'index': 35786}","  1085 |     get(Parse.serverURL + '/aggregate/UnknownClass', options)
  1086 |       .then(resp => {
> 1087 |         expect(resp.results.length).toBe(0);
       |                                         ^ Magic Number
  1088 |         done();
  1089 |       })
  1090 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseQuery.Aggregate.spec.js,Magic Number,"{'line': 1101, 'column': 41, 'index': 36178}","  1099 |     get(Parse.serverURL + '/aggregate/UnknownClass', options)
  1100 |       .then(resp => {
> 1101 |         expect(resp.results.length).toBe(0);
       |                                         ^ Magic Number
  1102 |         done();
  1103 |       })
  1104 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Conditional Test Logic,"{'line': 211, 'column': 4, 'index': 5342}","  209 |
  210 |   describe('with location', () => {
> 211 |     if (process.env.PARSE_SERVER_TEST_DB !== 'postgres') {
      |    ^ Conditional Test Logic
  212 |       beforeEach(async () => await TestUtils.destroyAllDataPermanently());
  213 |     }
  214 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Conditional Test Logic,"{'line': 430, 'column': 4, 'index': 11733}","  428 |   let config;
  429 |   beforeEach(async () => {
> 430 |     if (process.env.PARSE_SERVER_TEST_DB !== 'postgres') {
      |    ^ Conditional Test Logic
  431 |       await TestUtils.destroyAllDataPermanently();
  432 |     }
  433 |     config = Config.get('test');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Magic Number,"{'line': 262, 'column': 48, 'index': 6907}","  260 |         })
  261 |         .then(resp => {
> 262 |           expect(resp.data.results.length).toBe(2);
      |                                                ^ Magic Number
  263 |           done();
  264 |         }, done.fail);
  265 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Magic Number,"{'line': 314, 'column': 48, 'index': 8452}","  312 |         })
  313 |         .then(resp => {
> 314 |           expect(resp.data.results.length).toBe(2);
      |                                                ^ Magic Number
  315 |           done();
  316 |         }, done.fail);
  317 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Magic Number,"{'line': 355, 'column': 48, 'index': 9776}","  353 |         })
  354 |         .then(resp => {
> 355 |           expect(resp.data.results.length).toBe(1);
      |                                                ^ Magic Number
  356 |           done();
  357 |         }, done.fail);
  358 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Magic Number,"{'line': 527, 'column': 36, 'index': 14492}","  525 |       })
  526 |       .then(results => {
> 527 |         expect(results.length).toBe(1);
      |                                    ^ Magic Number
  528 |         expect(results[0].polygon.coordinates).toEqual(output);
  529 |         done();
  530 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 11}","   9 |
  10 | describe('Parse.Polygon testing', () => {
> 11 |   it('polygon save open path', done => {
     |  ^ Unknown Test
  12 |     const coords = [
  13 |       [0, 0],
  14 |       [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 41}","  39 |   });
  40 |
> 41 |   it('polygon save closed path', done => {
     |  ^ Unknown Test
  42 |     const coords = [
  43 |       [0, 0],
  44 |       [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 106}","  104 |   });
  105 |
> 106 |   it('polygon update', done => {
      |  ^ Unknown Test
  107 |     const oldCoords = [
  108 |       [0, 0],
  109 |       [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 142}","  140 |   });
  141 |
> 142 |   it('polygon invalid value', done => {
      |  ^ Unknown Test
  143 |     const coords = [
  144 |       ['foo', 'bar'],
  145 |       [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 161}","  159 |   });
  160 |
> 161 |   it('polygon three points minimum', done => {
      |  ^ Unknown Test
  162 |     const coords = [[0, 0]];
  163 |     const obj = new TestObject();
  164 |     // use raw so we test the server validates properly"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 169}","  167 |   });
  168 |
> 169 |   it('polygon three different points minimum', done => {
      |  ^ Unknown Test
  170 |     const coords = [
  171 |       [0, 0],
  172 |       [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 180}","  178 |   });
  179 |
> 180 |   it('polygon counterclockwise', done => {
      |  ^ Unknown Test
  181 |     const coords = [
  182 |       [1, 1],
  183 |       [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 4, 'line': 360}","  358 |     });
  359 |
> 360 |     it('polygonContain invalid input', done => {
      |    ^ Unknown Test
  361 |       const points = [
  362 |         [0, 0],
  363 |         [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 4, 'line': 392}","  390 |     });
  391 |
> 392 |     it('polygonContain invalid geoPoint', done => {
      |    ^ Unknown Test
  393 |       const points = [
  394 |         [0, 0],
  395 |         [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 436}","  434 |     config.schemaCache.clear();
  435 |   });
> 436 |   it('support 2d and 2dsphere', done => {
      |  ^ Unknown Test
  437 |     const coords = [
  438 |       [0, 0],
  439 |       [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParsePolygon.spec.js,Unknown Test,"{'column': 2, 'line': 533}","  531 |   });
  532 |
> 533 |   it('polygon loop is not valid', done => {
      |  ^ Unknown Test
  534 |     const coords = [
  535 |       [0, 0],
  536 |       [0, 1],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 320, 'column': 6, 'index': 9243}","  318 |     });
  319 |     const next = function (index) {
> 320 |       if (index < tests.length) {
      |      ^ Conditional Test Logic
  321 |         tests[index].save().then(fail, error => {
  322 |           expect(error.code).toEqual(Parse.Error.INCORRECT_TYPE);
  323 |           next(index + 1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 554, 'column': 10, 'index': 16876}","  552 |           const expected = [1, 2, 4];
  553 |           expect(stuff.length).toBe(expected.length);
> 554 |           for (const i of stuff) {
      |          ^ Conditional Test Logic
  555 |             expect(expected.indexOf(i) >= 0).toBe(true);
  556 |           }
  557 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 608, 'column': 4, 'index': 18857}","  606 |   it_id('44097c6f-d0ca-4dc5-aa8a-3dd2d9ac645a')(it)('can query array nested fields', async () => {
  607 |     const objects = [];
> 608 |     for (let i = 0; i < 10; i++) {
      |    ^ Conditional Test Logic
  609 |       const obj = new TestObject();
  610 |       obj.set('items', [i, { value: i }]);
  611 |       objects.push(obj);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 657, 'column': 10, 'index': 20479}","  655 |           expect(stuff.length).toEqual(target.length);
  656 |           let found = 0;
> 657 |           for (const thing in target) {
      |          ^ Conditional Test Logic
  658 |             for (const st in stuff) {
  659 |               if (st == thing) {
  660 |                 found++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 658, 'column': 12, 'index': 20521}","  656 |           let found = 0;
  657 |           for (const thing in target) {
> 658 |             for (const st in stuff) {
      |            ^ Conditional Test Logic
  659 |               if (st == thing) {
  660 |                 found++;
  661 |               }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 659, 'column': 14, 'index': 20561}","  657 |           for (const thing in target) {
  658 |             for (const st in stuff) {
> 659 |               if (st == thing) {
      |              ^ Conditional Test Logic
  660 |                 found++;
  661 |               }
  662 |             }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1059, 'column': 6, 'index': 32128}","  1057 |
  1058 |     const success = function () {
> 1059 |       if (firstSave) {
       |      ^ Conditional Test Logic
  1060 |         firstSave = false;
  1061 |         return;
  1062 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1211, 'column': 8, 'index': 36444}","  1209 |     const PickyEater = Parse.Object.extend('PickyEater', {
  1210 |       validate: function (attrs) {
> 1211 |         if (attrs.meal === 'tomatoes') {
       |        ^ Conditional Test Logic
  1212 |           return 'Ew. Tomatoes are gross.';
  1213 |         }
  1214 |         return Parse.Object.prototype.validate.apply(this, arguments);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1341, 'column': 4, 'index': 39919}","  1339 |     const container = new Container();
  1340 |     const items = [];
> 1341 |     for (let i = 0; i < numItems; i++) {
       |    ^ Conditional Test Logic
  1342 |       const item = new Item();
  1343 |       item.set('x', i);
  1344 |       items.push(item);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1357, 'column': 8, 'index': 40409}","  1355 |       .then(function (containerAgain) {
  1356 |         const itemsAgain = containerAgain.get('items');
> 1357 |         if (!itemsAgain || !itemsAgain.forEach) {
       |        ^ Conditional Test Logic
  1358 |           fail('no itemsAgain retrieved', itemsAgain);
  1359 |           done();
  1360 |           return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1420, 'column': 4, 'index': 42313}","  1418 |     const container = new Container();
  1419 |     const items = [];
> 1420 |     for (let i = 0; i < numItems; i++) {
       |    ^ Conditional Test Logic
  1421 |       const item = new Item();
  1422 |       item.set('x', i);
  1423 |       items.push(item);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1436, 'column': 8, 'index': 42803}","  1434 |       .then(function (containerAgain) {
  1435 |         const itemsAgain = containerAgain.get('items');
> 1436 |         if (!itemsAgain || !itemsAgain.forEach) {
       |        ^ Conditional Test Logic
  1437 |           fail('no itemsAgain retrieved', itemsAgain);
  1438 |           done();
  1439 |           return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1497, 'column': 4, 'index': 44837}","  1495 |     const numItems = 11;
  1496 |     const items = [];
> 1497 |     for (let i = 0; i < numItems; i++) {
       |    ^ Conditional Test Logic
  1498 |       const item = new Item();
  1499 |       item.set('x', i);
  1500 |       items.push(item);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1564, 'column': 4, 'index': 47071}","  1562 |     const container = new Container();
  1563 |     const items = [];
> 1564 |     for (let i = 0; i < numItems; i++) {
       |    ^ Conditional Test Logic
  1565 |       const item = new Item();
  1566 |       item.set('x', i);
  1567 |       items.push(item);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1580, 'column': 8, 'index': 47561}","  1578 |       .then(function (containerAgain) {
  1579 |         const itemsAgain = containerAgain.get('items');
> 1580 |         if (!itemsAgain || !itemsAgain.forEach) {
       |        ^ Conditional Test Logic
  1581 |           fail('no itemsAgain retrieved', itemsAgain);
  1582 |           done();
  1583 |           return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1606, 'column': 4, 'index': 48352}","  1604 |     const container = new Container();
  1605 |     const items = [];
> 1606 |     for (let i = 0; i < numItems; i++) {
       |    ^ Conditional Test Logic
  1607 |       const item = new Item();
  1608 |       item.set('x', i);
  1609 |       items.push(item);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1622, 'column': 8, 'index': 48842}","  1620 |       .then(function (containerAgain) {
  1621 |         const itemsAgain = containerAgain.get('items');
> 1622 |         if (!itemsAgain || !itemsAgain.forEach) {
       |        ^ Conditional Test Logic
  1623 |           fail('no itemsAgain retrieved', itemsAgain);
  1624 |           done();
  1625 |           return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1836, 'column': 4, 'index': 55030}","  1834 |     const parent = new Parse.Object('Parent');
  1835 |     const dict = {};
> 1836 |     for (let i = 0; i < 5; i++) {
       |    ^ Conditional Test Logic
  1837 |       const proc = iter => {
  1838 |         const child = new Parse.Object('Child');
  1839 |         child.set('name', 'testname' + i);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1852, 'column': 8, 'index': 55452}","  1850 |       .then(parentAgain => {
  1851 |         const dictAgain = parentAgain.get('childDict');
> 1852 |         if (!dictAgain) {
       |        ^ Conditional Test Logic
  1853 |           fail('Should have been a dictionary.');
  1854 |           return done();
  1855 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1918, 'column': 8, 'index': 57325}","  1916 |       .then(res => {
  1917 |         expect(res.length).toBe(1);
> 1918 |         if (res[0]) {
       |        ^ Conditional Test Logic
  1919 |           expect(res[0].get('obj')).toBe(undefined);
  1920 |         }
  1921 |         const query = new Parse.Query('AnObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 1926, 'column': 8, 'index': 57556}","  1924 |       .then(res => {
  1925 |         expect(res.length).toBe(1);
> 1926 |         if (res[0]) {
       |        ^ Conditional Test Logic
  1927 |           expect(res[0].get('obj')).not.toBe(undefined);
  1928 |           return res[0].get('obj').fetch();
  1929 |         } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Conditional Test Logic,"{'line': 2166, 'column': 4, 'index': 64694}","  2164 |       { field: 'bytes', value: { __type: 'Bytes', base64: 'ZnJveW8=' } },
  2165 |     ];
> 2166 |     for (const value of values) {
       |    ^ Conditional Test Logic
  2167 |       const object = new TestObject();
  2168 |       object.set(value.field, value.value);
  2169 |       await object.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1094, 'column': 8, 'index': 33214}","  1092 |       })
  1093 |       .then(fail, error => {
> 1094 |         expect(error.code).toEqual(Parse.Error.INCORRECT_TYPE);
       |        ^ Duplicate Assert
  1095 |
  1096 |         object.set('other', 'foo');
  1097 |         return object.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1094, 'column': 8, 'index': 33214}","  1092 |       })
  1093 |       .then(fail, error => {
> 1094 |         expect(error.code).toEqual(Parse.Error.INCORRECT_TYPE);
       |        ^ Duplicate Assert
  1095 |
  1096 |         object.set('other', 'foo');
  1097 |         return object.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1100, 'column': 8, 'index': 33383}","  1098 |       })
  1099 |       .then(fail, error => {
> 1100 |         expect(error.code).toEqual(Parse.Error.INCORRECT_TYPE);
       |        ^ Duplicate Assert
  1101 |
  1102 |         object.set('other', 'bar');
  1103 |         return object.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1100, 'column': 8, 'index': 33383}","  1098 |       })
  1099 |       .then(fail, error => {
> 1100 |         expect(error.code).toEqual(Parse.Error.INCORRECT_TYPE);
       |        ^ Duplicate Assert
  1101 |
  1102 |         object.set('other', 'bar');
  1103 |         return object.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1106, 'column': 8, 'index': 33552}","  1104 |       })
  1105 |       .then(fail, error => {
> 1106 |         expect(error.code).toEqual(Parse.Error.INCORRECT_TYPE);
       |        ^ Duplicate Assert
  1107 |
  1108 |         done();
  1109 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1106, 'column': 8, 'index': 33552}","  1104 |       })
  1105 |       .then(fail, error => {
> 1106 |         expect(error.code).toEqual(Parse.Error.INCORRECT_TYPE);
       |        ^ Duplicate Assert
  1107 |
  1108 |         done();
  1109 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1917, 'column': 8, 'index': 57289}","  1915 |       })
  1916 |       .then(res => {
> 1917 |         expect(res.length).toBe(1);
       |        ^ Duplicate Assert
  1918 |         if (res[0]) {
  1919 |           expect(res[0].get('obj')).toBe(undefined);
  1920 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1917, 'column': 8, 'index': 57289}","  1915 |       })
  1916 |       .then(res => {
> 1917 |         expect(res.length).toBe(1);
       |        ^ Duplicate Assert
  1918 |         if (res[0]) {
  1919 |           expect(res[0].get('obj')).toBe(undefined);
  1920 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1919, 'column': 10, 'index': 57349}","  1917 |         expect(res.length).toBe(1);
  1918 |         if (res[0]) {
> 1919 |           expect(res[0].get('obj')).toBe(undefined);
       |          ^ Duplicate Assert
  1920 |         }
  1921 |         const query = new Parse.Query('AnObject');
  1922 |         return query.find();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1925, 'column': 8, 'index': 57520}","  1923 |       })
  1924 |       .then(res => {
> 1925 |         expect(res.length).toBe(1);
       |        ^ Duplicate Assert
  1926 |         if (res[0]) {
  1927 |           expect(res[0].get('obj')).not.toBe(undefined);
  1928 |           return res[0].get('obj').fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1925, 'column': 8, 'index': 57520}","  1923 |       })
  1924 |       .then(res => {
> 1925 |         expect(res.length).toBe(1);
       |        ^ Duplicate Assert
  1926 |         if (res[0]) {
  1927 |           expect(res[0].get('obj')).not.toBe(undefined);
  1928 |           return res[0].get('obj').fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 1927, 'column': 10, 'index': 57580}","  1925 |         expect(res.length).toBe(1);
  1926 |         if (res[0]) {
> 1927 |           expect(res[0].get('obj')).not.toBe(undefined);
       |          ^ Duplicate Assert
  1928 |           return res[0].get('obj').fetch();
  1929 |         } else {
  1930 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 2111, 'column': 6, 'index': 62700}","  2109 |   it('isNew in cloud code', async () => {
  2110 |     Parse.Cloud.beforeSave('CloudCodeIsNew', req => {
> 2111 |       expect(req.object.isNew()).toBeTruthy();
       |      ^ Duplicate Assert
  2112 |       expect(req.object.id).toBeUndefined();
  2113 |     });
  2114 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 2112, 'column': 6, 'index': 62747}","  2110 |     Parse.Cloud.beforeSave('CloudCodeIsNew', req => {
  2111 |       expect(req.object.isNew()).toBeTruthy();
> 2112 |       expect(req.object.id).toBeUndefined();
       |      ^ Duplicate Assert
  2113 |     });
  2114 |
  2115 |     Parse.Cloud.afterSave('CloudCodeIsNew', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 2116, 'column': 6, 'index': 62854}","  2114 |
  2115 |     Parse.Cloud.afterSave('CloudCodeIsNew', req => {
> 2116 |       expect(req.object.isNew()).toBeFalsy();
       |      ^ Duplicate Assert
  2117 |       expect(req.object.id).toBeDefined();
  2118 |     });
  2119 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 2117, 'column': 6, 'index': 62900}","  2115 |     Parse.Cloud.afterSave('CloudCodeIsNew', req => {
  2116 |       expect(req.object.isNew()).toBeFalsy();
> 2117 |       expect(req.object.id).toBeDefined();
       |      ^ Duplicate Assert
  2118 |     });
  2119 |
  2120 |     const object = new Parse.Object('CloudCodeIsNew');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 2126, 'column': 6, 'index': 63175}","  2124 |   it('should not change the json field to array in afterSave', async () => {
  2125 |     Parse.Cloud.beforeSave('failingJSONTestCase', req => {
> 2126 |       expect(req.object.get('jsonField')).toEqual({ '123': 'test' });
       |      ^ Duplicate Assert
  2127 |     });
  2128 |
  2129 |     Parse.Cloud.afterSave('failingJSONTestCase', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 2126, 'column': 6, 'index': 63175}","  2124 |   it('should not change the json field to array in afterSave', async () => {
  2125 |     Parse.Cloud.beforeSave('failingJSONTestCase', req => {
> 2126 |       expect(req.object.get('jsonField')).toEqual({ '123': 'test' });
       |      ^ Duplicate Assert
  2127 |     });
  2128 |
  2129 |     Parse.Cloud.afterSave('failingJSONTestCase', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 2130, 'column': 6, 'index': 63312}","  2128 |
  2129 |     Parse.Cloud.afterSave('failingJSONTestCase', req => {
> 2130 |       expect(req.object.get('jsonField')).toEqual({ '123': 'test' });
       |      ^ Duplicate Assert
  2131 |     });
  2132 |
  2133 |     const object = new Parse.Object('failingJSONTestCase');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Duplicate Assert,"{'line': 2130, 'column': 6, 'index': 63312}","  2128 |
  2129 |     Parse.Cloud.afterSave('failingJSONTestCase', req => {
> 2130 |       expect(req.object.get('jsonField')).toEqual({ '123': 'test' });
       |      ^ Duplicate Assert
  2131 |     });
  2132 |
  2133 |     const object = new Parse.Object('failingJSONTestCase');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Exception Handling,"{'line': 266, 'column': 4, 'index': 7536}","  264 |     const obj = new Parse.Object('TestObject');
  265 |     obj.set('when', new Date(Date.parse(null)));
> 266 |     try {
      |    ^ Exception Handling
  267 |       await obj.save();
  268 |     } catch (e) {
  269 |       ok(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Exception Handling,"{'line': 800, 'column': 6, 'index': 24367}","  798 |       const obj = new TestObject();
  799 |       obj.set(field, 'bar');
> 800 |       try {
      |      ^ Exception Handling
  801 |         await obj.save();
  802 |         fail('should not succeed');
  803 |       } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Magic Number,"{'line': 1782, 'column': 37, 'index': 53828}","  1780 |         },
  1781 |         error => {
> 1782 |           expect(error.code).toEqual(111);
       |                                     ^ Magic Number
  1783 |           done();
  1784 |         }
  1785 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Magic Number,"{'line': 1804, 'column': 37, 'index': 54309}","  1802 |         },
  1803 |         error => {
> 1804 |           expect(error.code).toEqual(111);
       |                                     ^ Magic Number
  1805 |           done();
  1806 |         }
  1807 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Magic Number,"{'line': 1827, 'column': 37, 'index': 54836}","  1825 |         },
  1826 |         error => {
> 1827 |           expect(error.code).toEqual(111);
       |                                     ^ Magic Number
  1828 |           done();
  1829 |         }
  1830 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Magic Number,"{'line': 1886, 'column': 39, 'index': 56430}","  1884 |         const foo = res.get('foo');
  1885 |         expect(foo['_bar']).toEqual('_');
> 1886 |         expect(foo['baz_bar']).toEqual(1);
       |                                       ^ Magic Number
  1887 |         expect(foo['__foo_bar']).toBe(true);
  1888 |         expect(foo['_0']).toEqual('underscore_zero');
  1889 |         expect(foo['_more']['_nested']).toEqual('key');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Magic Number,"{'line': 1917, 'column': 32, 'index': 57313}","  1915 |       })
  1916 |       .then(res => {
> 1917 |         expect(res.length).toBe(1);
       |                                ^ Magic Number
  1918 |         if (res[0]) {
  1919 |           expect(res[0].get('obj')).toBe(undefined);
  1920 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Magic Number,"{'line': 1925, 'column': 32, 'index': 57544}","  1923 |       })
  1924 |       .then(res => {
> 1925 |         expect(res.length).toBe(1);
       |                                ^ Magic Number
  1926 |         if (res[0]) {
  1927 |           expect(res[0].get('obj')).not.toBe(undefined);
  1928 |           return res[0].get('obj').fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Magic Number,"{'line': 2036, 'column': 44, 'index': 60665}","  2034 |         expect(other).toBeUndefined();
  2035 |         expect(gameScore).not.toBeUndefined();
> 2036 |         expect(gameScore.get('score')).toBe(1234);
       |                                            ^ Magic Number
  2037 |         done();
  2038 |       })
  2039 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Magic Number,"{'line': 2075, 'column': 44, 'index': 61701}","  2073 |         expect(other).toBeUndefined();
  2074 |         expect(gameScore).not.toBeUndefined();
> 2075 |         expect(gameScore.get('score')).toBe(1234);
       |                                            ^ Magic Number
  2076 |         expect(obj.getACL().getPublicReadAccess()).toBe(true);
  2077 |         expect(obj.getACL().getPublicWriteAccess()).toBe(false);
  2078 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 16}","  14 |
  15 | describe('Parse.Object testing', () => {
> 16 |   it('create', function (done) {
     |  ^ Unknown Test
  17 |     create({ test: 'test' }, function (model) {
  18 |       ok(model.id, 'Should have an objectId set');
  19 |       equal(model.get('test'), 'test', 'Should have the right attribute');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 24}","  22 |   });
  23 |
> 24 |   it('update', function (done) {
     |  ^ Unknown Test
  25 |     create({ test: 'test' }, function (model) {
  26 |       const t2 = new TestObject({ objectId: model.id });
  27 |       t2.set('test', 'changed');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 35}","  33 |   });
  34 |
> 35 |   it('save without null', function (done) {
     |  ^ Unknown Test
  36 |     const object = new TestObject();
  37 |     object.set('favoritePony', 'Rainbow Dash');
  38 |     object.save().then("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 50}","  48 |   });
  49 |
> 50 |   it('save cycle', done => {
     |  ^ Unknown Test
  51 |     const a = new Parse.Object('TestObject');
  52 |     const b = new Parse.Object('TestObject');
  53 |     a.set('b', b);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 76}","  74 |   });
  75 |
> 76 |   it('get', function (done) {
     |  ^ Unknown Test
  77 |     create({ test: 'test' }, function (model) {
  78 |       const t2 = new TestObject({ objectId: model.id });
  79 |       t2.fetch().then(function (model2) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 88}","  86 |   });
  87 |
> 88 |   it('delete', function (done) {
     |  ^ Unknown Test
  89 |     const t = new TestObject();
  90 |     t.set('test', 'test');
  91 |     t.save().then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 99}","   97 |   });
   98 |
>  99 |   it('find', function (done) {
      |  ^ Unknown Test
  100 |     const t = new TestObject();
  101 |     t.set('foo', 'bar');
  102 |     t.save().then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 112}","  110 |   });
  111 |
> 112 |   it('relational fields', function (done) {
      |  ^ Unknown Test
  113 |     const item = new Item();
  114 |     item.set('property', 'x');
  115 |     const container = new Container();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 132}","  130 |   });
  131 |
> 132 |   it('save adds no data keys (other than createdAt and updatedAt)', function (done) {
      |  ^ Unknown Test
  133 |     const object = new TestObject();
  134 |     object.save().then(function () {
  135 |       const keys = Object.keys(object.attributes).sort();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 141}","  139 |   });
  140 |
> 141 |   it('recursive save', function (done) {
      |  ^ Unknown Test
  142 |     const item = new Item();
  143 |     item.set('property', 'x');
  144 |     const container = new Container();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 161}","  159 |   });
  160 |
> 161 |   it('fetch', function (done) {
      |  ^ Unknown Test
  162 |     const item = new Item({ foo: 'bar' });
  163 |     item.save().then(function () {
  164 |       const itemAgain = new Item();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 177}","  175 |   });
  176 |
> 177 |   it(""createdAt doesn't change"", function (done) {
      |  ^ Unknown Test
  178 |     const object = new TestObject({ foo: 'bar' });
  179 |     object.save().then(function () {
  180 |       const objectAgain = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 189}","  187 |   });
  188 |
> 189 |   it('createdAt and updatedAt exposed', function (done) {
      |  ^ Unknown Test
  190 |     const object = new TestObject({ foo: 'bar' });
  191 |     object.save().then(function () {
  192 |       notEqual(object.updatedAt, undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 198}","  196 |   });
  197 |
> 198 |   it('updatedAt gets updated', function (done) {
      |  ^ Unknown Test
  199 |     const object = new TestObject({ foo: 'bar' });
  200 |     object.save().then(function () {
  201 |       ok(object.updatedAt, 'initial save should cause updatedAt to exist');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 211}","  209 |   });
  210 |
> 211 |   it('createdAt is reasonable', function (done) {
      |  ^ Unknown Test
  212 |     const startTime = new Date();
  213 |     const object = new TestObject({ foo: 'bar' });
  214 |     object.save().then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 226}","  224 |   });
  225 |
> 226 |   it('can set null', function (done) {
      |  ^ Unknown Test
  227 |     const obj = new Parse.Object('TestObject');
  228 |     obj.set('foo', null);
  229 |     obj.save().then("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 246}","  244 |   });
  245 |
> 246 |   it('can set boolean', function (done) {
      |  ^ Unknown Test
  247 |     const obj = new Parse.Object('TestObject');
  248 |     obj.set('yes', true);
  249 |     obj.set('no', false);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 263}","  261 |   });
  262 |
> 263 |   it('cannot set invalid date', async function (done) {
      |  ^ Unknown Test
  264 |     const obj = new Parse.Object('TestObject');
  265 |     obj.set('when', new Date(Date.parse(null)));
  266 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 287}","  285 |   });
  286 |
> 287 |   it('invalid class name', function (done) {
      |  ^ Unknown Test
  288 |     const item = new Parse.Object('Foo^bar');
  289 |     item.save().then(
  290 |       function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 338}","  336 |   });
  337 |
> 338 |   it('simple field deletion', function (done) {
      |  ^ Unknown Test
  339 |     const simple = new Parse.Object('SimpleObject');
  340 |     simple
  341 |       .save({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 381}","  379 |   });
  380 |
> 381 |   it('field deletion before first save', function (done) {
      |  ^ Unknown Test
  382 |     const simple = new Parse.Object('SimpleObject');
  383 |     simple.set('foo', 'bar');
  384 |     simple.unset('foo');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 414}","  412 |   });
  413 |
> 414 |   it('relation deletion', function (done) {
      |  ^ Unknown Test
  415 |     const simple = new Parse.Object('SimpleObject');
  416 |     const child = new Parse.Object('Child');
  417 |     simple"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 458}","  456 |   });
  457 |
> 458 |   it('deleted keys get cleared', function (done) {
      |  ^ Unknown Test
  459 |     const simpleObject = new Parse.Object('SimpleObject');
  460 |     simpleObject.set('foo', 'bar');
  461 |     simpleObject.unset('foo');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 474}","  472 |   });
  473 |
> 474 |   it('setting after deleting', function (done) {
      |  ^ Unknown Test
  475 |     const simpleObject = new Parse.Object('SimpleObject');
  476 |     simpleObject.set('foo', 'bar');
  477 |     simpleObject.save().then("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 508}","  506 |   });
  507 |
> 508 |   it('increment', function (done) {
      |  ^ Unknown Test
  509 |     const simple = new Parse.Object('SimpleObject');
  510 |     simple
  511 |       .save({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 701}","  699 |   });
  700 |
> 701 |   it('dirty attributes', function (done) {
      |  ^ Unknown Test
  702 |     const object = new Parse.Object('TestObject');
  703 |     object.set('cat', 'good');
  704 |     object.set('dog', 'bad');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 726}","  724 |   });
  725 |
> 726 |   it('dirty keys', function (done) {
      |  ^ Unknown Test
  727 |     const object = new Parse.Object('TestObject');
  728 |     object.set('gogo', 'good');
  729 |     object.set('sito', 'sexy');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 768}","  766 |   });
  767 |
> 768 |   it('acl attribute', function (done) {
      |  ^ Unknown Test
  769 |     Parse.User.signUp('bob', 'password').then(function (user) {
  770 |       const TestObject = Parse.Object.extend('TestObject');
  771 |       const obj = new TestObject({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 810}","  808 |   });
  809 |
> 810 |   it('old attribute unset then unset', function (done) {
      |  ^ Unknown Test
  811 |     const TestObject = Parse.Object.extend('TestObject');
  812 |     const obj = new TestObject();
  813 |     obj.set('x', 3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 830}","  828 |   });
  829 |
> 830 |   it('new attribute unset then unset', function (done) {
      |  ^ Unknown Test
  831 |     const TestObject = Parse.Object.extend('TestObject');
  832 |     const obj = new TestObject();
  833 |     obj.set('x', 5);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 848}","  846 |   });
  847 |
> 848 |   it('unknown attribute unset then unset', function (done) {
      |  ^ Unknown Test
  849 |     const TestObject = Parse.Object.extend('TestObject');
  850 |     const obj = new TestObject();
  851 |     obj.unset('x');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 865}","  863 |   });
  864 |
> 865 |   it('old attribute unset then clear', function (done) {
      |  ^ Unknown Test
  866 |     const TestObject = Parse.Object.extend('TestObject');
  867 |     const obj = new TestObject();
  868 |     obj.set('x', 3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 885}","  883 |   });
  884 |
> 885 |   it('new attribute unset then clear', function (done) {
      |  ^ Unknown Test
  886 |     const TestObject = Parse.Object.extend('TestObject');
  887 |     const obj = new TestObject();
  888 |     obj.set('x', 5);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 903}","  901 |   });
  902 |
> 903 |   it('unknown attribute unset then clear', function (done) {
      |  ^ Unknown Test
  904 |     const TestObject = Parse.Object.extend('TestObject');
  905 |     const obj = new TestObject();
  906 |     obj.unset('x');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 920}","  918 |   });
  919 |
> 920 |   it('old attribute clear then unset', function (done) {
      |  ^ Unknown Test
  921 |     const TestObject = Parse.Object.extend('TestObject');
  922 |     const obj = new TestObject();
  923 |     obj.set('x', 3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 940}","  938 |   });
  939 |
> 940 |   it('new attribute clear then unset', function (done) {
      |  ^ Unknown Test
  941 |     const TestObject = Parse.Object.extend('TestObject');
  942 |     const obj = new TestObject();
  943 |     obj.set('x', 5);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 958}","  956 |   });
  957 |
> 958 |   it('unknown attribute clear then unset', function (done) {
      |  ^ Unknown Test
  959 |     const TestObject = Parse.Object.extend('TestObject');
  960 |     const obj = new TestObject();
  961 |     obj.clear();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 975}","  973 |   });
  974 |
> 975 |   it('old attribute clear then clear', function (done) {
      |  ^ Unknown Test
  976 |     const TestObject = Parse.Object.extend('TestObject');
  977 |     const obj = new TestObject();
  978 |     obj.set('x', 3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 995}","  993 |   });
  994 |
> 995 |   it('new attribute clear then clear', function (done) {
      |  ^ Unknown Test
  996 |     const TestObject = Parse.Object.extend('TestObject');
  997 |     const obj = new TestObject();
  998 |     obj.set('x', 5);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1013}","  1011 |   });
  1012 |
> 1013 |   it('unknown attribute clear then clear', function (done) {
       |  ^ Unknown Test
  1014 |     const TestObject = Parse.Object.extend('TestObject');
  1015 |     const obj = new TestObject();
  1016 |     obj.clear();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1030}","  1028 |   });
  1029 |
> 1030 |   it('saving children in an array', function (done) {
       |  ^ Unknown Test
  1031 |     const Parent = Parse.Object.extend('Parent');
  1032 |     const Child = Parse.Object.extend('Child');
  1033 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1054}","  1052 |   });
  1053 |
> 1054 |   it('two saves at the same time', function (done) {
       |  ^ Unknown Test
  1055 |     const object = new Parse.Object('TestObject');
  1056 |     let firstSave = true;
  1057 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1112}","  1110 |   });
  1111 |
> 1112 |   it('is not dirty after save', function (done) {
       |  ^ Unknown Test
  1113 |     const obj = new Parse.Object('TestObject');
  1114 |     obj.save().then(function () {
  1115 |       obj.set({ content: 'x' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1123}","  1121 |   });
  1122 |
> 1123 |   it('add with an object', function (done) {
       |  ^ Unknown Test
  1124 |     const child = new Parse.Object('Person');
  1125 |     const parent = new Parse.Object('Person');
  1126 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1153}","  1151 |   });
  1152 |
> 1153 |   it('toJSON saved object', function (done) {
       |  ^ Unknown Test
  1154 |     create({ foo: 'bar' }, function (model) {
  1155 |       const objJSON = model.toJSON();
  1156 |       ok(objJSON.foo, ""expected json to contain key 'foo'"");"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1164}","  1162 |   });
  1163 |
> 1164 |   it('remove object from array', function (done) {
       |  ^ Unknown Test
  1165 |     const obj = new TestObject();
  1166 |     obj.save().then(function () {
  1167 |       const container = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1180}","  1178 |   });
  1179 |
> 1180 |   it('async methods', function (done) {
       |  ^ Unknown Test
  1181 |     const obj = new TestObject();
  1182 |     obj.set('time', 'adventure');
  1183 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1208}","  1206 |   });
  1207 |
> 1208 |   it('fail validation with promise', function (done) {
       |  ^ Unknown Test
  1209 |     const PickyEater = Parse.Object.extend('PickyEater', {
  1210 |       validate: function (attrs) {
  1211 |         if (attrs.meal === 'tomatoes') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1244}","  1242 |   });
  1243 |
> 1244 |   it(""beforeSave doesn't make object dirty with new field"", function (done) {
       |  ^ Unknown Test
  1245 |     const restController = Parse.CoreManager.getRESTController();
  1246 |     const r = restController.request;
  1247 |     restController.request = function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1294}","  1292 |   });
  1293 |
> 1294 |   it('bytes work', function (done) {
       |  ^ Unknown Test
  1295 |     Promise.resolve()
  1296 |       .then(function () {
  1297 |         const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1318}","  1316 |   });
  1317 |
> 1318 |   it('destroyAll no objects', function (done) {
       |  ^ Unknown Test
  1319 |     Parse.Object.destroyAll([])
  1320 |       .then(function (success) {
  1321 |         ok(success, 'Should be able to destroy no objects');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1327}","  1325 |   });
  1326 |
> 1327 |   it('destroyAll new objects only', function (done) {
       |  ^ Unknown Test
  1328 |     const objects = [new TestObject(), new TestObject()];
  1329 |     Parse.Object.destroyAll(objects)
  1330 |       .then(function (success) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1337}","  1335 |   });
  1336 |
> 1337 |   it('fetchAll', function (done) {
       |  ^ Unknown Test
  1338 |     const numItems = 11;
  1339 |     const container = new Container();
  1340 |     const items = [];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1381}","  1379 |   });
  1380 |
> 1381 |   it('fetchAll no objects', function (done) {
       |  ^ Unknown Test
  1382 |     Parse.Object.fetchAll([])
  1383 |       .then(function (success) {
  1384 |         ok(Array.isArray(success), 'Should be able to fetchAll no objects');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1390}","  1388 |   });
  1389 |
> 1390 |   it('fetchAll updates dates', function (done) {
       |  ^ Unknown Test
  1391 |     let updatedObject;
  1392 |     const object = new TestObject();
  1393 |     object.set('x', 7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1560}","  1558 |   });
  1559 |
> 1560 |   it('fetchAllIfNeeded', function (done) {
       |  ^ Unknown Test
  1561 |     const numItems = 11;
  1562 |     const container = new Container();
  1563 |     const items = [];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1650}","  1648 |   });
  1649 |
> 1650 |   it('fetchAllIfNeeded no objects', function (done) {
       |  ^ Unknown Test
  1651 |     Parse.Object.fetchAllIfNeeded([])
  1652 |       .then(function (success) {
  1653 |         ok(Array.isArray(success), 'Should be able to fetchAll no objects');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1688}","  1686 |   });
  1687 |
> 1688 |   it('Objects with className User', function (done) {
       |  ^ Unknown Test
  1689 |     equal(Parse.CoreManager.get('PERFORM_USER_REWRITE'), true);
  1690 |     const User1 = Parse.Object.extend({
  1691 |       className: 'User',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1724}","  1722 |   });
  1723 |
> 1724 |   it('create without data', function (done) {
       |  ^ Unknown Test
  1725 |     const t1 = new TestObject({ test: 'test' });
  1726 |     t1.save()
  1727 |       .then(function (t1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 1749}","  1747 |   });
  1748 |
> 1749 |   it('remove from new field creates array key', done => {
       |  ^ Unknown Test
  1750 |     const obj = new TestObject();
  1751 |     obj.remove('shouldBeArray', 'foo');
  1752 |     obj"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseObject.spec.js,Unknown Test,"{'column': 2, 'line': 2083}","  2081 |   });
  2082 |
> 2083 |   it('Update object field should store exactly same sent object', async done => {
       |  ^ Unknown Test
  2084 |     let object = new TestObject();
  2085 |
  2086 |     // Set initial data"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 69, 'column': 6, 'index': 3099}","  67 |     jasmine.mockLibrary('../lib/LiveQuery/ParsePubSub', 'ParsePubSub', mockParsePubSub);
  68 |     spyOn(auth, 'getAuthForSessionToken').and.callFake(({ sessionToken, cacheController }) => {
> 69 |       if (typeof sessionToken === 'undefined') {
     |      ^ Conditional Test Logic
  70 |         return Promise.reject();
  71 |       }
  72 |       if (sessionToken === null) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 72, 'column': 6, 'index': 3189}","  70 |         return Promise.reject();
  71 |       }
> 72 |       if (sessionToken === null) {
     |      ^ Conditional Test Logic
  73 |         return Promise.reject();
  74 |       }
  75 |       if (sessionToken === 'pleaseThrow') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 75, 'column': 6, 'index': 3265}","  73 |         return Promise.reject();
  74 |       }
> 75 |       if (sessionToken === 'pleaseThrow') {
     |      ^ Conditional Test Logic
  76 |         return Promise.reject();
  77 |       }
  78 |       if (sessionToken === 'invalid') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 78, 'column': 6, 'index': 3350}","  76 |         return Promise.reject();
  77 |       }
> 78 |       if (sessionToken === 'invalid') {
     |      ^ Conditional Test Logic
  79 |         return Promise.reject(
  80 |           new Parse.Error(Parse.Error.INVALID_SESSION_TOKEN, 'invalid session token')
  81 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 160, 'column': 6, 'index': 6403}","  158 |       const request = require('request');
  159 |       let op = request.post;
> 160 |       if (doPut) {
      |      ^ Conditional Test Logic
  161 |         op = request.put;
  162 |       }
  163 |       return new Promise((resolve, reject) => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 177, 'column': 12, 'index': 6907}","  175 |           },
  176 |           (error, response, body) => {
> 177 |             if (error) {
      |            ^ Conditional Test Logic
  178 |               return reject(error);
  179 |             }
  180 |             if (body.error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 180, 'column': 12, 'index': 6982}","  178 |               return reject(error);
  179 |             }
> 180 |             if (body.error) {
      |            ^ Conditional Test Logic
  181 |               return reject(body);
  182 |             }
  183 |             return resolve(body);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 847, 'column': 6, 'index': 30899}","  845 |     let counter = 0;
  846 |     parseLiveQueryServer._matchesSubscription = function (parseObject) {
> 847 |       if (!parseObject) {
      |      ^ Conditional Test Logic
  848 |         return false;
  849 |       }
  850 |       counter += 1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 881, 'column': 6, 'index': 32112}","  879 |     // Mock _matchesSubscription to return matching
  880 |     parseLiveQueryServer._matchesSubscription = function (parseObject) {
> 881 |       if (!parseObject) {
      |      ^ Conditional Test Logic
  882 |         return false;
  883 |       }
  884 |       return true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 917, 'column': 6, 'index': 33424}","  915 |     let counter = 0;
  916 |     parseLiveQueryServer._matchesSubscription = function (parseObject) {
> 917 |       if (!parseObject) {
      |      ^ Conditional Test Logic
  918 |         return false;
  919 |       }
  920 |       counter += 1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 972, 'column': 6, 'index': 35607}","  970 |     let counter = 0;
  971 |     parseLiveQueryServer._matchesSubscription = function (parseObject) {
> 972 |       if (!parseObject) {
      |      ^ Conditional Test Logic
  973 |         return false;
  974 |       }
  975 |       counter += 1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1028, 'column': 6, 'index': 37574}","  1026 |     // Mock _matchesSubscription to return matching
  1027 |     parseLiveQueryServer._matchesSubscription = function (parseObject) {
> 1028 |       if (!parseObject) {
       |      ^ Conditional Test Logic
  1029 |         return false;
  1030 |       }
  1031 |       return true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1063, 'column': 6, 'index': 38725}","  1061 |     // Mock _matchesSubscription to return matching
  1062 |     parseLiveQueryServer._matchesSubscription = function (parseObject) {
> 1063 |       if (!parseObject) {
       |      ^ Conditional Test Logic
  1064 |         return false;
  1065 |       }
  1066 |       return true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1112, 'column': 6, 'index': 40317}","  1110 |     // Mock _matchesSubscription to return matching
  1111 |     parseLiveQueryServer._matchesSubscription = function (parseObject) {
> 1112 |       if (!parseObject) {
       |      ^ Conditional Test Logic
  1113 |         return false;
  1114 |       }
  1115 |       return true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1162, 'column': 6, 'index': 41884}","  1160 |     // Mock _matchesSubscription to return matching
  1161 |     parseLiveQueryServer._matchesSubscription = function (parseObject) {
> 1162 |       if (!parseObject) {
       |      ^ Conditional Test Logic
  1163 |         return false;
  1164 |       }
  1165 |       return true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1506, 'column': 10, 'index': 53597}","  1504 |         },
  1505 |         find() {
> 1506 |           if (!shouldReturn) {
       |          ^ Conditional Test Logic
  1507 |             return Promise.resolve([]);
  1508 |           }
  1509 |           //Return a role with the name ""liveQueryRead"" as that is what was set on the ACL"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1553, 'column': 10, 'index': 55055}","  1551 |         },
  1552 |         find() {
> 1553 |           if (!shouldReturn) {
       |          ^ Conditional Test Logic
  1554 |             return Promise.resolve([]);
  1555 |           }
  1556 |           //Return a role with the name ""liveQueryRead"" as that is what was set on the ACL"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1871, 'column': 4, 'index': 65088}","  1869 |   ) {
  1870 |     // If parseWebSocket is null, we use the default one
> 1871 |     if (!parseWebSocket) {
       |    ^ Conditional Test Logic
  1872 |       const EventEmitter = require('events');
  1873 |       parseWebSocket = new EventEmitter();
  1874 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1877, 'column': 4, 'index': 65298}","  1875 |     parseWebSocket.clientId = clientId;
  1876 |     // If query is null, we use the default one
> 1877 |     if (!query) {
       |    ^ Conditional Test Logic
  1878 |       query = {
  1879 |         className: testClassName,
  1880 |         where: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1902, 'column': 4, 'index': 66006}","  1900 |     subscription.className = query.className;
  1901 |     subscription.hash = customQueryHashValue || queryHashValue;
> 1902 |     if (subscription.clientRequestIds && subscription.clientRequestIds.has(clientId)) {
       |    ^ Conditional Test Logic
  1903 |       subscription.clientRequestIds.get(clientId).push(requestId);
  1904 |     } else {
  1905 |       subscription.clientRequestIds = new Map([[clientId, [requestId]]]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1921, 'column': 4, 'index': 66645}","  1919 |       currentParseObject: parseObject,
  1920 |     };
> 1921 |     if (hasOriginalParseObject) {
       |    ^ Conditional Test Logic
  1922 |       const originalParseObject = new Parse.Object(testClassName);
  1923 |       originalParseObject._finishFetch({
  1924 |         key: 'originalValue',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1938, 'column': 6, 'index': 67214}","  1936 |       const request = require('request');
  1937 |       let op = request.post;
> 1938 |       if (doPut) {
       |      ^ Conditional Test Logic
  1939 |         op = request.put;
  1940 |       }
  1941 |       return new Promise((resolve, reject) => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1955, 'column': 12, 'index': 67718}","  1953 |           },
  1954 |           (error, response, body) => {
> 1955 |             if (error) {
       |            ^ Conditional Test Logic
  1956 |               return reject(error);
  1957 |             }
  1958 |             if (body.error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Conditional Test Logic,"{'line': 1958, 'column': 12, 'index': 67793}","  1956 |               return reject(error);
  1957 |             }
> 1958 |             if (body.error) {
       |            ^ Conditional Test Logic
  1959 |               return reject(body);
  1960 |             }
  1961 |             return resolve(body);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 989, 'column': 4, 'index': 36081}","  987 |
  988 |     expect(client.pushCreate).not.toHaveBeenCalled();
> 989 |     expect(client.pushEnter).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  990 |     expect(client.pushEnter).toHaveBeenCalledWith(
  991 |       requestId3,
  992 |       { key: 'value', className: 'TestObject' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 990, 'column': 4, 'index': 36136}","  988 |     expect(client.pushCreate).not.toHaveBeenCalled();
  989 |     expect(client.pushEnter).toHaveBeenCalledTimes(1);
> 990 |     expect(client.pushEnter).toHaveBeenCalledWith(
      |    ^ Duplicate Assert
  991 |       requestId3,
  992 |       { key: 'value', className: 'TestObject' },
  993 |       { key: 'originalValue', className: 'TestObject' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 997, 'column': 4, 'index': 36425}","   995 |     expect(client.pushUpdate).not.toHaveBeenCalled();
   996 |     expect(client.pushDelete).not.toHaveBeenCalled();
>  997 |     expect(client.pushLeave).toHaveBeenCalledTimes(1);
       |    ^ Duplicate Assert
   998 |     expect(client.pushLeave).toHaveBeenCalledWith(
   999 |       requestId2,
  1000 |       { key: 'value', className: 'TestObject' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 998, 'column': 4, 'index': 36480}","   996 |     expect(client.pushDelete).not.toHaveBeenCalled();
   997 |     expect(client.pushLeave).toHaveBeenCalledTimes(1);
>  998 |     expect(client.pushLeave).toHaveBeenCalledWith(
       |    ^ Duplicate Assert
   999 |       requestId2,
  1000 |       { key: 'value', className: 'TestObject' },
  1001 |       { key: 'originalValue', className: 'TestObject' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 1518, 'column': 6, 'index': 54061}","  1516 |
  1517 |     parseLiveQueryServer._matchesACL(acl, client, requestId).then(function (isMatched) {
> 1518 |       expect(isMatched).toBe(false);
       |      ^ Duplicate Assert
  1519 |       done();
  1520 |     });
  1521 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 1518, 'column': 6, 'index': 54061}","  1516 |
  1517 |     parseLiveQueryServer._matchesACL(acl, client, requestId).then(function (isMatched) {
> 1518 |       expect(isMatched).toBe(false);
       |      ^ Duplicate Assert
  1519 |       done();
  1520 |     });
  1521 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 1523, 'column': 6, 'index': 54210}","  1521 |
  1522 |     parseLiveQueryServer._matchesACL(acl, client, requestId).then(function (isMatched) {
> 1523 |       expect(isMatched).toBe(false);
       |      ^ Duplicate Assert
  1524 |       done();
  1525 |     });
  1526 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 1523, 'column': 6, 'index': 54210}","  1521 |
  1522 |     parseLiveQueryServer._matchesACL(acl, client, requestId).then(function (isMatched) {
> 1523 |       expect(isMatched).toBe(false);
       |      ^ Duplicate Assert
  1524 |       done();
  1525 |     });
  1526 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 1828, 'column': 4, 'index': 63200}","  1826 |     const parseLiveQueryServer = new ParseLiveQueryServer({});
  1827 |     const promise = parseLiveQueryServer.getAuthForSessionToken('pleaseThrow');
> 1828 |     expect(parseLiveQueryServer.authCache.get('pleaseThrow')).toBe(promise);
       |    ^ Duplicate Assert
  1829 |     // after the promise finishes, it should have removed it from the cache
  1830 |     expect(await promise).toEqual({});
  1831 |     expect(parseLiveQueryServer.authCache.get('pleaseThrow')).toBe(undefined);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 1831, 'column': 4, 'index': 63392}","  1829 |     // after the promise finishes, it should have removed it from the cache
  1830 |     expect(await promise).toEqual({});
> 1831 |     expect(parseLiveQueryServer.authCache.get('pleaseThrow')).toBe(undefined);
       |    ^ Duplicate Assert
  1832 |   });
  1833 |
  1834 |   it('should keep a cache of invalid sessions', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 1837, 'column': 4, 'index': 63679}","  1835 |     const parseLiveQueryServer = new ParseLiveQueryServer({});
  1836 |     const promise = parseLiveQueryServer.getAuthForSessionToken('invalid');
> 1837 |     expect(parseLiveQueryServer.authCache.get('invalid')).toBe(promise);
       |    ^ Duplicate Assert
  1838 |     // after the promise finishes, it should have removed it from the cache
  1839 |     await promise;
  1840 |     const finalResult = await parseLiveQueryServer.authCache.get('invalid');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Duplicate Assert,"{'line': 1842, 'column': 4, 'index': 63975}","  1840 |     const finalResult = await parseLiveQueryServer.authCache.get('invalid');
  1841 |     expect(finalResult.error).not.toBeUndefined();
> 1842 |     expect(parseLiveQueryServer.authCache.get('invalid')).not.toBe(undefined);
       |    ^ Duplicate Assert
  1843 |   });
  1844 |
  1845 |   afterEach(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Exception Handling,"{'line': 268, 'column': 6, 'index': 9598}","  266 |   it('basic beforeConnect rejection', async () => {
  267 |     Parse.Cloud.beforeConnect(function () {
> 268 |       throw new Error('You shall not pass!');
      |      ^ Exception Handling
  269 |     });
  270 |     const parseLiveQueryServer = new ParseLiveQueryServer({});
  271 |     const parseWebSocket = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Exception Handling,"{'line': 284, 'column': 6, 'index': 10153}","  282 |   it('basic beforeSubscribe rejection', async () => {
  283 |     Parse.Cloud.beforeSubscribe('test', function () {
> 284 |       throw new Error('You shall not pass!');
      |      ^ Exception Handling
  285 |     });
  286 |     const parseLiveQueryServer = new ParseLiveQueryServer({});
  287 |     const parseWebSocket = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 93, 'column': 51, 'index': 3889}","  91 |
  92 |     expect(parseLiveQueryServer.clientId).toBeUndefined();
> 93 |     expect(parseLiveQueryServer.clients.size).toBe(0);
     |                                                   ^ Magic Number
  94 |     expect(parseLiveQueryServer.subscriptions.size).toBe(0);
  95 |   });
  96 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 94, 'column': 57, 'index': 3950}","  92 |     expect(parseLiveQueryServer.clientId).toBeUndefined();
  93 |     expect(parseLiveQueryServer.clients.size).toBe(0);
> 94 |     expect(parseLiveQueryServer.subscriptions.size).toBe(0);
     |                                                         ^ Magic Number
  95 |   });
  96 |
  97 |   it('can be initialized from ParseServer', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 102, 'column': 51, 'index': 4247}","  100 |
  101 |     expect(parseLiveQueryServer.clientId).toBeUndefined();
> 102 |     expect(parseLiveQueryServer.clients.size).toBe(0);
      |                                                   ^ Magic Number
  103 |     expect(parseLiveQueryServer.subscriptions.size).toBe(0);
  104 |   });
  105 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 103, 'column': 57, 'index': 4308}","  101 |     expect(parseLiveQueryServer.clientId).toBeUndefined();
  102 |     expect(parseLiveQueryServer.clients.size).toBe(0);
> 103 |     expect(parseLiveQueryServer.subscriptions.size).toBe(0);
      |                                                         ^ Magic Number
  104 |   });
  105 |
  106 |   it('can be initialized from ParseServer without httpServer', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 112, 'column': 51, 'index': 4620}","  110 |
  111 |     expect(parseLiveQueryServer.clientId).toBeUndefined();
> 112 |     expect(parseLiveQueryServer.clients.size).toBe(0);
      |                                                   ^ Magic Number
  113 |     expect(parseLiveQueryServer.subscriptions.size).toBe(0);
  114 |     await new Promise(resolve => parseLiveQueryServer.server.close(resolve));
  115 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 113, 'column': 57, 'index': 4681}","  111 |     expect(parseLiveQueryServer.clientId).toBeUndefined();
  112 |     expect(parseLiveQueryServer.clients.size).toBe(0);
> 113 |     expect(parseLiveQueryServer.subscriptions.size).toBe(0);
      |                                                         ^ Magic Number
  114 |     await new Promise(resolve => parseLiveQueryServer.server.close(resolve));
  115 |   });
  116 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 214, 'column': 37, 'index': 7896}","  212 |         expect(saveSpy).toHaveBeenCalled();
  213 |         const saveArgs = saveSpy.calls.mostRecent().args;
> 214 |         expect(saveArgs.length).toBe(4);
      |                                     ^ Magic Number
  215 |         expect(saveArgs[0]).toBe('Yolo');
  216 |         expect(saveArgs[3]).toEqual({
  217 |           get: {},"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 229, 'column': 39, 'index': 8343}","  227 |         expect(deleteSpy).toHaveBeenCalled();
  228 |         const deleteArgs = deleteSpy.calls.mostRecent().args;
> 229 |         expect(deleteArgs.length).toBe(4);
      |                                       ^ Magic Number
  230 |         expect(deleteArgs[0]).toBe('Yolo');
  231 |         expect(deleteArgs[3]).toEqual({
  232 |           get: {},"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 257, 'column': 51, 'index': 9182}","  255 |
  256 |     const clientKeys = parseLiveQueryServer.clients.keys();
> 257 |     expect(parseLiveQueryServer.clients.size).toBe(1);
      |                                                   ^ Magic Number
  258 |     const firstKey = clientKeys.next().value;
  259 |     expect(parseWebSocket.clientId).toBe(firstKey);
  260 |     const client = parseLiveQueryServer.clients.get(firstKey);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 277, 'column': 51, 'index': 9917}","  275 |       sessionToken: 'token',
  276 |     });
> 277 |     expect(parseLiveQueryServer.clients.size).toBe(0);
      |                                                   ^ Magic Number
  278 |     const Client = require('../lib/LiveQuery/Client').Client;
  279 |     expect(Client.pushError).toHaveBeenCalled();
  280 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 307, 'column': 51, 'index': 10804}","  305 |     };
  306 |     await parseLiveQueryServer._handleSubscribe(parseWebSocket, request);
> 307 |     expect(parseLiveQueryServer.clients.size).toBe(1);
      |                                                   ^ Magic Number
  308 |     const Client = require('../lib/LiveQuery/Client').Client;
  309 |     expect(Client.pushError).toHaveBeenCalled();
  310 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 347, 'column': 36, 'index': 12108}","  345 |     // Make sure we add the subscription to the server
  346 |     const subscriptions = parseLiveQueryServer.subscriptions;
> 347 |     expect(subscriptions.size).toBe(1);
      |                                    ^ Magic Number
  348 |     expect(subscriptions.get(query.className)).not.toBeNull();
  349 |     const classSubscriptions = subscriptions.get(query.className);
  350 |     expect(classSubscriptions.size).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 350, 'column': 41, 'index': 12283}","  348 |     expect(subscriptions.get(query.className)).not.toBeNull();
  349 |     const classSubscriptions = subscriptions.get(query.className);
> 350 |     expect(classSubscriptions.size).toBe(1);
      |                                         ^ Magic Number
  351 |     expect(classSubscriptions.get('hash')).not.toBeNull();
  352 |     // TODO(check subscription constructor to verify we pass the right argument)
  353 |     // Make sure we add clientInfo to the subscription"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 407, 'column': 36, 'index': 14281}","  405 |     // Make sure we only have one subscription
  406 |     const subscriptions = parseLiveQueryServer.subscriptions;
> 407 |     expect(subscriptions.size).toBe(1);
      |                                    ^ Magic Number
  408 |     expect(subscriptions.get(query.className)).not.toBeNull();
  409 |     const classSubscriptions = subscriptions.get(query.className);
  410 |     expect(classSubscriptions.size).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 410, 'column': 41, 'index': 14456}","  408 |     expect(subscriptions.get(query.className)).not.toBeNull();
  409 |     const classSubscriptions = subscriptions.get(query.className);
> 410 |     expect(classSubscriptions.size).toBe(1);
      |                                         ^ Magic Number
  411 |     expect(classSubscriptions.get('hash')).not.toBeNull();
  412 |     // Make sure we add clientInfo to the subscription
  413 |     const subscription = classSubscriptions.get('hash');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 491, 'column': 36, 'index': 17579}","  489 |     // Make sure we clear subscription in the server
  490 |     const subscriptions = parseLiveQueryServer.subscriptions;
> 491 |     expect(subscriptions.size).toBe(0);
      |                                    ^ Magic Number
  492 |   });
  493 |
  494 |   it('can set connect command message handler for a parseWebSocket', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 592, 'column': 34, 'index': 21903}","  590 |     expect(parseLiveQueryServer._handleUnsubscribe).toHaveBeenCalled();
  591 |     const unsubArgs = parseLiveQueryServer._handleUnsubscribe.calls.mostRecent().args;
> 592 |     expect(unsubArgs.length).toBe(3);
      |                                  ^ Magic Number
  593 |     expect(unsubArgs[2]).toBe(false);
  594 |     expect(parseLiveQueryServer._handleSubscribe).toHaveBeenCalled();
  595 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 660, 'column': 35, 'index': 24622}","  658 |     expect(spy).toHaveBeenCalled();
  659 |     // call for ws_connect, another for ws_disconnect
> 660 |     expect(spy.calls.count()).toBe(2);
      |                                   ^ Magic Number
  661 |   });
  662 |
  663 |   // TODO: Test server can set disconnect command message handler for a parseWebSocket"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 1822, 'column': 59, 'index': 62975}","  1820 |     expect(promise).toBe(secondPromise);
  1821 |     // the auth should be called only once
> 1822 |     expect(auth.getAuthForSessionToken.calls.count()).toBe(1);
       |                                                           ^ Magic Number
  1823 |   });
  1824 |
  1825 |   it('should delete from cache throwing auth calls', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 1995, 'column': 37, 'index': 68773}","  1993 |         expect(saveSpy).toHaveBeenCalled();
  1994 |         const saveArgs = saveSpy.calls.mostRecent().args;
> 1995 |         expect(saveArgs.length).toBe(4);
       |                                     ^ Magic Number
  1996 |         expect(saveArgs[0]).toBe('Yolo');
  1997 |         expect(saveArgs[3]).toEqual({
  1998 |           get: {},"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 2010, 'column': 39, 'index': 69220}","  2008 |         expect(deleteSpy).toHaveBeenCalled();
  2009 |         const deleteArgs = deleteSpy.calls.mostRecent().args;
> 2010 |         expect(deleteArgs.length).toBe(4);
       |                                       ^ Magic Number
  2011 |         expect(deleteArgs[0]).toBe('Yolo');
  2012 |         expect(deleteArgs[3]).toEqual({
  2013 |           get: {},"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 2035, 'column': 29, 'index': 69992}","  2033 |     expect(spy).toHaveBeenCalled();
  2034 |     const args = spy.calls.mostRecent().args;
> 2035 |     expect(args.length).toBe(1);
       |                             ^ Magic Number
  2036 |     expect(args[0]).toEqual({
  2037 |       object: { o: 1 },
  2038 |       original: { o: 2 },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Magic Number,"{'line': 2051, 'column': 29, 'index': 70554}","  2049 |     expect(spy).toHaveBeenCalled();
  2050 |     const args = spy.calls.mostRecent().args;
> 2051 |     expect(args.length).toBe(1);
       |                             ^ Magic Number
  2052 |     expect(args[0]).toEqual({
  2053 |       object: { o: 1 },
  2054 |       original: { o: 2 },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Unknown Test,"{'column': 2, 'line': 629}","  627 |   });
  628 |
> 629 |   it('can set disconnect command message handler for a parseWebSocket which has not registered to the server', function () {
      |  ^ Unknown Test
  630 |     const parseLiveQueryServer = new ParseLiveQueryServer({});
  631 |     const EventEmitter = require('events');
  632 |     const parseWebSocket = new EventEmitter();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Unknown Test,"{'column': 2, 'line': 665}","  663 |   // TODO: Test server can set disconnect command message handler for a parseWebSocket
  664 |
> 665 |   it('has no subscription and can handle object delete command', function () {
      |  ^ Unknown Test
  666 |     const parseLiveQueryServer = new ParseLiveQueryServer({});
  667 |     // Make deletedParseObject
  668 |     const parseObject = new Parse.Object(testClassName);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryServer.spec.js,Unknown Test,"{'column': 2, 'line': 750}","  748 |   });
  749 |
> 750 |   it('has no subscription and can handle object save command', async () => {
      |  ^ Unknown Test
  751 |     const parseLiveQueryServer = new ParseLiveQueryServer({});
  752 |     // Make mock request message
  753 |     const message = generateMockMessage();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryRedis.spec.js,Conditional Test Logic,"{'line': 1, 'column': 0, 'index': 0}","> 1 | if (process.env.PARSE_SERVER_TEST_CACHE === 'redis') {
  2 |   describe('ParseLiveQuery redis', () => {
  3 |     afterEach(async () => {
  4 |       const client = await Parse.CoreManager.getLiveQueryController().getDefaultLiveQueryClient();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryRedis.spec.js,Duplicate Assert,"{'line': 50, 'column': 6, 'index': 1490}","  48 |         },
  49 |       });
> 50 |       expect(server.config.liveQueryController.liveQueryPublisher.parsePublisher.isOpen).toBeTrue();
     |      ^ Duplicate Assert
  51 |       await server.config.liveQueryController.connect();
  52 |       expect(server.config.liveQueryController.liveQueryPublisher.parsePublisher.isOpen).toBeTrue();
  53 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryRedis.spec.js,Duplicate Assert,"{'line': 52, 'column': 6, 'index': 1648}","  50 |       expect(server.config.liveQueryController.liveQueryPublisher.parsePublisher.isOpen).toBeTrue();
  51 |       await server.config.liveQueryController.connect();
> 52 |       expect(server.config.liveQueryController.liveQueryPublisher.parsePublisher.isOpen).toBeTrue();
     |      ^ Duplicate Assert
  53 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
  54 |       await server.liveQueryServer.connect();
  55 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryRedis.spec.js,Duplicate Assert,"{'line': 53, 'column': 6, 'index': 1749}","  51 |       await server.config.liveQueryController.connect();
  52 |       expect(server.config.liveQueryController.liveQueryPublisher.parsePublisher.isOpen).toBeTrue();
> 53 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
     |      ^ Duplicate Assert
  54 |       await server.liveQueryServer.connect();
  55 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
  56 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryRedis.spec.js,Duplicate Assert,"{'line': 53, 'column': 6, 'index': 1749}","  51 |       await server.config.liveQueryController.connect();
  52 |       expect(server.config.liveQueryController.liveQueryPublisher.parsePublisher.isOpen).toBeTrue();
> 53 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
     |      ^ Duplicate Assert
  54 |       await server.liveQueryServer.connect();
  55 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
  56 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryRedis.spec.js,Duplicate Assert,"{'line': 55, 'column': 6, 'index': 1862}","  53 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
  54 |       await server.liveQueryServer.connect();
> 55 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
     |      ^ Duplicate Assert
  56 |     });
  57 |   });
  58 | }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryRedis.spec.js,Duplicate Assert,"{'line': 55, 'column': 6, 'index': 1862}","  53 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
  54 |       await server.liveQueryServer.connect();
> 55 |       expect(server.liveQueryServer.subscriber.isOpen).toBe(true);
     |      ^ Duplicate Assert
  56 |     });
  57 |   });
  58 | }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQueryRedis.spec.js,Unknown Test,"{'column': 4, 'line': 7}","   5 |       client.close();
   6 |     });
>  7 |     it('can connect', async () => {
     |    ^ Unknown Test
   8 |       await reconfigureServer({
   9 |         appId: 'redis_live_query',
  10 |         startLiveQueryServer: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 28, 'column': 6, 'index': 1096}","  26 |     Parse.Cloud.onLiveQueryEvent(req => {
  27 |       const { event, sessionToken } = req;
> 28 |       if (event === 'ws_disconnect') {
     |      ^ Conditional Test Logic
  29 |         Parse.Cloud._removeAllHooks();
  30 |         expect(sessionToken).toBeDefined();
  31 |         expect(sessionToken).toBe(requestedUser.getSessionToken());"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 329, 'column': 6, 'index': 9696}","  327 |       const original = req.original;
  328 |
> 329 |       if (current.get('foo') != original.get('foo')) {
      |      ^ Conditional Test Logic
  330 |         req.sendEvent = false;
  331 |       }
  332 |       promise.resolve();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 361, 'column': 8, 'index': 10582}","  359 |     const spy = {
  360 |       create(obj) {
> 361 |         if (!obj.get('yolo')) {
      |        ^ Conditional Test Logic
  362 |           fail('create should not have been called');
  363 |         }
  364 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 366, 'column': 8, 'index': 10720}","  364 |       },
  365 |       update(object, original) {
> 366 |         if (object.get('yolo') === original.get('yolo')) {
      |        ^ Conditional Test Logic
  367 |           fail('create should not have been called');
  368 |         }
  369 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 673, 'column': 6, 'index': 20272}","  671 |     });
  672 |     subscription.on('enter', object => {
> 673 |       if (object.get('yolo') === 'abc') {
      |      ^ Conditional Test Logic
  674 |         done();
  675 |       } else {
  676 |         fail('beforeSubscribe should restrict queries');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 776, 'column': 4, 'index': 23145}","  774 |       },
  775 |     };
> 776 |     for (const key in calls) {
      |    ^ Conditional Test Logic
  777 |       spyOn(calls, key).and.callThrough();
  778 |     }
  779 |     Parse.Cloud.beforeConnect(calls.beforeConnect);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 794, 'column': 4, 'index': 23818}","  792 |     await object.destroy();
  793 |     await sleep(200);
> 794 |     for (const key in calls) {
      |    ^ Conditional Test Logic
  795 |       expect(calls[key]).toHaveBeenCalled();
  796 |     }
  797 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 1009, 'column': 6, 'index': 30675}","  1007 |     const subscription = await query.subscribe();
  1008 |     subscription.on('create', obj => {
> 1009 |       if (obj.id !== obj1.id) {
       |      ^ Conditional Test Logic
  1010 |         done.fail('should not fire');
  1011 |       }
  1012 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 1046, 'column': 6, 'index': 31822}","  1044 |       expect(obj.sessionToken).toBeUndefined();
  1045 |       expect(prev && prev.sessionToken).toBeUndefined();
> 1046 |       if (prev && prev.get) {
       |      ^ Conditional Test Logic
  1047 |         expect(prev.get('sessionToken')).toBeUndefined();
  1048 |       }
  1049 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 1051, 'column': 4, 'index': 31945}","  1049 |     };
  1050 |     const calls = {};
> 1051 |     for (const key of events) {
       |    ^ Conditional Test Logic
  1052 |       calls[key] = response;
  1053 |       spyOn(calls, key).and.callThrough();
  1054 |       subscription.on(key, calls[key]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 1065, 'column': 4, 'index': 32354}","  1063 |     await user.destroy();
  1064 |     await new Promise(resolve => setTimeout(resolve, 10));
> 1065 |     for (const key of events) {
       |    ^ Conditional Test Logic
  1066 |       expect(calls[key]).toHaveBeenCalled();
  1067 |     }
  1068 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 1165, 'column': 4, 'index': 35375}","  1163 |       silent: true,
  1164 |     };
> 1165 |     if (process.env.PARSE_SERVER_TEST_DB === 'postgres') {
       |    ^ Conditional Test Logic
  1166 |       config.databaseAdapter = new databaseAdapter.constructor({
  1167 |         uri: databaseURI,
  1168 |         collectionPrefix: 'test_',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Conditional Test Logic,"{'line': 1212, 'column': 4, 'index': 37076}","  1210 |       },
  1211 |     };
> 1212 |     if (process.env.PARSE_SERVER_TEST_DB === 'postgres') {
       |    ^ Conditional Test Logic
  1213 |       config.databaseAdapter = new databaseAdapter.constructor({
  1214 |         uri: databaseURI,
  1215 |         collectionPrefix: 'test_',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 30, 'column': 8, 'index': 1176}","  28 |       if (event === 'ws_disconnect') {
  29 |         Parse.Cloud._removeAllHooks();
> 30 |         expect(sessionToken).toBeDefined();
     |        ^ Duplicate Assert
  31 |         expect(sessionToken).toBe(requestedUser.getSessionToken());
  32 |         done();
  33 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 31, 'column': 8, 'index': 1220}","  29 |         Parse.Cloud._removeAllHooks();
  30 |         expect(sessionToken).toBeDefined();
> 31 |         expect(sessionToken).toBe(requestedUser.getSessionToken());
     |        ^ Duplicate Assert
  32 |         done();
  33 |       }
  34 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 475, 'column': 8, 'index': 13991}","  473 |         expect(req.requestId).toBe(1);
  474 |         expect(req.query).toBeDefined();
> 475 |         expect(req.user).toBeUndefined();
      |        ^ Duplicate Assert
  476 |       },
  477 |       beforeConnect(req) {
  478 |         expect(req.event).toBe('connect');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 475, 'column': 8, 'index': 13991}","  473 |         expect(req.requestId).toBe(1);
  474 |         expect(req.query).toBeDefined();
> 475 |         expect(req.user).toBeUndefined();
      |        ^ Duplicate Assert
  476 |       },
  477 |       beforeConnect(req) {
  478 |         expect(req.event).toBe('connect');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 483, 'column': 8, 'index': 14288}","  481 |         expect(req.useMasterKey).toBe(false);
  482 |         expect(req.installationId).toBeDefined();
> 483 |         expect(req.user).toBeUndefined();
      |        ^ Duplicate Assert
  484 |         expect(req.client).toBeDefined();
  485 |       },
  486 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 483, 'column': 8, 'index': 14288}","  481 |         expect(req.useMasterKey).toBe(false);
  482 |         expect(req.installationId).toBeDefined();
> 483 |         expect(req.user).toBeUndefined();
      |        ^ Duplicate Assert
  484 |         expect(req.client).toBeDefined();
  485 |       },
  486 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 763, 'column': 8, 'index': 22802}","  761 |         expect(req.requestId).toBe(1);
  762 |         expect(req.query).toBeDefined();
> 763 |         expect(req.user).toBeDefined();
      |        ^ Duplicate Assert
  764 |       },
  765 |       afterLiveQueryEvent(req) {
  766 |         expect(req.user).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 763, 'column': 8, 'index': 22802}","  761 |         expect(req.requestId).toBe(1);
  762 |         expect(req.query).toBeDefined();
> 763 |         expect(req.user).toBeDefined();
      |        ^ Duplicate Assert
  764 |       },
  765 |       afterLiveQueryEvent(req) {
  766 |         expect(req.user).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 766, 'column': 8, 'index': 22884}","  764 |       },
  765 |       afterLiveQueryEvent(req) {
> 766 |         expect(req.user).toBeDefined();
      |        ^ Duplicate Assert
  767 |         expect(req.object.get('foo')).toBe('bar');
  768 |       },
  769 |       create(object) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 766, 'column': 8, 'index': 22884}","  764 |       },
  765 |       afterLiveQueryEvent(req) {
> 766 |         expect(req.user).toBeDefined();
      |        ^ Duplicate Assert
  767 |         expect(req.object.get('foo')).toBe('bar');
  768 |       },
  769 |       create(object) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 770, 'column': 8, 'index': 23007}","  768 |       },
  769 |       create(object) {
> 770 |         expect(object.get('foo')).toBe('bar');
      |        ^ Duplicate Assert
  771 |       },
  772 |       delete(object) {
  773 |         expect(object.get('foo')).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 770, 'column': 8, 'index': 23007}","  768 |       },
  769 |       create(object) {
> 770 |         expect(object.get('foo')).toBe('bar');
      |        ^ Duplicate Assert
  771 |       },
  772 |       delete(object) {
  773 |         expect(object.get('foo')).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 773, 'column': 8, 'index': 23086}","  771 |       },
  772 |       delete(object) {
> 773 |         expect(object.get('foo')).toBe('bar');
      |        ^ Duplicate Assert
  774 |       },
  775 |     };
  776 |     for (const key in calls) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Duplicate Assert,"{'line': 773, 'column': 8, 'index': 23086}","  771 |       },
  772 |       delete(object) {
> 773 |         expect(object.get('foo')).toBe('bar');
      |        ^ Duplicate Assert
  774 |       },
  775 |     };
  776 |     for (const key in calls) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Exception Handling,"{'line': 269, 'column': 6, 'index': 7805}","  267 |
  268 |     Parse.Cloud.afterLiveQueryEvent('TestObject', () => {
> 269 |       throw 'Throw error from LQ afterEvent.';
      |      ^ Exception Handling
  270 |     });
  271 |
  272 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Exception Handling,"{'line': 574, 'column': 6, 'index': 17100}","  572 |
  573 |     Parse.Cloud.beforeConnect(() => {
> 574 |       throw new Error('You shall not pass!');
      |      ^ Exception Handling
  575 |     });
  576 |     const query = new Parse.Query(TestObject);
  577 |     query.equalTo('objectId', object.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Exception Handling,"{'line': 617, 'column': 6, 'index': 18451}","  615 |
  616 |     Parse.Cloud.beforeSubscribe(TestObject, () => {
> 617 |       throw new Error('You shall not subscribe!');
      |      ^ Exception Handling
  618 |     });
  619 |     const query = new Parse.Query(TestObject);
  620 |     query.equalTo('objectId', object.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Magic Number,"{'line': 473, 'column': 35, 'index': 13938}","  471 |       beforeSubscribe(req) {
  472 |         expect(req.op).toBe('subscribe');
> 473 |         expect(req.requestId).toBe(1);
      |                                   ^ Magic Number
  474 |         expect(req.query).toBeDefined();
  475 |         expect(req.user).toBeUndefined();
  476 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Magic Number,"{'line': 479, 'column': 33, 'index': 14137}","  477 |       beforeConnect(req) {
  478 |         expect(req.event).toBe('connect');
> 479 |         expect(req.clients).toBe(0);
      |                                 ^ Magic Number
  480 |         expect(req.subscriptions).toBe(0);
  481 |         expect(req.useMasterKey).toBe(false);
  482 |         expect(req.installationId).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Magic Number,"{'line': 480, 'column': 39, 'index': 14180}","  478 |         expect(req.event).toBe('connect');
  479 |         expect(req.clients).toBe(0);
> 480 |         expect(req.subscriptions).toBe(0);
      |                                       ^ Magic Number
  481 |         expect(req.useMasterKey).toBe(false);
  482 |         expect(req.installationId).toBeDefined();
  483 |         expect(req.user).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Magic Number,"{'line': 753, 'column': 33, 'index': 22449}","  751 |       beforeConnect(req) {
  752 |         expect(req.event).toBe('connect');
> 753 |         expect(req.clients).toBe(0);
      |                                 ^ Magic Number
  754 |         expect(req.subscriptions).toBe(0);
  755 |         expect(req.useMasterKey).toBe(false);
  756 |         expect(req.installationId).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Magic Number,"{'line': 754, 'column': 39, 'index': 22492}","  752 |         expect(req.event).toBe('connect');
  753 |         expect(req.clients).toBe(0);
> 754 |         expect(req.subscriptions).toBe(0);
      |                                       ^ Magic Number
  755 |         expect(req.useMasterKey).toBe(false);
  756 |         expect(req.installationId).toBeDefined();
  757 |         expect(req.client).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Magic Number,"{'line': 761, 'column': 35, 'index': 22749}","  759 |       beforeSubscribe(req) {
  760 |         expect(req.op).toBe('subscribe');
> 761 |         expect(req.requestId).toBe(1);
      |                                   ^ Magic Number
  762 |         expect(req.query).toBeDefined();
  763 |         expect(req.user).toBeDefined();
  764 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Sleepy Test,"{'line': 1015, 'column': 33, 'index': 30842}","  1013 |     await obj1.save();
  1014 |     await Parse.User.logOut();
> 1015 |     await new Promise(resolve => setTimeout(resolve, 200));
       |                                 ^ Sleepy Test
  1016 |     await obj2.save();
  1017 |     await new Promise(resolve => setTimeout(resolve, 200));
  1018 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Sleepy Test,"{'line': 1017, 'column': 33, 'index': 30925}","  1015 |     await new Promise(resolve => setTimeout(resolve, 200));
  1016 |     await obj2.save();
> 1017 |     await new Promise(resolve => setTimeout(resolve, 200));
       |                                 ^ Sleepy Test
  1018 |     done();
  1019 |   });
  1020 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Sleepy Test,"{'line': 1064, 'column': 33, 'index': 32324}","  1062 |     await user.save();
  1063 |     await user.destroy();
> 1064 |     await new Promise(resolve => setTimeout(resolve, 10));
       |                                 ^ Sleepy Test
  1065 |     for (const key of events) {
  1066 |       expect(calls[key]).toHaveBeenCalled();
  1067 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Sleepy Test,"{'line': 1308, 'column': 33, 'index': 40454}","  1306 |     await object1.save();
  1307 |
> 1308 |     await new Promise(resolve => setTimeout(resolve, 100));
       |                                 ^ Sleepy Test
  1309 |     expect(createSpy).toHaveBeenCalledTimes(1);
  1310 |   });
  1311 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Unknown Test,"{'column': 2, 'line': 321}","  319 |   });
  320 |
> 321 |   it('can handle afterEvent sendEvent to false', async () => {
      |  ^ Unknown Test
  322 |     const object = new TestObject();
  323 |     await object.save();
  324 |     const promise = resolvingPromise();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Unknown Test,"{'column': 2, 'line': 504}","  502 |   });
  503 |
> 504 |   it('can handle beforeConnect validation function', async () => {
      |  ^ Unknown Test
  505 |     await reconfigureServer({
  506 |       liveQuery: {
  507 |         classNames: ['TestObject'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Unknown Test,"{'column': 2, 'line': 522}","  520 |   });
  521 |
> 522 |   it('can handle beforeSubscribe validation function', async () => {
      |  ^ Unknown Test
  523 |     await reconfigureServer({
  524 |       liveQuery: {
  525 |         classNames: ['TestObject'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Unknown Test,"{'column': 2, 'line': 563}","  561 |   });
  562 |
> 563 |   it('can handle beforeConnect error', async () => {
      |  ^ Unknown Test
  564 |     await reconfigureServer({
  565 |       liveQuery: {
  566 |         classNames: ['TestObject'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Unknown Test,"{'column': 2, 'line': 606}","  604 |   });
  605 |
> 606 |   it('can handle beforeSubscribe error', async () => {
      |  ^ Unknown Test
  607 |     await reconfigureServer({
  608 |       liveQuery: {
  609 |         classNames: ['TestObject'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Unknown Test,"{'column': 2, 'line': 872}","  870 |   });
  871 |
> 872 |   it('prevent liveQuery on Session class when not logged in', async () => {
      |  ^ Unknown Test
  873 |     await reconfigureServer({
  874 |       liveQuery: {
  875 |         classNames: [Parse.Session],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseLiveQuery.spec.js,Unknown Test,"{'column': 2, 'line': 979}","  977 |   });
  978 |
> 979 |   it('should not broadcast event to client with invalid session token - avisory GHSA-2xm2-xj2q-qgpj', async done => {
      |  ^ Unknown Test
  980 |     await reconfigureServer({
  981 |       liveQuery: {
  982 |         classNames: ['TestObject'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Conditional Test Logic,"{'line': 335, 'column': 8, 'index': 10433}","  333 |       .then(results => {
  334 |         expect(results.length).toEqual(2);
> 335 |         if (results[0]['_id'] == firstObject._id) {
      |        ^ Conditional Test Logic
  336 |           secondObject = results[1];
  337 |         } else {
  338 |           secondObject = results[0];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 285, 'column': 8, 'index': 8692}","  283 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  284 |       .then(results => {
> 285 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  286 |         firstObject = results[0];
  287 |         delete input.deviceToken;
  288 |         delete input.channels;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 285, 'column': 8, 'index': 8692}","  283 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  284 |       .then(results => {
> 285 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  286 |         firstObject = results[0];
  287 |         delete input.deviceToken;
  288 |         delete input.channels;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 294, 'column': 8, 'index': 9065}","  292 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  293 |       .then(results => {
> 294 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  295 |         secondObject = results[0];
  296 |         expect(firstObject._id).toEqual(secondObject._id);
  297 |         expect(secondObject.channels.length).toEqual(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 294, 'column': 8, 'index': 9065}","  292 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  293 |       .then(results => {
> 294 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  295 |         secondObject = results[0];
  296 |         expect(firstObject._id).toEqual(secondObject._id);
  297 |         expect(secondObject.channels.length).toEqual(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 328, 'column': 8, 'index': 10111}","  326 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  327 |       .then(results => {
> 328 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  329 |         firstObject = results[0];
  330 |         return rest.create(config, auth.nobody(config), '_Installation', input2);
  331 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 328, 'column': 8, 'index': 10111}","  326 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  327 |       .then(results => {
> 328 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  329 |         firstObject = results[0];
  330 |         return rest.create(config, auth.nobody(config), '_Installation', input2);
  331 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 334, 'column': 8, 'index': 10390}","  332 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  333 |       .then(results => {
> 334 |         expect(results.length).toEqual(2);
      |        ^ Duplicate Assert
  335 |         if (results[0]['_id'] == firstObject._id) {
  336 |           secondObject = results[1];
  337 |         } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 344, 'column': 8, 'index': 10788}","  342 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  343 |       .then(results => {
> 344 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  345 |         expect(results[0]['_id']).toEqual(secondObject._id);
  346 |         done();
  347 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 344, 'column': 8, 'index': 10788}","  342 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  343 |       .then(results => {
> 344 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  345 |         expect(results[0]['_id']).toEqual(secondObject._id);
  346 |         done();
  347 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 516, 'column': 8, 'index': 16270}","  514 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  515 |       .then(results => {
> 516 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  517 |         input = {
  518 |           installationId: installId,
  519 |           deviceToken: u,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 516, 'column': 8, 'index': 16270}","  514 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  515 |       .then(results => {
> 516 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  517 |         input = {
  518 |           installationId: installId,
  519 |           deviceToken: u,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 532, 'column': 8, 'index': 16730}","  530 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  531 |       .then(results => {
> 532 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  533 |         expect(results[0].deviceToken).toEqual(u);
  534 |         done();
  535 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 532, 'column': 8, 'index': 16730}","  530 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  531 |       .then(results => {
> 532 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  533 |         expect(results[0].deviceToken).toEqual(u);
  534 |         done();
  535 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 586, 'column': 8, 'index': 18259}","  584 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  585 |       .then(results => {
> 586 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  587 |         input = {
  588 |           custom: 'allowed',
  589 |         };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 586, 'column': 8, 'index': 18259}","  584 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  585 |       .then(results => {
> 586 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  587 |         input = {
  588 |           custom: 'allowed',
  589 |         };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 600, 'column': 8, 'index': 18656}","  598 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  599 |       .then(results => {
> 600 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  601 |         expect(results[0]['custom']).toEqual('allowed');
  602 |         done();
  603 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 600, 'column': 8, 'index': 18656}","  598 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  599 |       .then(results => {
> 600 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  601 |         expect(results[0]['custom']).toEqual('allowed');
  602 |         done();
  603 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 631, 'column': 4, 'index': 19592}","  629 |       {}
  630 |     );
> 631 |     expect(results.length).toEqual(1);
      |    ^ Duplicate Assert
  632 |     const firstObject = results[0];
  633 |
  634 |     results = await database.adapter.find("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 631, 'column': 4, 'index': 19592}","  629 |       {}
  630 |     );
> 631 |     expect(results.length).toEqual(1);
      |    ^ Duplicate Assert
  632 |     const firstObject = results[0];
  633 |
  634 |     results = await database.adapter.find("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 640, 'column': 4, 'index': 19814}","  638 |       {}
  639 |     );
> 640 |     expect(results.length).toEqual(1);
      |    ^ Duplicate Assert
  641 |     const secondObject = results[0];
  642 |
  643 |     // Update second installation to conflict with first installation"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 640, 'column': 4, 'index': 19814}","  638 |       {}
  639 |     );
> 640 |     expect(results.length).toEqual(1);
      |    ^ Duplicate Assert
  641 |     const secondObject = results[0];
  642 |
  643 |     // Update second installation to conflict with first installation"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 662, 'column': 4, 'index': 20364}","  660 |       {}
  661 |     );
> 662 |     expect(results.length).toEqual(0);
      |    ^ Duplicate Assert
  663 |   });
  664 |
  665 |   it('update ios device token with duplicate device token', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 695, 'column': 8, 'index': 21357}","  693 |       )
  694 |       .then(results => {
> 695 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  696 |         firstObject = results[0];
  697 |       })
  698 |       .then(() => delay(100))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 695, 'column': 8, 'index': 21357}","  693 |       )
  694 |       .then(results => {
> 695 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  696 |         firstObject = results[0];
  697 |       })
  698 |       .then(() => delay(100))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 708, 'column': 8, 'index': 21677}","  706 |       )
  707 |       .then(results => {
> 708 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  709 |         secondObject = results[0];
  710 |         // Update second installation to conflict with first installation id
  711 |         input = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 708, 'column': 8, 'index': 21677}","  706 |       )
  707 |       .then(results => {
> 708 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  709 |         secondObject = results[0];
  710 |         // Update second installation to conflict with first installation id
  711 |         input = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 734, 'column': 8, 'index': 22403}","  732 |       .then(results => {
  733 |         // The first object should have been deleted
> 734 |         expect(results.length).toEqual(0);
      |        ^ Duplicate Assert
  735 |         done();
  736 |       })
  737 |       .catch(error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 784, 'column': 8, 'index': 24087}","  782 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  783 |       .then(results => {
> 784 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  785 |         input = {
  786 |           deviceToken: t,
  787 |           channels: [],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 784, 'column': 8, 'index': 24087}","  782 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  783 |       .then(results => {
> 784 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  785 |         input = {
  786 |           deviceToken: t,
  787 |           channels: [],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 799, 'column': 8, 'index': 24505}","  797 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  798 |       .then(results => {
> 799 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  800 |         expect(results[0].installationId).toEqual(installId);
  801 |         expect(results[0].deviceToken).toEqual(t);
  802 |         expect(results[0].channels.length).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 799, 'column': 8, 'index': 24505}","  797 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  798 |       .then(results => {
> 799 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  800 |         expect(results[0].installationId).toEqual(installId);
  801 |         expect(results[0].deviceToken).toEqual(t);
  802 |         expect(results[0].channels.length).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 831, 'column': 8, 'index': 25517}","  829 |       )
  830 |       .then(results => {
> 831 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  832 |         input = {
  833 |           deviceToken: t,
  834 |           installationId: installId,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 831, 'column': 8, 'index': 25517}","  829 |       )
  830 |       .then(results => {
> 831 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  832 |         input = {
  833 |           deviceToken: t,
  834 |           installationId: installId,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 847, 'column': 8, 'index': 25977}","  845 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  846 |       .then(results => {
> 847 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  848 |         expect(results[0].installationId).toEqual(installId);
  849 |         expect(results[0].deviceToken).toEqual(t);
  850 |         expect(results[0].deviceType).toEqual('ios');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 847, 'column': 8, 'index': 25977}","  845 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  846 |       .then(results => {
> 847 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  848 |         expect(results[0].installationId).toEqual(installId);
  849 |         expect(results[0].deviceToken).toEqual(t);
  850 |         expect(results[0].deviceType).toEqual('ios');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 925, 'column': 8, 'index': 28474}","  923 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  924 |       .then(results => {
> 925 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  926 |         installObj = results[0];
  927 |         input = {
  928 |           deviceToken: t,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 925, 'column': 8, 'index': 28474}","  923 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  924 |       .then(results => {
> 925 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  926 |         installObj = results[0];
  927 |         input = {
  928 |           deviceToken: t,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 937, 'column': 8, 'index': 28866}","  935 |       )
  936 |       .then(results => {
> 937 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  938 |         tokenObj = results[0];
  939 |         input = {
  940 |           installationId: installId,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 937, 'column': 8, 'index': 28866}","  935 |       )
  936 |       .then(results => {
> 937 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  938 |         tokenObj = results[0];
  939 |         input = {
  940 |           installationId: installId,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 961, 'column': 8, 'index': 29451}","  959 |       )
  960 |       .then(results => {
> 961 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  962 |         expect(results[0].installationId).toEqual(installId);
  963 |         expect(results[0].deviceToken).toEqual(t);
  964 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 961, 'column': 8, 'index': 29451}","  959 |       )
  960 |       .then(results => {
> 961 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  962 |         expect(results[0].installationId).toEqual(installId);
  963 |         expect(results[0].deviceToken).toEqual(t);
  964 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 1058, 'column': 8, 'index': 32864}","  1056 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  1057 |       .then(results => {
> 1058 |         expect(results.length).toEqual(1);
       |        ^ Duplicate Assert
  1059 |         input = {
  1060 |           installationId: installId,
  1061 |           deviceToken: t,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 1058, 'column': 8, 'index': 32864}","  1056 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  1057 |       .then(results => {
> 1058 |         expect(results.length).toEqual(1);
       |        ^ Duplicate Assert
  1059 |         input = {
  1060 |           installationId: installId,
  1061 |           deviceToken: t,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 1068, 'column': 8, 'index': 33229}","  1066 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  1067 |       .then(results => {
> 1068 |         expect(results.length).toEqual(1);
       |        ^ Duplicate Assert
  1069 |         expect(results[0].deviceToken).toEqual(t);
  1070 |         expect(results[0].installationId).toEqual(installId);
  1071 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Duplicate Assert,"{'line': 1068, 'column': 8, 'index': 33229}","  1066 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  1067 |       .then(results => {
> 1068 |         expect(results.length).toEqual(1);
       |        ^ Duplicate Assert
  1069 |         expect(results[0].deviceToken).toEqual(t);
  1070 |         expect(results[0].installationId).toEqual(installId);
  1071 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 40, 'column': 39, 'index': 1257}","  38 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  39 |       .then(results => {
> 40 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  41 |         const obj = results[0];
  42 |         expect(obj.installationId).toEqual(installId);
  43 |         expect(obj.deviceType).toEqual(device);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 64, 'column': 39, 'index': 1992}","  62 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  63 |       .then(results => {
> 64 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  65 |         const obj = results[0];
  66 |         expect(obj.deviceToken).toEqual(t);
  67 |         expect(obj.deviceType).toEqual(device);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 88, 'column': 39, 'index': 2717}","  86 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  87 |       .then(results => {
> 88 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  89 |         const obj = results[0];
  90 |         expect(obj.installationId).toEqual(installId);
  91 |         expect(obj.deviceType).toEqual(device);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 113, 'column': 39, 'index': 3490}","  111 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  112 |       .then(results => {
> 113 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  114 |         const obj = results[0];
  115 |         expect(obj.installationId).toEqual(installId);
  116 |         expect(obj.deviceType).toEqual(device);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 118, 'column': 44, 'index': 3728}","  116 |         expect(obj.deviceType).toEqual(device);
  117 |         expect(typeof obj.channels).toEqual('object');
> 118 |         expect(obj.channels.length).toEqual(2);
      |                                            ^ Magic Number
  119 |         expect(obj.channels[0]).toEqual('foo');
  120 |         expect(obj.channels[1]).toEqual('bar');
  121 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 142, 'column': 39, 'index': 4463}","  140 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  141 |       .then(results => {
> 142 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  143 |         const obj = results[0];
  144 |         expect(obj.deviceToken).toEqual(t);
  145 |         expect(obj.deviceType).toEqual(device);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 147, 'column': 44, 'index': 4690}","  145 |         expect(obj.deviceType).toEqual(device);
  146 |         expect(typeof obj.channels).toEqual('object');
> 147 |         expect(obj.channels.length).toEqual(2);
      |                                            ^ Magic Number
  148 |         expect(obj.channels[0]).toEqual('foo');
  149 |         expect(obj.channels[1]).toEqual('bar');
  150 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 177, 'column': 32, 'index': 5492}","  175 |       })
  176 |       .catch(error => {
> 177 |         expect(error.code).toBe(119);
      |                                ^ Magic Number
  178 |         expect(error.message).toBe(
  179 |           ""Clients aren't allowed to perform the find operation on the installation collection.""
  180 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 199, 'column': 39, 'index': 6203}","  197 |       })
  198 |       .then(results => {
> 199 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  200 |         const obj = results[0].toJSON();
  201 |         expect(obj.installationId).toEqual(installId);
  202 |         expect(obj.deviceType).toEqual(device);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 223, 'column': 35, 'index': 6842}","  221 |       })
  222 |       .catch(error => {
> 223 |         expect(error.code).toEqual(135);
      |                                   ^ Magic Number
  224 |         done();
  225 |       });
  226 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 241, 'column': 35, 'index': 7339}","  239 |       })
  240 |       .catch(error => {
> 241 |         expect(error.code).toEqual(135);
      |                                   ^ Magic Number
  242 |         done();
  243 |       });
  244 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 258, 'column': 39, 'index': 7872}","  256 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  257 |       .then(results => {
> 258 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  259 |         const obj = results[0];
  260 |         expect(obj.custom).toEqual('allowed');
  261 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 285, 'column': 39, 'index': 8723}","  283 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  284 |       .then(results => {
> 285 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  286 |         firstObject = results[0];
  287 |         delete input.deviceToken;
  288 |         delete input.channels;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 294, 'column': 39, 'index': 9096}","  292 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  293 |       .then(results => {
> 294 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  295 |         secondObject = results[0];
  296 |         expect(firstObject._id).toEqual(secondObject._id);
  297 |         expect(secondObject.channels.length).toEqual(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 297, 'column': 53, 'index': 9247}","  295 |         secondObject = results[0];
  296 |         expect(firstObject._id).toEqual(secondObject._id);
> 297 |         expect(secondObject.channels.length).toEqual(2);
      |                                                     ^ Magic Number
  298 |         expect(secondObject.foo).toEqual('bar');
  299 |         done();
  300 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 328, 'column': 39, 'index': 10142}","  326 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  327 |       .then(results => {
> 328 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  329 |         firstObject = results[0];
  330 |         return rest.create(config, auth.nobody(config), '_Installation', input2);
  331 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 334, 'column': 39, 'index': 10421}","  332 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  333 |       .then(results => {
> 334 |         expect(results.length).toEqual(2);
      |                                       ^ Magic Number
  335 |         if (results[0]['_id'] == firstObject._id) {
  336 |           secondObject = results[1];
  337 |         } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 344, 'column': 39, 'index': 10819}","  342 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  343 |       .then(results => {
> 344 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  345 |         expect(results[0]['_id']).toEqual(secondObject._id);
  346 |         done();
  347 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 451, 'column': 39, 'index': 14232}","  449 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  450 |       .then(results => {
> 451 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  452 |         input = { installationId: installId2 };
  453 |         return rest.update(
  454 |           config,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 466, 'column': 35, 'index': 14636}","  464 |       })
  465 |       .catch(error => {
> 466 |         expect(error.code).toEqual(136);
      |                                   ^ Magic Number
  467 |         done();
  468 |       });
  469 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 483, 'column': 39, 'index': 15247}","  481 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  482 |       .then(results => {
> 483 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  484 |         input = { deviceToken: b };
  485 |         return rest.update(
  486 |           config,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 497, 'column': 35, 'index': 15623}","  495 |       })
  496 |       .catch(error => {
> 497 |         expect(error.code).toEqual(136);
      |                                   ^ Magic Number
  498 |         done();
  499 |       });
  500 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 516, 'column': 39, 'index': 16301}","  514 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  515 |       .then(results => {
> 516 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  517 |         input = {
  518 |           installationId: installId,
  519 |           deviceToken: u,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 532, 'column': 39, 'index': 16761}","  530 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  531 |       .then(results => {
> 532 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  533 |         expect(results[0].deviceToken).toEqual(u);
  534 |         done();
  535 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 553, 'column': 39, 'index': 17375}","  551 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  552 |       .then(results => {
> 553 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  554 |         input = {
  555 |           deviceType: 'ios',
  556 |         };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 570, 'column': 35, 'index': 17793}","  568 |       })
  569 |       .catch(error => {
> 570 |         expect(error.code).toEqual(136);
      |                                   ^ Magic Number
  571 |         done();
  572 |       });
  573 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 586, 'column': 39, 'index': 18290}","  584 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  585 |       .then(results => {
> 586 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  587 |         input = {
  588 |           custom: 'allowed',
  589 |         };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 600, 'column': 39, 'index': 18687}","  598 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  599 |       .then(results => {
> 600 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  601 |         expect(results[0]['custom']).toEqual('allowed');
  602 |         done();
  603 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 631, 'column': 35, 'index': 19623}","  629 |       {}
  630 |     );
> 631 |     expect(results.length).toEqual(1);
      |                                   ^ Magic Number
  632 |     const firstObject = results[0];
  633 |
  634 |     results = await database.adapter.find("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 640, 'column': 35, 'index': 19845}","  638 |       {}
  639 |     );
> 640 |     expect(results.length).toEqual(1);
      |                                   ^ Magic Number
  641 |     const secondObject = results[0];
  642 |
  643 |     // Update second installation to conflict with first installation"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 662, 'column': 35, 'index': 20395}","  660 |       {}
  661 |     );
> 662 |     expect(results.length).toEqual(0);
      |                                   ^ Magic Number
  663 |   });
  664 |
  665 |   it('update ios device token with duplicate device token', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 695, 'column': 39, 'index': 21388}","  693 |       )
  694 |       .then(results => {
> 695 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  696 |         firstObject = results[0];
  697 |       })
  698 |       .then(() => delay(100))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 708, 'column': 39, 'index': 21708}","  706 |       )
  707 |       .then(results => {
> 708 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  709 |         secondObject = results[0];
  710 |         // Update second installation to conflict with first installation id
  711 |         input = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 734, 'column': 39, 'index': 22434}","  732 |       .then(results => {
  733 |         // The first object should have been deleted
> 734 |         expect(results.length).toEqual(0);
      |                                       ^ Magic Number
  735 |         done();
  736 |       })
  737 |       .catch(error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 784, 'column': 39, 'index': 24118}","  782 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  783 |       .then(results => {
> 784 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  785 |         input = {
  786 |           deviceToken: t,
  787 |           channels: [],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 799, 'column': 39, 'index': 24536}","  797 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  798 |       .then(results => {
> 799 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  800 |         expect(results[0].installationId).toEqual(installId);
  801 |         expect(results[0].deviceToken).toEqual(t);
  802 |         expect(results[0].channels.length).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 802, 'column': 51, 'index': 24704}","  800 |         expect(results[0].installationId).toEqual(installId);
  801 |         expect(results[0].deviceToken).toEqual(t);
> 802 |         expect(results[0].channels.length).toEqual(0);
      |                                                   ^ Magic Number
  803 |         done();
  804 |       })
  805 |       .catch(error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 831, 'column': 39, 'index': 25548}","  829 |       )
  830 |       .then(results => {
> 831 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  832 |         input = {
  833 |           deviceToken: t,
  834 |           installationId: installId,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 847, 'column': 39, 'index': 26008}","  845 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  846 |       .then(results => {
> 847 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  848 |         expect(results[0].installationId).toEqual(installId);
  849 |         expect(results[0].deviceToken).toEqual(t);
  850 |         expect(results[0].deviceType).toEqual('ios');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 925, 'column': 39, 'index': 28505}","  923 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  924 |       .then(results => {
> 925 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  926 |         installObj = results[0];
  927 |         input = {
  928 |           deviceToken: t,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 937, 'column': 39, 'index': 28897}","  935 |       )
  936 |       .then(results => {
> 937 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  938 |         tokenObj = results[0];
  939 |         input = {
  940 |           installationId: installId,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 961, 'column': 39, 'index': 29482}","  959 |       )
  960 |       .then(results => {
> 961 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  962 |         expect(results[0].installationId).toEqual(installId);
  963 |         expect(results[0].deviceToken).toEqual(t);
  964 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 1058, 'column': 39, 'index': 32895}","  1056 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  1057 |       .then(results => {
> 1058 |         expect(results.length).toEqual(1);
       |                                       ^ Magic Number
  1059 |         input = {
  1060 |           installationId: installId,
  1061 |           deviceToken: t,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 1068, 'column': 39, 'index': 33260}","  1066 |       .then(() => database.adapter.find('_Installation', installationSchema, {}, {}))
  1067 |       .then(results => {
> 1068 |         expect(results.length).toEqual(1);
       |                                       ^ Magic Number
  1069 |         expect(results[0].deviceToken).toEqual(t);
  1070 |         expect(results[0].installationId).toEqual(installId);
  1071 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 1135, 'column': 39, 'index': 35271}","  1133 |         }).then(response => {
  1134 |           const body = response.data;
> 1135 |           expect(response.status).toBe(200);
       |                                       ^ Magic Number
  1136 |           expect(body.updatedAt).not.toBeUndefined();
  1137 |           done();
  1138 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Magic Number,"{'line': 1234, 'column': 34, 'index': 38105}","  1232 |           },
  1233 |           err => {
> 1234 |             expect(err.code).toBe(136);
       |                                  ^ Magic Number
  1235 |             expect(err.message).toBe('installationId may not be changed in this operation');
  1236 |             done();
  1237 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 47, 'column': 8, 'index': 1453}","  45 |       })
  46 |       .catch(error => {
> 47 |         console.log(error);
     |        ^ Redundant Print
  48 |         jfail(error);
  49 |         done();
  50 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 71, 'column': 8, 'index': 2177}","  69 |       })
  70 |       .catch(error => {
> 71 |         console.log(error);
     |        ^ Redundant Print
  72 |         jfail(error);
  73 |         done();
  74 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 95, 'column': 8, 'index': 2913}","  93 |       })
  94 |       .catch(error => {
> 95 |         console.log(error);
     |        ^ Redundant Print
  96 |         jfail(error);
  97 |         done();
  98 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 124, 'column': 8, 'index': 3885}","  122 |       })
  123 |       .catch(error => {
> 124 |         console.log(error);
      |        ^ Redundant Print
  125 |         jfail(error);
  126 |         done();
  127 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 153, 'column': 8, 'index': 4847}","  151 |       })
  152 |       .catch(error => {
> 153 |         console.log(error);
      |        ^ Redundant Print
  154 |         jfail(error);
  155 |         done();
  156 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 264, 'column': 8, 'index': 8012}","  262 |       })
  263 |       .catch(error => {
> 264 |         console.log(error);
      |        ^ Redundant Print
  265 |       });
  266 |   });
  267 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 302, 'column': 8, 'index': 9357}","  300 |       })
  301 |       .catch(error => {
> 302 |         console.log(error);
      |        ^ Redundant Print
  303 |       });
  304 |   });
  305 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 1074, 'column': 8, 'index': 33434}","  1072 |       })
  1073 |       .catch(error => {
> 1074 |         console.log(error);
       |        ^ Redundant Print
  1075 |         fail();
  1076 |         done();
  1077 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 1104, 'column': 8, 'index': 34351}","  1102 |       })
  1103 |       .catch(error => {
> 1104 |         console.log(error);
       |        ^ Redundant Print
  1105 |         fail('failed');
  1106 |         done();
  1107 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 1141, 'column': 8, 'index': 35402}","  1139 |       })
  1140 |       .catch(error => {
> 1141 |         console.log(error);
       |        ^ Redundant Print
  1142 |         fail('failed');
  1143 |         done();
  1144 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Redundant Print,"{'line': 1169, 'column': 8, 'index': 36298}","  1167 |       })
  1168 |       .catch(error => {
> 1169 |         console.log(error);
       |        ^ Redundant Print
  1170 |         fail('failed');
  1171 |         done();
  1172 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseInstallation.spec.js,Unknown Test,"{'column': 2, 'line': 1175}","  1173 |   });
  1174 |
> 1175 |   it('should properly handle installation save #2780', done => {
       |  ^ Unknown Test
  1176 |     const installId = '12345678-abcd-abcd-abcd-123456789abc';
  1177 |     const device = 'android';
  1178 |     const input = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 17, 'column': 4, 'index': 446}","  15 |   let app;
  16 |   beforeEach(done => {
> 17 |     if (!app) {
     |    ^ Conditional Test Logic
  18 |       app = express();
  19 |       app.use(express.json({ type: '*/*' }));
  20 |       server = app.listen(port, undefined, done);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 159, 'column': 10, 'index': 4358}","  157 |         },
  158 |         err => {
> 159 |           if (err) {
      |          ^ Conditional Test Logic
  160 |             expect(err).not.toBe(null);
  161 |             expect(err).not.toBe(undefined);
  162 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 208, 'column': 10, 'index': 5811}","  206 |           expect(err).not.toBe(undefined);
  207 |           expect(err).not.toBe(null);
> 208 |           if (err) {
      |          ^ Conditional Test Logic
  209 |             expect(err.code).toBe(143);
  210 |             expect(err.message).toBe('function name: my_new_function already exists');
  211 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 243, 'column': 10, 'index': 6799}","  241 |           expect(err).not.toBe(undefined);
  242 |           expect(err).not.toBe(null);
> 243 |           if (err) {
      |          ^ Conditional Test Logic
  244 |             expect(err.code).toBe(143);
  245 |             expect(err.message).toBe('class MyClass already has trigger beforeSave');
  246 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 270, 'column': 10, 'index': 7505}","  268 |           expect(err).not.toBe(undefined);
  269 |           expect(err).not.toBe(null);
> 270 |           if (err) {
      |          ^ Conditional Test Logic
  271 |             expect(err.code).toBe(143);
  272 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
  273 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 285, 'column': 10, 'index': 7949}","  283 |           expect(err).not.toBe(undefined);
  284 |           expect(err).not.toBe(null);
> 285 |           if (err) {
      |          ^ Conditional Test Logic
  286 |             expect(err.code).toBe(143);
  287 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
  288 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 303, 'column': 10, 'index': 8479}","  301 |           expect(err).not.toBe(undefined);
  302 |           expect(err).not.toBe(null);
> 303 |           if (err) {
      |          ^ Conditional Test Logic
  304 |             expect(err.code).toBe(143);
  305 |             expect(err.message).toBe('class AClassName does not exist');
  306 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 318, 'column': 10, 'index': 8917}","  316 |           expect(err).not.toBe(undefined);
  317 |           expect(err).not.toBe(null);
> 318 |           if (err) {
      |          ^ Conditional Test Logic
  319 |             expect(err.code).toBe(143);
  320 |             expect(err.message).toBe('class AClassName does not exist');
  321 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 335, 'column': 8, 'index': 9359}","  333 |         expect(err).not.toBe(undefined);
  334 |         expect(err).not.toBe(null);
> 335 |         if (err) {
      |        ^ Conditional Test Logic
  336 |           expect(err.code).toBe(143);
  337 |           expect(err.error).toBe('invalid hook declaration');
  338 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 363, 'column': 4, 'index': 10197}","  361 |   it_id('96d99414-b739-4e36-b3f4-8135e0be83ea')(it)('should create hooks and properly preload them', done => {
  362 |     const promises = [];
> 363 |     for (let i = 0; i < 5; i++) {
      |    ^ Conditional Test Logic
  364 |       promises.push(
  365 |         Parse.Hooks.createTrigger('MyClass' + i, 'beforeSave', 'http://url.com/beforeSave/' + i)
  366 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 373, 'column': 10, 'index': 10529}","  371 |       .then(
  372 |         function () {
> 373 |           for (let i = 0; i < 5; i++) {
      |          ^ Conditional Test Logic
  374 |             // Delete everything from memory, as the server just started
  375 |             triggers.removeTrigger('beforeSave', 'MyClass' + i, Parse.applicationId);
  376 |             triggers.removeFunction('AFunction' + i, Parse.applicationId);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 396, 'column': 10, 'index': 11401}","  394 |       .then(
  395 |         function () {
> 396 |           for (let i = 0; i < 5; i++) {
      |          ^ Conditional Test Logic
  397 |             expect(
  398 |               triggers.getTrigger('MyClass' + i, 'beforeSave', Parse.applicationId)
  399 |             ).not.toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 465, 'column': 10, 'index': 13488}","  463 |           expect(err).not.toBe(undefined);
  464 |           expect(err).not.toBe(null);
> 465 |           if (err) {
      |          ^ Conditional Test Logic
  466 |             expect(err.code).toBe(Parse.Error.SCRIPT_FAILED);
  467 |             expect(err.message.code).toEqual(1337);
  468 |             expect(err.message.error).toEqual('hacking that one!');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 477, 'column': 6, 'index': 13908}","  475 |   it_id('bacc1754-2a3a-4a7a-8d0e-f80af36da1ef')(it)('should provide X-Parse-Webhook-Key when defined', done => {
  476 |     app.post('/ExpectingKey', function (req, res) {
> 477 |       if (req.get('X-Parse-Webhook-Key') === 'hook') {
      |      ^ Conditional Test Logic
  478 |         res.json({ success: 'correct key provided' });
  479 |       } else {
  480 |         res.json({ error: 'incorrect key provided' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 511, 'column': 8, 'index': 14918}","  509 |     reconfigureServer({ webhookKey: undefined }).then(() => {
  510 |       app.post('/ExpectingKeyAlso', function (req, res) {
> 511 |         if (req.get('X-Parse-Webhook-Key') === 'hook') {
      |        ^ Conditional Test Logic
  512 |           res.json({ success: 'correct key provided' });
  513 |         } else {
  514 |           res.json({ error: 'incorrect key provided' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 537, 'column': 12, 'index': 15713}","  535 |             expect(err).not.toBe(undefined);
  536 |             expect(err).not.toBe(null);
> 537 |             if (err) {
      |            ^ Conditional Test Logic
  538 |               expect(err.code).toBe(Parse.Error.SCRIPT_FAILED);
  539 |               expect(err.message).toEqual('incorrect key provided');
  540 |             }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 704, 'column': 4, 'index': 20761}","  702 |
  703 |   it('should not crash server and return error on invalid Cloud Function name', async () => {
> 704 |     for (const invalidName of invalidNames) {
      |    ^ Conditional Test Logic
  705 |       let error;
  706 |       try {
  707 |         await Parse.Cloud.run(invalidName);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Conditional Test Logic,"{'line': 717, 'column': 4, 'index': 21125}","  715 |
  716 |   it('should not crash server and return error on invalid Cloud Job name', async () => {
> 717 |     for (const invalidName of invalidNames) {
      |    ^ Conditional Test Logic
  718 |       let error;
  719 |       try {
  720 |         await Parse.Cloud.startJob(invalidName);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 268, 'column': 10, 'index': 7424}","  266 |         },
  267 |         err => {
> 268 |           expect(err).not.toBe(undefined);
      |          ^ Duplicate Assert
  269 |           expect(err).not.toBe(null);
  270 |           if (err) {
  271 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 268, 'column': 10, 'index': 7424}","  266 |         },
  267 |         err => {
> 268 |           expect(err).not.toBe(undefined);
      |          ^ Duplicate Assert
  269 |           expect(err).not.toBe(null);
  270 |           if (err) {
  271 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 269, 'column': 10, 'index': 7467}","  267 |         err => {
  268 |           expect(err).not.toBe(undefined);
> 269 |           expect(err).not.toBe(null);
      |          ^ Duplicate Assert
  270 |           if (err) {
  271 |             expect(err.code).toBe(143);
  272 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 269, 'column': 10, 'index': 7467}","  267 |         err => {
  268 |           expect(err).not.toBe(undefined);
> 269 |           expect(err).not.toBe(null);
      |          ^ Duplicate Assert
  270 |           if (err) {
  271 |             expect(err.code).toBe(143);
  272 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 271, 'column': 12, 'index': 7528}","  269 |           expect(err).not.toBe(null);
  270 |           if (err) {
> 271 |             expect(err.code).toBe(143);
      |            ^ Duplicate Assert
  272 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
  273 |           }
  274 |           return Parse.Hooks.getFunction('A_COOL_FUNCTION');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 271, 'column': 12, 'index': 7528}","  269 |           expect(err).not.toBe(null);
  270 |           if (err) {
> 271 |             expect(err.code).toBe(143);
      |            ^ Duplicate Assert
  272 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
  273 |           }
  274 |           return Parse.Hooks.getFunction('A_COOL_FUNCTION');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 272, 'column': 12, 'index': 7568}","  270 |           if (err) {
  271 |             expect(err.code).toBe(143);
> 272 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
      |            ^ Duplicate Assert
  273 |           }
  274 |           return Parse.Hooks.getFunction('A_COOL_FUNCTION');
  275 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 272, 'column': 12, 'index': 7568}","  270 |           if (err) {
  271 |             expect(err.code).toBe(143);
> 272 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
      |            ^ Duplicate Assert
  273 |           }
  274 |           return Parse.Hooks.getFunction('A_COOL_FUNCTION');
  275 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 283, 'column': 10, 'index': 7868}","  281 |         },
  282 |         err => {
> 283 |           expect(err).not.toBe(undefined);
      |          ^ Duplicate Assert
  284 |           expect(err).not.toBe(null);
  285 |           if (err) {
  286 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 283, 'column': 10, 'index': 7868}","  281 |         },
  282 |         err => {
> 283 |           expect(err).not.toBe(undefined);
      |          ^ Duplicate Assert
  284 |           expect(err).not.toBe(null);
  285 |           if (err) {
  286 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 284, 'column': 10, 'index': 7911}","  282 |         err => {
  283 |           expect(err).not.toBe(undefined);
> 284 |           expect(err).not.toBe(null);
      |          ^ Duplicate Assert
  285 |           if (err) {
  286 |             expect(err.code).toBe(143);
  287 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 284, 'column': 10, 'index': 7911}","  282 |         err => {
  283 |           expect(err).not.toBe(undefined);
> 284 |           expect(err).not.toBe(null);
      |          ^ Duplicate Assert
  285 |           if (err) {
  286 |             expect(err.code).toBe(143);
  287 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 286, 'column': 12, 'index': 7972}","  284 |           expect(err).not.toBe(null);
  285 |           if (err) {
> 286 |             expect(err.code).toBe(143);
      |            ^ Duplicate Assert
  287 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
  288 |           }
  289 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 286, 'column': 12, 'index': 7972}","  284 |           expect(err).not.toBe(null);
  285 |           if (err) {
> 286 |             expect(err.code).toBe(143);
      |            ^ Duplicate Assert
  287 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
  288 |           }
  289 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 287, 'column': 12, 'index': 8012}","  285 |           if (err) {
  286 |             expect(err.code).toBe(143);
> 287 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
      |            ^ Duplicate Assert
  288 |           }
  289 |           done();
  290 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 287, 'column': 12, 'index': 8012}","  285 |           if (err) {
  286 |             expect(err.code).toBe(143);
> 287 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
      |            ^ Duplicate Assert
  288 |           }
  289 |           done();
  290 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 301, 'column': 10, 'index': 8398}","  299 |         },
  300 |         err => {
> 301 |           expect(err).not.toBe(undefined);
      |          ^ Duplicate Assert
  302 |           expect(err).not.toBe(null);
  303 |           if (err) {
  304 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 301, 'column': 10, 'index': 8398}","  299 |         },
  300 |         err => {
> 301 |           expect(err).not.toBe(undefined);
      |          ^ Duplicate Assert
  302 |           expect(err).not.toBe(null);
  303 |           if (err) {
  304 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 302, 'column': 10, 'index': 8441}","  300 |         err => {
  301 |           expect(err).not.toBe(undefined);
> 302 |           expect(err).not.toBe(null);
      |          ^ Duplicate Assert
  303 |           if (err) {
  304 |             expect(err.code).toBe(143);
  305 |             expect(err.message).toBe('class AClassName does not exist');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 302, 'column': 10, 'index': 8441}","  300 |         err => {
  301 |           expect(err).not.toBe(undefined);
> 302 |           expect(err).not.toBe(null);
      |          ^ Duplicate Assert
  303 |           if (err) {
  304 |             expect(err.code).toBe(143);
  305 |             expect(err.message).toBe('class AClassName does not exist');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 304, 'column': 12, 'index': 8502}","  302 |           expect(err).not.toBe(null);
  303 |           if (err) {
> 304 |             expect(err.code).toBe(143);
      |            ^ Duplicate Assert
  305 |             expect(err.message).toBe('class AClassName does not exist');
  306 |           }
  307 |           return Parse.Hooks.getTrigger('AClassName', 'beforeSave');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 304, 'column': 12, 'index': 8502}","  302 |           expect(err).not.toBe(null);
  303 |           if (err) {
> 304 |             expect(err.code).toBe(143);
      |            ^ Duplicate Assert
  305 |             expect(err.message).toBe('class AClassName does not exist');
  306 |           }
  307 |           return Parse.Hooks.getTrigger('AClassName', 'beforeSave');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 305, 'column': 12, 'index': 8542}","  303 |           if (err) {
  304 |             expect(err.code).toBe(143);
> 305 |             expect(err.message).toBe('class AClassName does not exist');
      |            ^ Duplicate Assert
  306 |           }
  307 |           return Parse.Hooks.getTrigger('AClassName', 'beforeSave');
  308 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 305, 'column': 12, 'index': 8542}","  303 |           if (err) {
  304 |             expect(err.code).toBe(143);
> 305 |             expect(err.message).toBe('class AClassName does not exist');
      |            ^ Duplicate Assert
  306 |           }
  307 |           return Parse.Hooks.getTrigger('AClassName', 'beforeSave');
  308 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 316, 'column': 10, 'index': 8836}","  314 |         },
  315 |         err => {
> 316 |           expect(err).not.toBe(undefined);
      |          ^ Duplicate Assert
  317 |           expect(err).not.toBe(null);
  318 |           if (err) {
  319 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 316, 'column': 10, 'index': 8836}","  314 |         },
  315 |         err => {
> 316 |           expect(err).not.toBe(undefined);
      |          ^ Duplicate Assert
  317 |           expect(err).not.toBe(null);
  318 |           if (err) {
  319 |             expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 317, 'column': 10, 'index': 8879}","  315 |         err => {
  316 |           expect(err).not.toBe(undefined);
> 317 |           expect(err).not.toBe(null);
      |          ^ Duplicate Assert
  318 |           if (err) {
  319 |             expect(err.code).toBe(143);
  320 |             expect(err.message).toBe('class AClassName does not exist');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 317, 'column': 10, 'index': 8879}","  315 |         err => {
  316 |           expect(err).not.toBe(undefined);
> 317 |           expect(err).not.toBe(null);
      |          ^ Duplicate Assert
  318 |           if (err) {
  319 |             expect(err.code).toBe(143);
  320 |             expect(err.message).toBe('class AClassName does not exist');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 319, 'column': 12, 'index': 8940}","  317 |           expect(err).not.toBe(null);
  318 |           if (err) {
> 319 |             expect(err.code).toBe(143);
      |            ^ Duplicate Assert
  320 |             expect(err.message).toBe('class AClassName does not exist');
  321 |           }
  322 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 319, 'column': 12, 'index': 8940}","  317 |           expect(err).not.toBe(null);
  318 |           if (err) {
> 319 |             expect(err.code).toBe(143);
      |            ^ Duplicate Assert
  320 |             expect(err.message).toBe('class AClassName does not exist');
  321 |           }
  322 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 320, 'column': 12, 'index': 8980}","  318 |           if (err) {
  319 |             expect(err.code).toBe(143);
> 320 |             expect(err.message).toBe('class AClassName does not exist');
      |            ^ Duplicate Assert
  321 |           }
  322 |           done();
  323 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 320, 'column': 12, 'index': 8980}","  318 |           if (err) {
  319 |             expect(err.code).toBe(143);
> 320 |             expect(err.message).toBe('class AClassName does not exist');
      |            ^ Duplicate Assert
  321 |           }
  322 |           done();
  323 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 333, 'column': 8, 'index': 9282}","  331 |       },
  332 |       err => {
> 333 |         expect(err).not.toBe(undefined);
      |        ^ Duplicate Assert
  334 |         expect(err).not.toBe(null);
  335 |         if (err) {
  336 |           expect(err.code).toBe(143);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 334, 'column': 8, 'index': 9323}","  332 |       err => {
  333 |         expect(err).not.toBe(undefined);
> 334 |         expect(err).not.toBe(null);
      |        ^ Duplicate Assert
  335 |         if (err) {
  336 |           expect(err.code).toBe(143);
  337 |           expect(err.error).toBe('invalid hook declaration');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 659, 'column': 4, 'index': 19552}","  657 |       key: 'value',
  658 |     };
> 659 |     expect(context.key).toBe(undefined);
      |    ^ Duplicate Assert
  660 |     req.context = {
  661 |       key: 'newValue',
  662 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 659, 'column': 4, 'index': 19552}","  657 |       key: 'value',
  658 |     };
> 659 |     expect(context.key).toBe(undefined);
      |    ^ Duplicate Assert
  660 |     req.context = {
  661 |       key: 'newValue',
  662 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 663, 'column': 4, 'index': 19643}","  661 |       key: 'newValue',
  662 |     };
> 663 |     expect(context.key).toBe(undefined);
      |    ^ Duplicate Assert
  664 |   });
  665 |
  666 |   it('should produce a proper request object with context in afterSave', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Duplicate Assert,"{'line': 663, 'column': 4, 'index': 19643}","  661 |       key: 'newValue',
  662 |     };
> 663 |     expect(context.key).toBe(undefined);
      |    ^ Duplicate Assert
  664 |   });
  665 |
  666 |   it('should produce a proper request object with context in afterSave', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Exception Handling,"{'line': 706, 'column': 6, 'index': 20826}","  704 |     for (const invalidName of invalidNames) {
  705 |       let error;
> 706 |       try {
      |      ^ Exception Handling
  707 |         await Parse.Cloud.run(invalidName);
  708 |       } catch (err) {
  709 |         error = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Exception Handling,"{'line': 719, 'column': 6, 'index': 21190}","  717 |     for (const invalidName of invalidNames) {
  718 |       let error;
> 719 |       try {
      |      ^ Exception Handling
  720 |         await Parse.Cloud.startJob(invalidName);
  721 |       } catch (err) {
  722 |         error = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Magic Number,"{'line': 271, 'column': 34, 'index': 7550}","  269 |           expect(err).not.toBe(null);
  270 |           if (err) {
> 271 |             expect(err.code).toBe(143);
      |                                  ^ Magic Number
  272 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
  273 |           }
  274 |           return Parse.Hooks.getFunction('A_COOL_FUNCTION');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Magic Number,"{'line': 286, 'column': 34, 'index': 7994}","  284 |           expect(err).not.toBe(null);
  285 |           if (err) {
> 286 |             expect(err.code).toBe(143);
      |                                  ^ Magic Number
  287 |             expect(err.message).toBe('no function named: A_COOL_FUNCTION is defined');
  288 |           }
  289 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Magic Number,"{'line': 304, 'column': 34, 'index': 8524}","  302 |           expect(err).not.toBe(null);
  303 |           if (err) {
> 304 |             expect(err.code).toBe(143);
      |                                  ^ Magic Number
  305 |             expect(err.message).toBe('class AClassName does not exist');
  306 |           }
  307 |           return Parse.Hooks.getTrigger('AClassName', 'beforeSave');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Magic Number,"{'line': 319, 'column': 34, 'index': 8962}","  317 |           expect(err).not.toBe(null);
  318 |           if (err) {
> 319 |             expect(err.code).toBe(143);
      |                                  ^ Magic Number
  320 |             expect(err.message).toBe('class AClassName does not exist');
  321 |           }
  322 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Magic Number,"{'line': 336, 'column': 32, 'index': 9402}","  334 |         expect(err).not.toBe(null);
  335 |         if (err) {
> 336 |           expect(err.code).toBe(143);
      |                                ^ Magic Number
  337 |           expect(err.error).toBe('invalid hook declaration');
  338 |         }
  339 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseHooks.spec.js,Magic Number,"{'line': 356, 'column': 29, 'index': 10022}","  354 |       const body = response.data;
  355 |       expect(body.error).toBe('invalid hook declaration');
> 356 |       expect(body.code).toBe(143);
      |                             ^ Magic Number
  357 |       done();
  358 |     });
  359 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 40, 'column': 2, 'index': 1374}","  38 |
  39 | function handleError(e) {
> 40 |   if (e && e.networkError && e.networkError.result && e.networkError.result.errors) {
     |  ^ Conditional Test Logic
  41 |     fail(e.networkError.result.errors);
  42 |   } else {
  43 |     fail(e);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 386, 'column': 8, 'index': 12480}","  384 |         );
  385 |       } catch (err) {
> 386 |         if (!(err instanceof Parse.Error) || err.message !== 'Class GraphQLClass already exists.') {
      |        ^ Conditional Test Logic
  387 |           throw err;
  388 |         }
  389 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 436, 'column': 6, 'index': 14472}","  434 |
  435 |     async function createGQLFromParseServer(_parseServer, parseGraphQLServerOptions) {
> 436 |       if (parseLiveQueryServer) {
      |      ^ Conditional Test Logic
  437 |         await parseLiveQueryServer.server.close();
  438 |       }
  439 |       if (httpServer) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 439, 'column': 6, 'index': 14565}","  437 |         await parseLiveQueryServer.server.close();
  438 |       }
> 439 |       if (httpServer) {
      |      ^ Conditional Test Logic
  440 |         await httpServer.close();
  441 |       }
  442 |       const expressApp = express();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 897, 'column': 10, 'index': 28431}","  895 |         let clearCache;
  896 |         beforeEach(async () => {
> 897 |           if (!clearCache) {
      |          ^ Conditional Test Logic
  898 |             await resetGraphQLCache();
  899 |             clearCache = true;
  900 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 4698, 'column': 18, 'index': 161718}","  4696 |                 let foundUserClassReadPreference = false;
  4697 |                 Collection.prototype.find.calls.all().forEach(call => {
> 4698 |                   if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
       |                  ^ Conditional Test Logic
  4699 |                     foundGraphQLClassReadPreference = true;
  4700 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
  4701 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 4701, 'column': 25, 'index': 161966}","  4699 |                     foundGraphQLClassReadPreference = true;
  4700 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
> 4701 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
       |                         ^ Conditional Test Logic
  4702 |                     foundUserClassReadPreference = true;
  4703 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
  4704 |                   }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 4744, 'column': 16, 'index': 163510}","  4742 |               let foundUserClassReadPreference = false;
  4743 |               Collection.prototype.find.calls.all().forEach(call => {
> 4744 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
       |                ^ Conditional Test Logic
  4745 |                   foundGraphQLClassReadPreference = true;
  4746 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
  4747 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 4747, 'column': 23, 'index': 163748}","  4745 |                   foundGraphQLClassReadPreference = true;
  4746 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
> 4747 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
       |                       ^ Conditional Test Logic
  4748 |                   foundUserClassReadPreference = true;
  4749 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
  4750 |                 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 4790, 'column': 16, 'index': 165304}","  4788 |               let foundUserClassReadPreference = false;
  4789 |               Collection.prototype.find.calls.all().forEach(call => {
> 4790 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
       |                ^ Conditional Test Logic
  4791 |                   foundGraphQLClassReadPreference = true;
  4792 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
  4793 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 4793, 'column': 23, 'index': 165542}","  4791 |                   foundGraphQLClassReadPreference = true;
  4792 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
> 4793 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
       |                       ^ Conditional Test Logic
  4794 |                   foundUserClassReadPreference = true;
  4795 |                   expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);
  4796 |                 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5191, 'column': 12, 'index': 178858}","  5189 |           it_id('0fd03d3c-a2c8-4fac-95cc-2391a3032ca2')(it)('should support order, skip and first arguments', async () => {
  5190 |             const promises = [];
> 5191 |             for (let i = 0; i < 100; i++) {
       |            ^ Conditional Test Logic
  5192 |               const obj = new Parse.Object('SomeClass');
  5193 |               obj.set('someField', `someValue${i < 10 ? '0' : ''}${i}`);
  5194 |               obj.set('numberField', i % 3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5239, 'column': 14, 'index': 180507}","  5237 |             const numberArray = (first, last) => {
  5238 |               const array = [];
> 5239 |               for (let i = first; i <= last; i++) {
       |              ^ Conditional Test Logic
  5240 |                 array.push(i);
  5241 |               }
  5242 |               return array;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5246, 'column': 12, 'index': 180681}","  5244 |
  5245 |             const promises = [];
> 5246 |             for (let i = 0; i < 100; i++) {
       |            ^ Conditional Test Logic
  5247 |               const obj = new Parse.Object('SomeClass');
  5248 |               obj.set('numberField', i);
  5249 |               promises.push(obj.save());"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5487, 'column': 12, 'index': 189373}","  5485 |             await createGQLFromParseServer(parseServer);
  5486 |             const promises = [];
> 5487 |             for (let i = 0; i < 100; i++) {
       |            ^ Conditional Test Logic
  5488 |               const obj = new Parse.Object('SomeClass');
  5489 |               promises.push(obj.save());
  5490 |             }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5678, 'column': 16, 'index': 195527}","  5676 |               let foundUserClassReadPreference = false;
  5677 |               Collection.prototype.find.calls.all().forEach(call => {
> 5678 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
       |                ^ Conditional Test Logic
  5679 |                   foundGraphQLClassReadPreference = true;
  5680 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
  5681 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5681, 'column': 23, 'index': 195769}","  5679 |                   foundGraphQLClassReadPreference = true;
  5680 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
> 5681 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
       |                       ^ Conditional Test Logic
  5682 |                   foundUserClassReadPreference = true;
  5683 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
  5684 |                 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5722, 'column': 16, 'index': 197257}","  5720 |               let foundUserClassReadPreference = false;
  5721 |               Collection.prototype.find.calls.all().forEach(call => {
> 5722 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
       |                ^ Conditional Test Logic
  5723 |                   foundGraphQLClassReadPreference = true;
  5724 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
  5725 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5725, 'column': 23, 'index': 197495}","  5723 |                   foundGraphQLClassReadPreference = true;
  5724 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
> 5725 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
       |                       ^ Conditional Test Logic
  5726 |                   foundUserClassReadPreference = true;
  5727 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
  5728 |                 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5768, 'column': 16, 'index': 199056}","  5766 |               let foundUserClassReadPreference = false;
  5767 |               Collection.prototype.find.calls.all().forEach(call => {
> 5768 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
       |                ^ Conditional Test Logic
  5769 |                   foundGraphQLClassReadPreference = true;
  5770 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
  5771 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5771, 'column': 23, 'index': 199294}","  5769 |                   foundGraphQLClassReadPreference = true;
  5770 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
> 5771 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
       |                       ^ Conditional Test Logic
  5772 |                   foundUserClassReadPreference = true;
  5773 |                   expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);
  5774 |                 }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5825, 'column': 18, 'index': 201266}","  5823 |                 let foundUserClassReadPreference = false;
  5824 |                 Collection.prototype.find.calls.all().forEach(call => {
> 5825 |                   if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
       |                  ^ Conditional Test Logic
  5826 |                     foundGraphQLClassReadPreference = true;
  5827 |                     expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
  5828 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 5828, 'column': 25, 'index': 201510}","  5826 |                     foundGraphQLClassReadPreference = true;
  5827 |                     expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
> 5828 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
       |                         ^ Conditional Test Logic
  5829 |                     foundUserClassReadPreference = true;
  5830 |                     expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);
  5831 |                   }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Conditional Test Logic,"{'line': 11581, 'column': 8, 'index': 397513}","  11579 |
  11580 |       beforeEach(async () => {
> 11581 |         if (!httpServer) {
        |        ^ Conditional Test Logic
  11582 |           const expressApp = express();
  11583 |           httpServer = http.createServer(expressApp);
  11584 |           parseGraphQLServer = new ParseGraphQLServer(parseServer, {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 118, 'column': 6, 'index': 3955}","  116 |       const server3 = await parseGraphQLServer._getServer();
  117 |       const server4 = await parseGraphQLServer._getServer();
> 118 |       expect(server3).not.toBe(server2);
      |      ^ Duplicate Assert
  119 |       expect(server3).toBe(server4);
  120 |     });
  121 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 119, 'column': 6, 'index': 3996}","  117 |       const server4 = await parseGraphQLServer._getServer();
  118 |       expect(server3).not.toBe(server2);
> 119 |       expect(server3).toBe(server4);
      |      ^ Duplicate Assert
  120 |     });
  121 |   });
  122 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 147, 'column': 6, 'index': 5031}","  145 |       let counter = 0;
  146 |       parseGraphQLServer.parseGraphQLSchema.load = () => ++counter;
> 147 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(1);
      |      ^ Duplicate Assert
  148 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(2);
  149 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(3);
  150 |       parseGraphQLServer.parseGraphQLSchema.load = originalLoad;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 148, 'column': 6, 'index': 5115}","  146 |       parseGraphQLServer.parseGraphQLSchema.load = () => ++counter;
  147 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(1);
> 148 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(2);
      |      ^ Duplicate Assert
  149 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(3);
  150 |       parseGraphQLServer.parseGraphQLSchema.load = originalLoad;
  151 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 149, 'column': 6, 'index': 5199}","  147 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(1);
  148 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(2);
> 149 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(3);
      |      ^ Duplicate Assert
  150 |       parseGraphQLServer.parseGraphQLSchema.load = originalLoad;
  151 |     });
  152 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 959, 'column': 10, 'index': 30101}","  957 |           ).data['__type'].fields.map(field => field.name);
  958 |
> 959 |           expect(userFields).toContain('id');
      |          ^ Duplicate Assert
  960 |           expect(userFields).toContain('objectId');
  961 |         });
  962 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 960, 'column': 10, 'index': 30147}","  958 |
  959 |           expect(userFields).toContain('id');
> 960 |           expect(userFields).toContain('objectId');
      |          ^ Duplicate Assert
  961 |         });
  962 |
  963 |         it('should have clientMutationId in create file input', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 1493, 'column': 10, 'index': 46386}","  1491 |           ).data['__type'];
  1492 |           const possibleTypes = objectType.possibleTypes.map(o => o.name);
> 1493 |           expect(possibleTypes).toContain('User');
       |          ^ Duplicate Assert
  1494 |           expect(possibleTypes).toContain('Role');
  1495 |           expect(possibleTypes).toContain('Element');
  1496 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 1494, 'column': 10, 'index': 46437}","  1492 |           const possibleTypes = objectType.possibleTypes.map(o => o.name);
  1493 |           expect(possibleTypes).toContain('User');
> 1494 |           expect(possibleTypes).toContain('Role');
       |          ^ Duplicate Assert
  1495 |           expect(possibleTypes).toContain('Element');
  1496 |         });
  1497 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 1495, 'column': 10, 'index': 46488}","  1493 |           expect(possibleTypes).toContain('User');
  1494 |           expect(possibleTypes).toContain('Role');
> 1495 |           expect(possibleTypes).toContain('Element');
       |          ^ Duplicate Assert
  1496 |         });
  1497 |
  1498 |         it('should update schema when it changes', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4700, 'column': 20, 'index': 161869}","  4698 |                   if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  4699 |                     foundGraphQLClassReadPreference = true;
> 4700 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
       |                    ^ Duplicate Assert
  4701 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4702 |                     foundUserClassReadPreference = true;
  4703 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4700, 'column': 20, 'index': 161869}","  4698 |                   if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  4699 |                     foundGraphQLClassReadPreference = true;
> 4700 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
       |                    ^ Duplicate Assert
  4701 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4702 |                     foundUserClassReadPreference = true;
  4703 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4703, 'column': 20, 'index': 162107}","  4701 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4702 |                     foundUserClassReadPreference = true;
> 4703 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
       |                    ^ Duplicate Assert
  4704 |                   }
  4705 |                 });
  4706 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4703, 'column': 20, 'index': 162107}","  4701 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4702 |                     foundUserClassReadPreference = true;
> 4703 |                     expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
       |                    ^ Duplicate Assert
  4704 |                   }
  4705 |                 });
  4706 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4746, 'column': 18, 'index': 163657}","  4744 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  4745 |                   foundGraphQLClassReadPreference = true;
> 4746 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  4747 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4748 |                   foundUserClassReadPreference = true;
  4749 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4746, 'column': 18, 'index': 163657}","  4744 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  4745 |                   foundGraphQLClassReadPreference = true;
> 4746 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  4747 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4748 |                   foundUserClassReadPreference = true;
  4749 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4749, 'column': 18, 'index': 163885}","  4747 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4748 |                   foundUserClassReadPreference = true;
> 4749 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  4750 |                 }
  4751 |               });
  4752 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4749, 'column': 18, 'index': 163885}","  4747 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4748 |                   foundUserClassReadPreference = true;
> 4749 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  4750 |                 }
  4751 |               });
  4752 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4792, 'column': 18, 'index': 165451}","  4790 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  4791 |                   foundGraphQLClassReadPreference = true;
> 4792 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  4793 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4794 |                   foundUserClassReadPreference = true;
  4795 |                   expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 4795, 'column': 18, 'index': 165679}","  4793 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  4794 |                   foundUserClassReadPreference = true;
> 4795 |                   expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);
       |                  ^ Duplicate Assert
  4796 |                 }
  4797 |               });
  4798 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5680, 'column': 18, 'index': 195674}","  5678 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  5679 |                   foundGraphQLClassReadPreference = true;
> 5680 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
       |                  ^ Duplicate Assert
  5681 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5682 |                   foundUserClassReadPreference = true;
  5683 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5680, 'column': 18, 'index': 195674}","  5678 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  5679 |                   foundGraphQLClassReadPreference = true;
> 5680 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
       |                  ^ Duplicate Assert
  5681 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5682 |                   foundUserClassReadPreference = true;
  5683 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5683, 'column': 18, 'index': 195906}","  5681 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5682 |                   foundUserClassReadPreference = true;
> 5683 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
       |                  ^ Duplicate Assert
  5684 |                 }
  5685 |               });
  5686 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5683, 'column': 18, 'index': 195906}","  5681 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5682 |                   foundUserClassReadPreference = true;
> 5683 |                   expect(call.object.s.readPreference.mode).toBe(ReadPreference.PRIMARY);
       |                  ^ Duplicate Assert
  5684 |                 }
  5685 |               });
  5686 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5724, 'column': 18, 'index': 197404}","  5722 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  5723 |                   foundGraphQLClassReadPreference = true;
> 5724 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  5725 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5726 |                   foundUserClassReadPreference = true;
  5727 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5724, 'column': 18, 'index': 197404}","  5722 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  5723 |                   foundGraphQLClassReadPreference = true;
> 5724 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  5725 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5726 |                   foundUserClassReadPreference = true;
  5727 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5727, 'column': 18, 'index': 197632}","  5725 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5726 |                   foundUserClassReadPreference = true;
> 5727 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  5728 |                 }
  5729 |               });
  5730 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5727, 'column': 18, 'index': 197632}","  5725 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5726 |                   foundUserClassReadPreference = true;
> 5727 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  5728 |                 }
  5729 |               });
  5730 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5770, 'column': 18, 'index': 199203}","  5768 |                 if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  5769 |                   foundGraphQLClassReadPreference = true;
> 5770 |                   expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                  ^ Duplicate Assert
  5771 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5772 |                   foundUserClassReadPreference = true;
  5773 |                   expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5773, 'column': 18, 'index': 199431}","  5771 |                 } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5772 |                   foundUserClassReadPreference = true;
> 5773 |                   expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);
       |                  ^ Duplicate Assert
  5774 |                 }
  5775 |               });
  5776 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5827, 'column': 20, 'index': 201417}","  5825 |                   if (call.object.s.namespace.collection.indexOf('GraphQLClass') >= 0) {
  5826 |                     foundGraphQLClassReadPreference = true;
> 5827 |                     expect(call.args[1].readPreference).toBe(ReadPreference.SECONDARY);
       |                    ^ Duplicate Assert
  5828 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5829 |                     foundUserClassReadPreference = true;
  5830 |                     expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 5830, 'column': 20, 'index': 201651}","  5828 |                   } else if (call.object.s.namespace.collection.indexOf('_User') >= 0) {
  5829 |                     foundUserClassReadPreference = true;
> 5830 |                     expect(call.args[1].readPreference).toBe(ReadPreference.NEAREST);
       |                    ^ Duplicate Assert
  5831 |                   }
  5832 |                 });
  5833 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6234, 'column': 16, 'index': 215839}","  6232 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6233 |                 await obj.fetch({ useMasterKey: true });
> 6234 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6235 |               })
  6236 |             );
  6237 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6234, 'column': 16, 'index': 215839}","  6232 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6233 |                 await obj.fetch({ useMasterKey: true });
> 6234 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6235 |               })
  6236 |             );
  6237 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6245, 'column': 12, 'index': 216241}","  6243 |             ).toBeDefined();
  6244 |             await object4.fetch({ useMasterKey: true });
> 6245 |             expect(object4.get('someField')).toEqual('changedValue1');
       |            ^ Duplicate Assert
  6246 |             await Promise.all(
  6247 |               objects.map(async obj => {
  6248 |                 expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6259, 'column': 16, 'index': 216809}","  6257 |                 ).toBeDefined();
  6258 |                 await obj.fetch({ useMasterKey: true });
> 6259 |                 expect(obj.get('someField')).toEqual('changedValue2');
       |                ^ Duplicate Assert
  6260 |               })
  6261 |             );
  6262 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6275, 'column': 16, 'index': 217425}","  6273 |                 ).toBeDefined();
  6274 |                 await obj.fetch({ useMasterKey: true });
> 6275 |                 expect(obj.get('someField')).toEqual('changedValue3');
       |                ^ Duplicate Assert
  6276 |               })
  6277 |             );
  6278 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6291, 'column': 16, 'index': 218041}","  6289 |                 ).toBeDefined();
  6290 |                 await obj.fetch({ useMasterKey: true });
> 6291 |                 expect(obj.get('someField')).toEqual('changedValue4');
       |                ^ Duplicate Assert
  6292 |               })
  6293 |             );
  6294 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6307, 'column': 16, 'index': 218677}","  6305 |                 ).toBeDefined();
  6306 |                 await obj.fetch({ useMasterKey: true });
> 6307 |                 expect(obj.get('someField')).toEqual('changedValue5');
       |                ^ Duplicate Assert
  6308 |               })
  6309 |             );
  6310 |             const originalFieldValue = object2.get('someField');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6333, 'column': 16, 'index': 219868}","  6331 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6332 |                 await obj.fetch({ useMasterKey: true });
> 6333 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6334 |               })
  6335 |             );
  6336 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6333, 'column': 16, 'index': 219868}","  6331 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6332 |                 await obj.fetch({ useMasterKey: true });
> 6333 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6334 |               })
  6335 |             );
  6336 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6347, 'column': 12, 'index': 220379}","  6345 |             ).toBeDefined();
  6346 |             await object4.fetch({ useMasterKey: true });
> 6347 |             expect(object4.get('someField')).toEqual('changedValue6');
       |            ^ Duplicate Assert
  6348 |             await Promise.all(
  6349 |               objects.slice(0, 2).map(async obj => {
  6350 |                 const originalFieldValue = obj.get('someField');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6360, 'column': 16, 'index': 221015}","  6358 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6359 |                 await obj.fetch({ useMasterKey: true });
> 6360 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6361 |               })
  6362 |             );
  6363 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6360, 'column': 16, 'index': 221015}","  6358 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6359 |                 await obj.fetch({ useMasterKey: true });
> 6360 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6361 |               })
  6362 |             );
  6363 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6386, 'column': 12, 'index': 222006}","  6384 |             ).toBeDefined();
  6385 |             await object4.fetch({ useMasterKey: true });
> 6386 |             expect(object4.get('someField')).toEqual('changedValue7');
       |            ^ Duplicate Assert
  6387 |           });
  6388 |
  6389 |           it('should respect level permissions with specific class mutation', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6432, 'column': 16, 'index': 223637}","  6430 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6431 |                 await obj.fetch({ useMasterKey: true });
> 6432 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6433 |               })
  6434 |             );
  6435 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6432, 'column': 16, 'index': 223637}","  6430 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6431 |                 await obj.fetch({ useMasterKey: true });
> 6432 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6433 |               })
  6434 |             );
  6435 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6445, 'column': 12, 'index': 224159}","  6443 |             ).toBeDefined();
  6444 |             await object4.fetch({ useMasterKey: true });
> 6445 |             expect(object4.get('someField')).toEqual('changedValue1');
       |            ^ Duplicate Assert
  6446 |             await Promise.all(
  6447 |               objects.map(async obj => {
  6448 |                 expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6461, 'column': 16, 'index': 224843}","  6459 |                 ).toBeDefined();
  6460 |                 await obj.fetch({ useMasterKey: true });
> 6461 |                 expect(obj.get('someField')).toEqual('changedValue2');
       |                ^ Duplicate Assert
  6462 |               })
  6463 |             );
  6464 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6479, 'column': 16, 'index': 225575}","  6477 |                 ).toBeDefined();
  6478 |                 await obj.fetch({ useMasterKey: true });
> 6479 |                 expect(obj.get('someField')).toEqual('changedValue3');
       |                ^ Duplicate Assert
  6480 |               })
  6481 |             );
  6482 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6497, 'column': 16, 'index': 226307}","  6495 |                 ).toBeDefined();
  6496 |                 await obj.fetch({ useMasterKey: true });
> 6497 |                 expect(obj.get('someField')).toEqual('changedValue4');
       |                ^ Duplicate Assert
  6498 |               })
  6499 |             );
  6500 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6515, 'column': 16, 'index': 227059}","  6513 |                 ).toBeDefined();
  6514 |                 await obj.fetch({ useMasterKey: true });
> 6515 |                 expect(obj.get('someField')).toEqual('changedValue5');
       |                ^ Duplicate Assert
  6516 |               })
  6517 |             );
  6518 |             const originalFieldValue = object2.get('someField');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6541, 'column': 16, 'index': 228250}","  6539 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6540 |                 await obj.fetch({ useMasterKey: true });
> 6541 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6542 |               })
  6543 |             );
  6544 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6541, 'column': 16, 'index': 228250}","  6539 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6540 |                 await obj.fetch({ useMasterKey: true });
> 6541 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6542 |               })
  6543 |             );
  6544 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6557, 'column': 12, 'index': 228881}","  6555 |             ).toBeDefined();
  6556 |             await object4.fetch({ useMasterKey: true });
> 6557 |             expect(object4.get('someField')).toEqual('changedValue6');
       |            ^ Duplicate Assert
  6558 |             await Promise.all(
  6559 |               objects.slice(0, 2).map(async obj => {
  6560 |                 const originalFieldValue = obj.get('someField');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6570, 'column': 16, 'index': 229517}","  6568 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6569 |                 await obj.fetch({ useMasterKey: true });
> 6570 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6571 |               })
  6572 |             );
  6573 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6570, 'column': 16, 'index': 229517}","  6568 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6569 |                 await obj.fetch({ useMasterKey: true });
> 6570 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6571 |               })
  6572 |             );
  6573 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6600, 'column': 12, 'index': 230748}","  6598 |             ).toBeDefined();
  6599 |             await object4.fetch({ useMasterKey: true });
> 6600 |             expect(object4.get('someField')).toEqual('changedValue7');
       |            ^ Duplicate Assert
  6601 |           });
  6602 |         });
  6603 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6681, 'column': 16, 'index': 233749}","  6679 |                 );
  6680 |                 await obj.fetch({ useMasterKey: true });
> 6681 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6682 |               })
  6683 |             );
  6684 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6681, 'column': 16, 'index': 233749}","  6679 |                 );
  6680 |                 await obj.fetch({ useMasterKey: true });
> 6681 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6682 |               })
  6683 |             );
  6684 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6693, 'column': 16, 'index': 234323}","  6691 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6692 |                 await obj.fetch({ useMasterKey: true });
> 6693 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6694 |               })
  6695 |             );
  6696 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6693, 'column': 16, 'index': 234323}","  6691 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6692 |                 await obj.fetch({ useMasterKey: true });
> 6693 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6694 |               })
  6695 |             );
  6696 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6771, 'column': 16, 'index': 237737}","  6769 |                 );
  6770 |                 await obj.fetch({ useMasterKey: true });
> 6771 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6772 |               })
  6773 |             );
  6774 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6771, 'column': 16, 'index': 237737}","  6769 |                 );
  6770 |                 await obj.fetch({ useMasterKey: true });
> 6771 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6772 |               })
  6773 |             );
  6774 |             await Promise.all("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6783, 'column': 16, 'index': 238311}","  6781 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6782 |                 await obj.fetch({ useMasterKey: true });
> 6783 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6784 |               })
  6785 |             );
  6786 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 6783, 'column': 16, 'index': 238311}","  6781 |                 ).toBeRejectedWith(jasmine.stringMatching('Object not found'));
  6782 |                 await obj.fetch({ useMasterKey: true });
> 6783 |                 expect(obj.get('someField')).toEqual(originalFieldValue);
       |                ^ Duplicate Assert
  6784 |               })
  6785 |             );
  6786 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 7034, 'column': 12, 'index': 247072}","  7032 |             });
  7033 |
> 7034 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  7035 |
  7036 |             const result = JSON.parse(await res.text());
  7037 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 7034, 'column': 12, 'index': 247072}","  7032 |             });
  7033 |
> 7034 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  7035 |
  7036 |             const result = JSON.parse(await res.text());
  7037 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 7048, 'column': 12, 'index': 247608}","  7046 |             res = await fetch(result.data.createFile.fileInfo.url);
  7047 |
> 7048 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  7049 |             expect(await res.text()).toEqual('My File Content');
  7050 |           });
  7051 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 7048, 'column': 12, 'index': 247608}","  7046 |             res = await fetch(result.data.createFile.fileInfo.url);
  7047 |
> 7048 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  7049 |             expect(await res.text()).toEqual('My File Content');
  7050 |           });
  7051 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 9502, 'column': 12, 'index': 328034}","  9500 |               body,
  9501 |             });
> 9502 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  9503 |
  9504 |             const result = JSON.parse(await res.text());
  9505 |             expect(result.data.createFile.fileInfo.name).toEqual("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 9502, 'column': 12, 'index': 328034}","  9500 |               body,
  9501 |             });
> 9502 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  9503 |
  9504 |             const result = JSON.parse(await res.text());
  9505 |             expect(result.data.createFile.fileInfo.name).toEqual("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 9612, 'column': 12, 'index': 331781}","  9610 |               body: body2,
  9611 |             });
> 9612 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  9613 |             const result2 = JSON.parse(await res.text());
  9614 |             expect(result2.data.createSomeClass1.someClass.someField.name).toEqual(
  9615 |               jasmine.stringMatching(/_myFileName.txt$/)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 9612, 'column': 12, 'index': 331781}","  9610 |               body: body2,
  9611 |             });
> 9612 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  9613 |             const result2 = JSON.parse(await res.text());
  9614 |             expect(result2.data.createSomeClass1.someClass.someField.name).toEqual(
  9615 |               jasmine.stringMatching(/_myFileName.txt$/)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 9684, 'column': 12, 'index': 334652}","  9682 |             res = await fetch(getResult.data.someClass.someField.url);
  9683 |
> 9684 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  9685 |             expect(await res.text()).toEqual('My File Content');
  9686 |
  9687 |             const mutationResult = await apolloClient.mutate({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 9684, 'column': 12, 'index': 334652}","  9682 |             res = await fetch(getResult.data.someClass.someField.url);
  9683 |
> 9684 |             expect(res.status).toEqual(200);
       |            ^ Duplicate Assert
  9685 |             expect(await res.text()).toEqual('My File Content');
  9686 |
  9687 |             const mutationResult = await apolloClient.mutate({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 11482, 'column': 10, 'index': 393927}","  11480 |         });
  11481 |         result.data.customQueryWithAutoTypeReturnList.forEach(rObj => {
> 11482 |           expect(rObj.objectId).toBeDefined();
        |          ^ Duplicate Assert
  11483 |           expect(rObj.objectId).toEqual(obj.id);
  11484 |           expect(rObj.name).toEqual('aname');
  11485 |           expect(rObj.nameUpperCase).toEqual('ANAME');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 11483, 'column': 10, 'index': 393974}","  11481 |         result.data.customQueryWithAutoTypeReturnList.forEach(rObj => {
  11482 |           expect(rObj.objectId).toBeDefined();
> 11483 |           expect(rObj.objectId).toEqual(obj.id);
        |          ^ Duplicate Assert
  11484 |           expect(rObj.name).toEqual('aname');
  11485 |           expect(rObj.nameUpperCase).toEqual('ANAME');
  11486 |           expect(rObj.type).toEqual('robot');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 11539, 'column': 8, 'index': 396077}","  11537 |         });
  11538 |         expect(result.data.someClass.nameUpperCase).toEqual('ANAME');
> 11539 |         expect(result.data.someClass.language).toEqual('fr');
        |        ^ Duplicate Assert
  11540 |         expect(result.data.someClass.type).toEqual('robot');
  11541 |
  11542 |         const result2 = await apolloClient.query({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 11539, 'column': 8, 'index': 396077}","  11537 |         });
  11538 |         expect(result.data.someClass.nameUpperCase).toEqual('ANAME');
> 11539 |         expect(result.data.someClass.language).toEqual('fr');
        |        ^ Duplicate Assert
  11540 |         expect(result.data.someClass.type).toEqual('robot');
  11541 |
  11542 |         const result2 = await apolloClient.query({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 11554, 'column': 8, 'index': 396549}","  11552 |         });
  11553 |         expect(result2.data.someClass.name).toEqual('aname');
> 11554 |         expect(result.data.someClass.language).toEqual('fr');
        |        ^ Duplicate Assert
  11555 |         const result3 = await apolloClient.mutate({
  11556 |           variables: { id: obj.id, name: 'anewname', type: 'human' },
  11557 |           mutation: gql`"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Duplicate Assert,"{'line': 11554, 'column': 8, 'index': 396549}","  11552 |         });
  11553 |         expect(result2.data.someClass.name).toEqual('aname');
> 11554 |         expect(result.data.someClass.language).toEqual('fr');
        |        ^ Duplicate Assert
  11555 |         const result3 = await apolloClient.mutate({
  11556 |           variables: { id: obj.id, name: 'anewname', type: 'human' },
  11557 |           mutation: gql`"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 257, 'column': 10, 'index': 9018}","  255 |       parseGraphQLServer.parseGraphQLController = {
  256 |         async updateGraphQLConfig() {
> 257 |           throw new Error('Network request failed');
      |          ^ Exception Handling
  258 |         },
  259 |       };
  260 |       await expectAsync(parseGraphQLServer.setGraphQLConfig({})).toBeRejectedWith("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 504, 'column': 8, 'index': 16612}","  502 |     describe('GraphQL', () => {
  503 |       it('should be healthy', async () => {
> 504 |         try {
      |        ^ Exception Handling
  505 |           const health = (
  506 |             await apolloClient.query({
  507 |               query: gql`"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 648, 'column': 10, 'index': 21108}","  646 |         it('should have public introspection disabled by default without master key', async () => {
  647 |
> 648 |           try {
      |          ^ Exception Handling
  649 |             await apolloClient.query({
  650 |               query: gql`
  651 |                 query Introspection {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 2487, 'column': 12, 'index': 77033}","  2485 |           });
  2486 |           it('Id inputs should work either with global id or object id', async () => {
> 2487 |             try {
       |            ^ Exception Handling
  2488 |               await apolloClient.mutate({
  2489 |                 mutation: gql`
  2490 |                   mutation CreateClasses {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 2999, 'column': 10, 'index': 97687}","  2997 |       describe('Class Schema Mutations', () => {
  2998 |         it('should create a new class', async () => {
> 2999 |           try {
       |          ^ Exception Handling
  3000 |             const result = await apolloClient.mutate({
  3001 |               mutation: gql`
  3002 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3477, 'column': 10, 'index': 117837}","  3475 |
  3476 |         it('should require master key to create a new class', async () => {
> 3477 |           try {
       |          ^ Exception Handling
  3478 |             await apolloClient.mutate({
  3479 |               mutation: gql`
  3480 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3495, 'column': 10, 'index': 118476}","  3493 |
  3494 |         it('should not allow duplicated field names when creating', async () => {
> 3495 |           try {
       |          ^ Exception Handling
  3496 |             await apolloClient.mutate({
  3497 |               mutation: gql`
  3498 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3526, 'column': 10, 'index': 119486}","  3524 |
  3525 |         it('should update an existing class', async () => {
> 3526 |           try {
       |          ^ Exception Handling
  3527 |             const clientMutationId = uuidv4();
  3528 |             const result = await apolloClient.mutate({
  3529 |               mutation: gql`"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3828, 'column': 10, 'index': 132509}","  3826 |
  3827 |         it('should require master key to update an existing class', async () => {
> 3828 |           try {
       |          ^ Exception Handling
  3829 |             await apolloClient.mutate({
  3830 |               mutation: gql`
  3831 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3847, 'column': 10, 'index': 132992}","  3845 |           }
  3846 |
> 3847 |           try {
       |          ^ Exception Handling
  3848 |             await apolloClient.mutate({
  3849 |               mutation: gql`
  3850 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3865, 'column': 10, 'index': 133631}","  3863 |
  3864 |         it('should not allow duplicated field names when updating', async () => {
> 3865 |           try {
       |          ^ Exception Handling
  3866 |             await apolloClient.mutate({
  3867 |               mutation: gql`
  3868 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3889, 'column': 10, 'index': 134272}","  3887 |           }
  3888 |
> 3889 |           try {
       |          ^ Exception Handling
  3890 |             await apolloClient.mutate({
  3891 |               mutation: gql`
  3892 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3917, 'column': 10, 'index': 135188}","  3915 |
  3916 |         it('should fail if updating an inexistent class', async () => {
> 3917 |           try {
       |          ^ Exception Handling
  3918 |             await apolloClient.mutate({
  3919 |               mutation: gql`
  3920 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 3945, 'column': 10, 'index': 136113}","  3943 |
  3944 |         it('should delete an existing class', async () => {
> 3945 |           try {
       |          ^ Exception Handling
  3946 |             const clientMutationId = uuidv4();
  3947 |             const result = await apolloClient.mutate({
  3948 |               mutation: gql`"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 4027, 'column': 12, 'index': 139205}","  4025 |             });
  4026 |
> 4027 |             try {
       |            ^ Exception Handling
  4028 |               await apolloClient.query({
  4029 |                 query: gql`
  4030 |                   query {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 4053, 'column': 10, 'index': 140042}","  4051 |
  4052 |         it('should require master key to delete an existing class', async () => {
> 4053 |           try {
       |          ^ Exception Handling
  4054 |             await apolloClient.mutate({
  4055 |               mutation: gql`
  4056 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 4072, 'column': 10, 'index': 140525}","  4070 |           }
  4071 |
> 4072 |           try {
       |          ^ Exception Handling
  4073 |             await apolloClient.mutate({
  4074 |               mutation: gql`
  4075 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 4090, 'column': 10, 'index': 141154}","  4088 |
  4089 |         it('should fail if deleting an inexistent class', async () => {
> 4090 |           try {
       |          ^ Exception Handling
  4091 |             await apolloClient.mutate({
  4092 |               mutation: gql`
  4093 |                 mutation {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 4113, 'column': 10, 'index': 141940}","  4111 |
  4112 |         it('should require master key to get an existing class', async () => {
> 4113 |           try {
       |          ^ Exception Handling
  4114 |             await apolloClient.query({
  4115 |               query: gql`
  4116 |                 query {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 4131, 'column': 10, 'index': 142540}","  4129 |
  4130 |         it('should require master key to find the existing classes', async () => {
> 4131 |           try {
       |          ^ Exception Handling
  4132 |             await apolloClient.query({
  4133 |               query: gql`
  4134 |                 query {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 4668, 'column': 14, 'index': 160687}","  4666 |           describe_only_db('mongo')('read preferences', () => {
  4667 |             it('should read from primary by default', async () => {
> 4668 |               try {
       |              ^ Exception Handling
  4669 |                 await prepareData();
  4670 |
  4671 |                 await parseGraphQLServer.parseGraphQLSchema.schemaCache.clear();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 5124, 'column': 12, 'index': 176683}","  5122 |
  5123 |           it('should support in query key', async () => {
> 5124 |             try {
       |            ^ Exception Handling
  5125 |               const country = new Parse.Object('Country');
  5126 |               country.set('code', 'FR');
  5127 |               await country.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 5782, 'column': 14, 'index': 199773}","  5780 |
  5781 |             it('should support subqueryReadPreference argument', async () => {
> 5782 |               try {
       |              ^ Exception Handling
  5783 |                 await prepareData();
  5784 |
  5785 |                 await parseGraphQLServer.parseGraphQLSchema.schemaCache.clear();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 5848, 'column': 12, 'index': 202170}","  5846 |
  5847 |             let result;
> 5848 |             try {
       |            ^ Exception Handling
  5849 |               result = await apolloClient.query({
  5850 |                 query: gql`
  5851 |                   query OrderByMultipleFields($order: [GraphQLClassOrder!]) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 7563, 'column': 10, 'index': 265363}","  7561 |           expect(logOut.data.logOut.ok).toEqual(true);
  7562 |
> 7563 |           try {
       |          ^ Exception Handling
  7564 |             await apolloClient.query({
  7565 |               query: gql`
  7566 |                 query GetCurrentUser {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 7743, 'column': 10, 'index': 271507}","  7741 |       describe('Session Token', () => {
  7742 |         it('should fail due to invalid session token', async () => {
> 7743 |           try {
       |          ^ Exception Handling
  7744 |             await apolloClient.query({
  7745 |               query: gql`
  7746 |                 query GetCurrentUser {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 7770, 'column': 10, 'index': 272308}","  7768 |
  7769 |         it('should fail due to empty session token', async () => {
> 7770 |           try {
       |          ^ Exception Handling
  7771 |             await apolloClient.query({
  7772 |               query: gql`
  7773 |                 query GetCurrentUser {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 7801, 'column': 10, 'index': 273271}","  7799 |           await parseGraphQLServer.parseGraphQLSchema.schemaCache.clear();
  7800 |
> 7801 |           try {
       |          ^ Exception Handling
  7802 |             await apolloClient.query({
  7803 |               query: gql`
  7804 |                 query GetCurrentUser {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 7836, 'column': 10, 'index': 274272}","  7834 |       describe('Functions Mutations', () => {
  7835 |         it('can be called', async () => {
> 7836 |           try {
       |          ^ Exception Handling
  7837 |             const clientMutationId = uuidv4();
  7838 |
  7839 |             Parse.Cloud.define('hello', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 7869, 'column': 12, 'index': 275291}","  7867 |         it('can throw errors', async () => {
  7868 |           Parse.Cloud.define('hello', async () => {
> 7869 |             throw new Error('Some error message.');
       |            ^ Exception Handling
  7870 |           });
  7871 |
  7872 |           try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 7872, 'column': 10, 'index': 275356}","  7870 |           });
  7871 |
> 7872 |           try {
       |          ^ Exception Handling
  7873 |             await apolloClient.mutate({
  7874 |               mutation: gql`
  7875 |                 mutation CallFunction {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 7982, 'column': 10, 'index': 279260}","  7980 |
  7981 |         it('should list all functions in the enum type', async () => {
> 7982 |           try {
       |          ^ Exception Handling
  7983 |             Parse.Cloud.define('a', async () => {
  7984 |               return 'hello a';
  7985 |             });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 8026, 'column': 10, 'index': 280562}","  8024 |
  8025 |         it('should warn functions not matching GraphQL allowed names', async () => {
> 8026 |           try {
       |          ^ Exception Handling
  8027 |             spyOn(parseGraphQLServer.parseGraphQLSchema.log, 'warn').and.callThrough();
  8028 |
  8029 |             Parse.Cloud.define('a', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 8074, 'column': 10, 'index': 282258}","  8072 |       describe('Data Types', () => {
  8073 |         it('should support String', async () => {
> 8074 |           try {
       |          ^ Exception Handling
  8075 |             const someFieldValue = 'some string';
  8076 |
  8077 |             await apolloClient.mutate({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 8149, 'column': 10, 'index': 284737}","  8147 |
  8148 |         it('should support Int numbers', async () => {
> 8149 |           try {
       |          ^ Exception Handling
  8150 |             const someFieldValue = 123;
  8151 |
  8152 |             await apolloClient.mutate({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 8224, 'column': 10, 'index': 287207}","  8222 |
  8223 |         it('should support Float numbers', async () => {
> 8224 |           try {
       |          ^ Exception Handling
  8225 |             const someFieldValue = 123.4;
  8226 |
  8227 |             await apolloClient.mutate({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 8299, 'column': 10, 'index': 289673}","  8297 |
  8298 |         it('should support Boolean', async () => {
> 8299 |           try {
       |          ^ Exception Handling
  8300 |             const someFieldValueTrue = true;
  8301 |             const someFieldValueFalse = false;
  8302 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 8390, 'column': 10, 'index': 292865}","  8388 |
  8389 |         it('should support Date', async () => {
> 8390 |           try {
       |          ^ Exception Handling
  8391 |             const someFieldValue = new Date();
  8392 |
  8393 |             await apolloClient.mutate({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 9465, 'column': 10, 'index': 326810}","  9463 |
  9464 |         it('should support files', async () => {
> 9465 |           try {
       |          ^ Exception Handling
  9466 |             parseServer = await global.reconfigureServer({
  9467 |               publicServerURL: 'http://localhost:13377/parse',
  9468 |             });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 9711, 'column': 10, 'index': 335568}","  9709 |
  9710 |         it('should support files on required file', async () => {
> 9711 |           try {
       |          ^ Exception Handling
  9712 |             parseServer = await global.reconfigureServer({
  9713 |               publicServerURL: 'http://localhost:13377/parse',
  9714 |             });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 9885, 'column': 10, 'index': 342012}","  9883 |
  9884 |         it('should support files and add extension from mimetype', async () => {
> 9885 |           try {
       |          ^ Exception Handling
  9886 |             parseServer = await global.reconfigureServer({
  9887 |               publicServerURL: 'http://localhost:13377/parse',
  9888 |             });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 9985, 'column': 10, 'index': 345259}","  9983 |
  9984 |         it('should support object values', async () => {
> 9985 |           try {
       |          ^ Exception Handling
  9986 |             const someObjectFieldValue = {
  9987 |               foo: { bar: 'baz' },
  9988 |               number: 10,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 10078, 'column': 10, 'index': 348468}","  10076 |
  10077 |         it('should support where argument on object field that contains false boolean value or 0 number value', async () => {
> 10078 |           try {
        |          ^ Exception Handling
  10079 |             const someObjectFieldValue1 = {
  10080 |               foo: { bar: true, baz: 100 },
  10081 |             };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 10202, 'column': 10, 'index': 352585}","  10200 |
  10201 |         it('should support object composed queries', async () => {
> 10202 |           try {
        |          ^ Exception Handling
  10203 |             const someObjectFieldValue1 = {
  10204 |               lorem: 'ipsum',
  10205 |               number: 10,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 10328, 'column': 10, 'index': 356482}","  10326 |
  10327 |         it('should support array values', async () => {
> 10328 |           try {
        |          ^ Exception Handling
  10329 |             const someArrayFieldValue = [1, 'foo', ['bar'], { lorem: 'ipsum' }, true];
  10330 |
  10331 |             await apolloClient.mutate({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 10442, 'column': 10, 'index': 360183}","  10440 |
  10441 |         it('should support null values', async () => {
> 10442 |           try {
        |          ^ Exception Handling
  10443 |             await apolloClient.mutate({
  10444 |               mutation: gql`
  10445 |                 mutation CreateClass {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Exception Handling,"{'line': 10781, 'column': 10, 'index': 371747}","  10779 |
  10780 |         it('should support Polygons', async () => {
> 10781 |           try {
        |          ^ Exception Handling
  10782 |             const somePolygonFieldValue = [
  10783 |               [44, 45],
  10784 |               [46, 47],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 147, 'column': 80, 'index': 5105}","  145 |       let counter = 0;
  146 |       parseGraphQLServer.parseGraphQLSchema.load = () => ++counter;
> 147 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(1);
      |                                                                                ^ Magic Number
  148 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(2);
  149 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(3);
  150 |       parseGraphQLServer.parseGraphQLSchema.load = originalLoad;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 148, 'column': 80, 'index': 5189}","  146 |       parseGraphQLServer.parseGraphQLSchema.load = () => ++counter;
  147 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(1);
> 148 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(2);
      |                                                                                ^ Magic Number
  149 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(3);
  150 |       parseGraphQLServer.parseGraphQLSchema.load = originalLoad;
  151 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 149, 'column': 80, 'index': 5273}","  147 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(1);
  148 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(2);
> 149 |       expect((await parseGraphQLServer._getGraphQLOptions(req)).schema).toEqual(3);
      |                                                                                ^ Magic Number
  150 |       parseGraphQLServer.parseGraphQLSchema.load = originalLoad;
  151 |     });
  152 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 156, 'column': 77, 'index': 5531}","  154 |   describe('_transformMaxUploadSizeToBytes', () => {
  155 |     it('should transform to bytes', () => {
> 156 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('20mb')).toBe(20971520);
      |                                                                             ^ Magic Number
  157 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('333Gb')).toBe(357556027392);
  158 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('123456KB')).toBe(126418944);
  159 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 157, 'column': 78, 'index': 5620}","  155 |     it('should transform to bytes', () => {
  156 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('20mb')).toBe(20971520);
> 157 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('333Gb')).toBe(357556027392);
      |                                                                              ^ Magic Number
  158 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('123456KB')).toBe(126418944);
  159 |     });
  160 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 158, 'column': 81, 'index': 5716}","  156 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('20mb')).toBe(20971520);
  157 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('333Gb')).toBe(357556027392);
> 158 |       expect(parseGraphQLServer._transformMaxUploadSizeToBytes('123456KB')).toBe(126418944);
      |                                                                                 ^ Magic Number
  159 |     });
  160 |   });
  161 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 185, 'column': 39, 'index': 6581}","  183 |         })
  184 |       ).not.toThrow();
> 185 |       expect(useCount).toBeGreaterThan(0);
      |                                       ^ Magic Number
  186 |     });
  187 |   });
  188 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 221, 'column': 39, 'index': 7799}","  219 |         })
  220 |       ).not.toThrow();
> 221 |       expect(useCount).toBeGreaterThan(0);
      |                                       ^ Magic Number
  222 |     });
  223 |   });
  224 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 598, 'column': 35, 'index': 19507}","  596 |           url: 'http://localhost:13377/playground',
  597 |         });
> 598 |         expect(res.status).toEqual(200);
      |                                   ^ Magic Number
  599 |       });
  600 |     });
  601 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 2787, 'column': 85, 'index': 88933}","  2785 |               });
  2786 |
> 2787 |               expect(findSecondaryObjectsResult.data.secondaryObjects.count).toEqual(2);
       |                                                                                     ^ Magic Number
  2788 |               expect(
  2789 |                 findSecondaryObjectsResult.data.secondaryObjects.edges
  2790 |                   .map(value => value.node.someField)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 4833, 'column': 63, 'index': 166941}","  4831 |             });
  4832 |
> 4833 |             expect(result.data.customers.edges.length).toEqual(2);
       |                                                               ^ Magic Number
  4834 |
  4835 |             result.data.customers.edges.forEach(resultObj => {
  4836 |               const obj = resultObj.node.objectId === obj1.id ? obj1 : obj2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 5038, 'column': 38, 'index': 173947}","  5036 |
  5037 |             const { edges } = result.data.graphQLClasses;
> 5038 |             expect(edges.length).toBe(1);
       |                                      ^ Magic Number
  5039 |             expect(edges[0].node.someField).toEqual('someValue3');
  5040 |           });
  5041 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 5182, 'column': 44, 'index': 178540}","  5180 |               });
  5181 |
> 5182 |               expect(result.length).toEqual(1);
       |                                            ^ Magic Number
  5183 |               expect(result[0].node.name).toEqual('city2');
  5184 |             } catch (e) {
  5185 |               handleError(e);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 5478, 'column': 51, 'index': 189047}","  5476 |
  5477 |             expect(result.data.find.edges).toBeUndefined();
> 5478 |             expect(result.data.find.count).toEqual(2);
       |                                                   ^ Magic Number
  5479 |           });
  5480 |
  5481 |           it_id('942b57be-ca8a-4a5b-8104-2adef8743b1a')(it)('should respect max limit', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7034, 'column': 39, 'index': 247099}","  7032 |             });
  7033 |
> 7034 |             expect(res.status).toEqual(200);
       |                                       ^ Magic Number
  7035 |
  7036 |             const result = JSON.parse(await res.text());
  7037 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7048, 'column': 39, 'index': 247635}","  7046 |             res = await fetch(result.data.createFile.fileInfo.url);
  7047 |
> 7048 |             expect(res.status).toEqual(200);
       |                                       ^ Magic Number
  7049 |             expect(await res.text()).toEqual('My File Content');
  7050 |           });
  7051 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7581, 'column': 36, 'index': 265943}","  7579 |           } catch (err) {
  7580 |             const { statusCode, result } = err.networkError;
> 7581 |             expect(statusCode).toBe(400);
       |                                    ^ Magic Number
  7582 |             expect(result).toEqual({
  7583 |               code: 209,
  7584 |               error: 'Invalid session token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7761, 'column': 36, 'index': 272076}","  7759 |           } catch (err) {
  7760 |             const { statusCode, result } = err.networkError;
> 7761 |             expect(statusCode).toBe(400);
       |                                    ^ Magic Number
  7762 |             expect(result).toEqual({
  7763 |               code: 209,
  7764 |               error: 'Invalid session token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7790, 'column': 46, 'index': 272921}","  7788 |           } catch (err) {
  7789 |             const { graphQLErrors } = err;
> 7790 |             expect(graphQLErrors.length).toBe(1);
       |                                              ^ Magic Number
  7791 |             expect(graphQLErrors[0].message).toBe('Invalid session token');
  7792 |           }
  7793 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7828, 'column': 46, 'index': 274059}","  7826 |           } catch (err) {
  7827 |             const { graphQLErrors } = err;
> 7828 |             expect(graphQLErrors.length).toBe(1);
       |                                              ^ Magic Number
  7829 |             expect(graphQLErrors[0].message).toBe('Invalid session token');
  7830 |           }
  7831 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7885, 'column': 46, 'index': 275789}","  7883 |           } catch (e) {
  7884 |             const { graphQLErrors } = e;
> 7885 |             expect(graphQLErrors.length).toBe(1);
       |                                              ^ Magic Number
  7886 |             expect(graphQLErrors[0].message).toBe('Some error message.');
  7887 |           }
  7888 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7893, 'column': 51, 'index': 276115}","  7891 |           Parse.Cloud.define('hello', async req => {
  7892 |             expect(req.params.date instanceof Date).toBe(true);
> 7893 |             expect(req.params.date.getTime()).toBe(1463907600000);
       |                                                   ^ Magic Number
  7894 |             expect(req.params.dateList[0] instanceof Date).toBe(true);
  7895 |             expect(req.params.dateList[0].getTime()).toBe(1463907600000);
  7896 |             expect(req.params.complexStructure.date[0] instanceof Date).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7895, 'column': 58, 'index': 276260}","  7893 |             expect(req.params.date.getTime()).toBe(1463907600000);
  7894 |             expect(req.params.dateList[0] instanceof Date).toBe(true);
> 7895 |             expect(req.params.dateList[0].getTime()).toBe(1463907600000);
       |                                                          ^ Magic Number
  7896 |             expect(req.params.complexStructure.date[0] instanceof Date).toBe(true);
  7897 |             expect(req.params.complexStructure.date[0].getTime()).toBe(1463907600000);
  7898 |             expect(req.params.complexStructure.deepDate.date[0] instanceof Date).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7897, 'column': 71, 'index': 276431}","  7895 |             expect(req.params.dateList[0].getTime()).toBe(1463907600000);
  7896 |             expect(req.params.complexStructure.date[0] instanceof Date).toBe(true);
> 7897 |             expect(req.params.complexStructure.date[0].getTime()).toBe(1463907600000);
       |                                                                       ^ Magic Number
  7898 |             expect(req.params.complexStructure.deepDate.date[0] instanceof Date).toBe(true);
  7899 |             expect(req.params.complexStructure.deepDate.date[0].getTime()).toBe(1463907600000);
  7900 |             expect(req.params.complexStructure.deepDate2[0].date instanceof Date).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7899, 'column': 80, 'index': 276620}","  7897 |             expect(req.params.complexStructure.date[0].getTime()).toBe(1463907600000);
  7898 |             expect(req.params.complexStructure.deepDate.date[0] instanceof Date).toBe(true);
> 7899 |             expect(req.params.complexStructure.deepDate.date[0].getTime()).toBe(1463907600000);
       |                                                                                ^ Magic Number
  7900 |             expect(req.params.complexStructure.deepDate2[0].date instanceof Date).toBe(true);
  7901 |             expect(req.params.complexStructure.deepDate2[0].date.getTime()).toBe(1463907600000);
  7902 |             // Regression for #2294"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 7901, 'column': 81, 'index': 276811}","  7899 |             expect(req.params.complexStructure.deepDate.date[0].getTime()).toBe(1463907600000);
  7900 |             expect(req.params.complexStructure.deepDate2[0].date instanceof Date).toBe(true);
> 7901 |             expect(req.params.complexStructure.deepDate2[0].date.getTime()).toBe(1463907600000);
       |                                                                                 ^ Magic Number
  7902 |             // Regression for #2294
  7903 |             expect(req.params.file instanceof Parse.File).toBe(true);
  7904 |             expect(req.params.file.url()).toEqual('https://some.url');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 8142, 'column': 68, 'index': 284591}","  8140 |             expect(typeof getResult.data.someClass.someField).toEqual('string');
  8141 |             expect(getResult.data.someClass.someField).toEqual(someFieldValue);
> 8142 |             expect(getResult.data.someClasses.edges.length).toEqual(1);
       |                                                                    ^ Magic Number
  8143 |           } catch (e) {
  8144 |             handleError(e);
  8145 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 8217, 'column': 68, 'index': 287059}","  8215 |             expect(typeof getResult.data.someClass.someField).toEqual('number');
  8216 |             expect(getResult.data.someClass.someField).toEqual(someFieldValue);
> 8217 |             expect(getResult.data.someClasses.edges.length).toEqual(1);
       |                                                                    ^ Magic Number
  8218 |           } catch (e) {
  8219 |             handleError(e);
  8220 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 8292, 'column': 68, 'index': 289531}","  8290 |             expect(typeof getResult.data.someClass.someField).toEqual('number');
  8291 |             expect(getResult.data.someClass.someField).toEqual(someFieldValue);
> 8292 |             expect(getResult.data.someClasses.edges.length).toEqual(1);
       |                                                                    ^ Magic Number
  8293 |           } catch (e) {
  8294 |             handleError(e);
  8295 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 8383, 'column': 68, 'index': 292726}","  8381 |             expect(getResult.data.someClass.someFieldTrue).toEqual(true);
  8382 |             expect(getResult.data.someClass.someFieldFalse).toEqual(false);
> 8383 |             expect(getResult.data.someClasses.edges.length).toEqual(1);
       |                                                                    ^ Magic Number
  8384 |           } catch (e) {
  8385 |             handleError(e);
  8386 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 8456, 'column': 68, 'index': 295044}","  8454 |
  8455 |             expect(new Date(getResult.data.someClass.someField)).toEqual(someFieldValue);
> 8456 |             expect(getResult.data.someClasses.edges.length).toEqual(1);
       |                                                                    ^ Magic Number
  8457 |           } catch (e) {
  8458 |             handleError(e);
  8459 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9502, 'column': 39, 'index': 328061}","  9500 |               body,
  9501 |             });
> 9502 |             expect(res.status).toEqual(200);
       |                                       ^ Magic Number
  9503 |
  9504 |             const result = JSON.parse(await res.text());
  9505 |             expect(result.data.createFile.fileInfo.name).toEqual("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9612, 'column': 39, 'index': 331808}","  9610 |               body: body2,
  9611 |             });
> 9612 |             expect(res.status).toEqual(200);
       |                                       ^ Magic Number
  9613 |             const result2 = JSON.parse(await res.text());
  9614 |             expect(result2.data.createSomeClass1.someClass.someField.name).toEqual(
  9615 |               jasmine.stringMatching(/_myFileName.txt$/)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9679, 'column': 71, 'index': 334488}","  9677 |               result.data.createFile.fileInfo.url
  9678 |             );
> 9679 |             expect(getResult.data.findSomeClass1.edges.length).toEqual(3);
       |                                                                       ^ Magic Number
  9680 |             expect(getResult.data.findSomeClass2.edges.length).toEqual(3);
  9681 |
  9682 |             res = await fetch(getResult.data.someClass.someField.url);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9680, 'column': 71, 'index': 334563}","  9678 |             );
  9679 |             expect(getResult.data.findSomeClass1.edges.length).toEqual(3);
> 9680 |             expect(getResult.data.findSomeClass2.edges.length).toEqual(3);
       |                                                                       ^ Magic Number
  9681 |
  9682 |             res = await fetch(getResult.data.someClass.someField.url);
  9683 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9684, 'column': 39, 'index': 334679}","  9682 |             res = await fetch(getResult.data.someClass.someField.url);
  9683 |
> 9684 |             expect(res.status).toEqual(200);
       |                                       ^ Magic Number
  9685 |             expect(await res.text()).toEqual('My File Content');
  9686 |
  9687 |             const mutationResult = await apolloClient.mutate({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9762, 'column': 39, 'index': 337466}","  9760 |               body,
  9761 |             });
> 9762 |             expect(res.status).toEqual(200);
       |                                       ^ Magic Number
  9763 |             const resText = await res.text();
  9764 |             const result = JSON.parse(resText);
  9765 |             expect("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9871, 'column': 37, 'index': 341338}","  9869 |             body,
  9870 |           });
> 9871 |           expect(res.status).toEqual(200);
       |                                     ^ Magic Number
  9872 |           const result = await res.json();
  9873 |           expect(result.data.createSomeClass.someClass.someFileField.name).toEqual(
  9874 |             jasmine.stringMatching(/_someFileField.txt$/)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9924, 'column': 39, 'index': 343332}","  9922 |             });
  9923 |
> 9924 |             expect(res.status).toEqual(200);
       |                                       ^ Magic Number
  9925 |
  9926 |             const result = JSON.parse(await res.text());
  9927 |             expect(result.data.createFile.fileInfo.name).toEqual("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 9978, 'column': 37, 'index': 345039}","  9976 |
  9977 |           const result = JSON.parse(await res.text());
> 9978 |           expect(res.status).toEqual(200);
       |                                     ^ Magic Number
  9979 |           expect(result.errors[0].message).toEqual(
  9980 |             'File truncated as it exceeds the 1024 byte size limit.'
  9981 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10070, 'column': 53, 'index': 348158}","  10068 |
  10069 |             // Checks class query results
> 10070 |             expect(someClasses.edges.length).toEqual(1);
        |                                                     ^ Magic Number
  10071 |             expect(someClasses.edges[0].node.someObjectField).toEqual(someObjectFieldValue);
  10072 |           } catch (e) {
  10073 |             handleError(e);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10190, 'column': 50, 'index': 352092}","  10188 |
  10189 |             // Checks class query results
> 10190 |             expect(onlyObj1.edges.length).toEqual(1);
        |                                                  ^ Magic Number
  10191 |             expect(onlyObj1.edges[0].node.someObjectField).toEqual(someObjectFieldValue1);
  10192 |             expect(onlyObj2.edges.length).toEqual(1);
  10193 |             expect(onlyObj2.edges[0].node.someObjectField).toEqual(someObjectFieldValue2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10192, 'column': 50, 'index': 352237}","  10190 |             expect(onlyObj1.edges.length).toEqual(1);
  10191 |             expect(onlyObj1.edges[0].node.someObjectField).toEqual(someObjectFieldValue1);
> 10192 |             expect(onlyObj2.edges.length).toEqual(1);
        |                                                  ^ Magic Number
  10193 |             expect(onlyObj2.edges[0].node.someObjectField).toEqual(someObjectFieldValue2);
  10194 |             expect(all.edges.length).toEqual(2);
  10195 |             expect(none.edges.length).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10194, 'column': 45, 'index': 352377}","  10192 |             expect(onlyObj2.edges.length).toEqual(1);
  10193 |             expect(onlyObj2.edges[0].node.someObjectField).toEqual(someObjectFieldValue2);
> 10194 |             expect(all.edges.length).toEqual(2);
        |                                             ^ Magic Number
  10195 |             expect(none.edges.length).toEqual(0);
  10196 |           } catch (e) {
  10197 |             handleError(e);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10195, 'column': 46, 'index': 352427}","  10193 |             expect(onlyObj2.edges[0].node.someObjectField).toEqual(someObjectFieldValue2);
  10194 |             expect(all.edges.length).toEqual(2);
> 10195 |             expect(none.edges.length).toEqual(0);
        |                                              ^ Magic Number
  10196 |           } catch (e) {
  10197 |             handleError(e);
  10198 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10315, 'column': 41, 'index': 356009}","  10313 |             // Checks class query results
  10314 |             const { edges } = someClasses;
> 10315 |             expect(edges.length).toEqual(2);
        |                                         ^ Magic Number
  10316 |             expect(
  10317 |               edges.find(result => result.node.id === create1.someClass.id).node.someObjectField
  10318 |             ).toEqual(someObjectFieldValue1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10405, 'column': 68, 'index': 359156}","  10403 |             expect(Array.isArray(someArrayField)).toBeTruthy();
  10404 |             expect(someArrayField.map(element => element.value)).toEqual(someArrayFieldValue);
> 10405 |             expect(getResult.data.someClasses.edges.length).toEqual(1);
        |                                                                    ^ Magic Number
  10406 |           } catch (e) {
  10407 |             handleError(e);
  10408 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10868, 'column': 68, 'index': 374636}","  10866 |               }))
  10867 |             );
> 10868 |             expect(getResult.data.someClasses.edges.length).toEqual(1);
        |                                                                    ^ Magic Number
  10869 |             const getIntersect = await apolloClient.query({
  10870 |               query: gql`
  10871 |                 query IntersectQuery($point: GeoPointInput!) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 10889, 'column': 71, 'index': 375400}","  10887 |               },
  10888 |             });
> 10889 |             expect(getIntersect.data.someClasses.edges.length).toEqual(1);
        |                                                                       ^ Magic Number
  10890 |             expect(getIntersect.data.someClasses.edges[0].node.id).toEqual(
  10891 |               createResult.data.createSomeClass.someClass.id
  10892 |             );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 11517, 'column': 52, 'index': 395282}","  11515 |           `,
  11516 |         });
> 11517 |         expect(result.data.q1.edges.length).toEqual(1);
        |                                                    ^ Magic Number
  11518 |         expect(result.data.q2.edges.length).toEqual(1);
  11519 |         expect(result.data.q1.edges[0].node.id).toEqual(result.data.q2.edges[0].node.id);
  11520 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Magic Number,"{'line': 11518, 'column': 52, 'index': 395338}","  11516 |         });
  11517 |         expect(result.data.q1.edges.length).toEqual(1);
> 11518 |         expect(result.data.q2.edges.length).toEqual(1);
        |                                                    ^ Magic Number
  11519 |         expect(result.data.q1.edges[0].node.id).toEqual(result.data.q2.edges[0].node.id);
  11520 |       });
  11521 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Unknown Test,"{'column': 4, 'line': 254}","  252 |       expect(received).toBe(graphQLConfig);
  253 |     });
> 254 |     it('should not absorb exceptions from parseGraphQLController', async () => {
      |    ^ Unknown Test
  255 |       parseGraphQLServer.parseGraphQLController = {
  256 |         async updateGraphQLConfig() {
  257 |           throw new Error('Network request failed');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Unknown Test,"{'column': 4, 'line': 264}","  262 |       );
  263 |     });
> 264 |     it('should return the response from parseGraphQLController', async () => {
      |    ^ Unknown Test
  265 |       parseGraphQLServer.parseGraphQLController = {
  266 |         async updateGraphQLConfig() {
  267 |           return { response: { result: true } };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Unknown Test,"{'column': 6, 'line': 11224}","  11222 |       });
  11223 |
> 11224 |       it('order option should continue working', async () => {
        |      ^ Unknown Test
  11225 |         const schemaController = await parseServer.config.databaseController.loadSchema();
  11226 |
  11227 |         await schemaController.addClassIfNotExists('SuperCar', {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLServer.spec.js,Unknown Test,"{'column': 6, 'line': 11428}","  11426 |       });
  11427 |
> 11428 |       it('can forward original error of a custom query', async () => {
        |      ^ Unknown Test
  11429 |         await expectAsync(
  11430 |           apolloClient.query({
  11431 |             query: gql`"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLSchema.spec.js,Sleepy Test,"{'line': 69, 'column': 35, 'index': 2612}","  67 |       await newClassObject.save();
  68 |       await parseServer.config.schemaCache.clear();
> 69 |       await new Promise(resolve => setTimeout(resolve, 200));
     |                                   ^ Sleepy Test
  70 |       await parseGraphQLSchema.load();
  71 |       expect(parseClasses).not.toBe(parseGraphQLSchema.parseClasses);
  72 |       expect(parseClassTypes).not.toBe(parseGraphQLSchema.parseClassTypes);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLSchema.spec.js,Sleepy Test,"{'line': 106, 'column': 35, 'index': 4273}","  104 |       };
  105 |
> 106 |       await new Promise(resolve => setTimeout(resolve, 200));
      |                                   ^ Sleepy Test
  107 |       await parseGraphQLSchema.load();
  108 |       expect(parseClasses).not.toBe(parseGraphQLSchema.parseClasses);
  109 |       expect(parseClassTypes).not.toBe(parseGraphQLSchema.parseClassTypes);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Conditional Test Logic,"{'line': 32, 'column': 4, 'index': 777}","  30 |
  31 |   beforeEach(async () => {
> 32 |     if (!parseServer) {
     |    ^ Conditional Test Logic
  33 |       parseServer = await global.reconfigureServer();
  34 |       databaseController = parseServer.config.databaseController;
  35 |       cacheController = parseServer.config.cacheController;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Conditional Test Logic,"{'line': 39, 'column': 8, 'index': 1133}","  37 |       const defaultFind = databaseController.find.bind(databaseController);
  38 |       databaseController.find = async (className, query, ...args) => {
> 39 |         if (className === GraphQLConfigClassName && isEqual(query, { objectId: GraphQLConfigId })) {
     |        ^ Conditional Test Logic
  40 |           const graphQLConfigRecord = getConfigFromDb();
  41 |           return graphQLConfigRecord ? [graphQLConfigRecord] : [];
  42 |         } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Conditional Test Logic,"{'line': 50, 'column': 8, 'index': 1697}","  48 |       databaseController.update = async (className, query, update, fullQueryOptions) => {
  49 |         databaseUpdateArgs = [className, query, update, fullQueryOptions];
> 50 |         if (
     |        ^ Conditional Test Logic
  51 |           className === GraphQLConfigClassName &&
  52 |           isEqual(query, { objectId: GraphQLConfigId }) &&
  53 |           update &&"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Duplicate Assert,"{'line': 918, 'column': 6, 'index': 26930}","  916 |
  917 |       cacheBeforeValue = await cacheController.graphQL.get(mountedController.configCacheKey);
> 918 |       expect(cacheBeforeValue).toBeNull();
      |      ^ Duplicate Assert
  919 |
  920 |       await mountedController.updateGraphQLConfig({
  921 |         enabledForClasses: ['SuperCar'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Duplicate Assert,"{'line': 918, 'column': 6, 'index': 26930}","  916 |
  917 |       cacheBeforeValue = await cacheController.graphQL.get(mountedController.configCacheKey);
> 918 |       expect(cacheBeforeValue).toBeNull();
      |      ^ Duplicate Assert
  919 |
  920 |       await mountedController.updateGraphQLConfig({
  921 |         enabledForClasses: ['SuperCar'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Duplicate Assert,"{'line': 924, 'column': 6, 'index': 27170}","  922 |       });
  923 |       cacheAfterValue = await cacheController.graphQL.get(mountedController.configCacheKey);
> 924 |       expect(cacheAfterValue).toEqual({ enabledForClasses: ['SuperCar'] });
      |      ^ Duplicate Assert
  925 |
  926 |       // reset
  927 |       removeConfigFromDb();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Duplicate Assert,"{'line': 931, 'column': 6, 'index': 27426}","  929 |
  930 |       cacheBeforeValue = await cacheController.graphQL.get(unmountedController.configCacheKey);
> 931 |       expect(cacheBeforeValue).toBeNull();
      |      ^ Duplicate Assert
  932 |
  933 |       await unmountedController.updateGraphQLConfig({
  934 |         enabledForClasses: ['SuperCar'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Duplicate Assert,"{'line': 931, 'column': 6, 'index': 27426}","  929 |
  930 |       cacheBeforeValue = await cacheController.graphQL.get(unmountedController.configCacheKey);
> 931 |       expect(cacheBeforeValue).toBeNull();
      |      ^ Duplicate Assert
  932 |
  933 |       await unmountedController.updateGraphQLConfig({
  934 |         enabledForClasses: ['SuperCar'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Duplicate Assert,"{'line': 937, 'column': 6, 'index': 27670}","  935 |       });
  936 |       cacheAfterValue = await cacheController.graphQL.get(unmountedController.configCacheKey);
> 937 |       expect(cacheAfterValue).toBeNull();
      |      ^ Duplicate Assert
  938 |     });
  939 |   });
  940 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 187}","  185 |     const successfulUpdateResponse = { response: { result: true } };
  186 |
> 187 |     it('should throw if graphQLConfig is not provided', async function () {
      |    ^ Unknown Test
  188 |       const parseGraphQLController = new ParseGraphQLController({
  189 |         databaseController,
  190 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 221}","  219 |     });
  220 |
> 221 |     it('should throw if graphQLConfig is not an object', async () => {
      |    ^ Unknown Test
  222 |       const parseGraphQLController = new ParseGraphQLController({
  223 |         databaseController,
  224 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 233}","  231 |       );
  232 |     });
> 233 |     it('should throw if graphQLConfig has an invalid root key', async () => {
      |    ^ Unknown Test
  234 |       const parseGraphQLController = new ParseGraphQLController({
  235 |         databaseController,
  236 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 242}","  240 |       );
  241 |     });
> 242 |     it('should throw if graphQLConfig has invalid class filters', async () => {
      |    ^ Unknown Test
  243 |       const parseGraphQLController = new ParseGraphQLController({
  244 |         databaseController,
  245 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 274}","  272 |       ).toBeResolvedTo(successfulUpdateResponse);
  273 |     });
> 274 |     it('should throw if classConfigs array is invalid', async () => {
      |    ^ Unknown Test
  275 |       const parseGraphQLController = new ParseGraphQLController({
  276 |         databaseController,
  277 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 305}","  303 |       ).toBeResolvedTo(successfulUpdateResponse);
  304 |     });
> 305 |     it('should throw if a classConfig has invalid type settings', async () => {
      |    ^ Unknown Test
  306 |       const parseGraphQLController = new ParseGraphQLController({
  307 |         databaseController,
  308 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 342}","  340 |       ).toBeResolvedTo(successfulUpdateResponse);
  341 |     });
> 342 |     it('should throw if a classConfig has invalid type.inputFields settings', async () => {
      |    ^ Unknown Test
  343 |       const parseGraphQLController = new ParseGraphQLController({
  344 |         databaseController,
  345 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 431}","  429 |       ).toBeResolvedTo(successfulUpdateResponse);
  430 |     });
> 431 |     it('should throw if a classConfig has invalid type.outputFields settings', async () => {
      |    ^ Unknown Test
  432 |       const parseGraphQLController = new ParseGraphQLController({
  433 |         databaseController,
  434 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 508}","  506 |       ).toBeResolvedTo(successfulUpdateResponse);
  507 |     });
> 508 |     it('should throw if a classConfig has invalid type.constraintFields settings', async () => {
      |    ^ Unknown Test
  509 |       const parseGraphQLController = new ParseGraphQLController({
  510 |         databaseController,
  511 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 585}","  583 |       ).toBeResolvedTo(successfulUpdateResponse);
  584 |     });
> 585 |     it('should throw if a classConfig has invalid type.sortFields settings', async () => {
      |    ^ Unknown Test
  586 |       const parseGraphQLController = new ParseGraphQLController({
  587 |         databaseController,
  588 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 717}","  715 |       ).toBeResolvedTo(successfulUpdateResponse);
  716 |     });
> 717 |     it('should throw if a classConfig has invalid query params', async () => {
      |    ^ Unknown Test
  718 |       const parseGraphQLController = new ParseGraphQLController({
  719 |         databaseController,
  720 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 791}","  789 |       ).toBeResolvedTo(successfulUpdateResponse);
  790 |     });
> 791 |     it('should throw if a classConfig has invalid mutation params', async () => {
      |    ^ Unknown Test
  792 |       const parseGraphQLController = new ParseGraphQLController({
  793 |         databaseController,
  794 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 867}","  865 |     });
  866 |
> 867 |     it('should throw if _User create fields is missing username or password', async () => {
      |    ^ Unknown Test
  868 |       const parseGraphQLController = new ParseGraphQLController({
  869 |         databaseController,
  870 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 942}","  940 |
  941 |   describe('alias', () => {
> 942 |     it('should fail if query alias is not a string', async () => {
      |    ^ Unknown Test
  943 |       const parseGraphQLController = new ParseGraphQLController({
  944 |         databaseController,
  945 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGraphQLController.spec.js,Unknown Test,"{'column': 4, 'line': 982}","  980 |     });
  981 |
> 982 |     it('should fail if mutation alias is not a string', async () => {
      |    ^ Unknown Test
  983 |       const parseGraphQLController = new ParseGraphQLController({
  984 |         databaseController,
  985 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Exception Handling,"{'line': 50, 'column': 6, 'index': 1180}","  48 |     }).then(response => {
  49 |       const body = response.data;
> 50 |       try {
     |      ^ Exception Handling
  51 |         expect(response.status).toEqual(200);
  52 |         expect(body.params.companies).toEqual(['US', 'DK']);
  53 |       } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Exception Handling,"{'line': 67, 'column': 6, 'index': 1596}","  65 |     }).then(response => {
  66 |       const body = response.data;
> 67 |       try {
     |      ^ Exception Handling
  68 |         expect(response.status).toEqual(200);
  69 |         expect(body.params.internalParam).toEqual('internal');
  70 |       } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Exception Handling,"{'line': 88, 'column': 6, 'index': 2157}","  86 |     }).then(response => {
  87 |       const body = response.data;
> 88 |       try {
     |      ^ Exception Handling
  89 |         expect(response.status).toEqual(200);
  90 |         expect(body.params.internalParam).toBeUndefined();
  91 |       } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 51, 'column': 40, 'index': 1226}","  49 |       const body = response.data;
  50 |       try {
> 51 |         expect(response.status).toEqual(200);
     |                                        ^ Magic Number
  52 |         expect(body.params.companies).toEqual(['US', 'DK']);
  53 |       } catch (e) {
  54 |         jfail(e);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 68, 'column': 40, 'index': 1642}","  66 |       const body = response.data;
  67 |       try {
> 68 |         expect(response.status).toEqual(200);
     |                                        ^ Magic Number
  69 |         expect(body.params.internalParam).toEqual('internal');
  70 |       } catch (e) {
  71 |         jfail(e);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 89, 'column': 40, 'index': 2203}","  87 |       const body = response.data;
  88 |       try {
> 89 |         expect(response.status).toEqual(200);
     |                                        ^ Magic Number
  90 |         expect(body.params.internalParam).toBeUndefined();
  91 |       } catch (e) {
  92 |         jfail(e);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 107, 'column': 38, 'index': 2671}","  105 |     }).then(response => {
  106 |       const body = response.data;
> 107 |       expect(response.status).toEqual(200);
      |                                      ^ Magic Number
  108 |       expect(body.result).toEqual(true);
  109 |       done();
  110 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 138, 'column': 28, 'index': 3853}","  136 |     const config = await Parse.Config.get();
  137 |     const counter = config.get('counter');
> 138 |     expect(counter).toEqual(69);
      |                            ^ Magic Number
  139 |   });
  140 |
  141 |   it('can add and retrive files', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 152, 'column': 38, 'index': 4222}","  150 |     }).then(response => {
  151 |       const body = response.data;
> 152 |       expect(response.status).toEqual(200);
      |                                      ^ Magic Number
  153 |       expect(body.result).toEqual(true);
  154 |       Parse.Config.get().then(res => {
  155 |         const file = res.get('file');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 173, 'column': 38, 'index': 4839}","  171 |     }).then(response => {
  172 |       const body = response.data;
> 173 |       expect(response.status).toEqual(200);
      |                                      ^ Magic Number
  174 |       expect(body.result).toEqual(true);
  175 |       Parse.Config.get().then(res => {
  176 |         const point = res.get('point');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 177, 'column': 36, 'index': 5001}","  175 |       Parse.Config.get().then(res => {
  176 |         const point = res.get('point');
> 177 |         expect(point.latitude).toBe(10);
      |                                    ^ Magic Number
  178 |         expect(point.longitude).toBe(-20);
  179 |         done();
  180 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 235, 'column': 38, 'index': 6631}","  233 |     }).then(fail, response => {
  234 |       const body = response.data;
> 235 |       expect(response.status).toEqual(403);
      |                                      ^ Magic Number
  236 |       expect(body.error).toEqual('unauthorized: master key is required');
  237 |       done();
  238 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGlobalConfig.spec.js,Magic Number,"{'line': 256, 'column': 42, 'index': 7246}","  254 |         }).then(response => {
  255 |           const body = response.data;
> 256 |           expect(response.status).toEqual(200);
      |                                          ^ Magic Number
  257 |           expect(body.params).toEqual({});
  258 |           done();
  259 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Conditional Test Logic,"{'line': 98, 'column': 4, 'index': 2876}","   96 |   it_id('bbd9e2f6-7f61-458f-98f2-4a563586cd8d')(it)('geo line', async done => {
   97 |     const line = [];
>  98 |     for (let i = 0; i < 10; ++i) {
      |    ^ Conditional Test Logic
   99 |       const obj = new TestObject();
  100 |       const point = new Parse.GeoPoint(i * 4.0 - 12.0, i * 3.2 - 11.0);
  101 |       obj.set('location', point);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Magic Number,"{'line': 334, 'column': 37, 'index': 11359}","  332 |     equal(results.length, 1);
  333 |     const locations = results[0].get('locations');
> 334 |     expect(locations.length).toEqual(2);
      |                                     ^ Magic Number
  335 |     expect(locations[0]).toEqual(point1);
  336 |     expect(locations[1]).toEqual(point2);
  337 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Magic Number,"{'line': 557, 'column': 38, 'index': 18369}","  555 |       })
  556 |       .catch(err => {
> 557 |         expect(err.data.code).toEqual(1);
      |                                      ^ Magic Number
  558 |         done();
  559 |       });
  560 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Magic Number,"{'line': 663, 'column': 38, 'index': 21406}","  661 |       })
  662 |       .catch(err => {
> 663 |         expect(err.data.code).toEqual(1);
      |                                      ^ Magic Number
  664 |         done();
  665 |       });
  666 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Magic Number,"{'line': 701, 'column': 38, 'index': 22549}","  699 |       })
  700 |       .catch(err => {
> 701 |         expect(err.data.code).toEqual(1);
      |                                      ^ Magic Number
  702 |         done();
  703 |       });
  704 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Magic Number,"{'line': 735, 'column': 38, 'index': 23473}","  733 |       })
  734 |       .catch(err => {
> 735 |         expect(err.data.code).toEqual(107);
      |                                      ^ Magic Number
  736 |         done();
  737 |       });
  738 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 8}","   6 |
   7 | describe('Parse.GeoPoint testing', () => {
>  8 |   it('geo point roundtrip', async () => {
     |  ^ Unknown Test
   9 |     const point = new Parse.GeoPoint(44.0, -11.0);
  10 |     const obj = new TestObject();
  11 |     obj.set('location', point);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 21}","  19 |   });
  20 |
> 21 |   it('update geopoint', done => {
     |  ^ Unknown Test
  22 |     const oldPoint = new Parse.GeoPoint(44.0, -11.0);
  23 |     const newPoint = new Parse.GeoPoint(24.0, 19.0);
  24 |     const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 44}","  42 |   });
  43 |
> 44 |   it('has the correct __type field in the json response', async done => {
     |  ^ Unknown Test
  45 |     const point = new Parse.GeoPoint(44.0, -11.0);
  46 |     const obj = new TestObject();
  47 |     obj.set('location', point);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 62}","  60 |   });
  61 |
> 62 |   it('creating geo point exception two fields', done => {
     |  ^ Unknown Test
  63 |     const point = new Parse.GeoPoint(20, 20);
  64 |     const obj = new TestObject();
  65 |     obj.set('locationOne', point);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 118}","  116 |   });
  117 |
> 118 |   it('geo max distance large', done => {
      |  ^ Unknown Test
  119 |     const objects = [];
  120 |     [0, 1, 2].map(function (i) {
  121 |       const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 165}","  163 |   });
  164 |
> 165 |   it('geo max distance small', async () => {
      |  ^ Unknown Test
  166 |     const objects = [];
  167 |     [0, 1, 2].map(function (i) {
  168 |       const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 199}","  197 |   };
  198 |
> 199 |   it('geo max distance in km everywhere', async done => {
      |  ^ Unknown Test
  200 |     await makeSomeGeoPoints();
  201 |     const sfo = new Parse.GeoPoint(37.6189722, -122.3748889);
  202 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 221}","  219 |   });
  220 |
> 221 |   it('geo max distance in km bay area', async () => {
      |  ^ Unknown Test
  222 |     await makeSomeGeoPoints();
  223 |     const sfo = new Parse.GeoPoint(37.6189722, -122.3748889);
  224 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 231}","  229 |   });
  230 |
> 231 |   it('geo max distance in km mid peninsula', async () => {
      |  ^ Unknown Test
  232 |     await makeSomeGeoPoints();
  233 |     const sfo = new Parse.GeoPoint(37.6189722, -122.3748889);
  234 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 240}","  238 |   });
  239 |
> 240 |   it('geo max distance in miles everywhere', async () => {
      |  ^ Unknown Test
  241 |     await makeSomeGeoPoints();
  242 |     const sfo = new Parse.GeoPoint(37.6189722, -122.3748889);
  243 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 260}","  258 |   });
  259 |
> 260 |   it('geo max distance in miles bay area', async () => {
      |  ^ Unknown Test
  261 |     await makeSomeGeoPoints();
  262 |     const sfo = new Parse.GeoPoint(37.6189722, -122.3748889);
  263 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 270}","  268 |   });
  269 |
> 270 |   it('geo max distance in miles mid peninsula', async () => {
      |  ^ Unknown Test
  271 |     await makeSomeGeoPoints();
  272 |     const sfo = new Parse.GeoPoint(37.6189722, -122.3748889);
  273 |     const query = new Parse.Query(TestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 310}","  308 |   });
  309 |
> 310 |   it('supports a sub-object with a geo point', async () => {
      |  ^ Unknown Test
  311 |     const point = new Parse.GeoPoint(44.0, -11.0);
  312 |     const obj = new TestObject();
  313 |     obj.set('subobject', { location: point });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 339}","  337 |   });
  338 |
> 339 |   it('equalTo geopoint', done => {
      |  ^ Unknown Test
  340 |     const point = new Parse.GeoPoint(44.0, -11.0);
  341 |     const obj = new TestObject();
  342 |     obj.set('location', point);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseGeoPoint.spec.js,Unknown Test,"{'column': 2, 'line': 740}","  738 |   });
  739 |
> 740 |   it('withinKilometers supports count', async () => {
      |  ^ Unknown Test
  741 |     const inside = new Parse.GeoPoint(10, 10);
  742 |     const outside = new Parse.GeoPoint(20, 20);
  743 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 11, 'column': 0, 'index': 254}","   9 | const str = 'Hello World!';
  10 | const data = [];
> 11 | for (let i = 0; i < str.length; i++) {
  12 |   data.push(str.charCodeAt(i));
  13 | }
  14 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1014, 'column': 6, 'index': 31629}","  1012 |     function repeat(string, count) {
  1013 |       let s = string;
> 1014 |       while (count > 0) {
       |      ^ Conditional Test Logic
  1015 |         s += string;
  1016 |         count--;
  1017 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1261, 'column': 6, 'index': 41287}","  1259 |       const invalidValues = [[], {}, 1, 'string', null];
  1260 |       const validValues = [undefined, true, false];
> 1261 |       for (const config of invalidConfigs) {
       |      ^ Conditional Test Logic
  1262 |         await expectAsync(reconfigureServer(config)).toBeRejectedWith(
  1263 |           'fileUpload must be an object value.'
  1264 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1266, 'column': 6, 'index': 41470}","  1264 |         );
  1265 |       }
> 1266 |       for (const config of validConfigs) {
       |      ^ Conditional Test Logic
  1267 |         await expectAsync(reconfigureServer(config)).toBeResolved();
  1268 |       }
  1269 |       for (const key of keys) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1269, 'column': 6, 'index': 41590}","  1267 |         await expectAsync(reconfigureServer(config)).toBeResolved();
  1268 |       }
> 1269 |       for (const key of keys) {
       |      ^ Conditional Test Logic
  1270 |         for (const value of invalidValues) {
  1271 |           await expectAsync(reconfigureServer({ fileUpload: { [key]: value } })).toBeRejectedWith(
  1272 |             `fileUpload.${key} must be a boolean value.`"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1270, 'column': 8, 'index': 41624}","  1268 |       }
  1269 |       for (const key of keys) {
> 1270 |         for (const value of invalidValues) {
       |        ^ Conditional Test Logic
  1271 |           await expectAsync(reconfigureServer({ fileUpload: { [key]: value } })).toBeRejectedWith(
  1272 |             `fileUpload.${key} must be a boolean value.`
  1273 |           );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1275, 'column': 8, 'index': 41848}","  1273 |           );
  1274 |         }
> 1275 |         for (const value of validValues) {
       |        ^ Conditional Test Logic
  1276 |           await expectAsync(reconfigureServer({ fileUpload: { [key]: value } })).toBeResolved();
  1277 |         }
  1278 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1345, 'column': 6, 'index': 43844}","  1343 |         },
  1344 |       });
> 1345 |       for (const type of ['plain', 'txt', 'png', 'jpg', 'gif', 'doc']) {
       |      ^ Conditional Test Logic
  1346 |         const file = new Parse.File(`parse-server-logo.${type}`, { base64: 'ParseA==' });
  1347 |         await file.save();
  1348 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1365, 'column': 6, 'index': 44474}","  1363 |       const values = ['file.png.html', 'file.txt.png.html', 'file.png.txt.html'];
  1364 |
> 1365 |       for (const value of values) {
       |      ^ Conditional Test Logic
  1366 |         await expectAsync(
  1367 |           request({
  1368 |             method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1403, 'column': 6, 'index': 45462}","  1401 |       ];
  1402 |
> 1403 |       for (const value of values) {
       |      ^ Conditional Test Logic
  1404 |         await expectAsync(
  1405 |           request({
  1406 |             method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Conditional Test Logic,"{'line': 1433, 'column': 6, 'index': 46320}","  1431 |       const values = ['filenamewithoutextension'];
  1432 |
> 1433 |       for (const value of values) {
       |      ^ Conditional Test Logic
  1434 |         await expectAsync(
  1435 |           request({
  1436 |             method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 118, 'column': 12, 'index': 3802}","  116 |             url: 'http://localhost:8378/1/files/' + b.name,
  117 |           }).then(response => {
> 118 |             expect(response.status).toEqual(200);
      |            ^ Duplicate Assert
  119 |             request({
  120 |               headers: {
  121 |                 'X-Parse-Application-Id': 'test',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 126, 'column': 14, 'index': 4082}","  124 |               url: b.url,
  125 |             }).then(fail, response => {
> 126 |               expect(response.status).toEqual(404);
      |              ^ Duplicate Assert
  127 |               done();
  128 |             });
  129 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 158, 'column': 10, 'index': 5107}","  156 |         }).then(fail, response => {
  157 |           const del_b = response.data;
> 158 |           expect(response.status).toEqual(403);
      |          ^ Duplicate Assert
  159 |           expect(del_b.error).toMatch(/unauthorized/);
  160 |           // incorrect X-Parse-Master-Key header
  161 |           request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 158, 'column': 10, 'index': 5107}","  156 |         }).then(fail, response => {
  157 |           const del_b = response.data;
> 158 |           expect(response.status).toEqual(403);
      |          ^ Duplicate Assert
  159 |           expect(del_b.error).toMatch(/unauthorized/);
  160 |           // incorrect X-Parse-Master-Key header
  161 |           request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 171, 'column': 12, 'index': 5631}","  169 |           }).then(fail, response => {
  170 |             const del_b2 = response.data;
> 171 |             expect(response.status).toEqual(403);
      |            ^ Duplicate Assert
  172 |             expect(del_b2.error).toMatch(/unauthorized/);
  173 |             done();
  174 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 171, 'column': 12, 'index': 5631}","  169 |           }).then(fail, response => {
  170 |             const del_b2 = response.data;
> 171 |             expect(response.status).toEqual(403);
      |            ^ Duplicate Assert
  172 |             expect(del_b2.error).toMatch(/unauthorized/);
  173 |             done();
  174 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 217, 'column': 6, 'index': 7069}","  215 |       const tags = { hello: 'world' };
  216 |       file.setTags(tags);
> 217 |       expect(file.url()).toBeUndefined();
      |      ^ Duplicate Assert
  218 |       const result = await file.save();
  219 |       expect(file.name()).toBeDefined();
  220 |       expect(file.url()).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 220, 'column': 6, 'index': 7192}","  218 |       const result = await file.save();
  219 |       expect(file.name()).toBeDefined();
> 220 |       expect(file.url()).toBeDefined();
      |      ^ Duplicate Assert
  221 |       expect(result.tags()).toEqual(tags);
  222 |       expect(FilesController.prototype.createFile.calls.argsFor(0)[4]).toEqual({
  223 |         tags: tags,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 231, 'column': 6, 'index': 7624}","  229 |       spyOn(FilesController.prototype, 'createFile').and.callThrough();
  230 |       const file = new Parse.File('hello.txt', data, 'text/plain');
> 231 |       expect(file.url()).toBeUndefined();
      |      ^ Duplicate Assert
  232 |       expect(file.name()).toBeDefined();
  233 |       await file.save();
  234 |       expect(file.url()).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Duplicate Assert,"{'line': 234, 'column': 6, 'index': 7732}","  232 |       expect(file.name()).toBeDefined();
  233 |       await file.save();
> 234 |       expect(file.url()).toBeDefined();
      |      ^ Duplicate Assert
  235 |       expect(FilesController.prototype.createFile.calls.argsFor(0)[4]).toEqual({
  236 |         metadata: {},
  237 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Exception Handling,"{'line': 62, 'column': 6, 'index': 1898}","  60 |       response = await request({ url: b.url });
  61 |       const body = response.text;
> 62 |       try {
     |      ^ Exception Handling
  63 |         expect(response.headers['content-type']).toMatch('^text/html');
  64 |         expect(body).toEqual('<html></html>\n');
  65 |       } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Exception Handling,"{'line': 1308, 'column': 10, 'index': 42804}","  1306 |           }),
  1307 |         }).catch(e => {
> 1308 |           throw new Error(e.data.error);
       |          ^ Exception Handling
  1309 |         })
  1310 |       ).toBeRejectedWith(
  1311 |         new Parse.Error(Parse.Error.FILE_SAVE_ERROR, `File upload of extension html is disabled.`)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Exception Handling,"{'line': 1332, 'column': 10, 'index': 43487}","  1330 |           body: '<html></html>\n',
  1331 |         }).catch(e => {
> 1332 |           throw new Error(e.data.error);
       |          ^ Exception Handling
  1333 |         })
  1334 |       ).toBeRejectedWith(
  1335 |         new Parse.Error(Parse.Error.FILE_SAVE_ERROR, `File upload of extension html is disabled.`)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Exception Handling,"{'line': 1373, 'column': 12, 'index': 44743}","  1371 |             body: '<html></html>\n',
  1372 |           }).catch(e => {
> 1373 |             throw new Error(e.data.error);
       |            ^ Exception Handling
  1374 |           })
  1375 |         ).toBeRejectedWith(
  1376 |           new Parse.Error(Parse.Error.FILE_SAVE_ERROR, `File upload of extension html is disabled.`)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Exception Handling,"{'line': 1411, 'column': 12, 'index': 45731}","  1409 |             body: '<html></html>\n',
  1410 |           }).catch(e => {
> 1411 |             throw new Error(e.data.error);
       |            ^ Exception Handling
  1412 |           })
  1413 |         ).toBeRejectedWith(
  1414 |           new Parse.Error(Parse.Error.INVALID_FILE_NAME, `Filename contains invalid characters.`)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Exception Handling,"{'line': 1441, 'column': 12, 'index': 46589}","  1439 |             body: '<html></html>\n',
  1440 |           }).catch(e => {
> 1441 |             throw new Error(e.data.error);
       |            ^ Exception Handling
  1442 |           })
  1443 |         ).toBeResolved();
  1444 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Exception Handling,"{'line': 1465, 'column': 10, 'index': 47225}","  1463 |           }),
  1464 |         }).catch(e => {
> 1465 |           throw new Error(e.data.error);
       |          ^ Exception Handling
  1466 |         })
  1467 |       ).toBeRejectedWith(
  1468 |         new Parse.Error(Parse.Error.FILE_SAVE_ERROR, `File upload of extension html is disabled.`)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Exception Handling,"{'line': 1514, 'column': 10, 'index': 48716}","  1512 |           body: '<html></html>\n',
  1513 |         }).catch(e => {
> 1514 |           throw new Error(e.data.error);
       |          ^ Exception Handling
  1515 |         })
  1516 |       ).toBeRejectedWith(
  1517 |         new Parse.Error(Parse.Error.FILE_SAVE_ERROR, `File upload of extension html is disabled.`)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 118, 'column': 44, 'index': 3834}","  116 |             url: 'http://localhost:8378/1/files/' + b.name,
  117 |           }).then(response => {
> 118 |             expect(response.status).toEqual(200);
      |                                            ^ Magic Number
  119 |             request({
  120 |               headers: {
  121 |                 'X-Parse-Application-Id': 'test',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 126, 'column': 46, 'index': 4114}","  124 |               url: b.url,
  125 |             }).then(fail, response => {
> 126 |               expect(response.status).toEqual(404);
      |                                              ^ Magic Number
  127 |               done();
  128 |             });
  129 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 158, 'column': 42, 'index': 5139}","  156 |         }).then(fail, response => {
  157 |           const del_b = response.data;
> 158 |           expect(response.status).toEqual(403);
      |                                          ^ Magic Number
  159 |           expect(del_b.error).toMatch(/unauthorized/);
  160 |           // incorrect X-Parse-Master-Key header
  161 |           request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 171, 'column': 44, 'index': 5663}","  169 |           }).then(fail, response => {
  170 |             const del_b2 = response.data;
> 171 |             expect(response.status).toEqual(403);
      |                                            ^ Magic Number
  172 |             expect(del_b2.error).toMatch(/unauthorized/);
  173 |             done();
  174 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 436, 'column': 44, 'index': 13883}","  434 |         .then(result => {
  435 |           const filesAgain = result.get('files');
> 436 |           expect(filesAgain.length).toEqual(2);
      |                                            ^ Magic Number
  437 |           expect(filesAgain[0].name()).toEqual('meep');
  438 |           expect(filesAgain[0].url()).toEqual('http://meep.meep');
  439 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 456, 'column': 31, 'index': 14503}","  454 |       }).then(fail, response => {
  455 |         const b = response.data;
> 456 |         expect(b.code).toEqual(122);
      |                               ^ Magic Number
  457 |         done();
  458 |       });
  459 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 479, 'column': 31, 'index': 15211}","  477 |       }).then(fail, response => {
  478 |         const b = response.data;
> 479 |         expect(b.code).toEqual(122);
      |                               ^ Magic Number
  480 |         done();
  481 |       });
  482 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 610, 'column': 73, 'index': 18861}","  608 |         .then(result => {
  609 |           const fileAgain = result.get('file');
> 610 |           expect(fileAgain.url().indexOf('https://mydomain/parse')).toBe(0);
      |                                                                         ^ Magic Number
  611 |           done();
  612 |         })
  613 |         .catch(e => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 631, 'column': 37, 'index': 19402}","  629 |         body: '',
  630 |       }).then(fail, response => {
> 631 |         expect(response.status).toBe(400);
      |                                     ^ Magic Number
  632 |         const body = response.text;
  633 |         expect(body).toEqual('{""code"":130,""error"":""Invalid file upload.""}');
  634 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 650, 'column': 37, 'index': 19985}","  648 |         body: 'yolo',
  649 |       }).then(fail, response => {
> 650 |         expect(response.status).toBe(400);
      |                                     ^ Magic Number
  651 |         const body = response.text;
  652 |         expect(body).toEqual('{""code"":122,""error"":""Filename not provided.""}');
  653 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 671, 'column': 37, 'index': 20634}","  669 |         url: 'http://localhost:8378/1/files/file.txt',
  670 |       }).then(fail, response => {
> 671 |         expect(response.status).toBe(400);
      |                                     ^ Magic Number
  672 |         const body = response.text;
  673 |         expect(typeof body).toBe('string');
  674 |         const { code, error } = JSON.parse(body);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 675, 'column': 26, 'index': 20796}","  673 |         expect(typeof body).toBe('string');
  674 |         const { code, error } = JSON.parse(body);
> 675 |         expect(code).toBe(153);
      |                          ^ Magic Number
  676 |         expect(typeof error).toBe('string');
  677 |         expect(error.length).toBeGreaterThan(0);
  678 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 677, 'column': 45, 'index': 20892}","  675 |         expect(code).toBe(153);
  676 |         expect(typeof error).toBe('string');
> 677 |         expect(error.length).toBeGreaterThan(0);
      |                                             ^ Magic Number
  678 |         done();
  679 |       });
  680 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 688, 'column': 31, 'index': 21212}","  686 |         url: 'http://localhost:8378/1/files/invalid-id/invalid-file.txt',
  687 |       }).catch(e => e);
> 688 |       expect(res1.status).toBe(403);
      |                               ^ Magic Number
  689 |       expect(res1.data).toEqual({ code: 119, error: 'Invalid application ID.' });
  690 |       // Ensure server did not crash
  691 |       const res2 = await request({ url: 'http://localhost:8378/1/health' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 692, 'column': 34, 'index': 21448}","  690 |       // Ensure server did not crash
  691 |       const res2 = await request({ url: 'http://localhost:8378/1/health' });
> 692 |       expect(res2.status).toEqual(200);
      |                                  ^ Magic Number
  693 |       expect(res2.data).toEqual({ status: 'ok' });
  694 |     });
  695 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 700, 'column': 31, 'index': 21769}","  698 |         url: 'http://localhost:8378/1/files/invalid-id//invalid-path/%20/invalid-file.txt',
  699 |       }).catch(e => e);
> 700 |       expect(res1.status).toBe(403);
      |                               ^ Magic Number
  701 |       expect(res1.data).toEqual({ error: 'unauthorized' });
  702 |       // Ensure server did not crash
  703 |       const res2 = await request({ url: 'http://localhost:8378/1/health' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 704, 'column': 34, 'index': 21983}","  702 |       // Ensure server did not crash
  703 |       const res2 = await request({ url: 'http://localhost:8378/1/health' });
> 704 |       expect(res2.status).toEqual(200);
      |                                  ^ Magic Number
  705 |       expect(res2.data).toEqual({ status: 'ok' });
  706 |     });
  707 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 712, 'column': 31, 'index': 22292}","  710 |         url: `http://localhost:8378/1/files/invalid-id/metadata/invalid-file.txt`,
  711 |       });
> 712 |       expect(res1.status).toBe(200);
      |                               ^ Magic Number
  713 |       expect(res1.data).toEqual({});
  714 |       // Ensure server did not crash
  715 |       const res2 = await request({ url: 'http://localhost:8378/1/health' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 716, 'column': 34, 'index': 22483}","  714 |       // Ensure server did not crash
  715 |       const res2 = await request({ url: 'http://localhost:8378/1/health' });
> 716 |       expect(res2.status).toEqual(200);
      |                                  ^ Magic Number
  717 |       expect(res2.data).toEqual({ status: 'ok' });
  718 |     });
  719 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 976, 'column': 35, 'index': 30620}","  974 |         }).then(response => {
  975 |           const body = response.text;
> 976 |           expect(body.length).toBe(4);
      |                                   ^ Magic Number
  977 |           expect(body).toEqual('rent');
  978 |           done();
  979 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 1044, 'column': 38, 'index': 32521}","  1042 |         }).then(response => {
  1043 |           const body = response.text;
> 1044 |           expect(body.length).toEqual(228);
       |                                      ^ Magic Number
  1045 |           expect(body.indexOf('rgle barglea')).toBe(0);
  1046 |           done();
  1047 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 1045, 'column': 52, 'index': 32579}","  1043 |           const body = response.text;
  1044 |           expect(body.length).toEqual(228);
> 1045 |           expect(body.indexOf('rgle barglea')).toBe(0);
       |                                                    ^ Magic Number
  1046 |           done();
  1047 |         });
  1048 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Magic Number,"{'line': 1061, 'column': 35, 'index': 33046}","  1059 |         },
  1060 |       }).catch(e => e);
> 1061 |       expect(response.status).toBe(404);
       |                                   ^ Magic Number
  1062 |       const body = response.text;
  1063 |       expect(body).toEqual('File not found.');
  1064 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 202}","  200 |     });
  201 |
> 202 |     it('save file', async () => {
      |    ^ Unknown Test
  203 |       const file = new Parse.File('hello.txt', data, 'text/plain');
  204 |       ok(!file.url());
  205 |       const result = await file.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 240}","  238 |     });
  239 |
> 240 |     it('save file in object', async done => {
      |    ^ Unknown Test
  241 |       const file = new Parse.File('hello.txt', data, 'text/plain');
  242 |       ok(!file.url());
  243 |       const result = await file.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 256}","  254 |     });
  255 |
> 256 |     it('save file in object with escaped characters in filename', async () => {
      |    ^ Unknown Test
  257 |       const file = new Parse.File('hello . txt', data, 'text/plain');
  258 |       ok(!file.url());
  259 |       const result = await file.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 271}","  269 |     });
  270 |
> 271 |     it('autosave file in object', async done => {
      |    ^ Unknown Test
  272 |       let file = new Parse.File('hello.txt', data, 'text/plain');
  273 |       ok(!file.url());
  274 |       const object = new Parse.Object('TestObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 285}","  283 |     });
  284 |
> 285 |     it('autosave file in object in object', async done => {
      |    ^ Unknown Test
  286 |       let file = new Parse.File('hello.txt', data, 'text/plain');
  287 |       ok(!file.url());
  288 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 308}","  306 |     });
  307 |
> 308 |     it('saving an already saved file', async () => {
      |    ^ Unknown Test
  309 |       const file = new Parse.File('hello.txt', data, 'text/plain');
  310 |       ok(!file.url());
  311 |       const result = await file.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 322}","  320 |     });
  321 |
> 322 |     it('two saves at the same time', done => {
      |    ^ Unknown Test
  323 |       const file = new Parse.File('hello.txt', data, 'text/plain');
  324 |
  325 |       let firstName;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 347}","  345 |     });
  346 |
> 347 |     it('file toJSON testing', async () => {
      |    ^ Unknown Test
  348 |       const file = new Parse.File('hello.txt', data, 'text/plain');
  349 |       ok(!file.url());
  350 |       const object = new Parse.Object('TestObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1102}","  1100 |
  1101 |   describe('file upload configuration', () => {
> 1102 |     it('allows file upload only for authenticated user by default', async () => {
       |    ^ Unknown Test
  1103 |       await reconfigureServer({
  1104 |         fileUpload: {},
  1105 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1120}","  1118 |     });
  1119 |
> 1120 |     it('allows file upload with master key', async () => {
       |    ^ Unknown Test
  1121 |       await reconfigureServer({
  1122 |         fileUpload: {
  1123 |           enableForPublic: false,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1132}","  1130 |     });
  1131 |
> 1132 |     it('rejects all file uploads', async () => {
       |    ^ Unknown Test
  1133 |       await reconfigureServer({
  1134 |         fileUpload: {
  1135 |           enableForPublic: false,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1159}","  1157 |     });
  1158 |
> 1159 |     it('allows all file uploads', async () => {
       |    ^ Unknown Test
  1160 |       await reconfigureServer({
  1161 |         fileUpload: {
  1162 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1177}","  1175 |     });
  1176 |
> 1177 |     it('allows file upload only for public', async () => {
       |    ^ Unknown Test
  1178 |       await reconfigureServer({
  1179 |         fileUpload: {
  1180 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1202}","  1200 |     });
  1201 |
> 1202 |     it('allows file upload only for anonymous user', async () => {
       |    ^ Unknown Test
  1203 |       await reconfigureServer({
  1204 |         fileUpload: {
  1205 |           enableForPublic: false,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1227}","  1225 |     });
  1226 |
> 1227 |     it('allows file upload only for authenticated user', async () => {
       |    ^ Unknown Test
  1228 |       await reconfigureServer({
  1229 |         fileUpload: {
  1230 |           enableForPublic: false,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1249}","  1247 |     });
  1248 |
> 1249 |     it('rejects invalid fileUpload configuration', async () => {
       |    ^ Unknown Test
  1250 |       const invalidConfigs = [
  1251 |         { fileUpload: undefined },
  1252 |         { fileUpload: null },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1290}","  1288 |
  1289 |   describe('fileExtensions', () => {
> 1290 |     it('works with _ContentType', async () => {
       |    ^ Unknown Test
  1291 |       await reconfigureServer({
  1292 |         fileUpload: {
  1293 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1315}","  1313 |     });
  1314 |
> 1315 |     it('works without Content-Type', async () => {
       |    ^ Unknown Test
  1316 |       await reconfigureServer({
  1317 |         fileUpload: {
  1318 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1339}","  1337 |     });
  1338 |
> 1339 |     it('default should allow common types', async () => {
       |    ^ Unknown Test
  1340 |       await reconfigureServer({
  1341 |         fileUpload: {
  1342 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1351}","  1349 |     });
  1350 |
> 1351 |     it('works with a period in the file name', async () => {
       |    ^ Unknown Test
  1352 |       await reconfigureServer({
  1353 |         fileUpload: {
  1354 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1381}","  1379 |     });
  1380 |
> 1381 |     it('works to stop invalid filenames', async () => {
       |    ^ Unknown Test
  1382 |       await reconfigureServer({
  1383 |         fileUpload: {
  1384 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1419}","  1417 |     });
  1418 |
> 1419 |     it('allows file without extension', async () => {
       |    ^ Unknown Test
  1420 |       await reconfigureServer({
  1421 |         fileUpload: {
  1422 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1447}","  1445 |     });
  1446 |
> 1447 |     it('works with array', async () => {
       |    ^ Unknown Test
  1448 |       await reconfigureServer({
  1449 |         fileUpload: {
  1450 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseFile.spec.js,Unknown Test,"{'column': 4, 'line': 1496}","  1494 |     });
  1495 |
> 1496 |     it('works with array without Content-Type', async () => {
       |    ^ Unknown Test
  1497 |       await reconfigureServer({
  1498 |         fileUpload: {
  1499 |           enableForPublic: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 31, 'column': 4, 'index': 1031}","  29 |     })).toBeResolved();
  30 |     const error = loggerErrorSpy.calls.all().reduce((s, call) => s += call.args[0], '');
> 31 |     expect(error).toMatch(invalidKeyErrorMessage);
     |    ^ Duplicate Assert
  32 |     expect(error).toMatch(`invalidKey`);
  33 |     expect(error).toMatch(`EmailVerificationSendFail`);
  34 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 32, 'column': 4, 'index': 1082}","  30 |     const error = loggerErrorSpy.calls.all().reduce((s, call) => s += call.args[0], '');
  31 |     expect(error).toMatch(invalidKeyErrorMessage);
> 32 |     expect(error).toMatch(`invalidKey`);
     |    ^ Duplicate Assert
  33 |     expect(error).toMatch(`EmailVerificationSendFail`);
  34 |   });
  35 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 33, 'column': 4, 'index': 1123}","  31 |     expect(error).toMatch(invalidKeyErrorMessage);
  32 |     expect(error).toMatch(`invalidKey`);
> 33 |     expect(error).toMatch(`EmailVerificationSendFail`);
     |    ^ Duplicate Assert
  34 |   });
  35 |
  36 |   it('recognizes invalid keys in liveQueryServerOptions', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 44, 'column': 4, 'index': 1498}","  42 |     })).toBeResolved();
  43 |     const error = loggerErrorSpy.calls.all().reduce((s, call) => s += call.args[0], '');
> 44 |     expect(error).toMatch(invalidKeyErrorMessage);
     |    ^ Duplicate Assert
  45 |     expect(error).toMatch(`MasterKey`);
  46 |   });
  47 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 45, 'column': 4, 'index': 1549}","  43 |     const error = loggerErrorSpy.calls.all().reduce((s, call) => s += call.args[0], '');
  44 |     expect(error).toMatch(invalidKeyErrorMessage);
> 45 |     expect(error).toMatch(`MasterKey`);
     |    ^ Duplicate Assert
  46 |   });
  47 |
  48 |   it('recognizes invalid keys in rateLimit', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 57, 'column': 4, 'index': 1926}","  55 |     })).toBeRejected();
  56 |     const error = loggerErrorSpy.calls.all().reduce((s, call) => s += call.args[0], '');
> 57 |     expect(error).toMatch(invalidKeyErrorMessage);
     |    ^ Duplicate Assert
  58 |     expect(error).toMatch('rateLimit\\[0\\]\\.invalidKey');
  59 |     expect(error).toMatch('rateLimit\\[1\\]\\.RequestPath');
  60 |     expect(error).toMatch('rateLimit\\[2\\]\\.RequestTimeWindow');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 58, 'column': 4, 'index': 1977}","  56 |     const error = loggerErrorSpy.calls.all().reduce((s, call) => s += call.args[0], '');
  57 |     expect(error).toMatch(invalidKeyErrorMessage);
> 58 |     expect(error).toMatch('rateLimit\\[0\\]\\.invalidKey');
     |    ^ Duplicate Assert
  59 |     expect(error).toMatch('rateLimit\\[1\\]\\.RequestPath');
  60 |     expect(error).toMatch('rateLimit\\[2\\]\\.RequestTimeWindow');
  61 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 59, 'column': 4, 'index': 2037}","  57 |     expect(error).toMatch(invalidKeyErrorMessage);
  58 |     expect(error).toMatch('rateLimit\\[0\\]\\.invalidKey');
> 59 |     expect(error).toMatch('rateLimit\\[1\\]\\.RequestPath');
     |    ^ Duplicate Assert
  60 |     expect(error).toMatch('rateLimit\\[2\\]\\.RequestTimeWindow');
  61 |   });
  62 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseConfigKey.spec.js,Duplicate Assert,"{'line': 60, 'column': 4, 'index': 2098}","  58 |     expect(error).toMatch('rateLimit\\[0\\]\\.invalidKey');
  59 |     expect(error).toMatch('rateLimit\\[1\\]\\.RequestPath');
> 60 |     expect(error).toMatch('rateLimit\\[2\\]\\.RequestTimeWindow');
     |    ^ Duplicate Assert
  61 |   });
  62 |
  63 |   it_only_db('mongo')('recognizes valid keys in default configuration', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 365, 'column': 4, 'index': 10860}","  363 |   it('query without limit get default 100 records', function (done) {
  364 |     const objects = [];
> 365 |     for (let i = 0; i < 150; i++) {
      |    ^ Conditional Test Logic
  366 |       objects.push(new TestObject({ name: 'name' + i }));
  367 |     }
  368 |     Parse.Object.saveAll(objects)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 444, 'column': 6, 'index': 12972}","  442 |       expect(object instanceof Parse.Object).toBeTruthy();
  443 |       expect(object.get('fooAgain')).toEqual('barAgain');
> 444 |       if (triggerTime == 0) {
      |      ^ Conditional Test Logic
  445 |         // Create
  446 |         expect(object.get('foo')).toEqual('bar');
  447 |         // No objectId/createdAt/updatedAt"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 451, 'column': 13, 'index': 13263}","  449 |         expect(object.createdAt).toBeUndefined();
  450 |         expect(object.updatedAt).toBeUndefined();
> 451 |       } else if (triggerTime == 1) {
      |             ^ Conditional Test Logic
  452 |         // Update
  453 |         expect(object.get('foo')).toEqual('baz');
  454 |         expect(object.id).not.toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 518, 'column': 6, 'index': 15020}","  516 |       expect(object.get('fooAgain')).toEqual('barAgain');
  517 |       const originalObject = req.original;
> 518 |       if (triggerTime == 0) {
      |      ^ Conditional Test Logic
  519 |         // No id/createdAt/updatedAt
  520 |         expect(object.id).toBeUndefined();
  521 |         expect(object.createdAt).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 527, 'column': 13, 'index': 15402}","  525 |         // Check the originalObject is undefined
  526 |         expect(originalObject).toBeUndefined();
> 527 |       } else if (triggerTime == 1) {
      |             ^ Conditional Test Logic
  528 |         // Update
  529 |         expect(object.id).not.toBeUndefined();
  530 |         expect(object.createdAt).not.toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 619, 'column': 6, 'index': 17983}","  617 |     Parse.Cloud.beforeSave('GameScore', req => {
  618 |       const obj = req.object;
> 619 |       if (obj.get('point')) {
      |      ^ Conditional Test Logic
  620 |         return;
  621 |       }
  622 |       const TestObject1 = Parse.Object.extend('TestObject1');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 679, 'column': 6, 'index': 20011}","  677 |       expect(object.updatedAt).not.toBeUndefined();
  678 |       expect(object.get('fooAgain')).toEqual('barAgain');
> 679 |       if (triggerTime == 0) {
      |      ^ Conditional Test Logic
  680 |         // Create
  681 |         expect(object.get('foo')).toEqual('bar');
  682 |       } else if (triggerTime == 1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 682, 'column': 13, 'index': 20116}","  680 |         // Create
  681 |         expect(object.get('foo')).toEqual('bar');
> 682 |       } else if (triggerTime == 1) {
      |             ^ Conditional Test Logic
  683 |         // Update
  684 |         expect(object.get('foo')).toEqual('baz');
  685 |       } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 726, 'column': 6, 'index': 21336}","  724 |       expect(object.updatedAt).not.toBeUndefined();
  725 |       const originalObject = req.original;
> 726 |       if (triggerTime == 0) {
      |      ^ Conditional Test Logic
  727 |         // Create
  728 |         expect(object.get('foo')).toEqual('bar');
  729 |         // Check the originalObject is undefined"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 731, 'column': 13, 'index': 21538}","  729 |         // Check the originalObject is undefined
  730 |         expect(originalObject).toBeUndefined();
> 731 |       } else if (triggerTime == 1) {
      |             ^ Conditional Test Logic
  732 |         // Update
  733 |         expect(object.get('foo')).toEqual('baz');
  734 |         // Check the originalObject"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 776, 'column': 6, 'index': 22920}","  774 |       const object = req.object;
  775 |       const originalObject = req.original;
> 776 |       if (triggerTime == 0) {
      |      ^ Conditional Test Logic
  777 |         // Create
  778 |       } else if (triggerTime == 1) {
  779 |         // Update"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 778, 'column': 13, 'index': 22975}","  776 |       if (triggerTime == 0) {
  777 |         // Create
> 778 |       } else if (triggerTime == 1) {
      |             ^ Conditional Test Logic
  779 |         // Update
  780 |         expect(object.get('foo')).toEqual('baz');
  781 |         // Make sure we get the full originalObject"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 829, 'column': 6, 'index': 24585}","  827 |       expect(object instanceof Parse.Object).toBeTruthy();
  828 |       const originalObject = req.original;
> 829 |       if (triggerTime == 0) {
      |      ^ Conditional Test Logic
  830 |         // Create
  831 |         expect(object.get('yolo')).toEqual(1);
  832 |       } else if (triggerTime == 1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 832, 'column': 13, 'index': 24687}","  830 |         // Create
  831 |         expect(object.get('yolo')).toEqual(1);
> 832 |       } else if (triggerTime == 1) {
      |             ^ Conditional Test Logic
  833 |         // Update
  834 |         expect(object.get('yolo')).toEqual(2);
  835 |         // Check the originalObject"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 869, 'column': 6, 'index': 25577}","  867 |     Parse.Cloud.beforeSave('GameScore', function (req) {
  868 |       const object = req.object;
> 869 |       if (triggerTime == 0) {
      |      ^ Conditional Test Logic
  870 |         const acl = object.getACL();
  871 |         expect(acl.getPublicReadAccess()).toBeTruthy();
  872 |         expect(acl.getPublicWriteAccess()).toBeTruthy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 873, 'column': 13, 'index': 25764}","  871 |         expect(acl.getPublicReadAccess()).toBeTruthy();
  872 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
> 873 |       } else if (triggerTime == 1) {
      |             ^ Conditional Test Logic
  874 |         const acl = object.getACL();
  875 |         expect(acl.getPublicReadAccess()).toBeFalsy();
  876 |         expect(acl.getPublicWriteAccess()).toBeTruthy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 913, 'column': 6, 'index': 26771}","  911 |     Parse.Cloud.afterSave('GameScore', function (req) {
  912 |       const object = req.object;
> 913 |       if (triggerTime == 0) {
      |      ^ Conditional Test Logic
  914 |         const acl = object.getACL();
  915 |         expect(acl.getPublicReadAccess()).toBeTruthy();
  916 |         expect(acl.getPublicWriteAccess()).toBeTruthy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 917, 'column': 13, 'index': 26958}","  915 |         expect(acl.getPublicReadAccess()).toBeTruthy();
  916 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
> 917 |       } else if (triggerTime == 1) {
      |             ^ Conditional Test Logic
  918 |         const acl = object.getACL();
  919 |         expect(acl.getPublicReadAccess()).toBeFalsy();
  920 |         expect(acl.getPublicWriteAccess()).toBeTruthy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Conditional Test Logic,"{'line': 1807, 'column': 6, 'index': 53233}","  1805 |   it('should not update schema beforeSave #2672', done => {
  1806 |     Parse.Cloud.beforeSave('MyObject', request => {
> 1807 |       if (request.object.get('secret')) {
       |      ^ Conditional Test Logic
  1808 |         throw 'cannot set secret here';
  1809 |       }
  1810 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 52, 'column': 6, 'index': 1780}","  50 |       const obj2 = await t2.fetch();
  51 |       expect(obj2.get('bloop')).toEqual('blarg');
> 52 |       expect(obj2.id).toBeTruthy();
     |      ^ Duplicate Assert
  53 |       expect(obj2.id).toEqual(obj.id);
  54 |       done();
  55 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 53, 'column': 6, 'index': 1816}","  51 |       expect(obj2.get('bloop')).toEqual('blarg');
  52 |       expect(obj2.id).toBeTruthy();
> 53 |       expect(obj2.id).toEqual(obj.id);
     |      ^ Duplicate Assert
  54 |       done();
  55 |     });
  56 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 83, 'column': 8, 'index': 2567}","  81 |       () => {
  82 |         numCreated++;
> 83 |         expect(numCreated).toEqual(1);
     |        ^ Duplicate Assert
  84 |       },
  85 |       response => {
  86 |         numFailed++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 112, 'column': 4, 'index': 3206}","  110 |     await Promise.all([p1, p2]);
  111 |     expect(numFailed).toEqual(1);
> 112 |     expect(numCreated).toBe(1);
      |    ^ Duplicate Assert
  113 |   });
  114 |
  115 |   it('ensure that email is uniquely indexed', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 131, 'column': 8, 'index': 3643}","  129 |       () => {
  130 |         numCreated++;
> 131 |         expect(numCreated).toEqual(1);
      |        ^ Duplicate Assert
  132 |       },
  133 |       ({ data }) => {
  134 |         numFailed++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 131, 'column': 8, 'index': 3643}","  129 |       () => {
  130 |         numCreated++;
> 131 |         expect(numCreated).toEqual(1);
      |        ^ Duplicate Assert
  132 |       },
  133 |       ({ data }) => {
  134 |         numFailed++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 135, 'column': 8, 'index': 3734}","  133 |       ({ data }) => {
  134 |         numFailed++;
> 135 |         expect(data.code).toEqual(Parse.Error.EMAIL_TAKEN);
      |        ^ Duplicate Assert
  136 |       }
  137 |     );
  138 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 135, 'column': 8, 'index': 3734}","  133 |       ({ data }) => {
  134 |         numFailed++;
> 135 |         expect(data.code).toEqual(Parse.Error.EMAIL_TAKEN);
      |        ^ Duplicate Assert
  136 |       }
  137 |     );
  138 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 151, 'column': 8, 'index': 4066}","  149 |       () => {
  150 |         numCreated++;
> 151 |         expect(numCreated).toEqual(1);
      |        ^ Duplicate Assert
  152 |       },
  153 |       ({ data }) => {
  154 |         numFailed++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 151, 'column': 8, 'index': 4066}","  149 |       () => {
  150 |         numCreated++;
> 151 |         expect(numCreated).toEqual(1);
      |        ^ Duplicate Assert
  152 |       },
  153 |       ({ data }) => {
  154 |         numFailed++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 155, 'column': 8, 'index': 4157}","  153 |       ({ data }) => {
  154 |         numFailed++;
> 155 |         expect(data.code).toEqual(Parse.Error.EMAIL_TAKEN);
      |        ^ Duplicate Assert
  156 |       }
  157 |     );
  158 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 155, 'column': 8, 'index': 4157}","  153 |       ({ data }) => {
  154 |         numFailed++;
> 155 |         expect(data.code).toEqual(Parse.Error.EMAIL_TAKEN);
      |        ^ Duplicate Assert
  156 |       }
  157 |     );
  158 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 161, 'column': 4, 'index': 4296}","  159 |     await Promise.all([p1, p2]);
  160 |     expect(numFailed).toEqual(1);
> 161 |     expect(numCreated).toBe(1);
      |    ^ Duplicate Assert
  162 |   });
  163 |
  164 |   it_id('be1b9ac7-5e5f-4e91-b044-2bd8fb7622ad')(it)('ensure that if people already have duplicate users, they can still sign up new users', async done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 446, 'column': 8, 'index': 13022}","  444 |       if (triggerTime == 0) {
  445 |         // Create
> 446 |         expect(object.get('foo')).toEqual('bar');
      |        ^ Duplicate Assert
  447 |         // No objectId/createdAt/updatedAt
  448 |         expect(object.id).toBeUndefined();
  449 |         expect(object.createdAt).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 448, 'column': 8, 'index': 13115}","  446 |         expect(object.get('foo')).toEqual('bar');
  447 |         // No objectId/createdAt/updatedAt
> 448 |         expect(object.id).toBeUndefined();
      |        ^ Duplicate Assert
  449 |         expect(object.createdAt).toBeUndefined();
  450 |         expect(object.updatedAt).toBeUndefined();
  451 |       } else if (triggerTime == 1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 449, 'column': 8, 'index': 13158}","  447 |         // No objectId/createdAt/updatedAt
  448 |         expect(object.id).toBeUndefined();
> 449 |         expect(object.createdAt).toBeUndefined();
      |        ^ Duplicate Assert
  450 |         expect(object.updatedAt).toBeUndefined();
  451 |       } else if (triggerTime == 1) {
  452 |         // Update"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 450, 'column': 8, 'index': 13208}","  448 |         expect(object.id).toBeUndefined();
  449 |         expect(object.createdAt).toBeUndefined();
> 450 |         expect(object.updatedAt).toBeUndefined();
      |        ^ Duplicate Assert
  451 |       } else if (triggerTime == 1) {
  452 |         // Update
  453 |         expect(object.get('foo')).toEqual('baz');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 453, 'column': 8, 'index': 13313}","  451 |       } else if (triggerTime == 1) {
  452 |         // Update
> 453 |         expect(object.get('foo')).toEqual('baz');
      |        ^ Duplicate Assert
  454 |         expect(object.id).not.toBeUndefined();
  455 |         expect(object.createdAt).not.toBeUndefined();
  456 |         expect(object.updatedAt).not.toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 454, 'column': 8, 'index': 13363}","  452 |         // Update
  453 |         expect(object.get('foo')).toEqual('baz');
> 454 |         expect(object.id).not.toBeUndefined();
      |        ^ Duplicate Assert
  455 |         expect(object.createdAt).not.toBeUndefined();
  456 |         expect(object.updatedAt).not.toBeUndefined();
  457 |       } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 455, 'column': 8, 'index': 13410}","  453 |         expect(object.get('foo')).toEqual('baz');
  454 |         expect(object.id).not.toBeUndefined();
> 455 |         expect(object.createdAt).not.toBeUndefined();
      |        ^ Duplicate Assert
  456 |         expect(object.updatedAt).not.toBeUndefined();
  457 |       } else {
  458 |         throw new Error();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 456, 'column': 8, 'index': 13464}","  454 |         expect(object.id).not.toBeUndefined();
  455 |         expect(object.createdAt).not.toBeUndefined();
> 456 |         expect(object.updatedAt).not.toBeUndefined();
      |        ^ Duplicate Assert
  457 |       } else {
  458 |         throw new Error();
  459 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 520, 'column': 8, 'index': 15089}","  518 |       if (triggerTime == 0) {
  519 |         // No id/createdAt/updatedAt
> 520 |         expect(object.id).toBeUndefined();
      |        ^ Duplicate Assert
  521 |         expect(object.createdAt).toBeUndefined();
  522 |         expect(object.updatedAt).toBeUndefined();
  523 |         // Create"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 521, 'column': 8, 'index': 15132}","  519 |         // No id/createdAt/updatedAt
  520 |         expect(object.id).toBeUndefined();
> 521 |         expect(object.createdAt).toBeUndefined();
      |        ^ Duplicate Assert
  522 |         expect(object.updatedAt).toBeUndefined();
  523 |         // Create
  524 |         expect(object.get('foo')).toEqual('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 522, 'column': 8, 'index': 15182}","  520 |         expect(object.id).toBeUndefined();
  521 |         expect(object.createdAt).toBeUndefined();
> 522 |         expect(object.updatedAt).toBeUndefined();
      |        ^ Duplicate Assert
  523 |         // Create
  524 |         expect(object.get('foo')).toEqual('bar');
  525 |         // Check the originalObject is undefined"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 524, 'column': 8, 'index': 15250}","  522 |         expect(object.updatedAt).toBeUndefined();
  523 |         // Create
> 524 |         expect(object.get('foo')).toEqual('bar');
      |        ^ Duplicate Assert
  525 |         // Check the originalObject is undefined
  526 |         expect(originalObject).toBeUndefined();
  527 |       } else if (triggerTime == 1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 529, 'column': 8, 'index': 15452}","  527 |       } else if (triggerTime == 1) {
  528 |         // Update
> 529 |         expect(object.id).not.toBeUndefined();
      |        ^ Duplicate Assert
  530 |         expect(object.createdAt).not.toBeUndefined();
  531 |         expect(object.updatedAt).not.toBeUndefined();
  532 |         expect(object.get('foo')).toEqual('baz');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 530, 'column': 8, 'index': 15499}","  528 |         // Update
  529 |         expect(object.id).not.toBeUndefined();
> 530 |         expect(object.createdAt).not.toBeUndefined();
      |        ^ Duplicate Assert
  531 |         expect(object.updatedAt).not.toBeUndefined();
  532 |         expect(object.get('foo')).toEqual('baz');
  533 |         // Check the originalObject"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 531, 'column': 8, 'index': 15553}","  529 |         expect(object.id).not.toBeUndefined();
  530 |         expect(object.createdAt).not.toBeUndefined();
> 531 |         expect(object.updatedAt).not.toBeUndefined();
      |        ^ Duplicate Assert
  532 |         expect(object.get('foo')).toEqual('baz');
  533 |         // Check the originalObject
  534 |         expect(originalObject instanceof Parse.Object).toBeTruthy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 532, 'column': 8, 'index': 15607}","  530 |         expect(object.createdAt).not.toBeUndefined();
  531 |         expect(object.updatedAt).not.toBeUndefined();
> 532 |         expect(object.get('foo')).toEqual('baz');
      |        ^ Duplicate Assert
  533 |         // Check the originalObject
  534 |         expect(originalObject instanceof Parse.Object).toBeTruthy();
  535 |         expect(originalObject.get('fooAgain')).toEqual('barAgain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 681, 'column': 8, 'index': 20061}","  679 |       if (triggerTime == 0) {
  680 |         // Create
> 681 |         expect(object.get('foo')).toEqual('bar');
      |        ^ Duplicate Assert
  682 |       } else if (triggerTime == 1) {
  683 |         // Update
  684 |         expect(object.get('foo')).toEqual('baz');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 684, 'column': 8, 'index': 20166}","  682 |       } else if (triggerTime == 1) {
  683 |         // Update
> 684 |         expect(object.get('foo')).toEqual('baz');
      |        ^ Duplicate Assert
  685 |       } else {
  686 |         throw new Error();
  687 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 728, 'column': 8, 'index': 21386}","  726 |       if (triggerTime == 0) {
  727 |         // Create
> 728 |         expect(object.get('foo')).toEqual('bar');
      |        ^ Duplicate Assert
  729 |         // Check the originalObject is undefined
  730 |         expect(originalObject).toBeUndefined();
  731 |       } else if (triggerTime == 1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 733, 'column': 8, 'index': 21588}","  731 |       } else if (triggerTime == 1) {
  732 |         // Update
> 733 |         expect(object.get('foo')).toEqual('baz');
      |        ^ Duplicate Assert
  734 |         // Check the originalObject
  735 |         expect(originalObject instanceof Parse.Object).toBeTruthy();
  736 |         expect(originalObject.get('fooAgain')).toEqual('barAgain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 831, 'column': 8, 'index': 24635}","  829 |       if (triggerTime == 0) {
  830 |         // Create
> 831 |         expect(object.get('yolo')).toEqual(1);
      |        ^ Duplicate Assert
  832 |       } else if (triggerTime == 1) {
  833 |         // Update
  834 |         expect(object.get('yolo')).toEqual(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 834, 'column': 8, 'index': 24737}","  832 |       } else if (triggerTime == 1) {
  833 |         // Update
> 834 |         expect(object.get('yolo')).toEqual(2);
      |        ^ Duplicate Assert
  835 |         // Check the originalObject
  836 |         expect(originalObject.get('yolo')).toEqual(1);
  837 |       } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 871, 'column': 8, 'index': 25646}","  869 |       if (triggerTime == 0) {
  870 |         const acl = object.getACL();
> 871 |         expect(acl.getPublicReadAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  872 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
  873 |       } else if (triggerTime == 1) {
  874 |         const acl = object.getACL();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 872, 'column': 8, 'index': 25702}","  870 |         const acl = object.getACL();
  871 |         expect(acl.getPublicReadAccess()).toBeTruthy();
> 872 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  873 |       } else if (triggerTime == 1) {
  874 |         const acl = object.getACL();
  875 |         expect(acl.getPublicReadAccess()).toBeFalsy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 872, 'column': 8, 'index': 25702}","  870 |         const acl = object.getACL();
  871 |         expect(acl.getPublicReadAccess()).toBeTruthy();
> 872 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  873 |       } else if (triggerTime == 1) {
  874 |         const acl = object.getACL();
  875 |         expect(acl.getPublicReadAccess()).toBeFalsy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 875, 'column': 8, 'index': 25833}","  873 |       } else if (triggerTime == 1) {
  874 |         const acl = object.getACL();
> 875 |         expect(acl.getPublicReadAccess()).toBeFalsy();
      |        ^ Duplicate Assert
  876 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
  877 |       } else {
  878 |         throw new Error();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 876, 'column': 8, 'index': 25888}","  874 |         const acl = object.getACL();
  875 |         expect(acl.getPublicReadAccess()).toBeFalsy();
> 876 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  877 |       } else {
  878 |         throw new Error();
  879 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 876, 'column': 8, 'index': 25888}","  874 |         const acl = object.getACL();
  875 |         expect(acl.getPublicReadAccess()).toBeFalsy();
> 876 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  877 |       } else {
  878 |         throw new Error();
  879 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 915, 'column': 8, 'index': 26840}","  913 |       if (triggerTime == 0) {
  914 |         const acl = object.getACL();
> 915 |         expect(acl.getPublicReadAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  916 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
  917 |       } else if (triggerTime == 1) {
  918 |         const acl = object.getACL();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 916, 'column': 8, 'index': 26896}","  914 |         const acl = object.getACL();
  915 |         expect(acl.getPublicReadAccess()).toBeTruthy();
> 916 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  917 |       } else if (triggerTime == 1) {
  918 |         const acl = object.getACL();
  919 |         expect(acl.getPublicReadAccess()).toBeFalsy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 916, 'column': 8, 'index': 26896}","  914 |         const acl = object.getACL();
  915 |         expect(acl.getPublicReadAccess()).toBeTruthy();
> 916 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  917 |       } else if (triggerTime == 1) {
  918 |         const acl = object.getACL();
  919 |         expect(acl.getPublicReadAccess()).toBeFalsy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 919, 'column': 8, 'index': 27027}","  917 |       } else if (triggerTime == 1) {
  918 |         const acl = object.getACL();
> 919 |         expect(acl.getPublicReadAccess()).toBeFalsy();
      |        ^ Duplicate Assert
  920 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
  921 |       } else {
  922 |         throw new Error();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 920, 'column': 8, 'index': 27082}","  918 |         const acl = object.getACL();
  919 |         expect(acl.getPublicReadAccess()).toBeFalsy();
> 920 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  921 |       } else {
  922 |         throw new Error();
  923 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 920, 'column': 8, 'index': 27082}","  918 |         const acl = object.getACL();
  919 |         expect(acl.getPublicReadAccess()).toBeFalsy();
> 920 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
      |        ^ Duplicate Assert
  921 |       } else {
  922 |         throw new Error();
  923 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1160, 'column': 6, 'index': 34260}","  1158 |     Parse.Cloud.beforeSave('GameScore', function (req) {
  1159 |       triggerTime++;
> 1160 |       expect(triggerTime).toEqual(1);
       |      ^ Duplicate Assert
  1161 |       expect(req.installationId).toEqual('yolo');
  1162 |     });
  1163 |     Parse.Cloud.afterSave('GameScore', function (req) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1161, 'column': 6, 'index': 34298}","  1159 |       triggerTime++;
  1160 |       expect(triggerTime).toEqual(1);
> 1161 |       expect(req.installationId).toEqual('yolo');
       |      ^ Duplicate Assert
  1162 |     });
  1163 |     Parse.Cloud.afterSave('GameScore', function (req) {
  1164 |       triggerTime++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1161, 'column': 6, 'index': 34298}","  1159 |       triggerTime++;
  1160 |       expect(triggerTime).toEqual(1);
> 1161 |       expect(req.installationId).toEqual('yolo');
       |      ^ Duplicate Assert
  1162 |     });
  1163 |     Parse.Cloud.afterSave('GameScore', function (req) {
  1164 |       triggerTime++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1165, 'column': 6, 'index': 34433}","  1163 |     Parse.Cloud.afterSave('GameScore', function (req) {
  1164 |       triggerTime++;
> 1165 |       expect(triggerTime).toEqual(2);
       |      ^ Duplicate Assert
  1166 |       expect(req.installationId).toEqual('yolo');
  1167 |     });
  1168 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1165, 'column': 6, 'index': 34433}","  1163 |     Parse.Cloud.afterSave('GameScore', function (req) {
  1164 |       triggerTime++;
> 1165 |       expect(triggerTime).toEqual(2);
       |      ^ Duplicate Assert
  1166 |       expect(req.installationId).toEqual('yolo');
  1167 |     });
  1168 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1166, 'column': 6, 'index': 34471}","  1164 |       triggerTime++;
  1165 |       expect(triggerTime).toEqual(2);
> 1166 |       expect(req.installationId).toEqual('yolo');
       |      ^ Duplicate Assert
  1167 |     });
  1168 |
  1169 |     const headers = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1166, 'column': 6, 'index': 34471}","  1164 |       triggerTime++;
  1165 |       expect(triggerTime).toEqual(2);
> 1166 |       expect(req.installationId).toEqual('yolo');
       |      ^ Duplicate Assert
  1167 |     });
  1168 |
  1169 |     const headers = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1181, 'column': 6, 'index': 34896}","  1179 |       body: JSON.stringify({ a: 'b' }),
  1180 |     }).then(() => {
> 1181 |       expect(triggerTime).toEqual(2);
       |      ^ Duplicate Assert
  1182 |       done();
  1183 |     });
  1184 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1181, 'column': 6, 'index': 34896}","  1179 |       body: JSON.stringify({ a: 'b' }),
  1180 |     }).then(() => {
> 1181 |       expect(triggerTime).toEqual(2);
       |      ^ Duplicate Assert
  1182 |       done();
  1183 |     });
  1184 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1190, 'column': 6, 'index': 35143}","  1188 |     Parse.Cloud.beforeDelete('GameScore', function (req) {
  1189 |       triggerTime++;
> 1190 |       expect(triggerTime).toEqual(1);
       |      ^ Duplicate Assert
  1191 |       expect(req.installationId).toEqual('yolo');
  1192 |     });
  1193 |     Parse.Cloud.afterDelete('GameScore', function (req) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1191, 'column': 6, 'index': 35181}","  1189 |       triggerTime++;
  1190 |       expect(triggerTime).toEqual(1);
> 1191 |       expect(req.installationId).toEqual('yolo');
       |      ^ Duplicate Assert
  1192 |     });
  1193 |     Parse.Cloud.afterDelete('GameScore', function (req) {
  1194 |       triggerTime++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1191, 'column': 6, 'index': 35181}","  1189 |       triggerTime++;
  1190 |       expect(triggerTime).toEqual(1);
> 1191 |       expect(req.installationId).toEqual('yolo');
       |      ^ Duplicate Assert
  1192 |     });
  1193 |     Parse.Cloud.afterDelete('GameScore', function (req) {
  1194 |       triggerTime++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1195, 'column': 6, 'index': 35318}","  1193 |     Parse.Cloud.afterDelete('GameScore', function (req) {
  1194 |       triggerTime++;
> 1195 |       expect(triggerTime).toEqual(2);
       |      ^ Duplicate Assert
  1196 |       expect(req.installationId).toEqual('yolo');
  1197 |     });
  1198 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1195, 'column': 6, 'index': 35318}","  1193 |     Parse.Cloud.afterDelete('GameScore', function (req) {
  1194 |       triggerTime++;
> 1195 |       expect(triggerTime).toEqual(2);
       |      ^ Duplicate Assert
  1196 |       expect(req.installationId).toEqual('yolo');
  1197 |     });
  1198 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1196, 'column': 6, 'index': 35356}","  1194 |       triggerTime++;
  1195 |       expect(triggerTime).toEqual(2);
> 1196 |       expect(req.installationId).toEqual('yolo');
       |      ^ Duplicate Assert
  1197 |     });
  1198 |
  1199 |     const headers = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1196, 'column': 6, 'index': 35356}","  1194 |       triggerTime++;
  1195 |       expect(triggerTime).toEqual(2);
> 1196 |       expect(req.installationId).toEqual('yolo');
       |      ^ Duplicate Assert
  1197 |     });
  1198 |
  1199 |     const headers = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1216, 'column': 8, 'index': 35963}","  1214 |         url: 'http://localhost:8378/1/classes/GameScore/' + response.data.objectId,
  1215 |       }).then(() => {
> 1216 |         expect(triggerTime).toEqual(2);
       |        ^ Duplicate Assert
  1217 |         done();
  1218 |       });
  1219 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1216, 'column': 8, 'index': 35963}","  1214 |         url: 'http://localhost:8378/1/classes/GameScore/' + response.data.objectId,
  1215 |       }).then(() => {
> 1216 |         expect(triggerTime).toEqual(2);
       |        ^ Duplicate Assert
  1217 |         done();
  1218 |       });
  1219 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1583, 'column': 10, 'index': 46370}","  1581 |         },
  1582 |         error => {
> 1583 |           expect(error.code).toEqual(Parse.Error.INVALID_NESTED_KEY);
       |          ^ Duplicate Assert
  1584 |           return new Parse.Object('Obj').save({
  1585 |             innerObj: { 'key with a .': 'fails' },
  1586 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1583, 'column': 10, 'index': 46370}","  1581 |         },
  1582 |         error => {
> 1583 |           expect(error.code).toEqual(Parse.Error.INVALID_NESTED_KEY);
       |          ^ Duplicate Assert
  1584 |           return new Parse.Object('Obj').save({
  1585 |             innerObj: { 'key with a .': 'fails' },
  1586 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1594, 'column': 10, 'index': 46668}","  1592 |         },
  1593 |         error => {
> 1594 |           expect(error.code).toEqual(Parse.Error.INVALID_NESTED_KEY);
       |          ^ Duplicate Assert
  1595 |           return new Parse.Object('Obj').save({
  1596 |             innerObj: { innerInnerObj: { 'key with $': 'fails' } },
  1597 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1594, 'column': 10, 'index': 46668}","  1592 |         },
  1593 |         error => {
> 1594 |           expect(error.code).toEqual(Parse.Error.INVALID_NESTED_KEY);
       |          ^ Duplicate Assert
  1595 |           return new Parse.Object('Obj').save({
  1596 |             innerObj: { innerInnerObj: { 'key with $': 'fails' } },
  1597 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1605, 'column': 10, 'index': 46983}","  1603 |         },
  1604 |         error => {
> 1605 |           expect(error.code).toEqual(Parse.Error.INVALID_NESTED_KEY);
       |          ^ Duplicate Assert
  1606 |           return new Parse.Object('Obj').save({
  1607 |             innerObj: { innerInnerObj: { 'key with .': 'fails' } },
  1608 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1605, 'column': 10, 'index': 46983}","  1603 |         },
  1604 |         error => {
> 1605 |           expect(error.code).toEqual(Parse.Error.INVALID_NESTED_KEY);
       |          ^ Duplicate Assert
  1606 |           return new Parse.Object('Obj').save({
  1607 |             innerObj: { innerInnerObj: { 'key with .': 'fails' } },
  1608 |           });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1617, 'column': 10, 'index': 47316}","  1615 |         },
  1616 |         error => {
> 1617 |           expect(error.code).toEqual(Parse.Error.INVALID_NESTED_KEY);
       |          ^ Duplicate Assert
  1618 |           done();
  1619 |         }
  1620 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1617, 'column': 10, 'index': 47316}","  1615 |         },
  1616 |         error => {
> 1617 |           expect(error.code).toEqual(Parse.Error.INVALID_NESTED_KEY);
       |          ^ Duplicate Assert
  1618 |           done();
  1619 |         }
  1620 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1757, 'column': 8, 'index': 51675}","  1755 |       })
  1756 |       .then(x => {
> 1757 |         expect(x.length).toEqual(1);
       |        ^ Duplicate Assert
  1758 |         const relation = x[0].relation('users').query();
  1759 |         return relation.first({ useMasterKey: true });
  1760 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1757, 'column': 8, 'index': 51675}","  1755 |       })
  1756 |       .then(x => {
> 1757 |         expect(x.length).toEqual(1);
       |        ^ Duplicate Assert
  1758 |         const relation = x[0].relation('users').query();
  1759 |         return relation.first({ useMasterKey: true });
  1760 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1777, 'column': 8, 'index': 52394}","  1775 |       })
  1776 |       .then(x => {
> 1777 |         expect(x.length).toEqual(1);
       |        ^ Duplicate Assert
  1778 |         return request({
  1779 |           method: 'DELETE',
  1780 |           headers: headers,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Duplicate Assert,"{'line': 1777, 'column': 8, 'index': 52394}","  1775 |       })
  1776 |       .then(x => {
> 1777 |         expect(x.length).toEqual(1);
       |        ^ Duplicate Assert
  1778 |         return request({
  1779 |           method: 'DELETE',
  1780 |           headers: headers,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 458, 'column': 8, 'index': 13533}","  456 |         expect(object.updatedAt).not.toBeUndefined();
  457 |       } else {
> 458 |         throw new Error();
      |        ^ Exception Handling
  459 |       }
  460 |       triggerTime++;
  461 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 541, 'column': 8, 'index': 16082}","  539 |         expect(originalObject.get('foo')).toEqual('bar');
  540 |       } else {
> 541 |         throw new Error();
      |        ^ Exception Handling
  542 |       }
  543 |       triggerTime++;
  544 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 686, 'column': 8, 'index': 20231}","  684 |         expect(object.get('foo')).toEqual('baz');
  685 |       } else {
> 686 |         throw new Error();
      |        ^ Exception Handling
  687 |       }
  688 |       triggerTime++;
  689 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 742, 'column': 8, 'index': 22063}","  740 |         expect(originalObject.get('foo')).toEqual('bar');
  741 |       } else {
> 742 |         throw new Error();
      |        ^ Exception Handling
  743 |       }
  744 |       triggerTime++;
  745 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 789, 'column': 8, 'index': 23516}","  787 |         expect(originalObject.get('foo')).toEqual('bar');
  788 |       } else {
> 789 |         throw new Error();
      |        ^ Exception Handling
  790 |       }
  791 |       triggerTime++;
  792 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 838, 'column': 8, 'index': 24890}","  836 |         expect(originalObject.get('yolo')).toEqual(1);
  837 |       } else {
> 838 |         throw new Error();
      |        ^ Exception Handling
  839 |       }
  840 |       triggerTime++;
  841 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 878, 'column': 8, 'index': 25960}","  876 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
  877 |       } else {
> 878 |         throw new Error();
      |        ^ Exception Handling
  879 |       }
  880 |       triggerTime++;
  881 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 922, 'column': 8, 'index': 27154}","  920 |         expect(acl.getPublicWriteAccess()).toBeTruthy();
  921 |       } else {
> 922 |         throw new Error();
      |        ^ Exception Handling
  923 |       }
  924 |       triggerTime++;
  925 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 1105, 'column': 6, 'index': 32826}","  1103 |     // Register a function which will fail
  1104 |     Parse.Cloud.define('willFail', () => {
> 1105 |       throw new Error('noway');
       |      ^ Exception Handling
  1106 |     });
  1107 |     Parse.Cloud.run('willFail').then(
  1108 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 1123, 'column': 6, 'index': 33303}","  1121 |     // Register a function which will fail
  1122 |     Parse.Cloud.define('willFail', () => {
> 1123 |       throw new Parse.Error(999, 'noway');
       |      ^ Exception Handling
  1124 |     });
  1125 |     Parse.Cloud.run('willFail').then(
  1126 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 1141, 'column': 6, 'index': 33771}","  1139 |     // Register a function which will fail
  1140 |     Parse.Cloud.define('willFail', () => {
> 1141 |       throw new Error('noway');
       |      ^ Exception Handling
  1142 |     });
  1143 |     Parse.Cloud.run('willFail').then(
  1144 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 1232, 'column': 4, 'index': 36414}","  1230 |     const objects = await new Parse.Query('GameScore').find();
  1231 |     expect(objects.length).toBe(0);
> 1232 |     try {
       |    ^ Exception Handling
  1233 |       await object.destroy();
  1234 |     } catch (e) {
  1235 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Exception Handling,"{'line': 1808, 'column': 8, 'index': 53277}","  1806 |     Parse.Cloud.beforeSave('MyObject', request => {
  1807 |       if (request.object.get('secret')) {
> 1808 |         throw 'cannot set secret here';
       |        ^ Exception Handling
  1809 |       }
  1810 |     });
  1811 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 33, 'column': 35, 'index': 1165}","  31 |     const config = Config.get(defaultConfiguration.appId);
  32 |     const results = await config.database.adapter.find('TestObject', { fields: {} }, {}, {});
> 33 |     expect(results.length).toEqual(1);
     |                                   ^ Magic Number
  34 |     expect(results[0]['foo']).toEqual('bar');
  35 |   });
  36 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 83, 'column': 35, 'index': 2594}","  81 |       () => {
  82 |         numCreated++;
> 83 |         expect(numCreated).toEqual(1);
     |                                   ^ Magic Number
  84 |       },
  85 |       response => {
  86 |         numFailed++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 111, 'column': 30, 'index': 3198}","  109 |
  110 |     await Promise.all([p1, p2]);
> 111 |     expect(numFailed).toEqual(1);
      |                              ^ Magic Number
  112 |     expect(numCreated).toBe(1);
  113 |   });
  114 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 112, 'column': 28, 'index': 3230}","  110 |     await Promise.all([p1, p2]);
  111 |     expect(numFailed).toEqual(1);
> 112 |     expect(numCreated).toBe(1);
      |                            ^ Magic Number
  113 |   });
  114 |
  115 |   it('ensure that email is uniquely indexed', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 131, 'column': 35, 'index': 3670}","  129 |       () => {
  130 |         numCreated++;
> 131 |         expect(numCreated).toEqual(1);
      |                                   ^ Magic Number
  132 |       },
  133 |       ({ data }) => {
  134 |         numFailed++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 151, 'column': 35, 'index': 4093}","  149 |       () => {
  150 |         numCreated++;
> 151 |         expect(numCreated).toEqual(1);
      |                                   ^ Magic Number
  152 |       },
  153 |       ({ data }) => {
  154 |         numFailed++;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 160, 'column': 30, 'index': 4288}","  158 |
  159 |     await Promise.all([p1, p2]);
> 160 |     expect(numFailed).toEqual(1);
      |                              ^ Magic Number
  161 |     expect(numCreated).toBe(1);
  162 |   });
  163 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 161, 'column': 28, 'index': 4320}","  159 |     await Promise.all([p1, p2]);
  160 |     expect(numFailed).toEqual(1);
> 161 |     expect(numCreated).toBe(1);
      |                            ^ Magic Number
  162 |   });
  163 |
  164 |   it_id('be1b9ac7-5e5f-4e91-b044-2bd8fb7622ad')(it)('ensure that if people already have duplicate users, they can still sign up new users', async done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 353, 'column': 41, 'index': 10627}","  351 |       .then(
  352 |         results => {
> 353 |           expect(results.length).toEqual(1);
      |                                         ^ Magic Number
  354 |           done();
  355 |         },
  356 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 374, 'column': 41, 'index': 11145}","  372 |       .then(
  373 |         results => {
> 374 |           expect(results.length).toEqual(100);
      |                                         ^ Magic Number
  375 |           done();
  376 |         },
  377 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 395, 'column': 41, 'index': 11702}","  393 |       .then(
  394 |         results => {
> 395 |           expect(results.length).toEqual(2);
      |                                         ^ Magic Number
  396 |           done();
  397 |         },
  398 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 476, 'column': 35, 'index': 13959}","  474 |         () => {
  475 |           // Make sure the checking has been triggered
> 476 |           expect(triggerTime).toBe(2);
      |                                   ^ Magic Number
  477 |           done();
  478 |         },
  479 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 499, 'column': 33, 'index': 14505}","  497 |     obj.save().then(
  498 |       () => {
> 499 |         expect(triggerTime).toBe(1);
      |                                 ^ Magic Number
  500 |         expect(obj.get('foo')).toEqual('bar');
  501 |         done();
  502 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 559, 'column': 35, 'index': 16508}","  557 |         () => {
  558 |           // Make sure the checking has been triggered
> 559 |           expect(triggerTime).toBe(2);
      |                                   ^ Magic Number
  560 |           done();
  561 |         },
  562 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 704, 'column': 35, 'index': 20669}","  702 |         function () {
  703 |           // Make sure the checking has been triggered
> 704 |           expect(triggerTime).toBe(2);
      |                                   ^ Magic Number
  705 |           done();
  706 |         },
  707 |         function (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 760, 'column': 35, 'index': 22501}","  758 |         function () {
  759 |           // Make sure the checking has been triggered
> 760 |           expect(triggerTime).toBe(2);
      |                                   ^ Magic Number
  761 |           done();
  762 |         },
  763 |         function (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 812, 'column': 35, 'index': 24141}","  810 |         function () {
  811 |           // Make sure the checking has been triggered
> 812 |           expect(triggerTime).toBe(2);
      |                                   ^ Magic Number
  813 |           done();
  814 |         },
  815 |         function (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 831, 'column': 43, 'index': 24670}","  829 |       if (triggerTime == 0) {
  830 |         // Create
> 831 |         expect(object.get('yolo')).toEqual(1);
      |                                           ^ Magic Number
  832 |       } else if (triggerTime == 1) {
  833 |         // Update
  834 |         expect(object.get('yolo')).toEqual(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 834, 'column': 43, 'index': 24772}","  832 |       } else if (triggerTime == 1) {
  833 |         // Update
> 834 |         expect(object.get('yolo')).toEqual(2);
      |                                           ^ Magic Number
  835 |         // Check the originalObject
  836 |         expect(originalObject.get('yolo')).toEqual(1);
  837 |       } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 836, 'column': 51, 'index': 24863}","  834 |         expect(object.get('yolo')).toEqual(2);
  835 |         // Check the originalObject
> 836 |         expect(originalObject.get('yolo')).toEqual(1);
      |                                                   ^ Magic Number
  837 |       } else {
  838 |         throw new Error();
  839 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 854, 'column': 35, 'index': 25255}","  852 |         () => {
  853 |           // Make sure the checking has been triggered
> 854 |           expect(triggerTime).toBe(2);
      |                                   ^ Magic Number
  855 |           done();
  856 |         },
  857 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 898, 'column': 35, 'index': 26451}","  896 |         () => {
  897 |           // Make sure the checking has been triggered
> 898 |           expect(triggerTime).toBe(2);
      |                                   ^ Magic Number
  899 |           done();
  900 |         },
  901 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 942, 'column': 35, 'index': 27645}","  940 |         () => {
  941 |           // Make sure the checking has been triggered
> 942 |           expect(triggerTime).toBe(2);
      |                                   ^ Magic Number
  943 |           done();
  944 |         },
  945 |         error => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1131, 'column': 31, 'index': 33513}","  1129 |       },
  1130 |       e => {
> 1131 |         expect(e.code).toEqual(999);
       |                               ^ Magic Number
  1132 |         expect(e.message).toEqual('noway');
  1133 |         done();
  1134 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1160, 'column': 34, 'index': 34288}","  1158 |     Parse.Cloud.beforeSave('GameScore', function (req) {
  1159 |       triggerTime++;
> 1160 |       expect(triggerTime).toEqual(1);
       |                                  ^ Magic Number
  1161 |       expect(req.installationId).toEqual('yolo');
  1162 |     });
  1163 |     Parse.Cloud.afterSave('GameScore', function (req) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1165, 'column': 34, 'index': 34461}","  1163 |     Parse.Cloud.afterSave('GameScore', function (req) {
  1164 |       triggerTime++;
> 1165 |       expect(triggerTime).toEqual(2);
       |                                  ^ Magic Number
  1166 |       expect(req.installationId).toEqual('yolo');
  1167 |     });
  1168 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1181, 'column': 34, 'index': 34924}","  1179 |       body: JSON.stringify({ a: 'b' }),
  1180 |     }).then(() => {
> 1181 |       expect(triggerTime).toEqual(2);
       |                                  ^ Magic Number
  1182 |       done();
  1183 |     });
  1184 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1190, 'column': 34, 'index': 35171}","  1188 |     Parse.Cloud.beforeDelete('GameScore', function (req) {
  1189 |       triggerTime++;
> 1190 |       expect(triggerTime).toEqual(1);
       |                                  ^ Magic Number
  1191 |       expect(req.installationId).toEqual('yolo');
  1192 |     });
  1193 |     Parse.Cloud.afterDelete('GameScore', function (req) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1195, 'column': 34, 'index': 35346}","  1193 |     Parse.Cloud.afterDelete('GameScore', function (req) {
  1194 |       triggerTime++;
> 1195 |       expect(triggerTime).toEqual(2);
       |                                  ^ Magic Number
  1196 |       expect(req.installationId).toEqual('yolo');
  1197 |     });
  1198 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1216, 'column': 36, 'index': 35991}","  1214 |         url: 'http://localhost:8378/1/classes/GameScore/' + response.data.objectId,
  1215 |       }).then(() => {
> 1216 |         expect(triggerTime).toEqual(2);
       |                                    ^ Magic Number
  1217 |         done();
  1218 |       });
  1219 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1231, 'column': 32, 'index': 36406}","  1229 |     await object.save();
  1230 |     const objects = await new Parse.Query('GameScore').find();
> 1231 |     expect(objects.length).toBe(0);
       |                                ^ Magic Number
  1232 |     try {
  1233 |       await object.destroy();
  1234 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1285, 'column': 35, 'index': 38050}","  1283 |     });
  1284 |     const res = response.data.result;
> 1285 |     expect(res.arr.length).toEqual(1);
       |                                   ^ Magic Number
  1286 |   });
  1287 |
  1288 |   it('can handle null params in cloud functions (regression test for #1742)', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1477, 'column': 43, 'index': 43474}","  1475 |         request(requestOptions).then(res => {
  1476 |           const body = res.data;
> 1477 |           expect(body.results.length).toBe(1);
       |                                           ^ Magic Number
  1478 |           const result = body.results[0];
  1479 |           expect(result.related).toEqual({
  1480 |             __type: 'Relation',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1554, 'column': 41, 'index': 45589}","  1552 |         expect(body.error).toBeUndefined();
  1553 |         expect(body.results).not.toBeUndefined();
> 1554 |         expect(body.results.length).toBe(1);
       |                                         ^ Magic Number
  1555 |         const result = body.results[0];
  1556 |         expect(result.a).toBe('b');
  1557 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1570, 'column': 49, 'index': 46088}","  1568 |       .then(obj => {
  1569 |         expect(obj.get('val').createdAt).toEqual('a');
> 1570 |         expect(obj.get('val').updatedAt).toEqual(1);
       |                                                 ^ Magic Number
  1571 |         done();
  1572 |       });
  1573 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1757, 'column': 33, 'index': 51700}","  1755 |       })
  1756 |       .then(x => {
> 1757 |         expect(x.length).toEqual(1);
       |                                 ^ Magic Number
  1758 |         const relation = x[0].relation('users').query();
  1759 |         return relation.first({ useMasterKey: true });
  1760 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1777, 'column': 33, 'index': 52419}","  1775 |       })
  1776 |       .then(x => {
> 1777 |         expect(x.length).toEqual(1);
       |                                 ^ Magic Number
  1778 |         return request({
  1779 |           method: 'DELETE',
  1780 |           headers: headers,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Magic Number,"{'line': 1873, 'column': 36, 'index': 54914}","  1871 |       })
  1872 |       .then(results => {
> 1873 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  1874 |         const result = results[0];
  1875 |         expect(result.name).toEqual('My Report');
  1876 |         expect(result._wperm).toEqual([]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseAPI.spec.js,Unknown Test,"{'column': 2, 'line': 1800}","  1798 |   });
  1799 |
> 1800 |   it('purge empty class', done => {
       |  ^ Unknown Test
  1801 |     const testSchema = new Parse.Schema('UnknownClass');
  1802 |     testSchema.purge().then(done).catch(done.fail);
  1803 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Conditional Test Logic,"{'line': 192, 'column': 4, 'index': 6484}","  190 |     const result = results[0];
  191 |     ok(result);
> 192 |     if (!result) {
      |    ^ Conditional Test Logic
  193 |       return fail();
  194 |     }
  195 |     equal(result.id, object.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Conditional Test Logic,"{'line': 627, 'column': 6, 'index': 21137}","  625 |       const result = results[0];
  626 |       ok(result);
> 627 |       if (!result) {
      |      ^ Conditional Test Logic
  628 |         fail('should have result');
  629 |       } else {
  630 |         equal(result.id, object.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Conditional Test Logic,"{'line': 905, 'column': 6, 'index': 30607}","  903 |
  904 |     Parse.Cloud.afterSave(Parse.User, req => {
> 905 |       if (!req.object.existed()) {
      |      ^ Conditional Test Logic
  906 |         const user = req.object;
  907 |         const acl = new Parse.ACL(user);
  908 |         user.setACL(acl);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Exception Handling,"{'line': 44, 'column': 4, 'index': 1508}","  42 |     await Parse.User.logOut();
  43 |     const query = new Parse.Query(TestObject);
> 44 |     try {
     |    ^ Exception Handling
  45 |       await query.get(object.id);
  46 |       done.fail('Should not have retrieved the object.');
  47 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Exception Handling,"{'line': 100, 'column': 4, 'index': 3350}","   98 |     // Update
   99 |     object.set('foo', 'bar');
> 100 |     try {
      |    ^ Exception Handling
  101 |       await object.save();
  102 |       done.fail('Should not have been able to update the object.');
  103 |     } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Exception Handling,"{'line': 129, 'column': 4, 'index': 4279}","  127 |     // Start making requests by the public, which should all fail.
  128 |     await Parse.User.logOut();
> 129 |     try {
      |    ^ Exception Handling
  130 |       await object.destroy();
  131 |       done.fail('destroy should fail');
  132 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 13}","  11 |   });
  12 |
> 13 |   it('refresh object with acl', async done => {
     |  ^ Unknown Test
  14 |     // Create an object owned by Alice.
  15 |     const user = new Parse.User();
  16 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 27}","  25 |   });
  26 |
> 27 |   it('acl an object owned by one user and public get', async done => {
     |  ^ Unknown Test
  28 |     // Create an object owned by Alice.
  29 |     const user = new Parse.User();
  30 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 53}","  51 |   });
  52 |
> 53 |   it('acl an object owned by one user and public find', async done => {
     |  ^ Unknown Test
  54 |     // Create an object owned by Alice.
  55 |     const user = new Parse.User();
  56 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 79}","  77 |   });
  78 |
> 79 |   it('acl an object owned by one user and public update', async done => {
     |  ^ Unknown Test
  80 |     // Create an object owned by Alice.
  81 |     const user = new Parse.User();
  82 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 138}","  136 |   });
  137 |
> 138 |   it('acl an object owned by one user and logged in get', async done => {
      |  ^ Unknown Test
  139 |     // Create an object owned by Alice.
  140 |     const user = new Parse.User();
  141 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 169}","  167 |   });
  168 |
> 169 |   it('acl an object owned by one user and logged in find', async done => {
      |  ^ Unknown Test
  170 |     // Create an object owned by Alice.
  171 |     const user = new Parse.User();
  172 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 204}","  202 |   });
  203 |
> 204 |   it('acl an object owned by one user and logged in update', async done => {
      |  ^ Unknown Test
  205 |     // Create an object owned by Alice.
  206 |     const user = new Parse.User();
  207 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 228}","  226 |   });
  227 |
> 228 |   it('acl an object owned by one user and logged in delete', async done => {
      |  ^ Unknown Test
  229 |     // Create an object owned by Alice.
  230 |     const user = new Parse.User();
  231 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 250}","  248 |   });
  249 |
> 250 |   it('acl making an object publicly readable and public get', async done => {
      |  ^ Unknown Test
  251 |     // Create an object owned by Alice.
  252 |     const user = new Parse.User();
  253 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 284}","  282 |   });
  283 |
> 284 |   it('acl making an object publicly readable and public find', async done => {
      |  ^ Unknown Test
  285 |     // Create an object owned by Alice.
  286 |     const user = new Parse.User();
  287 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 396}","  394 |   });
  395 |
> 396 |   it('acl making an object publicly writable and public get', async done => {
      |  ^ Unknown Test
  397 |     // Create an object owned by Alice.
  398 |     const user = new Parse.User();
  399 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 433}","  431 |   });
  432 |
> 433 |   it('acl making an object publicly writable and public find', async done => {
      |  ^ Unknown Test
  434 |     // Create an object owned by Alice.
  435 |     const user = new Parse.User();
  436 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 467}","  465 |   });
  466 |
> 467 |   it('acl making an object publicly writable and public update', async done => {
      |  ^ Unknown Test
  468 |     // Create an object owned by Alice.
  469 |     const user = new Parse.User();
  470 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 499}","  497 |   });
  498 |
> 499 |   it('acl making an object publicly writable and public delete', async done => {
      |  ^ Unknown Test
  500 |     // Create an object owned by Alice.
  501 |     const user = new Parse.User();
  502 |     user.set('username', 'alice');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 570}","  568 |   });
  569 |
> 570 |   it('acl sharing with another user and get', async done => {
      |  ^ Unknown Test
  571 |     // Sign in as Bob.
  572 |     const bob = await Parse.User.signUp('bob', 'pass');
  573 |     await Parse.User.logOut();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 600}","  598 |   });
  599 |
> 600 |   it('acl sharing with another user and find', async done => {
      |  ^ Unknown Test
  601 |     // Sign in as Bob.
  602 |     const bob = await Parse.User.signUp('bob', 'pass');
  603 |     await Parse.User.logOut();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 636}","  634 |   });
  635 |
> 636 |   it('acl sharing with another user and update', async done => {
      |  ^ Unknown Test
  637 |     // Sign in as Bob.
  638 |     const bob = await Parse.User.signUp('bob', 'pass');
  639 |     await Parse.User.logOut();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 662}","  660 |   });
  661 |
> 662 |   it('acl sharing with another user and delete', async done => {
      |  ^ Unknown Test
  663 |     // Sign in as Bob.
  664 |     const bob = await Parse.User.signUp('bob', 'pass');
  665 |     await Parse.User.logOut();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 720}","  718 |   });
  719 |
> 720 |   it('acl sharing with another user and public find', async done => {
      |  ^ Unknown Test
  721 |     const bob = await Parse.User.signUp('bob', 'pass');
  722 |     await Parse.User.logOut();
  723 |     // Sign in as Alice."
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 818}","  816 |   });
  817 |
> 818 |   it('acl saveAll with permissions', async done => {
      |  ^ Unknown Test
  819 |     const alice = await Parse.User.signUp('alice', 'wonderland');
  820 |     const acl = new Parse.ACL(alice);
  821 |     const object1 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 847}","  845 |   });
  846 |
> 847 |   it('empty acl works', async done => {
      |  ^ Unknown Test
  848 |     await Parse.User.signUp('tdurden', 'mayhem', {
  849 |       ACL: new Parse.ACL(),
  850 |       foo: 'bar',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 859}","  857 |   });
  858 |
> 859 |   it('query for included object with ACL works', async done => {
      |  ^ Unknown Test
  860 |     const obj1 = new Parse.Object('TestClass1');
  861 |     const obj2 = new Parse.Object('TestClass2');
  862 |     const acl = new Parse.ACL();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/ParseACL.spec.js,Unknown Test,"{'column': 2, 'line': 878}","  876 |   });
  877 |
> 878 |   it('restricted ACL does not have public access', done => {
      |  ^ Unknown Test
  879 |     const obj = new Parse.Object('TestClassMasterACL');
  880 |     const acl = new Parse.ACL();
  881 |     obj.set('ACL', acl);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Conditional Test Logic,"{'line': 9, 'column': 2, 'index': 244}","   7 |   query.equalTo('objectId', pushId);
   8 |   let result = await query.first({ useMasterKey: true });
>  9 |   while (!(result && result.get('status') === 'succeeded')) {
     |  ^ Conditional Test Logic
  10 |     await jasmine.timeout();
  11 |     result = await query.first({ useMasterKey: true });
  12 |   }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Conditional Test Logic,"{'line': 27, 'column': 2, 'index': 676}","  25 |
  26 | const provideInstallations = function (num) {
> 27 |   if (!num) {
     |  ^ Conditional Test Logic
  28 |     num = 2;
  29 |   }
  30 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Conditional Test Logic,"{'line': 32, 'column': 2, 'index': 736}","  30 |
  31 |   const installations = [];
> 32 |   while (installations.length !== num) {
     |  ^ Conditional Test Logic
  33 |     // add Android installations
  34 |     const installation = new Parse.Object('_Installation');
  35 |     installation.set('installationId', 'installation_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Conditional Test Logic,"{'line': 66, 'column': 8, 'index': 1772}","  64 |         sendToInstallationSpy(installation);
  65 |
> 66 |         if (installation.deviceType == 'ios') {
     |        ^ Conditional Test Logic
  67 |           expect(installation.badge).toEqual(badge);
  68 |           expect(installation.originalBadge + 1).toEqual(installation.badge);
  69 |         } else {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Conditional Test Logic,"{'line': 95, 'column': 6, 'index': 2520}","  93 |     .then(() => {
  94 |       const installations = [];
> 95 |       while (installations.length != 10) {
     |      ^ Conditional Test Logic
  96 |         const installation = new Parse.Object('_Installation');
  97 |         installation.set('installationId', 'installation_' + installations.length);
  98 |         installation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Conditional Test Logic,"{'line': 312, 'column': 4, 'index': 9912}","  310 |     // add 1 iOS installation which we will omit & add later on
  311 |     const iOSInstallations = [];
> 312 |     while (iOSInstallations.length !== devices / 100) {
      |    ^ Conditional Test Logic
  313 |       const iOSInstallation = new Parse.Object('_Installation');
  314 |       iOSInstallation.set('installationId', 'installation_' + installations.length);
  315 |       iOSInstallation.set('deviceToken', 'device_token_' + installations.length);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Exception Handling,"{'line': 197, 'column': 4, 'index': 5619}","  195 |   it('should throw error if missing push configuration', async () => {
  196 |     await reconfigureServer({ push: null });
> 197 |     try {
      |    ^ Exception Handling
  198 |       await Parse.Push.send({
  199 |         where: {
  200 |           deviceType: 'ios',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Magic Number,"{'line': 230, 'column': 42, 'index': 6702}","  228 |     const result = await Parse.Push.getPushStatus(pushStatusId);
  229 |     expect(result.get('status')).toEqual('succeeded');
> 230 |     expect(result.get('numSent')).toEqual(1);
      |                                          ^ Magic Number
  231 |     expect(result.get('count')).toEqual(undefined);
  232 |   });
  233 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Parse.Push.spec.js,Magic Number,"{'line': 272, 'column': 42, 'index': 8374}","  270 |     const result = await Parse.Push.getPushStatus(pushStatusId);
  271 |     expect(result.get('status')).toEqual('succeeded');
> 272 |     expect(result.get('numSent')).toEqual(3);
      |                                          ^ Magic Number
  273 |     expect(result.get('count')).toEqual(undefined);
  274 |   });
  275 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 40, 'column': 6, 'index': 1299}","  38 |         'http://localhost:8378/1/apps/custom_json.html',
  39 |       ];
> 40 |       for (const url of urls) {
     |      ^ Conditional Test Logic
  41 |         const response = await request({ url }).catch(e => e);
  42 |         expect(response.status).toBe(200);
  43 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 76, 'column': 6, 'index': 2548}","  74 |         'http://localhost:8378/1/apps/test/request_password_reset',
  75 |       ];
> 76 |       for (const url of urls) {
     |      ^ Conditional Test Logic
  77 |         const response = await request({ url }).catch(e => e);
  78 |         expect(response.status).toBe(404);
  79 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 90, 'column': 6, 'index': 3274}","  88 |         { url: 'http://localhost:8378/1/apps/invalid/resend_verification_email', method: 'POST' },
  89 |       ];
> 90 |       for (const req of reqs) {
     |      ^ Conditional Test Logic
  91 |         const response = await request(req).catch(e => e);
  92 |         expect(response.status).toBe(403);
  93 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 289, 'column': 8, 'index': 10211}","  287 |           { customRoutes: {} },
  288 |         ];
> 289 |         for (const option of options) {
      |        ^ Conditional Test Logic
  290 |           await expectAsync(reconfigureServerWithPagesConfig(option)).toBeRejected();
  291 |         }
  292 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 474, 'column': 8, 'index': 17980}","  472 |         // Ensure page response does not contain any translation
  473 |         const flattenedJson = Utils.flattenObject(jsonResource);
> 474 |         for (const value of Object.values(flattenedJson)) {
      |        ^ Conditional Test Logic
  475 |           const valueWithoutPlaceholder = fillPlaceholders(value, '');
  476 |           expect(response.text).not.toContain(valueWithoutPlaceholder);
  477 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 489, 'column': 8, 'index': 18642}","  487 |         // Ensure page response contains translation of fallback locale
  488 |         const translation = jsonResource[config.pages.localizationFallbackLocale].translation;
> 489 |         for (const value of Object.values(translation)) {
      |        ^ Conditional Test Logic
  490 |           const valueWithoutPlaceholder = fillPlaceholders(value, '');
  491 |           expect(response.text).toContain(valueWithoutPlaceholder);
  492 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 507, 'column': 8, 'index': 19372}","  505 |         // Ensure page response contains translations of request locale
  506 |         const translation = jsonResource[exampleLocale].translation;
> 507 |         for (const value of Object.values(translation)) {
      |        ^ Conditional Test Logic
  508 |           const valueWithoutPlaceholder = fillPlaceholders(value, '');
  509 |           expect(response.text).toContain(valueWithoutPlaceholder);
  510 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 526, 'column': 8, 'index': 20189}","  524 |         // Ensure page response contains translations of requst language
  525 |         const translation = jsonResource['de'].translation;
> 526 |         for (const value of Object.values(translation)) {
      |        ^ Conditional Test Logic
  527 |           const valueWithoutPlaceholder = fillPlaceholders(value, '');
  528 |           expect(response.text).toContain(valueWithoutPlaceholder);
  529 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 552, 'column': 8, 'index': 21401}","  550 |
  551 |         // Ensure page response contains translation of request locale
> 552 |         for (const value of Object.values(translation)) {
      |        ^ Conditional Test Logic
  553 |           expect(response.text).toContain(value);
  554 |         }
  555 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 574, 'column': 8, 'index': 22400}","  572 |
  573 |         // Ensure page response contains translation of request locale
> 574 |         for (const value of Object.values(translation)) {
      |        ^ Conditional Test Logic
  575 |           expect(response.text).toContain(value);
  576 |         }
  577 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Conditional Test Logic,"{'line': 599, 'column': 8, 'index': 23359}","  597 |         };
  598 |
> 599 |         for (const method of ['GET', 'POST']) {
      |        ^ Conditional Test Logic
  600 |           req.method = method;
  601 |           await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
  602 |           expect(pageResponse).not.toHaveBeenCalled();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 305, 'column': 8, 'index': 10918}","  303 |         expect(pageResponse.calls.all()[0].returnValue).toBeDefined();
  304 |         const replacedContent = await pageResponse.calls.all()[0].returnValue;
> 305 |         expect(replacedContent.text).not.toContain('{{appName}}');
      |        ^ Duplicate Assert
  306 |         expect(replacedContent.text).toContain(req.config.appName);
  307 |       });
  308 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 306, 'column': 8, 'index': 10985}","  304 |         const replacedContent = await pageResponse.calls.all()[0].returnValue;
  305 |         expect(replacedContent.text).not.toContain('{{appName}}');
> 306 |         expect(replacedContent.text).toContain(req.config.appName);
      |        ^ Duplicate Assert
  307 |       });
  308 |
  309 |       it('removes undefined placeholder in response content', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 374, 'column': 8, 'index': 13743}","  372 |
  373 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
> 374 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
      |        ^ Duplicate Assert
  375 |         expect(pageResponse.calls.all()[0].args[0]).not.toMatch(
  376 |           new RegExp(`\/de(-AT)?\/${pages.passwordResetLinkInvalid.defaultFile}`)
  377 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 375, 'column': 8, 'index': 13810}","  373 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
  374 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
> 375 |         expect(pageResponse.calls.all()[0].args[0]).not.toMatch(
      |        ^ Duplicate Assert
  376 |           new RegExp(`\/de(-AT)?\/${pages.passwordResetLinkInvalid.defaultFile}`)
  377 |         );
  378 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 384, 'column': 8, 'index': 14182}","  382 |
  383 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
> 384 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
      |        ^ Duplicate Assert
  385 |         expect(pageResponse.calls.all()[0].args[0]).not.toMatch(
  386 |           new RegExp(`\/de(-AT)?\/${pages.passwordResetLinkInvalid.defaultFile}`)
  387 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 385, 'column': 8, 'index': 14249}","  383 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
  384 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
> 385 |         expect(pageResponse.calls.all()[0].args[0]).not.toMatch(
      |        ^ Duplicate Assert
  386 |           new RegExp(`\/de(-AT)?\/${pages.passwordResetLinkInvalid.defaultFile}`)
  387 |         );
  388 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 404, 'column': 8, 'index': 15070}","  402 |       it('returns file for locale match', async () => {
  403 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
> 404 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
      |        ^ Duplicate Assert
  405 |         expect(pageResponse.calls.all()[0].args[0]).toMatch(
  406 |           new RegExp(`\/${req.query.locale}\/${pages.passwordResetLinkInvalid.defaultFile}`)
  407 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 405, 'column': 8, 'index': 15137}","  403 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
  404 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
> 405 |         expect(pageResponse.calls.all()[0].args[0]).toMatch(
      |        ^ Duplicate Assert
  406 |           new RegExp(`\/${req.query.locale}\/${pages.passwordResetLinkInvalid.defaultFile}`)
  407 |         );
  408 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 419, 'column': 8, 'index': 15721}","  417 |
  418 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
> 419 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
      |        ^ Duplicate Assert
  420 |         expect(pageResponse.calls.all()[0].args[0]).toMatch(
  421 |           new RegExp(`\/de\/${pages.passwordResetLinkInvalid.defaultFile}`)
  422 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 420, 'column': 8, 'index': 15788}","  418 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
  419 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
> 420 |         expect(pageResponse.calls.all()[0].args[0]).toMatch(
      |        ^ Duplicate Assert
  421 |           new RegExp(`\/de\/${pages.passwordResetLinkInvalid.defaultFile}`)
  422 |         );
  423 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 429, 'column': 8, 'index': 16165}","  427 |
  428 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
> 429 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
      |        ^ Duplicate Assert
  430 |         expect(pageResponse.calls.all()[0].args[0]).not.toMatch(
  431 |           new RegExp(`\/yo(-LO)?\/${pages.passwordResetLinkInvalid.defaultFile}`)
  432 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 430, 'column': 8, 'index': 16232}","  428 |         await expectAsync(router.goToPage(req, pages.passwordResetLinkInvalid)).toBeResolved();
  429 |         expect(pageResponse.calls.all()[0].args[0]).toBeDefined();
> 430 |         expect(pageResponse.calls.all()[0].args[0]).not.toMatch(
      |        ^ Duplicate Assert
  431 |           new RegExp(`\/yo(-LO)?\/${pages.passwordResetLinkInvalid.defaultFile}`)
  432 |         );
  433 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 1020, 'column': 14, 'index': 40168}","  1018 |             path: 'custom_page',
  1019 |             handler: async req => {
> 1020 |               expect(req).toBeDefined();
       |              ^ Duplicate Assert
  1021 |               expect(req.method).toBe('GET');
  1022 |               return { file: 'custom_page.html' };
  1023 |             },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 1020, 'column': 14, 'index': 40168}","  1018 |             path: 'custom_page',
  1019 |             handler: async req => {
> 1020 |               expect(req).toBeDefined();
       |              ^ Duplicate Assert
  1021 |               expect(req.method).toBe('GET');
  1022 |               return { file: 'custom_page.html' };
  1023 |             },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 1021, 'column': 14, 'index': 40209}","  1019 |             handler: async req => {
  1020 |               expect(req).toBeDefined();
> 1021 |               expect(req.method).toBe('GET');
       |              ^ Duplicate Assert
  1022 |               return { file: 'custom_page.html' };
  1023 |             },
  1024 |           },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 1029, 'column': 14, 'index': 40443}","  1027 |             path: 'custom_page',
  1028 |             handler: async req => {
> 1029 |               expect(req).toBeDefined();
       |              ^ Duplicate Assert
  1030 |               expect(req.method).toBe('POST');
  1031 |               return { file: 'custom_page.html' };
  1032 |             },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 1029, 'column': 14, 'index': 40443}","  1027 |             path: 'custom_page',
  1028 |             handler: async req => {
> 1029 |               expect(req).toBeDefined();
       |              ^ Duplicate Assert
  1030 |               expect(req.method).toBe('POST');
  1031 |               return { file: 'custom_page.html' };
  1032 |             },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Duplicate Assert,"{'line': 1030, 'column': 14, 'index': 40484}","  1028 |             handler: async req => {
  1029 |               expect(req).toBeDefined();
> 1030 |               expect(req.method).toBe('POST');
       |              ^ Duplicate Assert
  1031 |               return { file: 'custom_page.html' };
  1032 |             },
  1033 |           },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Exception Handling,"{'line': 123, 'column': 6, 'index': 4425}","  121 |
  122 |     it('request_password_reset: responds with AJAX error on missing password', async () => {
> 123 |       try {
      |      ^ Exception Handling
  124 |         await request({
  125 |           method: 'POST',
  126 |           url: 'http://localhost:8378/1/apps/test/request_password_reset',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Exception Handling,"{'line': 141, 'column': 6, 'index': 5057}","  139 |
  140 |     it('request_password_reset: responds with AJAX error on missing token', async () => {
> 141 |       try {
      |      ^ Exception Handling
  142 |         await request({
  143 |           method: 'POST',
  144 |           url: 'http://localhost:8378/1/apps/test/request_password_reset',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 42, 'column': 37, 'index': 1425}","  40 |       for (const url of urls) {
  41 |         const response = await request({ url }).catch(e => e);
> 42 |         expect(response.status).toBe(200);
     |                                     ^ Magic Number
  43 |       }
  44 |     });
  45 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 53, 'column': 35, 'index': 1772}","  51 |         url: 'http://localhost:8378/1/apps/email_verification_link_invalid.html',
  52 |       }).catch(e => e);
> 53 |       expect(response.status).toBe(200);
     |                                   ^ Magic Number
  54 |     });
  55 |
  56 |     it('can load file from custom pages endpoint', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 63, 'column': 35, 'index': 2117}","  61 |         url: `http://localhost:8378/1/pages/email_verification_link_invalid.html`,
  62 |       }).catch(e => e);
> 63 |       expect(response.status).toBe(200);
     |                                   ^ Magic Number
  64 |     });
  65 |
  66 |     it('responds with 404 if publicServerURL is not configured', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 78, 'column': 37, 'index': 2674}","  76 |       for (const url of urls) {
  77 |         const response = await request({ url }).catch(e => e);
> 78 |         expect(response.status).toBe(404);
     |                                     ^ Magic Number
  79 |       }
  80 |     });
  81 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 92, 'column': 37, 'index': 3396}","  90 |       for (const req of reqs) {
  91 |         const response = await request(req).catch(e => e);
> 92 |         expect(response.status).toBe(403);
     |                                     ^ Magic Number
  93 |       }
  94 |     });
  95 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 118, 'column': 30, 'index': 4246}","  116 |         followRedirects: false,
  117 |       }).catch(e => e);
> 118 |       expect(res.status).toBe(200);
      |                              ^ Magic Number
  119 |       expect(res.text).toEqual('""Password successfully reset""');
  120 |     });
  121 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 135, 'column': 38, 'index': 4859}","  133 |         });
  134 |       } catch (error) {
> 135 |         expect(error.status).not.toBe(302);
      |                                      ^ Magic Number
  136 |         expect(error.text).toEqual('{""code"":201,""error"":""Missing password""}');
  137 |       }
  138 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 153, 'column': 38, 'index': 5490}","  151 |         });
  152 |       } catch (error) {
> 153 |         expect(error.status).not.toBe(302);
      |                                      ^ Magic Number
  154 |         expect(error.text).toEqual('{""code"":-1,""error"":""Missing token""}');
  155 |       }
  156 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 334, 'column': 40, 'index': 12234}","  332 |           method: 'GET',
  333 |         });
> 334 |         expect(response.status).toEqual(200);
      |                                        ^ Magic Number
  335 |         expect(response.text).toContain(config.pages.placeholders.title);
  336 |       });
  337 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 349, 'column': 40, 'index': 12796}","  347 |           method: 'GET',
  348 |         });
> 349 |         expect(response.status).toEqual(200);
      |                                        ^ Magic Number
  350 |         expect(response.text).toContain(config.pages.placeholders().title);
  351 |       });
  352 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 364, 'column': 40, 'index': 13365}","  362 |           method: 'GET',
  363 |         });
> 364 |         expect(response.status).toEqual(200);
      |                                        ^ Magic Number
  365 |         expect(response.text).toContain((await config.pages.placeholders()).title);
  366 |       });
  367 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 462, 'column': 37, 'index': 17464}","  460 |           followRedirects: false,
  461 |         }).catch(e => e);
> 462 |         expect(response.status).toBe(200);
      |                                     ^ Magic Number
  463 |         expect(pageResponse.calls.all()[0].args[1]).toEqual({});
  464 |         expect(pageResponse.calls.all()[0].args[2]).toEqual({});
  465 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 470, 'column': 45, 'index': 17837}","  468 |           header.startsWith(pageParamHeaderPrefix)
  469 |         );
> 470 |         expect(pageParamHeaders.length).toBe(0);
      |                                             ^ Magic Number
  471 |
  472 |         // Ensure page response does not contain any translation
  473 |         const flattenedJson = Utils.flattenObject(jsonResource);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 485, 'column': 37, 'index': 18460}","  483 |           followRedirects: false,
  484 |         }).catch(e => e);
> 485 |         expect(response.status).toBe(200);
      |                                     ^ Magic Number
  486 |
  487 |         // Ensure page response contains translation of fallback locale
  488 |         const translation = jsonResource[config.pages.localizationFallbackLocale].translation;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 503, 'column': 37, 'index': 19216}","  501 |           followRedirects: false,
  502 |         }).catch(e => e);
> 503 |         expect(response.status).toBe(200);
      |                                     ^ Magic Number
  504 |
  505 |         // Ensure page response contains translations of request locale
  506 |         const translation = jsonResource[exampleLocale].translation;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 522, 'column': 37, 'index': 20041}","  520 |           followRedirects: false,
  521 |         }).catch(e => e);
> 522 |         expect(response.status).toBe(200);
      |                                     ^ Magic Number
  523 |
  524 |         // Ensure page response contains translations of requst language
  525 |         const translation = jsonResource['de'].translation;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 543, 'column': 37, 'index': 21025}","  541 |           followRedirects: false,
  542 |         }).catch(e => e);
> 543 |         expect(response.status).toBe(200);
      |                                     ^ Magic Number
  544 |
  545 |         // Fill placeholders in transation
  546 |         let translation = jsonResource[exampleLocale].translation;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 565, 'column': 40, 'index': 22024}","  563 |           followRedirects: false,
  564 |         }).catch(e => e);
> 565 |         expect(response.status).toEqual(200);
      |                                        ^ Magic Number
  566 |
  567 |         // Fill placeholders in transation
  568 |         let translation = jsonResource[exampleLocale].translation;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 615, 'column': 40, 'index': 24046}","  613 |           method: 'POST',
  614 |         });
> 615 |         expect(response.status).toEqual(303);
      |                                        ^ Magic Number
  616 |         expect(response.headers.location).toContain(
  617 |           'http://localhost:8378/1/apps/de-AT/password_reset_link_invalid.html'
  618 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 629, 'column': 40, 'index': 24591}","  627 |           method: 'GET',
  628 |         });
> 629 |         expect(response.status).toEqual(200);
      |                                        ^ Magic Number
  630 |         expect(response.text).toContain('<html>');
  631 |       });
  632 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 656, 'column': 41, 'index': 25607}","  654 |           followRedirects: false,
  655 |         });
> 656 |         expect(linkResponse.status).toBe(200);
      |                                         ^ Magic Number
  657 |
  658 |         const appId = linkResponse.headers['x-parse-page-param-appid'];
  659 |         const token = linkResponse.headers['x-parse-page-param-token'];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 684, 'column': 44, 'index': 26787}","  682 |           followRedirects: false,
  683 |         });
> 684 |         expect(formResponse.status).toEqual(200);
      |                                            ^ Magic Number
  685 |         expect(pageResponse.calls.all()[0].args[0]).toContain(
  686 |           `/${locale}/${pages.passwordResetSuccess.defaultFile}`
  687 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 712, 'column': 41, 'index': 27922}","  710 |           followRedirects: false,
  711 |         });
> 712 |         expect(linkResponse.status).toBe(200);
      |                                         ^ Magic Number
  713 |
  714 |         const pagePath = pageResponse.calls.all()[0].args[0];
  715 |         expect(pagePath).toMatch("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 871, 'column': 44, 'index': 34453}","  869 |           followRedirects: false,
  870 |         });
> 871 |         expect(formResponse.status).toEqual(303);
      |                                            ^ Magic Number
  872 |         expect(formResponse.text).toContain(
  873 |           `/${exampleLocale}/${pages.emailVerificationLinkInvalid.defaultFile}`
  874 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 957, 'column': 37, 'index': 38064}","  955 |           followRedirects: false,
  956 |         }).catch(e => e);
> 957 |         expect(response.status).toBe(404);
      |                                     ^ Magic Number
  958 |         expect(response.text).toBe('Not found.');
  959 |       });
  960 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 983, 'column': 37, 'index': 38930}","  981 |           followRedirects: false,
  982 |         }).catch(e => e);
> 983 |         expect(response.status).toBe(200);
      |                                     ^ Magic Number
  984 |         expect(response.text).toMatch(config.appName);
  985 |         expect(handlerSpy).toHaveBeenCalled();
  986 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 1009, 'column': 37, 'index': 39832}","  1007 |           method: 'POST',
  1008 |         }).catch(e => e);
> 1009 |         expect(response.status).toBe(200);
       |                                     ^ Magic Number
  1010 |         expect(response.text).toMatch(config.appName);
  1011 |         expect(handlerSpy).toHaveBeenCalled();
  1012 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 1045, 'column': 40, 'index': 41113}","  1043 |           method: 'GET',
  1044 |         }).catch(e => e);
> 1045 |         expect(getResponse.status).toBe(200);
       |                                        ^ Magic Number
  1046 |         expect(getResponse.text).toMatch(config.appName);
  1047 |         expect(getHandlerSpy).toHaveBeenCalled();
  1048 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 1054, 'column': 41, 'index': 41420}","  1052 |           method: 'POST',
  1053 |         }).catch(e => e);
> 1054 |         expect(postResponse.status).toBe(200);
       |                                         ^ Magic Number
  1055 |         expect(postResponse.text).toMatch(config.appName);
  1056 |         expect(postHandlerSpy).toHaveBeenCalled();
  1057 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 1082, 'column': 37, 'index': 42426}","  1080 |           followRedirects: false,
  1081 |         }).catch(e => e);
> 1082 |         expect(response.status).toBe(200);
       |                                     ^ Magic Number
  1083 |         expect(response.text).toMatch(config.appName);
  1084 |         expect(handlerSpy).toHaveBeenCalled();
  1085 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 1103, 'column': 37, 'index': 43166}","  1101 |           followRedirects: false,
  1102 |         }).catch(e => e);
> 1103 |         expect(response.status).toBe(404);
       |                                     ^ Magic Number
  1104 |         expect(response.text).toMatch('Not found');
  1105 |         expect(handlerSpy).toHaveBeenCalled();
  1106 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 1129, 'column': 41, 'index': 44131}","  1127 |           followRedirects: false,
  1128 |         });
> 1129 |         expect(linkResponse.status).toBe(200);
       |                                         ^ Magic Number
  1130 |
  1131 |         const appId = linkResponse.headers['x-parse-page-param-appid'];
  1132 |         const token = linkResponse.headers['x-parse-page-param-token'];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Magic Number,"{'line': 1152, 'column': 44, 'index': 45166}","  1150 |           followRedirects: false,
  1151 |         });
> 1152 |         expect(formResponse.status).toEqual(200);
       |                                            ^ Magic Number
  1153 |         expect(pageResponse.calls.all()[0].args[0]).toContain(
  1154 |           `/${pages.passwordResetSuccess.defaultFile}`
  1155 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Sleepy Test,"{'line': 1068, 'column': 16, 'index': 41918}","  1066 |               expect(req.method).toBe('GET');
  1067 |               const file = await new Promise(resolve =>
> 1068 |                 setTimeout(resolve('custom_page.html'), 1000)
       |                ^ Sleepy Test
  1069 |               );
  1070 |               return { file };
  1071 |             },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/PagesRouter.spec.js,Unknown Test,"{'column': 6, 'line': 242}","  240 |       });
  241 |
> 242 |       it('throws on invalid configuration', async () => {
      |      ^ Unknown Test
  243 |         const options = [
  244 |           [],
  245 |           'a',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Exception Handling,"{'line': 155, 'column': 4, 'index': 5079}","  153 |   it('Should fail with missing options', done => {
  154 |     const options = undefined;
> 155 |     try {
      |    ^ Exception Handling
  156 |       new OAuth(options);
  157 |     } catch (error) {
  158 |       jequal(error.message, 'No options passed to OAuth');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Unknown Test,"{'column': 2, 'line': 4}","  2 |
  3 | describe('OAuth', function () {
> 4 |   it('Nonce should have right length', done => {
    |  ^ Unknown Test
  5 |     jequal(OAuth.nonce().length, 30);
  6 |     done();
  7 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Unknown Test,"{'column': 2, 'line': 9}","   7 |   });
   8 |
>  9 |   it('Should properly build parameter string', done => {
     |  ^ Unknown Test
  10 |     const string = OAuth.buildParameterString({ c: 1, a: 2, b: 3 });
  11 |     jequal(string, 'a=2&b=3&c=1');
  12 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Unknown Test,"{'column': 2, 'line': 15}","  13 |   });
  14 |
> 15 |   it('Should properly build empty parameter string', done => {
     |  ^ Unknown Test
  16 |     const string = OAuth.buildParameterString();
  17 |     jequal(string, '');
  18 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Unknown Test,"{'column': 2, 'line': 21}","  19 |   });
  20 |
> 21 |   it('Should properly build signature string', done => {
     |  ^ Unknown Test
  22 |     const string = OAuth.buildSignatureString('get', 'http://dummy.com', '');
  23 |     jequal(string, 'GET&http%3A%2F%2Fdummy.com&');
  24 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Unknown Test,"{'column': 2, 'line': 27}","  25 |   });
  26 |
> 27 |   it('Should properly generate request signature', done => {
     |  ^ Unknown Test
  28 |     let request = {
  29 |       host: 'dummy.com',
  30 |       path: 'path',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Unknown Test,"{'column': 2, 'line': 50}","  48 |   });
  49 |
> 50 |   it('Should properly build request', done => {
     |  ^ Unknown Test
  51 |     const options = {
  52 |       host: 'dummy.com',
  53 |       consumer_key: 'hello',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Unknown Test,"{'column': 2, 'line': 129}","  127 |   });
  128 |
> 129 |   it('Should fail a request', done => {
      |  ^ Unknown Test
  130 |     const options = {
  131 |       host: 'localhost',
  132 |       consumer_key: 'XXXXXXXXXXXXXXXXXXXXXXXXX',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/OAuth1.spec.js,Unknown Test,"{'column': 2, 'line': 153}","  151 |   });
  152 |
> 153 |   it('Should fail with missing options', done => {
      |  ^ Unknown Test
  154 |     const options = undefined;
  155 |     try {
  156 |       new OAuth(options);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/NullCacheAdapter.spec.js,Duplicate Assert,"{'line': 26, 'column': 21, 'index': 661}","  24 |       .put(KEY, VALUE)
  25 |       .then(() => cache.get(KEY))
> 26 |       .then(value => expect(value).toEqual(null))
     |                     ^ Duplicate Assert
  27 |       .then(() => cache.clear())
  28 |       .then(() => cache.get(KEY))
  29 |       .then(value => expect(value).toEqual(null))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/NullCacheAdapter.spec.js,Duplicate Assert,"{'line': 26, 'column': 21, 'index': 661}","  24 |       .put(KEY, VALUE)
  25 |       .then(() => cache.get(KEY))
> 26 |       .then(value => expect(value).toEqual(null))
     |                     ^ Duplicate Assert
  27 |       .then(() => cache.clear())
  28 |       .then(() => cache.get(KEY))
  29 |       .then(value => expect(value).toEqual(null))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/NullCacheAdapter.spec.js,Duplicate Assert,"{'line': 29, 'column': 21, 'index': 778}","  27 |       .then(() => cache.clear())
  28 |       .then(() => cache.get(KEY))
> 29 |       .then(value => expect(value).toEqual(null))
     |                     ^ Duplicate Assert
  30 |       .then(done);
  31 |   });
  32 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/NullCacheAdapter.spec.js,Duplicate Assert,"{'line': 29, 'column': 21, 'index': 778}","  27 |       .then(() => cache.clear())
  28 |       .then(() => cache.get(KEY))
> 29 |       .then(value => expect(value).toEqual(null))
     |                     ^ Duplicate Assert
  30 |       .then(done);
  31 |   });
  32 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/NullCacheAdapter.spec.js,Unknown Test,"{'column': 2, 'line': 7}","   5 |   const VALUE = 'world';
   6 |
>  7 |   it('should expose promisifyed methods', done => {
     |  ^ Unknown Test
   8 |     const cache = new NullCacheAdapter({
   9 |       ttl: NaN,
  10 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoTransform.spec.js,Exception Handling,"{'line': 531, 'column': 2, 'index': 14936}","  529 |     _thisFieldNameIs: 'invalid',
  530 |   };
> 531 |   try {
      |  ^ Exception Handling
  532 |     transform.mongoObjectToParseObject('TestObject', input, {
  533 |       fields: {},
  534 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoTransform.spec.js,Unknown Test,"{'column': 2, 'line': 10}","   8 |
   9 | describe('parseObjectToMongoObjectForCreate', () => {
> 10 |   it('a basic number', done => {
     |  ^ Unknown Test
  11 |     const input = { five: 5 };
  12 |     const output = transform.parseObjectToMongoObjectForCreate(null, input, {
  13 |       fields: { five: { type: 'Number' } },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoTransform.spec.js,Unknown Test,"{'column': 2, 'line': 19}","  17 |   });
  18 |
> 19 |   it('an object with null values', done => {
     |  ^ Unknown Test
  20 |     const input = { objectWithNullValues: { isNull: null, notNull: 3 } };
  21 |     const output = transform.parseObjectToMongoObjectForCreate(null, input, {
  22 |       fields: { objectWithNullValues: { type: 'object' } },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoTransform.spec.js,Unknown Test,"{'column': 2, 'line': 41}","  39 |   });
  40 |
> 41 |   it('array of pointers', done => {
     |  ^ Unknown Test
  42 |     const pointer = {
  43 |       __type: 'Pointer',
  44 |       objectId: 'myId',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoTransform.spec.js,Unknown Test,"{'column': 2, 'line': 157}","  155 |   });
  156 |
> 157 |   it('objectId in a list', done => {
      |  ^ Unknown Test
  158 |     const input = {
  159 |       objectId: { $in: ['one', 'two', 'three'] },
  160 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoTransform.spec.js,Unknown Test,"{'column': 2, 'line': 461}","  459 |   });
  460 |
> 461 |   it('$regex in $all list', done => {
      |  ^ Unknown Test
  462 |     const input = {
  463 |       arrayField: {
  464 |         $all: [{ $regex: '^\\Qone\\E' }, { $regex: '^\\Qtwo\\E' }, { $regex: '^\\Qthree\\E' }],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Conditional Test Logic,"{'line': 452, 'column': 2, 'index': 14925}","  450 |   });
  451 |
> 452 |   if (process.env.MONGODB_TOPOLOGY === 'replicaset') {
      |  ^ Conditional Test Logic
  453 |     describe('transactions', () => {
  454 |       const headers = {
  455 |         'Content-Type': 'application/json',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 152, 'column': 8, 'index': 5384}","  150 |       .then(() => adapter._rawFind('MyClass', {}))
  151 |       .then(results => {
> 152 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  153 |         const mob = results[0];
  154 |         expect(typeof mob.subdoc).toBe('object');
  155 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 152, 'column': 8, 'index': 5384}","  150 |       .then(() => adapter._rawFind('MyClass', {}))
  151 |       .then(results => {
> 152 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  153 |         const mob = results[0];
  154 |         expect(typeof mob.subdoc).toBe('object');
  155 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 154, 'column': 8, 'index': 5459}","  152 |         expect(results.length).toEqual(1);
  153 |         const mob = results[0];
> 154 |         expect(typeof mob.subdoc).toBe('object');
      |        ^ Duplicate Assert
  155 |         expect(mob.subdoc.foo).toBe('bar');
  156 |         expect(mob.subdoc.wu).toBe('tan');
  157 |         const obj = { 'subdoc.wu': 'clan' };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 154, 'column': 8, 'index': 5459}","  152 |         expect(results.length).toEqual(1);
  153 |         const mob = results[0];
> 154 |         expect(typeof mob.subdoc).toBe('object');
      |        ^ Duplicate Assert
  155 |         expect(mob.subdoc.foo).toBe('bar');
  156 |         expect(mob.subdoc.wu).toBe('tan');
  157 |         const obj = { 'subdoc.wu': 'clan' };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 155, 'column': 8, 'index': 5509}","  153 |         const mob = results[0];
  154 |         expect(typeof mob.subdoc).toBe('object');
> 155 |         expect(mob.subdoc.foo).toBe('bar');
      |        ^ Duplicate Assert
  156 |         expect(mob.subdoc.wu).toBe('tan');
  157 |         const obj = { 'subdoc.wu': 'clan' };
  158 |         return adapter.findOneAndUpdate('MyClass', schema, {}, obj);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 155, 'column': 8, 'index': 5509}","  153 |         const mob = results[0];
  154 |         expect(typeof mob.subdoc).toBe('object');
> 155 |         expect(mob.subdoc.foo).toBe('bar');
      |        ^ Duplicate Assert
  156 |         expect(mob.subdoc.wu).toBe('tan');
  157 |         const obj = { 'subdoc.wu': 'clan' };
  158 |         return adapter.findOneAndUpdate('MyClass', schema, {}, obj);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 156, 'column': 8, 'index': 5553}","  154 |         expect(typeof mob.subdoc).toBe('object');
  155 |         expect(mob.subdoc.foo).toBe('bar');
> 156 |         expect(mob.subdoc.wu).toBe('tan');
      |        ^ Duplicate Assert
  157 |         const obj = { 'subdoc.wu': 'clan' };
  158 |         return adapter.findOneAndUpdate('MyClass', schema, {}, obj);
  159 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 162, 'column': 8, 'index': 5795}","  160 |       .then(() => adapter._rawFind('MyClass', {}))
  161 |       .then(results => {
> 162 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  163 |         const mob = results[0];
  164 |         expect(typeof mob.subdoc).toBe('object');
  165 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 162, 'column': 8, 'index': 5795}","  160 |       .then(() => adapter._rawFind('MyClass', {}))
  161 |       .then(results => {
> 162 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  163 |         const mob = results[0];
  164 |         expect(typeof mob.subdoc).toBe('object');
  165 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 164, 'column': 8, 'index': 5870}","  162 |         expect(results.length).toEqual(1);
  163 |         const mob = results[0];
> 164 |         expect(typeof mob.subdoc).toBe('object');
      |        ^ Duplicate Assert
  165 |         expect(mob.subdoc.foo).toBe('bar');
  166 |         expect(mob.subdoc.wu).toBe('clan');
  167 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 164, 'column': 8, 'index': 5870}","  162 |         expect(results.length).toEqual(1);
  163 |         const mob = results[0];
> 164 |         expect(typeof mob.subdoc).toBe('object');
      |        ^ Duplicate Assert
  165 |         expect(mob.subdoc.foo).toBe('bar');
  166 |         expect(mob.subdoc.wu).toBe('clan');
  167 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 165, 'column': 8, 'index': 5920}","  163 |         const mob = results[0];
  164 |         expect(typeof mob.subdoc).toBe('object');
> 165 |         expect(mob.subdoc.foo).toBe('bar');
      |        ^ Duplicate Assert
  166 |         expect(mob.subdoc.wu).toBe('clan');
  167 |         done();
  168 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 165, 'column': 8, 'index': 5920}","  163 |         const mob = results[0];
  164 |         expect(typeof mob.subdoc).toBe('object');
> 165 |         expect(mob.subdoc.foo).toBe('bar');
      |        ^ Duplicate Assert
  166 |         expect(mob.subdoc.wu).toBe('clan');
  167 |         done();
  168 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 166, 'column': 8, 'index': 5964}","  164 |         expect(typeof mob.subdoc).toBe('object');
  165 |         expect(mob.subdoc.foo).toBe('bar');
> 166 |         expect(mob.subdoc.wu).toBe('clan');
      |        ^ Duplicate Assert
  167 |         done();
  168 |       });
  169 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 192, 'column': 8, 'index': 6620}","  190 |       .then(() => adapter._rawFind('MyClass', {}))
  191 |       .then(results => {
> 192 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  193 |         const mob = results[0];
  194 |         expect(mob.array instanceof Array).toBe(true);
  195 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 192, 'column': 8, 'index': 6620}","  190 |       .then(() => adapter._rawFind('MyClass', {}))
  191 |       .then(results => {
> 192 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  193 |         const mob = results[0];
  194 |         expect(mob.array instanceof Array).toBe(true);
  195 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 194, 'column': 8, 'index': 6695}","  192 |         expect(results.length).toEqual(1);
  193 |         const mob = results[0];
> 194 |         expect(mob.array instanceof Array).toBe(true);
      |        ^ Duplicate Assert
  195 |         expect(typeof mob.object).toBe('object');
  196 |         expect(mob.date instanceof Date).toBe(true);
  197 |         return adapter.find('MyClass', schema, {}, {});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 194, 'column': 8, 'index': 6695}","  192 |         expect(results.length).toEqual(1);
  193 |         const mob = results[0];
> 194 |         expect(mob.array instanceof Array).toBe(true);
      |        ^ Duplicate Assert
  195 |         expect(typeof mob.object).toBe('object');
  196 |         expect(mob.date instanceof Date).toBe(true);
  197 |         return adapter.find('MyClass', schema, {}, {});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 195, 'column': 8, 'index': 6750}","  193 |         const mob = results[0];
  194 |         expect(mob.array instanceof Array).toBe(true);
> 195 |         expect(typeof mob.object).toBe('object');
      |        ^ Duplicate Assert
  196 |         expect(mob.date instanceof Date).toBe(true);
  197 |         return adapter.find('MyClass', schema, {}, {});
  198 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 195, 'column': 8, 'index': 6750}","  193 |         const mob = results[0];
  194 |         expect(mob.array instanceof Array).toBe(true);
> 195 |         expect(typeof mob.object).toBe('object');
      |        ^ Duplicate Assert
  196 |         expect(mob.date instanceof Date).toBe(true);
  197 |         return adapter.find('MyClass', schema, {}, {});
  198 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 200, 'column': 8, 'index': 6943}","  198 |       })
  199 |       .then(results => {
> 200 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  201 |         const mob = results[0];
  202 |         expect(mob.array instanceof Array).toBe(true);
  203 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 200, 'column': 8, 'index': 6943}","  198 |       })
  199 |       .then(results => {
> 200 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  201 |         const mob = results[0];
  202 |         expect(mob.array instanceof Array).toBe(true);
  203 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 202, 'column': 8, 'index': 7018}","  200 |         expect(results.length).toEqual(1);
  201 |         const mob = results[0];
> 202 |         expect(mob.array instanceof Array).toBe(true);
      |        ^ Duplicate Assert
  203 |         expect(typeof mob.object).toBe('object');
  204 |         expect(mob.date.__type).toBe('Date');
  205 |         expect(mob.date.iso).toBe('2016-05-26T20:55:01.154Z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 202, 'column': 8, 'index': 7018}","  200 |         expect(results.length).toEqual(1);
  201 |         const mob = results[0];
> 202 |         expect(mob.array instanceof Array).toBe(true);
      |        ^ Duplicate Assert
  203 |         expect(typeof mob.object).toBe('object');
  204 |         expect(mob.date.__type).toBe('Date');
  205 |         expect(mob.date.iso).toBe('2016-05-26T20:55:01.154Z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 203, 'column': 8, 'index': 7073}","  201 |         const mob = results[0];
  202 |         expect(mob.array instanceof Array).toBe(true);
> 203 |         expect(typeof mob.object).toBe('object');
      |        ^ Duplicate Assert
  204 |         expect(mob.date.__type).toBe('Date');
  205 |         expect(mob.date.iso).toBe('2016-05-26T20:55:01.154Z');
  206 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 203, 'column': 8, 'index': 7073}","  201 |         const mob = results[0];
  202 |         expect(mob.array instanceof Array).toBe(true);
> 203 |         expect(typeof mob.object).toBe('object');
      |        ^ Duplicate Assert
  204 |         expect(mob.date.__type).toBe('Date');
  205 |         expect(mob.date.iso).toBe('2016-05-26T20:55:01.154Z');
  206 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 313, 'column': 8, 'index': 10302}","  311 |       .then(() => adapter._rawFind('MyClass', {}))
  312 |       .then(results => {
> 313 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  314 |         const update = {
  315 |           array: [1, 2, 3],
  316 |           object: { foo: 'bar' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 313, 'column': 8, 'index': 10302}","  311 |       .then(() => adapter._rawFind('MyClass', {}))
  312 |       .then(results => {
> 313 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  314 |         const update = {
  315 |           array: [1, 2, 3],
  316 |           object: { foo: 'bar' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 327, 'column': 8, 'index': 10711}","  325 |       .then(results => {
  326 |         const mob = results;
> 327 |         expect(mob.array instanceof Array).toBe(true);
      |        ^ Duplicate Assert
  328 |         expect(typeof mob.object).toBe('object');
  329 |         expect(mob.date.__type).toBe('Date');
  330 |         expect(mob.date.iso).toBe('2016-05-26T20:55:01.154Z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 327, 'column': 8, 'index': 10711}","  325 |       .then(results => {
  326 |         const mob = results;
> 327 |         expect(mob.array instanceof Array).toBe(true);
      |        ^ Duplicate Assert
  328 |         expect(typeof mob.object).toBe('object');
  329 |         expect(mob.date.__type).toBe('Date');
  330 |         expect(mob.date.iso).toBe('2016-05-26T20:55:01.154Z');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 328, 'column': 8, 'index': 10766}","  326 |         const mob = results;
  327 |         expect(mob.array instanceof Array).toBe(true);
> 328 |         expect(typeof mob.object).toBe('object');
      |        ^ Duplicate Assert
  329 |         expect(mob.date.__type).toBe('Date');
  330 |         expect(mob.date.iso).toBe('2016-05-26T20:55:01.154Z');
  331 |         return adapter._rawFind('MyClass', {});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 328, 'column': 8, 'index': 10766}","  326 |         const mob = results;
  327 |         expect(mob.array instanceof Array).toBe(true);
> 328 |         expect(typeof mob.object).toBe('object');
      |        ^ Duplicate Assert
  329 |         expect(mob.date.__type).toBe('Date');
  330 |         expect(mob.date.iso).toBe('2016-05-26T20:55:01.154Z');
  331 |         return adapter._rawFind('MyClass', {});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 334, 'column': 8, 'index': 11007}","  332 |       })
  333 |       .then(results => {
> 334 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  335 |         const mob = results[0];
  336 |         expect(mob.array instanceof Array).toBe(true);
  337 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 334, 'column': 8, 'index': 11007}","  332 |       })
  333 |       .then(results => {
> 334 |         expect(results.length).toEqual(1);
      |        ^ Duplicate Assert
  335 |         const mob = results[0];
  336 |         expect(mob.array instanceof Array).toBe(true);
  337 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 336, 'column': 8, 'index': 11082}","  334 |         expect(results.length).toEqual(1);
  335 |         const mob = results[0];
> 336 |         expect(mob.array instanceof Array).toBe(true);
      |        ^ Duplicate Assert
  337 |         expect(typeof mob.object).toBe('object');
  338 |         expect(mob.date instanceof Date).toBe(true);
  339 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 336, 'column': 8, 'index': 11082}","  334 |         expect(results.length).toEqual(1);
  335 |         const mob = results[0];
> 336 |         expect(mob.array instanceof Array).toBe(true);
      |        ^ Duplicate Assert
  337 |         expect(typeof mob.object).toBe('object');
  338 |         expect(mob.date instanceof Date).toBe(true);
  339 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 337, 'column': 8, 'index': 11137}","  335 |         const mob = results[0];
  336 |         expect(mob.array instanceof Array).toBe(true);
> 337 |         expect(typeof mob.object).toBe('object');
      |        ^ Duplicate Assert
  338 |         expect(mob.date instanceof Date).toBe(true);
  339 |         done();
  340 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Duplicate Assert,"{'line': 337, 'column': 8, 'index': 11137}","  335 |         const mob = results[0];
  336 |         expect(mob.array instanceof Array).toBe(true);
> 337 |         expect(typeof mob.object).toBe('object');
      |        ^ Duplicate Assert
  338 |         expect(mob.date instanceof Date).toBe(true);
  339 |         done();
  340 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Exception Handling,"{'line': 364, 'column': 4, 'index': 11857}","  362 |
  363 |     await adapter.handleShutdown();
> 364 |     try {
      |    ^ Exception Handling
  365 |       await adapter.database.admin().serverStatus();
  366 |       expect(false).toBe(true);
  367 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 64, 'column': 39, 'index': 2688}","  62 |       .then(() => adapter._rawFind('Foo', {}))
  63 |       .then(results => {
> 64 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  65 |         const obj = results[0];
  66 |         expect(obj._id).toEqual('abcde');
  67 |         expect(obj.objectId).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 104, 'column': 35, 'index': 3928}","  102 |         err => {
  103 |           expect(err.name).toEqual('MongoServerError');
> 104 |           expect(err.code).toEqual(50);
      |                                   ^ Magic Number
  105 |           expect(err.message).toMatch('operation exceeded time limit');
  106 |           done();
  107 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 134, 'column': 39, 'index': 4706}","  132 |       .then(() => adapter._rawFind('APointerDarkly', {}))
  133 |       .then(results => {
> 134 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  135 |         const output = results[0];
  136 |         expect(typeof output._id).toEqual('string');
  137 |         expect(typeof output._p_aPointer).toEqual('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 152, 'column': 39, 'index': 5415}","  150 |       .then(() => adapter._rawFind('MyClass', {}))
  151 |       .then(results => {
> 152 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  153 |         const mob = results[0];
  154 |         expect(typeof mob.subdoc).toBe('object');
  155 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 162, 'column': 39, 'index': 5826}","  160 |       .then(() => adapter._rawFind('MyClass', {}))
  161 |       .then(results => {
> 162 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  163 |         const mob = results[0];
  164 |         expect(typeof mob.subdoc).toBe('object');
  165 |         expect(mob.subdoc.foo).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 192, 'column': 39, 'index': 6651}","  190 |       .then(() => adapter._rawFind('MyClass', {}))
  191 |       .then(results => {
> 192 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  193 |         const mob = results[0];
  194 |         expect(mob.array instanceof Array).toBe(true);
  195 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 200, 'column': 39, 'index': 6974}","  198 |       })
  199 |       .then(results => {
> 200 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  201 |         const mob = results[0];
  202 |         expect(mob.array instanceof Array).toBe(true);
  203 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 292, 'column': 28, 'index': 9748}","  290 |
  291 |     const res = await Parse.Server.database.find(schema.className, {}, {});
> 292 |     expect(res.length).toBe(1);
      |                            ^ Magic Number
  293 |     expect(res[0].objectId).toBe(uuid1);
  294 |     expect(res[0].count).toBe(2);
  295 |     expect(res[0].x).toBe(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 294, 'column': 30, 'index': 9823}","  292 |     expect(res.length).toBe(1);
  293 |     expect(res[0].objectId).toBe(uuid1);
> 294 |     expect(res[0].count).toBe(2);
      |                              ^ Magic Number
  295 |     expect(res[0].x).toBe(1);
  296 |   });
  297 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 295, 'column': 26, 'index': 9853}","  293 |     expect(res[0].objectId).toBe(uuid1);
  294 |     expect(res[0].count).toBe(2);
> 295 |     expect(res[0].x).toBe(1);
      |                          ^ Magic Number
  296 |   });
  297 |
  298 |   it('handles updating a single object with array, object date', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 313, 'column': 39, 'index': 10333}","  311 |       .then(() => adapter._rawFind('MyClass', {}))
  312 |       .then(results => {
> 313 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  314 |         const update = {
  315 |           array: [1, 2, 3],
  316 |           object: { foo: 'bar' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 334, 'column': 39, 'index': 11038}","  332 |       })
  333 |       .then(results => {
> 334 |         expect(results.length).toEqual(1);
      |                                       ^ Magic Number
  335 |         const mob = results[0];
  336 |         expect(mob.array instanceof Array).toBe(true);
  337 |         expect(typeof mob.object).toBe('object');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 586, 'column': 45, 'index': 19262}","  584 |
  585 |         const calls = Collection.prototype.insertOne.calls.all();
> 586 |         expect(calls.length).toBeGreaterThan(0);
      |                                             ^ Magic Number
  587 |         calls.forEach(call => {
  588 |           expect(call.args[1].session).toBeFalsy();
  589 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 602, 'column': 45, 'index': 19810}","  600 |
  601 |         const calls = Collection.prototype.findOneAndUpdate.calls.all();
> 602 |         expect(calls.length).toBeGreaterThan(0);
      |                                             ^ Magic Number
  603 |         calls.forEach(call => {
  604 |           expect(call.args[2].session).toBeFalsy();
  605 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Magic Number,"{'line': 617, 'column': 45, 'index': 20301}","  615 |
  616 |         const calls = Collection.prototype.deleteMany.calls.all();
> 617 |         expect(calls.length).toBeGreaterThan(0);
      |                                             ^ Magic Number
  618 |         calls.forEach(call => {
  619 |           expect(call.args[1].session).toBeFalsy();
  620 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Redundant Assertion,"{'column': 6, 'line': 366}","  364 |     try {
  365 |       await adapter.database.admin().serverStatus();
> 366 |       expect(false).toBe(true);
      |      ^ Redundant Assertion
  367 |     } catch (e) {
  368 |       expect(e.message).toEqual('Client must be connected before running operations');
  369 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Redundant Print,"{'line': 209, 'column': 8, 'index': 7281}","  207 |       })
  208 |       .catch(error => {
> 209 |         console.log(error);
      |        ^ Redundant Print
  210 |         fail();
  211 |         done();
  212 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Redundant Print,"{'line': 342, 'column': 8, 'index': 11289}","  340 |       })
  341 |       .catch(error => {
> 342 |         console.log(error);
      |        ^ Redundant Print
  343 |         fail();
  344 |         done();
  345 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Sleepy Test,"{'line': 645, 'column': 8, 'index': 21181}","  643 |         const myClassSchema = await adapter.getClass('Stuff');
  644 |         expect(myClassSchema).toBeDefined();
> 645 |         setTimeout(() => {
      |        ^ Sleepy Test
  646 |           expect(adapter._onchange).toHaveBeenCalled();
  647 |           done();
  648 |         }, 5000);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Unknown Test,"{'column': 2, 'line': 72}","  70 |   });
  71 |
> 72 |   it('find succeeds when query is within maxTimeMS', done => {
     |  ^ Unknown Test
  73 |     const maxTimeMS = 250;
  74 |     const adapter = new MongoStorageAdapter({
  75 |       uri: databaseURI,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/MongoStorageAdapter.spec.js,Unknown Test,"{'column': 2, 'line': 388}","  386 |   });
  387 |
> 388 |   it('getClass if not exists', async () => {
      |  ^ Unknown Test
  389 |     const adapter = new MongoStorageAdapter({ uri: databaseURI });
  390 |     await expectAsync(adapter.getClass('UnknownClass')).toBeRejectedWith(undefined);
  391 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 242, 'column': 4, 'index': 8530}","  240 |     const allowCrossDomain = middlewares.allowCrossDomain(fakeReq.body._ApplicationId);
  241 |     allowCrossDomain(fakeReq, res, () => {});
> 242 |     expect(headers['Access-Control-Allow-Headers']).toContain(middlewares.DEFAULT_ALLOWED_HEADERS);
      |    ^ Duplicate Assert
  243 |
  244 |     AppCachePut(fakeReq.body._ApplicationId, {
  245 |       allowHeaders: [],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 242, 'column': 4, 'index': 8530}","  240 |     const allowCrossDomain = middlewares.allowCrossDomain(fakeReq.body._ApplicationId);
  241 |     allowCrossDomain(fakeReq, res, () => {});
> 242 |     expect(headers['Access-Control-Allow-Headers']).toContain(middlewares.DEFAULT_ALLOWED_HEADERS);
      |    ^ Duplicate Assert
  243 |
  244 |     AppCachePut(fakeReq.body._ApplicationId, {
  245 |       allowHeaders: [],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 248, 'column': 4, 'index': 8756}","  246 |     });
  247 |     allowCrossDomain(fakeReq, res, () => {});
> 248 |     expect(headers['Access-Control-Allow-Headers']).toContain(middlewares.DEFAULT_ALLOWED_HEADERS);
      |    ^ Duplicate Assert
  249 |   });
  250 |
  251 |   it('should append custom headers to Access-Control-Allow-Headers if allowHeaders provided', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 248, 'column': 4, 'index': 8756}","  246 |     });
  247 |     allowCrossDomain(fakeReq, res, () => {});
> 248 |     expect(headers['Access-Control-Allow-Headers']).toContain(middlewares.DEFAULT_ALLOWED_HEADERS);
      |    ^ Duplicate Assert
  249 |   });
  250 |
  251 |   it('should append custom headers to Access-Control-Allow-Headers if allowHeaders provided', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 263, 'column': 4, 'index': 9320}","  261 |     const allowCrossDomain = middlewares.allowCrossDomain(fakeReq.body._ApplicationId);
  262 |     allowCrossDomain(fakeReq, res, () => {});
> 263 |     expect(headers['Access-Control-Allow-Headers']).toContain('Header-1, Header-2');
      |    ^ Duplicate Assert
  264 |     expect(headers['Access-Control-Allow-Headers']).toContain(middlewares.DEFAULT_ALLOWED_HEADERS);
  265 |   });
  266 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 264, 'column': 4, 'index': 9405}","  262 |     allowCrossDomain(fakeReq, res, () => {});
  263 |     expect(headers['Access-Control-Allow-Headers']).toContain('Header-1, Header-2');
> 264 |     expect(headers['Access-Control-Allow-Headers']).toContain(middlewares.DEFAULT_ALLOWED_HEADERS);
      |    ^ Duplicate Assert
  265 |   });
  266 |
  267 |   it('should set default Access-Control-Allow-Origin if allowOrigin is empty', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 311, 'column': 4, 'index': 11124}","  309 |     fakeReq.headers.origin = 'https://a.com';
  310 |     allowCrossDomain(fakeReq, res, () => {});
> 311 |     expect(headers['Access-Control-Allow-Origin']).toEqual('https://a.com');
      |    ^ Duplicate Assert
  312 |     // Test with the second domain
  313 |     fakeReq.headers.origin = 'https://b.com';
  314 |     allowCrossDomain(fakeReq, res, () => {});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 311, 'column': 4, 'index': 11124}","  309 |     fakeReq.headers.origin = 'https://a.com';
  310 |     allowCrossDomain(fakeReq, res, () => {});
> 311 |     expect(headers['Access-Control-Allow-Origin']).toEqual('https://a.com');
      |    ^ Duplicate Assert
  312 |     // Test with the second domain
  313 |     fakeReq.headers.origin = 'https://b.com';
  314 |     allowCrossDomain(fakeReq, res, () => {});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 315, 'column': 4, 'index': 11328}","  313 |     fakeReq.headers.origin = 'https://b.com';
  314 |     allowCrossDomain(fakeReq, res, () => {});
> 315 |     expect(headers['Access-Control-Allow-Origin']).toEqual('https://b.com');
      |    ^ Duplicate Assert
  316 |     // Test with the third domain
  317 |     fakeReq.headers.origin = 'https://c.com';
  318 |     allowCrossDomain(fakeReq, res, () => {});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 319, 'column': 4, 'index': 11531}","  317 |     fakeReq.headers.origin = 'https://c.com';
  318 |     allowCrossDomain(fakeReq, res, () => {});
> 319 |     expect(headers['Access-Control-Allow-Origin']).toEqual('https://c.com');
      |    ^ Duplicate Assert
  320 |     // Test with an unauthorized domain
  321 |     fakeReq.headers.origin = 'https://unauthorized.com';
  322 |     allowCrossDomain(fakeReq, res, () => {});"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 323, 'column': 4, 'index': 11751}","  321 |     fakeReq.headers.origin = 'https://unauthorized.com';
  322 |     allowCrossDomain(fakeReq, res, () => {});
> 323 |     expect(headers['Access-Control-Allow-Origin']).toEqual('https://a.com');
      |    ^ Duplicate Assert
  324 |   });
  325 |
  326 |   it('should use user provided on field userFromJWT', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 323, 'column': 4, 'index': 11751}","  321 |     fakeReq.headers.origin = 'https://unauthorized.com';
  322 |     allowCrossDomain(fakeReq, res, () => {});
> 323 |     expect(headers['Access-Control-Allow-Origin']).toEqual('https://a.com');
      |    ^ Duplicate Assert
  324 |   });
  325 |
  326 |   it('should use user provided on field userFromJWT', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 390, 'column': 4, 'index': 14906}","  388 |     expect(cache1.get('2001:0db8:85a3:0000:0000:8a2e:0370:7334')).toBe(undefined);
  389 |     expect(cache1.get('allowAllIpv6')).toBe(true);
> 390 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(0);
      |    ^ Duplicate Assert
  391 |
  392 |     const cache2 = new Map();
  393 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 393, 'column': 4, 'index': 14993}","  391 |
  392 |     const cache2 = new Map();
> 393 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);
      |    ^ Duplicate Assert
  394 |     expect(cache2.get('::1')).toBe(true);
  395 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  396 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 393, 'column': 4, 'index': 14993}","  391 |
  392 |     const cache2 = new Map();
> 393 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);
      |    ^ Duplicate Assert
  394 |     expect(cache2.get('::1')).toBe(true);
  395 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  396 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 395, 'column': 4, 'index': 15103}","  393 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);
  394 |     expect(cache2.get('::1')).toBe(true);
> 395 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  396 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);
  397 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  398 |     spyBlockListCheck.calls.reset();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 396, 'column': 4, 'index': 15159}","  394 |     expect(cache2.get('::1')).toBe(true);
  395 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
> 396 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);
      |    ^ Duplicate Assert
  397 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  398 |     spyBlockListCheck.calls.reset();
  399 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 396, 'column': 4, 'index': 15159}","  394 |     expect(cache2.get('::1')).toBe(true);
  395 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
> 396 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);
      |    ^ Duplicate Assert
  397 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  398 |     spyBlockListCheck.calls.reset();
  399 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 397, 'column': 4, 'index': 15227}","  395 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  396 |     expect(middlewares.checkIp('::1', ['::1'], cache2)).toBe(true);
> 397 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  398 |     spyBlockListCheck.calls.reset();
  399 |
  400 |     const cache3 = new Map();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 401, 'column': 4, 'index': 15351}","  399 |
  400 |     const cache3 = new Map();
> 401 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);
      |    ^ Duplicate Assert
  402 |     expect(cache3.get('127.0.0.1')).toBe(true);
  403 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  404 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 401, 'column': 4, 'index': 15351}","  399 |
  400 |     const cache3 = new Map();
> 401 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);
      |    ^ Duplicate Assert
  402 |     expect(cache3.get('127.0.0.1')).toBe(true);
  403 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  404 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 403, 'column': 4, 'index': 15479}","  401 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);
  402 |     expect(cache3.get('127.0.0.1')).toBe(true);
> 403 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  404 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);
  405 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  406 |     spyBlockListCheck.calls.reset();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 404, 'column': 4, 'index': 15535}","  402 |     expect(cache3.get('127.0.0.1')).toBe(true);
  403 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
> 404 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);
      |    ^ Duplicate Assert
  405 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  406 |     spyBlockListCheck.calls.reset();
  407 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 404, 'column': 4, 'index': 15535}","  402 |     expect(cache3.get('127.0.0.1')).toBe(true);
  403 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
> 404 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);
      |    ^ Duplicate Assert
  405 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  406 |     spyBlockListCheck.calls.reset();
  407 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 405, 'column': 4, 'index': 15615}","  403 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
  404 |     expect(middlewares.checkIp('127.0.0.1', ['127.0.0.1'], cache3)).toBe(true);
> 405 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  406 |     spyBlockListCheck.calls.reset();
  407 |
  408 |     const cache4 = new Map();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 413, 'column': 4, 'index': 15969}","  411 |     expect(middlewares.checkIp('123.123.123.123', ranges, cache4)).toBe(false);
  412 |     expect(cache4.get('123.123.123.123')).toBe(undefined);
> 413 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  414 |     spyBlockListCheck.calls.reset();
  415 |
  416 |     // should not cache cidr"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Duplicate Assert,"{'line': 419, 'column': 4, 'index': 16226}","  417 |     expect(middlewares.checkIp('192.168.0.101', ranges, cache4)).toBe(true);
  418 |     expect(cache4.get('192.168.0.101')).toBe(undefined);
> 419 |     expect(spyBlockListCheck).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  420 |   });
  421 | });
  422 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Magic Number,"{'line': 55, 'column': 48, 'index': 1737}","  53 |     });
  54 |     await middlewares.handleParseHeaders(fakeReq, fakeRes);
> 55 |     expect(fakeRes.status).toHaveBeenCalledWith(403);
     |                                                ^ Magic Number
  56 |   });
  57 |
  58 |   it('should give invalid response when keys are configured but supplied key is incorrect', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Magic Number,"{'line': 65, 'column': 48, 'index': 2139}","  63 |     fakeReq.headers['x-parse-rest-api-key'] = 'wrongKey';
  64 |     await middlewares.handleParseHeaders(fakeReq, fakeRes);
> 65 |     expect(fakeRes.status).toHaveBeenCalledWith(403);
     |                                                ^ Magic Number
  66 |   });
  67 |
  68 |   it('should give invalid response when keys are configured but different key is supplied', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Magic Number,"{'line': 75, 'column': 48, 'index': 2540}","  73 |     fakeReq.headers['x-parse-client-key'] = 'clientKey';
  74 |     await middlewares.handleParseHeaders(fakeReq, fakeRes);
> 75 |     expect(fakeRes.status).toHaveBeenCalledWith(403);
     |                                                ^ Magic Number
  76 |   });
  77 |
  78 |   it('should succeed when any one of the configured keys supplied', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Magic Number,"{'line': 212, 'column': 59, 'index': 7604}","  210 |   it('can set trust proxy', async () => {
  211 |     const server = await reconfigureServer({ trustProxy: 1 });
> 212 |     expect(server.app.parent.settings['trust proxy']).toBe(1);
      |                                                           ^ Magic Number
  213 |   });
  214 |
  215 |   it('should properly expose the headers', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Magic Number,"{'line': 224, 'column': 45, 'index': 7965}","  222 |     const allowCrossDomain = middlewares.allowCrossDomain(fakeReq.body._ApplicationId);
  223 |     allowCrossDomain(fakeReq, res, () => {});
> 224 |     expect(Object.keys(headers).length).toBe(4);
      |                                             ^ Magic Number
  225 |     expect(headers['Access-Control-Expose-Headers']).toBe(
  226 |       'X-Parse-Job-Status-Id, X-Parse-Push-Status-Id'
  227 |     );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Middlewares.spec.js,Magic Number,"{'line': 343, 'column': 48, 'index': 12498}","  341 |     fakeReq.body = Buffer.from('fake-file');
  342 |     middlewares.handleParseHeaders(fakeReq, fakeRes);
> 343 |     expect(fakeRes.status).toHaveBeenCalledWith(403);
      |                                                ^ Magic Number
  344 |   });
  345 |
  346 |   it('should match address', () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LogsRouter.spec.js,Magic Number,"{'line': 63, 'column': 38, 'index': 1618}","  61 |     }).then(fail, response => {
  62 |       const body = response.data;
> 63 |       expect(response.status).toEqual(403);
     |                                      ^ Magic Number
  64 |       expect(body.error).toEqual('unauthorized: master key is required');
  65 |       done();
  66 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Duplicate Assert,"{'line': 161, 'column': 4, 'index': 4475}","  159 |     logger.verbose('yo!');
  160 |     logger.silly('yo!');
> 161 |     expect(adapter.log).not.toHaveBeenCalled();
      |    ^ Duplicate Assert
  162 |     logger.error('error');
  163 |     expect(adapter.log).toHaveBeenCalled();
  164 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Duplicate Assert,"{'line': 163, 'column': 4, 'index': 4550}","  161 |     expect(adapter.log).not.toHaveBeenCalled();
  162 |     logger.error('error');
> 163 |     expect(adapter.log).toHaveBeenCalled();
      |    ^ Duplicate Assert
  164 |     done();
  165 |   });
  166 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 16, 'column': 38, 'index': 562}","  14 |         .getLogs(query)
  15 |         .then(function (res) {
> 16 |           expect(res.length).not.toBe(0);
     |                                      ^ Magic Number
  17 |           done();
  18 |         })
  19 |         .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 29, 'column': 66, 'index': 935}","  27 |     expect(LoggerController.validDateTime()).toBe(null);
  28 |     expect(LoggerController.validDateTime('String')).toBe(null);
> 29 |     expect(LoggerController.validDateTime(123456).getTime()).toBe(123456);
     |                                                                  ^ Magic Number
  30 |     expect(LoggerController.validDateTime('2016-01-01Z00:00:00').getTime()).toBe(1451606400000);
  31 |     done();
  32 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 30, 'column': 81, 'index': 1025}","  28 |     expect(LoggerController.validDateTime('String')).toBe(null);
  29 |     expect(LoggerController.validDateTime(123456).getTime()).toBe(123456);
> 30 |     expect(LoggerController.validDateTime('2016-01-01Z00:00:00').getTime()).toBe(1451606400000);
     |                                                                                 ^ Magic Number
  31 |     done();
  32 |   });
  33 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 37, 'column': 32, 'index': 1221}","  35 |     // Make mock request
  36 |     const result = LoggerController.parseOptions();
> 37 |     expect(result.size).toEqual(10);
     |                                ^ Magic Number
  38 |     expect(result.order).toEqual('desc');
  39 |     expect(result.level).toEqual('info');
  40 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 56, 'column': 42, 'index': 1675}","  54 |     const result = LoggerController.parseOptions(query);
  55 |
> 56 |     expect(result.from.getTime()).toEqual(1451606400000);
     |                                          ^ Magic Number
  57 |     expect(result.until.getTime()).toEqual(1451606400000);
  58 |     expect(result.size).toEqual(5);
  59 |     expect(result.order).toEqual('asc');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 57, 'column': 43, 'index': 1734}","  55 |
  56 |     expect(result.from.getTime()).toEqual(1451606400000);
> 57 |     expect(result.until.getTime()).toEqual(1451606400000);
     |                                           ^ Magic Number
  58 |     expect(result.size).toEqual(5);
  59 |     expect(result.order).toEqual('asc');
  60 |     expect(result.level).toEqual('error');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 58, 'column': 32, 'index': 1782}","  56 |     expect(result.from.getTime()).toEqual(1451606400000);
  57 |     expect(result.until.getTime()).toEqual(1451606400000);
> 58 |     expect(result.size).toEqual(5);
     |                                ^ Magic Number
  59 |     expect(result.order).toEqual('asc');
  60 |     expect(result.level).toEqual('error');
  61 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 79, 'column': 38, 'index': 2335}","  77 |         .getLogs(query)
  78 |         .then(function (res) {
> 79 |           expect(res.length).not.toBe(0);
     |                                      ^ Magic Number
  80 |           done();
  81 |         })
  82 |         .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 102, 'column': 42, 'index': 2854}","  100 |     const result = LoggerController.parseOptions(query);
  101 |
> 102 |     expect(result.from.getTime()).toEqual(1451606400000);
      |                                          ^ Magic Number
  103 |     expect(result.until.getTime()).toEqual(1451606400000);
  104 |     expect(result.size).toEqual(5);
  105 |     expect(result.order).toEqual('desc');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 103, 'column': 43, 'index': 2913}","  101 |
  102 |     expect(result.from.getTime()).toEqual(1451606400000);
> 103 |     expect(result.until.getTime()).toEqual(1451606400000);
      |                                           ^ Magic Number
  104 |     expect(result.size).toEqual(5);
  105 |     expect(result.order).toEqual('desc');
  106 |     expect(result.level).toEqual('error');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 104, 'column': 32, 'index': 2961}","  102 |     expect(result.from.getTime()).toEqual(1451606400000);
  103 |     expect(result.until.getTime()).toEqual(1451606400000);
> 104 |     expect(result.size).toEqual(5);
      |                                ^ Magic Number
  105 |     expect(result.order).toEqual('desc');
  106 |     expect(result.level).toEqual('error');
  107 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LoggerController.spec.js,Magic Number,"{'line': 125, 'column': 38, 'index': 3516}","  123 |         .getLogs(query)
  124 |         .then(function (res) {
> 125 |           expect(res.length).not.toBe(0);
      |                                      ^ Magic Number
  126 |           done();
  127 |         })
  128 |         .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Conditional Test Logic,"{'line': 47, 'column': 6, 'index': 1359}","  45 |     logging.logger.info('hi');
  46 |     logging.logger.query({ limit: 1 }, (err, results) => {
> 47 |       if (err) {
     |      ^ Conditional Test Logic
  48 |         done.fail(err);
  49 |       }
  50 |       expect(results['parse-server'][0].timestamp).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Duplicate Assert,"{'line': 15, 'column': 4, 'index': 407}","  13 |     spyOn(testTransport, 'log');
  14 |     logging.addTransport(testTransport);
> 15 |     expect(logging.logger.transports.length).toBe(4);
     |    ^ Duplicate Assert
  16 |     logging.logger.info('hi');
  17 |     expect(testTransport.log).toHaveBeenCalled();
  18 |     logging.logger.error('error');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Duplicate Assert,"{'line': 17, 'column': 4, 'index': 492}","  15 |     expect(logging.logger.transports.length).toBe(4);
  16 |     logging.logger.info('hi');
> 17 |     expect(testTransport.log).toHaveBeenCalled();
     |    ^ Duplicate Assert
  18 |     logging.logger.error('error');
  19 |     expect(testTransport.log).toHaveBeenCalled();
  20 |     logging.removeTransport(testTransport);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Duplicate Assert,"{'line': 17, 'column': 4, 'index': 492}","  15 |     expect(logging.logger.transports.length).toBe(4);
  16 |     logging.logger.info('hi');
> 17 |     expect(testTransport.log).toHaveBeenCalled();
     |    ^ Duplicate Assert
  18 |     logging.logger.error('error');
  19 |     expect(testTransport.log).toHaveBeenCalled();
  20 |     logging.removeTransport(testTransport);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Duplicate Assert,"{'line': 19, 'column': 4, 'index': 577}","  17 |     expect(testTransport.log).toHaveBeenCalled();
  18 |     logging.logger.error('error');
> 19 |     expect(testTransport.log).toHaveBeenCalled();
     |    ^ Duplicate Assert
  20 |     logging.removeTransport(testTransport);
  21 |     expect(logging.logger.transports.length).toBe(3);
  22 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Duplicate Assert,"{'line': 19, 'column': 4, 'index': 577}","  17 |     expect(testTransport.log).toHaveBeenCalled();
  18 |     logging.logger.error('error');
> 19 |     expect(testTransport.log).toHaveBeenCalled();
     |    ^ Duplicate Assert
  20 |     logging.removeTransport(testTransport);
  21 |     expect(logging.logger.transports.length).toBe(3);
  22 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Duplicate Assert,"{'line': 21, 'column': 4, 'index': 671}","  19 |     expect(testTransport.log).toHaveBeenCalled();
  20 |     logging.removeTransport(testTransport);
> 21 |     expect(logging.logger.transports.length).toBe(3);
     |    ^ Duplicate Assert
  22 |   });
  23 |
  24 |   it('should have files transports', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Magic Number,"{'line': 15, 'column': 50, 'index': 453}","  13 |     spyOn(testTransport, 'log');
  14 |     logging.addTransport(testTransport);
> 15 |     expect(logging.logger.transports.length).toBe(4);
     |                                                  ^ Magic Number
  16 |     logging.logger.info('hi');
  17 |     expect(testTransport.log).toHaveBeenCalled();
  18 |     logging.logger.error('error');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Magic Number,"{'line': 21, 'column': 50, 'index': 717}","  19 |     expect(testTransport.log).toHaveBeenCalled();
  20 |     logging.removeTransport(testTransport);
> 21 |     expect(logging.logger.transports.length).toBe(3);
     |                                                  ^ Magic Number
  22 |   });
  23 |
  24 |   it('should have files transports', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Magic Number,"{'line': 27, 'column': 37, 'index': 901}","  25 |     reconfigureServer().then(() => {
  26 |       const transports = logging.logger.transports;
> 27 |       expect(transports.length).toBe(3);
     |                                     ^ Magic Number
  28 |       done();
  29 |     });
  30 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Logger.spec.js,Magic Number,"{'line': 38, 'column': 39, 'index': 1146}","  36 |       .then(() => {
  37 |         const transports = logging.logger.transports;
> 38 |         expect(transports.length).toBe(1);
     |                                       ^ Magic Number
  39 |         return reconfigureServer();
  40 |       })
  41 |       .then(done);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Exception Handling,"{'line': 71, 'column': 4, 'index': 2557}","  69 |       },
  70 |     };
> 71 |     try {
     |    ^ Exception Handling
  72 |       await ldap.validateAuthData({ id: 'testuser', password: 'secret' }, options);
  73 |       fail();
  74 |     } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Exception Handling,"{'line': 91, 'column': 4, 'index': 3239}","  89 |       },
  90 |     };
> 91 |     try {
     |    ^ Exception Handling
  92 |       await ldap.validateAuthData({ id: 'testuser', password: 'wrong!' }, options);
  93 |       fail();
  94 |     } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Exception Handling,"{'line': 107, 'column': 4, 'index': 3735}","  105 |       dn: 'uid={{id}}, o=example',
  106 |     };
> 107 |     try {
      |    ^ Exception Handling
  108 |       await ldap.validateAuthData({ id: 'testuser', password: 'wrong!' }, options);
  109 |       fail();
  110 |     } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Exception Handling,"{'line': 138, 'column': 4, 'index': 4875}","  136 |       groupFilter: '(&(uniqueMember=uid={{id}}, o=example)(objectClass=groupOfUniqueNames))',
  137 |     };
> 138 |     try {
      |    ^ Exception Handling
  139 |       await ldap.validateAuthData({ id: 'testuser', password: 'secret' }, options);
  140 |       fail();
  141 |     } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Exception Handling,"{'line': 156, 'column': 4, 'index': 5533}","  154 |       groupFilter: '(&(uniqueMember=uid={{id}}, o=example)(objectClass=groupOfUniqueNames))',
  155 |     };
> 156 |     try {
      |    ^ Exception Handling
  157 |       await ldap.validateAuthData({ id: 'testuser', password: 'secret' }, options);
  158 |       fail();
  159 |     } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Exception Handling,"{'line': 174, 'column': 4, 'index': 6182}","  172 |       groupFilter: '(&(uniqueMember=uid={{id}}, o=example)(objectClass=groupOfUniqueNames))',
  173 |     };
> 174 |     try {
      |    ^ Exception Handling
  175 |       await ldap.validateAuthData({ id: 'testuser', password: 'secret' }, options);
  176 |       fail();
  177 |     } catch (err) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Mystery Guest,"{'column': 12, 'line': 52}","  50 |       dn: 'uid={{id}}, o=example',
  51 |       tlsOptions: {
> 52 |         ca: fs.readFileSync(__dirname + '/support/cert/cert.pem'),
     |            ^ Mystery Guest
  53 |         rejectUnauthorized: true,
  54 |       },
  55 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Mystery Guest,"{'column': 12, 'line': 67}","  65 |       dn: 'uid={{id}}, o=example',
  66 |       tlsOptions: {
> 67 |         ca: fs.readFileSync(__dirname + '/support/cert/anothercert.pem'),
     |            ^ Mystery Guest
  68 |         rejectUnauthorized: true,
  69 |       },
  70 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Mystery Guest,"{'column': 12, 'line': 87}","  85 |       dn: 'uid={{id}}, o=example',
  86 |       tlsOptions: {
> 87 |         ca: fs.readFileSync(__dirname + '/support/cert/cert.pem'),
     |            ^ Mystery Guest
  88 |         rejectUnauthorized: true,
  89 |       },
  90 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Unknown Test,"{'column': 2, 'line': 8}","   6 |
   7 | describe('Ldap Auth', () => {
>  8 |   it('Should fail with missing options', done => {
     |  ^ Unknown Test
   9 |     ldap
  10 |       .validateAuthData({ id: 'testuser', password: 'testpw' })
  11 |       .then(done.fail)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Unknown Test,"{'column': 2, 'line': 18}","  16 |   });
  17 |
> 18 |   it('Should return a resolved promise when validating the app id', done => {
     |  ^ Unknown Test
  19 |     ldap.validateAppId().then(done).catch(done.fail);
  20 |   });
  21 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Unknown Test,"{'column': 2, 'line': 22}","  20 |   });
  21 |
> 22 |   it('Should succeed with right credentials', async done => {
     |  ^ Unknown Test
  23 |     const server = await mockLdapServer(port, 'uid=testuser, o=example');
  24 |     const options = {
  25 |       suffix: 'o=example',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Unknown Test,"{'column': 2, 'line': 33}","  31 |   });
  32 |
> 33 |   it('Should succeed with right credentials when LDAPS is used and certifcate is not checked', async done => {
     |  ^ Unknown Test
  34 |     const server = await mockLdapServer(sslport, 'uid=testuser, o=example', false, true);
  35 |     const options = {
  36 |       suffix: 'o=example',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Unknown Test,"{'column': 2, 'line': 45}","  43 |   });
  44 |
> 45 |   it('Should succeed when LDAPS is used and the presented certificate is the expected certificate', async done => {
     |  ^ Unknown Test
  46 |     const server = await mockLdapServer(sslport, 'uid=testuser, o=example', false, true);
  47 |     const options = {
  48 |       suffix: 'o=example',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/LdapAuth.spec.js,Unknown Test,"{'column': 2, 'line': 116}","  114 |   });
  115 |
> 116 |   it('Should succeed if user is in given group', async done => {
      |  ^ Unknown Test
  117 |     const server = await mockLdapServer(port, 'uid=testuser, o=example');
  118 |     const options = {
  119 |       suffix: 'o=example',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Duplicate Assert,"{'line': 265, 'column': 8, 'index': 6978}","  263 |         const res = response.data;
  264 |         expect(res.in_use).toEqual(['job1']);
> 265 |         expect(res.jobs).toContain('job1');
      |        ^ Duplicate Assert
  266 |         expect(res.jobs).toContain('job2');
  267 |         expect(res.jobs.length).toBe(2);
  268 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Duplicate Assert,"{'line': 266, 'column': 8, 'index': 7022}","  264 |         expect(res.in_use).toEqual(['job1']);
  265 |         expect(res.jobs).toContain('job1');
> 266 |         expect(res.jobs).toContain('job2');
      |        ^ Duplicate Assert
  267 |         expect(res.jobs.length).toBe(2);
  268 |       })
  269 |       .then(done)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Magic Number,"{'line': 106, 'column': 37, 'index': 2916}","  104 |       })
  105 |       .then(res => {
> 106 |         expect(res.data.length).toBe(1);
      |                                     ^ Magic Number
  107 |       })
  108 |       .then(done)
  109 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Magic Number,"{'line': 162, 'column': 37, 'index': 4328}","  160 |       })
  161 |       .then(res => {
> 162 |         expect(res.data.length).toBe(1);
      |                                     ^ Magic Number
  163 |         expect(res.data[0].jobName).toBe('job2');
  164 |       })
  165 |       .then(done)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Magic Number,"{'line': 234, 'column': 37, 'index': 6151}","  232 |       })
  233 |       .then(res => {
> 234 |         expect(res.data.length).toBe(0);
      |                                     ^ Magic Number
  235 |       })
  236 |       .then(done)
  237 |       .catch(done.fail);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Magic Number,"{'line': 267, 'column': 37, 'index': 7095}","  265 |         expect(res.jobs).toContain('job1');
  266 |         expect(res.jobs).toContain('job2');
> 267 |         expect(res.jobs.length).toBe(2);
      |                                     ^ Magic Number
  268 |       })
  269 |       .then(done)
  270 |       .catch(e => done.fail(e.data));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Unknown Test,"{'column': 2, 'line': 24}","  22 |
  23 | describe('JobSchedule', () => {
> 24 |   it('should create _JobSchedule with masterKey', done => {
     |  ^ Unknown Test
  25 |     const jobSchedule = new Parse.Object('_JobSchedule');
  26 |     jobSchedule.set({
  27 |       jobName: 'MY Cool Job',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Unknown Test,"{'column': 2, 'line': 37}","  35 |   });
  36 |
> 37 |   it('should fail creating _JobSchedule without masterKey', done => {
     |  ^ Unknown Test
  38 |     const jobSchedule = new Parse.Object('_JobSchedule');
  39 |     jobSchedule.set({
  40 |       jobName: 'SomeJob',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Unknown Test,"{'column': 2, 'line': 48}","  46 |   });
  47 |
> 48 |   it('should reject access when not using masterKey (/jobs)', done => {
     |  ^ Unknown Test
  49 |     request(
  50 |       Object.assign({ url: Parse.serverURL + '/cloud_code/jobs' }, defaultOptions)
  51 |     ).then(done.fail, () => done());"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Unknown Test,"{'column': 2, 'line': 54}","  52 |   });
  53 |
> 54 |   it('should reject access when not using masterKey (/jobs/data)', done => {
     |  ^ Unknown Test
  55 |     request(
  56 |       Object.assign({ url: Parse.serverURL + '/cloud_code/jobs/data' }, defaultOptions)
  57 |     ).then(done.fail, () => done());"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Unknown Test,"{'column': 2, 'line': 60}","  58 |   });
  59 |
> 60 |   it('should reject access when not using masterKey (PUT /jobs/id)', done => {
     |  ^ Unknown Test
  61 |     request(
  62 |       Object.assign(
  63 |         { method: 'PUT', url: Parse.serverURL + '/cloud_code/jobs/jobId' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Unknown Test,"{'column': 2, 'line': 69}","  67 |   });
  68 |
> 69 |   it('should reject access when not using masterKey (DELETE /jobs/id)', done => {
     |  ^ Unknown Test
  70 |     request(
  71 |       Object.assign(
  72 |         { method: 'DELETE', url: Parse.serverURL + '/cloud_code/jobs/jobId' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Unknown Test,"{'column': 2, 'line': 78}","  76 |   });
  77 |
> 78 |   it('should allow access when using masterKey (GET /jobs)', done => {
     |  ^ Unknown Test
  79 |     request(Object.assign({ url: Parse.serverURL + '/cloud_code/jobs' }, masterKeyOptions)).then(
  80 |       done,
  81 |       done.fail"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/JobSchedule.spec.js,Unknown Test,"{'column': 2, 'line': 112}","  110 |   });
  111 |
> 112 |   it('should fail creating a job with an invalid name', done => {
      |  ^ Unknown Test
  113 |     const options = Object.assign({}, masterKeyOptions, {
  114 |       url: Parse.serverURL + '/cloud_code/jobs',
  115 |       method: 'POST',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InstallationsRouter.spec.js,Magic Number,"{'line': 40, 'column': 39, 'index': 1242}","  38 |       .then(res => {
  39 |         const results = res.response.results;
> 40 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  41 |         done();
  42 |       })
  43 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InstallationsRouter.spec.js,Magic Number,"{'line': 82, 'column': 39, 'index': 2353}","  80 |       .then(res => {
  81 |         const results = res.response.results;
> 82 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  83 |         done();
  84 |       })
  85 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InstallationsRouter.spec.js,Magic Number,"{'line': 123, 'column': 48, 'index': 3428}","  121 |       .then(res => {
  122 |         const response = res.response;
> 123 |         expect(response.results.length).toEqual(0);
      |                                                ^ Magic Number
  124 |         done();
  125 |       })
  126 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCacheAdapter.spec.js,Duplicate Assert,"{'line': 32, 'column': 21, 'index': 797}","  30 |       .put(KEY, VALUE)
  31 |       .then(() => cache.get(KEY))
> 32 |       .then(value => expect(value).toEqual(VALUE))
     |                     ^ Duplicate Assert
  33 |       .then(() => cache.clear())
  34 |       .then(() => cache.get(KEY))
  35 |       .then(value => expect(value).toEqual(null))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCacheAdapter.spec.js,Duplicate Assert,"{'line': 35, 'column': 21, 'index': 915}","  33 |       .then(() => cache.clear())
  34 |       .then(() => cache.get(KEY))
> 35 |       .then(value => expect(value).toEqual(null))
     |                     ^ Duplicate Assert
  36 |       .then(done);
  37 |   });
  38 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCacheAdapter.spec.js,Duplicate Assert,"{'line': 47, 'column': 21, 'index': 1169}","  45 |       .put(KEY, VALUE)
  46 |       .then(() => cache.get(KEY))
> 47 |       .then(value => expect(value).toEqual(VALUE))
     |                     ^ Duplicate Assert
  48 |       .then(wait.bind(null, 50))
  49 |       .then(() => cache.get(KEY))
  50 |       .then(value => expect(value).toEqual(null))"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCacheAdapter.spec.js,Duplicate Assert,"{'line': 50, 'column': 21, 'index': 1287}","  48 |       .then(wait.bind(null, 50))
  49 |       .then(() => cache.get(KEY))
> 50 |       .then(value => expect(value).toEqual(null))
     |                     ^ Duplicate Assert
  51 |       .then(done);
  52 |   });
  53 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCacheAdapter.spec.js,Unknown Test,"{'column': 2, 'line': 13}","  11 |   }
  12 |
> 13 |   it('should expose promisifyed methods', done => {
     |  ^ Unknown Test
  14 |     const cache = new InMemoryCacheAdapter({
  15 |       ttl: NaN,
  16 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 27, 'column': 4, 'index': 571}","  25 |
  26 |     let value = cache.get(KEY);
> 27 |     expect(value).toEqual(VALUE);
     |    ^ Duplicate Assert
  28 |
  29 |     wait(BASE_TTL.ttl * 10).then(() => {
  30 |       value = cache.get(KEY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 31, 'column': 6, 'index': 679}","  29 |     wait(BASE_TTL.ttl * 10).then(() => {
  30 |       value = cache.get(KEY);
> 31 |       expect(value).toEqual(null);
     |      ^ Duplicate Assert
  32 |       done();
  33 |     });
  34 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 40, 'column': 4, 'index': 887}","  38 |     cache.put(KEY, VALUE);
  39 |     cache.put(KEY_2, VALUE);
> 40 |     expect(cache.get(KEY)).toEqual(VALUE);
     |    ^ Duplicate Assert
  41 |     expect(cache.get(KEY_2)).toEqual(VALUE);
  42 |
  43 |     cache.del(KEY);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 41, 'column': 4, 'index': 930}","  39 |     cache.put(KEY_2, VALUE);
  40 |     expect(cache.get(KEY)).toEqual(VALUE);
> 41 |     expect(cache.get(KEY_2)).toEqual(VALUE);
     |    ^ Duplicate Assert
  42 |
  43 |     cache.del(KEY);
  44 |     expect(cache.get(KEY)).toEqual(null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 41, 'column': 4, 'index': 930}","  39 |     cache.put(KEY_2, VALUE);
  40 |     expect(cache.get(KEY)).toEqual(VALUE);
> 41 |     expect(cache.get(KEY_2)).toEqual(VALUE);
     |    ^ Duplicate Assert
  42 |
  43 |     cache.del(KEY);
  44 |     expect(cache.get(KEY)).toEqual(null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 44, 'column': 4, 'index': 996}","  42 |
  43 |     cache.del(KEY);
> 44 |     expect(cache.get(KEY)).toEqual(null);
     |    ^ Duplicate Assert
  45 |     expect(cache.get(KEY_2)).toEqual(VALUE);
  46 |
  47 |     cache.del(KEY_2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 44, 'column': 4, 'index': 996}","  42 |
  43 |     cache.del(KEY);
> 44 |     expect(cache.get(KEY)).toEqual(null);
     |    ^ Duplicate Assert
  45 |     expect(cache.get(KEY_2)).toEqual(VALUE);
  46 |
  47 |     cache.del(KEY_2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 45, 'column': 4, 'index': 1038}","  43 |     cache.del(KEY);
  44 |     expect(cache.get(KEY)).toEqual(null);
> 45 |     expect(cache.get(KEY_2)).toEqual(VALUE);
     |    ^ Duplicate Assert
  46 |
  47 |     cache.del(KEY_2);
  48 |     expect(cache.get(KEY)).toEqual(null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 45, 'column': 4, 'index': 1038}","  43 |     cache.del(KEY);
  44 |     expect(cache.get(KEY)).toEqual(null);
> 45 |     expect(cache.get(KEY_2)).toEqual(VALUE);
     |    ^ Duplicate Assert
  46 |
  47 |     cache.del(KEY_2);
  48 |     expect(cache.get(KEY)).toEqual(null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 48, 'column': 4, 'index': 1106}","  46 |
  47 |     cache.del(KEY_2);
> 48 |     expect(cache.get(KEY)).toEqual(null);
     |    ^ Duplicate Assert
  49 |     expect(cache.get(KEY_2)).toEqual(null);
  50 |     done();
  51 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 48, 'column': 4, 'index': 1106}","  46 |
  47 |     cache.del(KEY_2);
> 48 |     expect(cache.get(KEY)).toEqual(null);
     |    ^ Duplicate Assert
  49 |     expect(cache.get(KEY_2)).toEqual(null);
  50 |     done();
  51 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 49, 'column': 4, 'index': 1148}","  47 |     cache.del(KEY_2);
  48 |     expect(cache.get(KEY)).toEqual(null);
> 49 |     expect(cache.get(KEY_2)).toEqual(null);
     |    ^ Duplicate Assert
  50 |     done();
  51 |   });
  52 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 58, 'column': 4, 'index': 1361}","  56 |     cache.put(KEY_2, VALUE);
  57 |
> 58 |     expect(cache.get(KEY)).toEqual(VALUE);
     |    ^ Duplicate Assert
  59 |     expect(cache.get(KEY_2)).toEqual(VALUE);
  60 |     cache.clear();
  61 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 59, 'column': 4, 'index': 1404}","  57 |
  58 |     expect(cache.get(KEY)).toEqual(VALUE);
> 59 |     expect(cache.get(KEY_2)).toEqual(VALUE);
     |    ^ Duplicate Assert
  60 |     cache.clear();
  61 |
  62 |     expect(cache.get(KEY)).toEqual(null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 62, 'column': 4, 'index': 1469}","  60 |     cache.clear();
  61 |
> 62 |     expect(cache.get(KEY)).toEqual(null);
     |    ^ Duplicate Assert
  63 |     expect(cache.get(KEY_2)).toEqual(null);
  64 |     done();
  65 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/InMemoryCache.spec.js,Duplicate Assert,"{'line': 63, 'column': 4, 'index': 1511}","  61 |
  62 |     expect(cache.get(KEY)).toEqual(null);
> 63 |     expect(cache.get(KEY_2)).toEqual(null);
     |    ^ Duplicate Assert
  64 |     done();
  65 |   });
  66 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Idempotency.spec.js,Conditional Test Logic,"{'line': 39, 'column': 4, 'index': 1201}","  37 |   // Setups
  38 |   beforeEach(async () => {
> 39 |     if (SIMULATE_TTL) {
     |    ^ Conditional Test Logic
  40 |       jasmine.DEFAULT_TIMEOUT_INTERVAL = 200000;
  41 |     }
  42 |     await setup({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Idempotency.spec.js,Conditional Test Logic,"{'line': 91, 'column': 4, 'index': 2843}","  89 |     };
  90 |     await expectAsync(request(params)).toBeResolved();
> 91 |     if (SIMULATE_TTL) {
     |    ^ Conditional Test Logic
  92 |       await deleteRequestEntry('abc-123');
  93 |     } else {
  94 |       await new Promise(resolve => setTimeout(resolve, maxTimeOut));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Idempotency.spec.js,Unknown Test,"{'column': 2, 'line': 271}","  269 |   });
  270 |
> 271 |   it('should throw on invalid configuration', async () => {
      |  ^ Unknown Test
  272 |     await expectAsync(setup({ paths: 1 })).toBeRejected();
  273 |     await expectAsync(setup({ ttl: 'a' })).toBeRejected();
  274 |     await expectAsync(setup({ ttl: 0 })).toBeRejected();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Conditional Test Logic,"{'line': 42, 'column': 4, 'index': 871}","  40 |   let server;
  41 |   beforeEach(done => {
> 42 |     if (!server) {
     |    ^ Conditional Test Logic
  43 |       server = startServer(done);
  44 |     } else {
  45 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Conditional Test Logic,"{'line': 252, 'column': 4, 'index': 7091}","  250 |       foundBody = false;
  251 |
> 252 |     for (const key in encoded) {
      |    ^ Conditional Test Logic
  253 |       if (key === 'data') {
  254 |         foundData = true;
  255 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Conditional Test Logic,"{'line': 253, 'column': 6, 'index': 7126}","  251 |
  252 |     for (const key in encoded) {
> 253 |       if (key === 'data') {
      |      ^ Conditional Test Logic
  254 |         foundData = true;
  255 |       }
  256 |       if (key === 'text') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Conditional Test Logic,"{'line': 256, 'column': 6, 'index': 7188}","  254 |         foundData = true;
  255 |       }
> 256 |       if (key === 'text') {
      |      ^ Conditional Test Logic
  257 |         foundText = true;
  258 |       }
  259 |       if (key === 'body') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Conditional Test Logic,"{'line': 259, 'column': 6, 'index': 7250}","  257 |         foundText = true;
  258 |       }
> 259 |       if (key === 'body') {
      |      ^ Conditional Test Logic
  260 |         foundBody = true;
  261 |       }
  262 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Magic Number,"{'line': 58, 'column': 37, 'index': 1183}","  56 |     });
  57 |
> 58 |     expect(httpResponse.status).toBe(200);
     |                                     ^ Magic Number
  59 |     expect(httpResponse.buffer).toEqual(Buffer.from('{""response"":""OK""}'));
  60 |     expect(httpResponse.text).toEqual('{""response"":""OK""}');
  61 |     expect(httpResponse.data.response).toEqual('OK');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Magic Number,"{'line': 69, 'column': 37, 'index': 1579}","  67 |     });
  68 |
> 69 |     expect(httpResponse.status).toBe(301);
     |                                     ^ Magic Number
  70 |   });
  71 |
  72 |   it('should follow redirects when set', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Magic Number,"{'line': 78, 'column': 37, 'index': 1806}","  76 |     });
  77 |
> 78 |     expect(httpResponse.status).toBe(200);
     |                                     ^ Magic Number
  79 |     expect(httpResponse.buffer).toEqual(Buffer.from('{""response"":""OK""}'));
  80 |     expect(httpResponse.text).toEqual('{""response"":""OK""}');
  81 |     expect(httpResponse.data.response).toEqual('OK');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Magic Number,"{'line': 111, 'column': 37, 'index': 2631}","  109 |     });
  110 |
> 111 |     expect(httpResponse.status).toBe(200);
      |                                     ^ Magic Number
  112 |     expect(httpResponse.data).toEqual({ foo: 'bar' });
  113 |   });
  114 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Magic Number,"{'line': 171, 'column': 37, 'index': 4263}","  169 |     });
  170 |
> 171 |     expect(httpResponse.status).toBe(200);
      |                                     ^ Magic Number
  172 |     expect(httpResponse.data).toEqual({ foo: 'bar' });
  173 |   });
  174 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Magic Number,"{'line': 181, 'column': 37, 'index': 4554}","  179 |     });
  180 |
> 181 |     expect(httpResponse.status).toBe(200);
      |                                     ^ Magic Number
  182 |     expect(httpResponse.data).toEqual({ foo: 'bar', foo2: 'bar2' });
  183 |   });
  184 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Unknown Test,"{'column': 2, 'line': 84}","  82 |   });
  83 |
> 84 |   it('should fail on 404', async () => {
     |  ^ Unknown Test
  85 |     await expectAsync(
  86 |       httpRequest({
  87 |         url: `${httpRequestServer}/404`,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/HTTPRequest.spec.js,Unknown Test,"{'column': 2, 'line': 155}","  153 |   });
  154 |
> 155 |   it('should fail gracefully', async () => {
      |  ^ Unknown Test
  156 |     await expectAsync(
  157 |       httpRequest({
  158 |         url: 'http://not a good url',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Conditional Test Logic,"{'line': 370, 'column': 4, 'index': 15172}","  368 |     const str = 'Hello World!';
  369 |     const data = [];
> 370 |     for (let i = 0; i < str.length; i++) {
      |    ^ Conditional Test Logic
  371 |       data.push(str.charCodeAt(i));
  372 |     }
  373 |     const metadata = { foo: 'bar' };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 88, 'column': 4, 'index': 3539}","  86 |     expect(notRotated.length).toEqual(0);
  87 |     let result = await encryptedAdapter.getFileData(fileName1);
> 88 |     expect(result instanceof Buffer).toBe(true);
     |    ^ Duplicate Assert
  89 |     expect(result.toString('utf-8')).toEqual(data1);
  90 |     const encryptedData1 = await unencryptedAdapter.getFileData(fileName1);
  91 |     expect(encryptedData1.toString('utf-8')).not.toEqual(unencryptedResult1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 88, 'column': 4, 'index': 3539}","  86 |     expect(notRotated.length).toEqual(0);
  87 |     let result = await encryptedAdapter.getFileData(fileName1);
> 88 |     expect(result instanceof Buffer).toBe(true);
     |    ^ Duplicate Assert
  89 |     expect(result.toString('utf-8')).toEqual(data1);
  90 |     const encryptedData1 = await unencryptedAdapter.getFileData(fileName1);
  91 |     expect(encryptedData1.toString('utf-8')).not.toEqual(unencryptedResult1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 89, 'column': 4, 'index': 3588}","  87 |     let result = await encryptedAdapter.getFileData(fileName1);
  88 |     expect(result instanceof Buffer).toBe(true);
> 89 |     expect(result.toString('utf-8')).toEqual(data1);
     |    ^ Duplicate Assert
  90 |     const encryptedData1 = await unencryptedAdapter.getFileData(fileName1);
  91 |     expect(encryptedData1.toString('utf-8')).not.toEqual(unencryptedResult1);
  92 |     result = await encryptedAdapter.getFileData(fileName2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 93, 'column': 4, 'index': 3855}","  91 |     expect(encryptedData1.toString('utf-8')).not.toEqual(unencryptedResult1);
  92 |     result = await encryptedAdapter.getFileData(fileName2);
> 93 |     expect(result instanceof Buffer).toBe(true);
     |    ^ Duplicate Assert
  94 |     expect(result.toString('utf-8')).toEqual(data2);
  95 |     const encryptedData2 = await unencryptedAdapter.getFileData(fileName2);
  96 |     expect(encryptedData2.toString('utf-8')).not.toEqual(unencryptedResult2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 93, 'column': 4, 'index': 3855}","  91 |     expect(encryptedData1.toString('utf-8')).not.toEqual(unencryptedResult1);
  92 |     result = await encryptedAdapter.getFileData(fileName2);
> 93 |     expect(result instanceof Buffer).toBe(true);
     |    ^ Duplicate Assert
  94 |     expect(result.toString('utf-8')).toEqual(data2);
  95 |     const encryptedData2 = await unencryptedAdapter.getFileData(fileName2);
  96 |     expect(encryptedData2.toString('utf-8')).not.toEqual(unencryptedResult2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 94, 'column': 4, 'index': 3904}","  92 |     result = await encryptedAdapter.getFileData(fileName2);
  93 |     expect(result instanceof Buffer).toBe(true);
> 94 |     expect(result.toString('utf-8')).toEqual(data2);
     |    ^ Duplicate Assert
  95 |     const encryptedData2 = await unencryptedAdapter.getFileData(fileName2);
  96 |     expect(encryptedData2.toString('utf-8')).not.toEqual(unencryptedResult2);
  97 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 131, 'column': 4, 'index': 5631}","  129 |     expect(notRotated.length).toEqual(0);
  130 |     let result = await encryptedAdapter.getFileData(fileName1);
> 131 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  132 |     expect(result.toString('utf-8')).toEqual(data1);
  133 |     let decryptionError1;
  134 |     let encryptedData1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 131, 'column': 4, 'index': 5631}","  129 |     expect(notRotated.length).toEqual(0);
  130 |     let result = await encryptedAdapter.getFileData(fileName1);
> 131 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  132 |     expect(result.toString('utf-8')).toEqual(data1);
  133 |     let decryptionError1;
  134 |     let encryptedData1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 132, 'column': 4, 'index': 5680}","  130 |     let result = await encryptedAdapter.getFileData(fileName1);
  131 |     expect(result instanceof Buffer).toBe(true);
> 132 |     expect(result.toString('utf-8')).toEqual(data1);
      |    ^ Duplicate Assert
  133 |     let decryptionError1;
  134 |     let encryptedData1;
  135 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 143, 'column': 4, 'index': 6073}","  141 |     expect(encryptedData1).toBeUndefined();
  142 |     result = await encryptedAdapter.getFileData(fileName2);
> 143 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  144 |     expect(result.toString('utf-8')).toEqual(data2);
  145 |     let decryptionError2;
  146 |     let encryptedData2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 143, 'column': 4, 'index': 6073}","  141 |     expect(encryptedData1).toBeUndefined();
  142 |     result = await encryptedAdapter.getFileData(fileName2);
> 143 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  144 |     expect(result.toString('utf-8')).toEqual(data2);
  145 |     let decryptionError2;
  146 |     let encryptedData2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 144, 'column': 4, 'index': 6122}","  142 |     result = await encryptedAdapter.getFileData(fileName2);
  143 |     expect(result instanceof Buffer).toBe(true);
> 144 |     expect(result.toString('utf-8')).toEqual(data2);
      |    ^ Duplicate Assert
  145 |     let decryptionError2;
  146 |     let encryptedData2;
  147 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 188, 'column': 4, 'index': 7963}","  186 |     expect(notRotated.length).toEqual(0);
  187 |     let result = await unEncryptedAdapter.getFileData(fileName1);
> 188 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  189 |     expect(result.toString('utf-8')).toEqual(data1);
  190 |     let decryptionError1;
  191 |     let encryptedData1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 188, 'column': 4, 'index': 7963}","  186 |     expect(notRotated.length).toEqual(0);
  187 |     let result = await unEncryptedAdapter.getFileData(fileName1);
> 188 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  189 |     expect(result.toString('utf-8')).toEqual(data1);
  190 |     let decryptionError1;
  191 |     let encryptedData1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 189, 'column': 4, 'index': 8012}","  187 |     let result = await unEncryptedAdapter.getFileData(fileName1);
  188 |     expect(result instanceof Buffer).toBe(true);
> 189 |     expect(result.toString('utf-8')).toEqual(data1);
      |    ^ Duplicate Assert
  190 |     let decryptionError1;
  191 |     let encryptedData1;
  192 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 200, 'column': 4, 'index': 8407}","  198 |     expect(encryptedData1).toBeUndefined();
  199 |     result = await unEncryptedAdapter.getFileData(fileName2);
> 200 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  201 |     expect(result.toString('utf-8')).toEqual(data2);
  202 |     let decryptionError2;
  203 |     let encryptedData2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 200, 'column': 4, 'index': 8407}","  198 |     expect(encryptedData1).toBeUndefined();
  199 |     result = await unEncryptedAdapter.getFileData(fileName2);
> 200 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  201 |     expect(result.toString('utf-8')).toEqual(data2);
  202 |     let decryptionError2;
  203 |     let encryptedData2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 201, 'column': 4, 'index': 8456}","  199 |     result = await unEncryptedAdapter.getFileData(fileName2);
  200 |     expect(result instanceof Buffer).toBe(true);
> 201 |     expect(result.toString('utf-8')).toEqual(data2);
      |    ^ Duplicate Assert
  202 |     let decryptionError2;
  203 |     let encryptedData2;
  204 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 256, 'column': 4, 'index': 10710}","  254 |     ).toEqual(0);
  255 |     let result = await encryptedAdapter.getFileData(fileName1);
> 256 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  257 |     expect(result.toString('utf-8')).toEqual(data1);
  258 |     let decryptionError1;
  259 |     let encryptedData1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 256, 'column': 4, 'index': 10710}","  254 |     ).toEqual(0);
  255 |     let result = await encryptedAdapter.getFileData(fileName1);
> 256 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  257 |     expect(result.toString('utf-8')).toEqual(data1);
  258 |     let decryptionError1;
  259 |     let encryptedData1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 257, 'column': 4, 'index': 10759}","  255 |     let result = await encryptedAdapter.getFileData(fileName1);
  256 |     expect(result instanceof Buffer).toBe(true);
> 257 |     expect(result.toString('utf-8')).toEqual(data1);
      |    ^ Duplicate Assert
  258 |     let decryptionError1;
  259 |     let encryptedData1;
  260 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 268, 'column': 4, 'index': 11152}","  266 |     expect(encryptedData1).toBeUndefined();
  267 |     result = await encryptedAdapter.getFileData(fileName2);
> 268 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  269 |     expect(result.toString('utf-8')).toEqual(data2);
  270 |     let decryptionError2;
  271 |     let encryptedData2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 268, 'column': 4, 'index': 11152}","  266 |     expect(encryptedData1).toBeUndefined();
  267 |     result = await encryptedAdapter.getFileData(fileName2);
> 268 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  269 |     expect(result.toString('utf-8')).toEqual(data2);
  270 |     let decryptionError2;
  271 |     let encryptedData2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 269, 'column': 4, 'index': 11201}","  267 |     result = await encryptedAdapter.getFileData(fileName2);
  268 |     expect(result instanceof Buffer).toBe(true);
> 269 |     expect(result.toString('utf-8')).toEqual(data2);
      |    ^ Duplicate Assert
  270 |     let decryptionError2;
  271 |     let encryptedData2;
  272 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 323, 'column': 4, 'index': 13444}","  321 |     ).toEqual(1);
  322 |     let result = await encryptedAdapter.getFileData(fileName1);
> 323 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  324 |     expect(result.toString('utf-8')).toEqual(data1);
  325 |     let decryptionError1;
  326 |     let encryptedData1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 323, 'column': 4, 'index': 13444}","  321 |     ).toEqual(1);
  322 |     let result = await encryptedAdapter.getFileData(fileName1);
> 323 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  324 |     expect(result.toString('utf-8')).toEqual(data1);
  325 |     let decryptionError1;
  326 |     let encryptedData1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 324, 'column': 4, 'index': 13493}","  322 |     let result = await encryptedAdapter.getFileData(fileName1);
  323 |     expect(result instanceof Buffer).toBe(true);
> 324 |     expect(result.toString('utf-8')).toEqual(data1);
      |    ^ Duplicate Assert
  325 |     let decryptionError1;
  326 |     let encryptedData1;
  327 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 335, 'column': 4, 'index': 13886}","  333 |     expect(encryptedData1).toBeUndefined();
  334 |     result = await encryptedAdapter.getFileData(fileName2);
> 335 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  336 |     expect(result.toString('utf-8')).toEqual(data2);
  337 |     let decryptionError2;
  338 |     let encryptedData2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 335, 'column': 4, 'index': 13886}","  333 |     expect(encryptedData1).toBeUndefined();
  334 |     result = await encryptedAdapter.getFileData(fileName2);
> 335 |     expect(result instanceof Buffer).toBe(true);
      |    ^ Duplicate Assert
  336 |     expect(result.toString('utf-8')).toEqual(data2);
  337 |     let decryptionError2;
  338 |     let encryptedData2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 336, 'column': 4, 'index': 13935}","  334 |     result = await encryptedAdapter.getFileData(fileName2);
  335 |     expect(result instanceof Buffer).toBe(true);
> 336 |     expect(result.toString('utf-8')).toEqual(data2);
      |    ^ Duplicate Assert
  337 |     let decryptionError2;
  338 |     let encryptedData2;
  339 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 378, 'column': 4, 'index': 15481}","  376 |     await file.save();
  377 |     let fileData = await gfsAdapter.getMetadata(file.name());
> 378 |     expect(fileData.metadata).toEqual(metadata);
      |    ^ Duplicate Assert
  379 |
  380 |     // Can only add metadata on create
  381 |     file.addMetadata('hello', 'world');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 378, 'column': 4, 'index': 15481}","  376 |     await file.save();
  377 |     let fileData = await gfsAdapter.getMetadata(file.name());
> 378 |     expect(fileData.metadata).toEqual(metadata);
      |    ^ Duplicate Assert
  379 |
  380 |     // Can only add metadata on create
  381 |     file.addMetadata('hello', 'world');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 384, 'column': 4, 'index': 15691}","  382 |     await file.save();
  383 |     fileData = await gfsAdapter.getMetadata(file.name());
> 384 |     expect(fileData.metadata).toEqual(metadata);
      |    ^ Duplicate Assert
  385 |
  386 |     const headers = {
  387 |       'X-Parse-Application-Id': 'test',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 384, 'column': 4, 'index': 15691}","  382 |     await file.save();
  383 |     fileData = await gfsAdapter.getMetadata(file.name());
> 384 |     expect(fileData.metadata).toEqual(metadata);
      |    ^ Duplicate Assert
  385 |
  386 |     const headers = {
  387 |       'X-Parse-Application-Id': 'test',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 396, 'column': 4, 'index': 16032}","  394 |     });
  395 |     fileData = response.data;
> 396 |     expect(fileData.metadata).toEqual(metadata);
      |    ^ Duplicate Assert
  397 |   });
  398 |
  399 |   it('should handle getMetadata error', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Duplicate Assert,"{'line': 396, 'column': 4, 'index': 16032}","  394 |     });
  395 |     fileData = response.data;
> 396 |     expect(fileData.metadata).toEqual(metadata);
      |    ^ Duplicate Assert
  397 |   });
  398 |
  399 |   it('should handle getMetadata error', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 135, 'column': 4, 'index': 5783}","  133 |     let decryptionError1;
  134 |     let encryptedData1;
> 135 |     try {
      |    ^ Exception Handling
  136 |       encryptedData1 = await oldEncryptedAdapter.getFileData(fileName1);
  137 |     } catch (err) {
  138 |       decryptionError1 = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 147, 'column': 4, 'index': 6225}","  145 |     let decryptionError2;
  146 |     let encryptedData2;
> 147 |     try {
      |    ^ Exception Handling
  148 |       encryptedData2 = await oldEncryptedAdapter.getFileData(fileName2);
  149 |     } catch (err) {
  150 |       decryptionError2 = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 192, 'column': 4, 'index': 8115}","  190 |     let decryptionError1;
  191 |     let encryptedData1;
> 192 |     try {
      |    ^ Exception Handling
  193 |       encryptedData1 = await oldEncryptedAdapter.getFileData(fileName1);
  194 |     } catch (err) {
  195 |       decryptionError1 = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 204, 'column': 4, 'index': 8559}","  202 |     let decryptionError2;
  203 |     let encryptedData2;
> 204 |     try {
      |    ^ Exception Handling
  205 |       encryptedData2 = await oldEncryptedAdapter.getFileData(fileName2);
  206 |     } catch (err) {
  207 |       decryptionError2 = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 260, 'column': 4, 'index': 10862}","  258 |     let decryptionError1;
  259 |     let encryptedData1;
> 260 |     try {
      |    ^ Exception Handling
  261 |       encryptedData1 = await oldEncryptedAdapter.getFileData(fileName1);
  262 |     } catch (err) {
  263 |       decryptionError1 = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 272, 'column': 4, 'index': 11304}","  270 |     let decryptionError2;
  271 |     let encryptedData2;
> 272 |     try {
      |    ^ Exception Handling
  273 |       encryptedData2 = await oldEncryptedAdapter.getFileData(fileName2);
  274 |     } catch (err) {
  275 |       decryptionError2 = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 327, 'column': 4, 'index': 13596}","  325 |     let decryptionError1;
  326 |     let encryptedData1;
> 327 |     try {
      |    ^ Exception Handling
  328 |       encryptedData1 = await oldEncryptedAdapter.getFileData(fileName1);
  329 |     } catch (err) {
  330 |       decryptionError1 = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 339, 'column': 4, 'index': 14038}","  337 |     let decryptionError2;
  338 |     let encryptedData2;
> 339 |     try {
      |    ^ Exception Handling
  340 |       encryptedData2 = await oldEncryptedAdapter.getFileData(fileName2);
  341 |     } catch (err) {
  342 |       decryptionError2 = err;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Exception Handling,"{'line': 461, 'column': 4, 'index': 18786}","  459 |
  460 |     await gfsAdapter.handleShutdown();
> 461 |     try {
      |    ^ Exception Handling
  462 |       await db.admin().serverStatus();
  463 |       expect(false).toBe(true);
  464 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 75, 'column': 35, 'index': 3181}","  73 |     //Check if encrypted adapter can read data and make sure it's not the same as unEncrypted adapter
  74 |     const { rotated, notRotated } = await encryptedAdapter.rotateEncryptionKey();
> 75 |     expect(rotated.length).toEqual(2);
     |                                   ^ Magic Number
  76 |     expect(
  77 |       rotated.filter(function (value) {
  78 |         return value === fileName1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 80, 'column': 14, 'index': 3303}","  78 |         return value === fileName1;
  79 |       }).length
> 80 |     ).toEqual(1);
     |              ^ Magic Number
  81 |     expect(
  82 |       rotated.filter(function (value) {
  83 |         return value === fileName2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 85, 'column': 14, 'index': 3425}","  83 |         return value === fileName2;
  84 |       }).length
> 85 |     ).toEqual(1);
     |              ^ Magic Number
  86 |     expect(notRotated.length).toEqual(0);
  87 |     let result = await encryptedAdapter.getFileData(fileName1);
  88 |     expect(result instanceof Buffer).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 86, 'column': 38, 'index': 3467}","  84 |       }).length
  85 |     ).toEqual(1);
> 86 |     expect(notRotated.length).toEqual(0);
     |                                      ^ Magic Number
  87 |     let result = await encryptedAdapter.getFileData(fileName1);
  88 |     expect(result instanceof Buffer).toBe(true);
  89 |     expect(result.toString('utf-8')).toEqual(data1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 118, 'column': 35, 'index': 5273}","  116 |       oldKey: oldEncryptionKey,
  117 |     });
> 118 |     expect(rotated.length).toEqual(2);
      |                                   ^ Magic Number
  119 |     expect(
  120 |       rotated.filter(function (value) {
  121 |         return value === fileName1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 123, 'column': 14, 'index': 5395}","  121 |         return value === fileName1;
  122 |       }).length
> 123 |     ).toEqual(1);
      |              ^ Magic Number
  124 |     expect(
  125 |       rotated.filter(function (value) {
  126 |         return value === fileName2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 128, 'column': 14, 'index': 5517}","  126 |         return value === fileName2;
  127 |       }).length
> 128 |     ).toEqual(1);
      |              ^ Magic Number
  129 |     expect(notRotated.length).toEqual(0);
  130 |     let result = await encryptedAdapter.getFileData(fileName1);
  131 |     expect(result instanceof Buffer).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 129, 'column': 38, 'index': 5559}","  127 |       }).length
  128 |     ).toEqual(1);
> 129 |     expect(notRotated.length).toEqual(0);
      |                                      ^ Magic Number
  130 |     let result = await encryptedAdapter.getFileData(fileName1);
  131 |     expect(result instanceof Buffer).toBe(true);
  132 |     expect(result.toString('utf-8')).toEqual(data1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 175, 'column': 35, 'index': 7603}","  173 |       oldKey: oldEncryptionKey,
  174 |     });
> 175 |     expect(rotated.length).toEqual(2);
      |                                   ^ Magic Number
  176 |     expect(
  177 |       rotated.filter(function (value) {
  178 |         return value === fileName1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 180, 'column': 14, 'index': 7725}","  178 |         return value === fileName1;
  179 |       }).length
> 180 |     ).toEqual(1);
      |              ^ Magic Number
  181 |     expect(
  182 |       rotated.filter(function (value) {
  183 |         return value === fileName2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 185, 'column': 14, 'index': 7847}","  183 |         return value === fileName2;
  184 |       }).length
> 185 |     ).toEqual(1);
      |              ^ Magic Number
  186 |     expect(notRotated.length).toEqual(0);
  187 |     let result = await unEncryptedAdapter.getFileData(fileName1);
  188 |     expect(result instanceof Buffer).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 186, 'column': 38, 'index': 7889}","  184 |       }).length
  185 |     ).toEqual(1);
> 186 |     expect(notRotated.length).toEqual(0);
      |                                      ^ Magic Number
  187 |     let result = await unEncryptedAdapter.getFileData(fileName1);
  188 |     expect(result instanceof Buffer).toBe(true);
  189 |     expect(result.toString('utf-8')).toEqual(data1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 238, 'column': 35, 'index': 10230}","  236 |       fileNames: [fileName1, fileName2],
  237 |     });
> 238 |     expect(rotated.length).toEqual(2);
      |                                   ^ Magic Number
  239 |     expect(
  240 |       rotated.filter(function (value) {
  241 |         return value === fileName1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 243, 'column': 14, 'index': 10352}","  241 |         return value === fileName1;
  242 |       }).length
> 243 |     ).toEqual(1);
      |              ^ Magic Number
  244 |     expect(
  245 |       rotated.filter(function (value) {
  246 |         return value === fileName2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 248, 'column': 14, 'index': 10474}","  246 |         return value === fileName2;
  247 |       }).length
> 248 |     ).toEqual(1);
      |              ^ Magic Number
  249 |     expect(notRotated.length).toEqual(0);
  250 |     expect(
  251 |       rotated.filter(function (value) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 249, 'column': 38, 'index': 10516}","  247 |       }).length
  248 |     ).toEqual(1);
> 249 |     expect(notRotated.length).toEqual(0);
      |                                      ^ Magic Number
  250 |     expect(
  251 |       rotated.filter(function (value) {
  252 |         return value === fileName3;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 254, 'column': 14, 'index': 10638}","  252 |         return value === fileName3;
  253 |       }).length
> 254 |     ).toEqual(0);
      |              ^ Magic Number
  255 |     let result = await encryptedAdapter.getFileData(fileName1);
  256 |     expect(result instanceof Buffer).toBe(true);
  257 |     expect(result.toString('utf-8')).toEqual(data1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 305, 'column': 35, 'index': 12961}","  303 |       oldKey: oldEncryptionKey,
  304 |     });
> 305 |     expect(rotated.length).toEqual(2);
      |                                   ^ Magic Number
  306 |     expect(
  307 |       rotated.filter(function (value) {
  308 |         return value === fileName1;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 310, 'column': 14, 'index': 13083}","  308 |         return value === fileName1;
  309 |       }).length
> 310 |     ).toEqual(1);
      |              ^ Magic Number
  311 |     expect(
  312 |       rotated.filter(function (value) {
  313 |         return value === fileName2;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 315, 'column': 14, 'index': 13205}","  313 |         return value === fileName2;
  314 |       }).length
> 315 |     ).toEqual(1);
      |              ^ Magic Number
  316 |     expect(notRotated.length).toEqual(1);
  317 |     expect(
  318 |       notRotated.filter(function (value) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 316, 'column': 38, 'index': 13247}","  314 |       }).length
  315 |     ).toEqual(1);
> 316 |     expect(notRotated.length).toEqual(1);
      |                                      ^ Magic Number
  317 |     expect(
  318 |       notRotated.filter(function (value) {
  319 |         return value === fileName3;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 321, 'column': 14, 'index': 13372}","  319 |         return value === fileName3;
  320 |       }).length
> 321 |     ).toEqual(1);
      |              ^ Magic Number
  322 |     let result = await encryptedAdapter.getFileData(fileName1);
  323 |     expect(result instanceof Buffer).toBe(true);
  324 |     expect(result.toString('utf-8')).toEqual(data1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Magic Number,"{'line': 447, 'column': 34, 'index': 18299}","  445 |     const bucket = await gfsAdapter._getBucket();
  446 |     const documents = await bucket.find({ filename: 'myFileName' }).toArray();
> 447 |     expect(documents.length).toBe(2);
      |                                  ^ Magic Number
  448 |     await gfsAdapter.deleteFile('myFileName');
  449 |     await expectMissingFile(gfsAdapter, 'myFileName');
  450 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Redundant Assertion,"{'column': 6, 'line': 463}","  461 |     try {
  462 |       await db.admin().serverStatus();
> 463 |       expect(false).toBe(true);
      |      ^ Redundant Assertion
  464 |     } catch (e) {
  465 |       expect(e.message).toEqual('Client must be connected before running operations');
  466 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/GridFSBucketStorageAdapter.spec.js,Unknown Test,"{'column': 2, 'line': 432}","  430 |   });
  431 |
> 432 |   it('properly deletes a file from GridFS', async () => {
      |  ^ Unknown Test
  433 |     const gfsAdapter = new GridFSBucketAdapter(databaseURI);
  434 |     await gfsAdapter.createFile('myFileName', 'a simple file');
  435 |     await gfsAdapter.deleteFile('myFileName');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/FilesController.spec.js,Magic Number,"{'line': 142, 'column': 31, 'index': 5642}","  140 |         const log2 = logs.find(x => x.message === 'it failed with xyz');
  141 |         expect(log2.level).toBe('error');
> 142 |         expect(log2.code).toBe(130);
      |                               ^ Magic Number
  143 |
  144 |         done();
  145 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/FilesController.spec.js,Magic Number,"{'line': 156, 'column': 50, 'index': 6074}","  154 |     const error = filesController.validateFilename();
  155 |     expect(typeof error).toBe('object');
> 156 |     expect(error.message.indexOf('biscuit')).toBe(13);
      |                                                  ^ Magic Number
  157 |     expect(error.code).toBe(Parse.Error.INVALID_FILE_NAME);
  158 |     mockAdapter.validateFilename = () => {
  159 |       return null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/FilesController.spec.js,Sleepy Test,"{'line': 131, 'column': 41, 'index': 5078}","  129 |         () => setImmediate(() => Promise.resolve('done'))
  130 |       )
> 131 |       .then(() => new Promise(resolve => setTimeout(resolve, 200)))
      |                                         ^ Sleepy Test
  132 |       .then(() => logController.getLogs({ from: Date.now() - 1000, size: 1000 }))
  133 |       .then(logs => {
  134 |         // we get two logs here: 1. the source of the failure to save the file"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EventEmitterPubSub.spec.js,Unknown Test,"{'column': 2, 'line': 37}","  35 |   });
  36 |
> 37 |   it('can unsubscribe not subscribing channel', function () {
     |  ^ Unknown Test
  38 |     const subscriber = EventEmitterPubSub.createSubscriber();
  39 |
  40 |     // Make sure subscriber does not throw exception"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EnableExpressErrorHandler.spec.js,Exception Handling,"{'line': 14, 'column': 4, 'index': 469}","  12 |     });
  13 |
> 14 |     try {
     |    ^ Exception Handling
  15 |       await request({
  16 |         method: 'PUT',
  17 |         url: defaultConfiguration.serverURL + '/classes/AnyClass/nonExistingId',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EnableExpressErrorHandler.spec.js,Magic Number,"{'line': 28, 'column': 38, 'index': 992}","  26 |     } catch (response) {
  27 |       expect(response).toBeDefined();
> 28 |       expect(response.status).toEqual(500);
     |                                      ^ Magic Number
  29 |       parseServer.server.close(done);
  30 |     }
  31 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Conditional Test Logic,"{'line': 363, 'column': 8, 'index': 12758}","  361 |       method(req) {
  362 |         expect(Object.keys(req)).toEqual(['original', 'object', 'master', 'ip', 'installationId']);
> 363 |         if (req.object.get('username') === 'no_email') {
      |        ^ Conditional Test Logic
  364 |           return false;
  365 |         }
  366 |         return true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Conditional Test Logic,"{'line': 721, 'column': 8, 'index': 26176}","  719 |         sendEmailOptions = options;
  720 |         sendVerificationEmailCallCount++;
> 721 |         if (sendVerificationEmailCallCount === 1) {
      |        ^ Conditional Test Logic
  722 |           promise1.resolve();
  723 |         } else {
  724 |           promise2.resolve();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Conditional Test Logic,"{'line': 868, 'column': 8, 'index': 31223}","  866 |         sendEmailOptions = options;
  867 |         sendVerificationEmailCallCount++;
> 868 |         if (sendVerificationEmailCallCount === 1) {
      |        ^ Conditional Test Logic
  869 |           promise1.resolve();
  870 |         } else {
  871 |           promise2.resolve();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Duplicate Assert,"{'line': 841, 'column': 6, 'index': 30273}","  839 |       fail('should have thrown.');
  840 |     } catch (e) {
> 841 |       expect(e).toBe('emailVerifyTokenReuseIfValid must be a boolean value');
      |      ^ Duplicate Assert
  842 |     }
  843 |     try {
  844 |       await reconfigureServer({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Duplicate Assert,"{'line': 853, 'column': 6, 'index': 30661}","  851 |       fail('should have thrown.');
  852 |     } catch (e) {
> 853 |       expect(e).toBe(
      |      ^ Duplicate Assert
  854 |         'You cannot use emailVerifyTokenReuseIfValid without emailVerifyTokenValidityDuration'
  855 |       );
  856 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Exception Handling,"{'line': 830, 'column': 4, 'index': 29906}","  828 |       sendMail: () => {},
  829 |     };
> 830 |     try {
      |    ^ Exception Handling
  831 |       await reconfigureServer({
  832 |         appName: 'passwordPolicy',
  833 |         verifyUserEmails: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Exception Handling,"{'line': 843, 'column': 4, 'index': 30355}","  841 |       expect(e).toBe('emailVerifyTokenReuseIfValid must be a boolean value');
  842 |     }
> 843 |     try {
      |    ^ Exception Handling
  844 |       await reconfigureServer({
  845 |         appName: 'passwordPolicy',
  846 |         verifyUserEmails: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 43, 'column': 36, 'index': 1541}","  41 |       followRedirects: false,
  42 |     });
> 43 |     expect(response.status).toEqual(302);
     |                                    ^ Magic Number
  44 |     const url = new URL(sendEmailOptions.link);
  45 |     const token = url.searchParams.get('token');
  46 |     expect(response.text).toEqual("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 84, 'column': 36, 'index': 2995}","  82 |       followRedirects: false,
  83 |     });
> 84 |     expect(response.status).toEqual(302);
     |                                    ^ Magic Number
  85 |     await user.fetch();
  86 |     expect(user.get('emailVerified')).toEqual(false);
  87 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 640, 'column': 36, 'index': 23192}","  638 |       followRedirects: false,
  639 |     });
> 640 |     expect(response.status).toEqual(302);
      |                                    ^ Magic Number
  641 |     const url = new URL(sendEmailOptions.link);
  642 |     const token = url.searchParams.get('token');
  643 |     expect(response.text).toEqual("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 1013, 'column': 33, 'index': 36294}","  1011 |       .catch(response => response);
  1012 |
> 1013 |     expect(response.status).toBe(400);
       |                                 ^ Magic Number
  1014 |     expect(sendVerificationEmailCallCount).toBe(0);
  1015 |     expect(sendEmailOptions).not.toBeDefined();
  1016 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 1014, 'column': 48, 'index': 36348}","  1012 |
  1013 |     expect(response.status).toBe(400);
> 1014 |     expect(sendVerificationEmailCallCount).toBe(0);
       |                                                ^ Magic Number
  1015 |     expect(sendEmailOptions).not.toBeDefined();
  1016 |   });
  1017 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 1046, 'column': 33, 'index': 37399}","  1044 |       },
  1045 |     }).then(fail, response => response);
> 1046 |     expect(response.status).toBe(400);
       |                                 ^ Magic Number
  1047 |     expect(response.data.code).toBe(Parse.Error.EMAIL_MISSING);
  1048 |     expect(response.data.error).toBe('you must provide an email');
  1049 |     expect(sendVerificationEmailCallCount).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 1049, 'column': 48, 'index': 37584}","  1047 |     expect(response.data.code).toBe(Parse.Error.EMAIL_MISSING);
  1048 |     expect(response.data.error).toBe('you must provide an email');
> 1049 |     expect(sendVerificationEmailCallCount).toBe(0);
       |                                                ^ Magic Number
  1050 |     expect(sendEmailOptions).not.toBeDefined();
  1051 |   });
  1052 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 1081, 'column': 33, 'index': 38636}","  1079 |       },
  1080 |     }).then(fail, res => res);
> 1081 |     expect(response.status).toBe(400);
       |                                 ^ Magic Number
  1082 |     expect(response.data.code).toBe(Parse.Error.INVALID_EMAIL_ADDRESS);
  1083 |     expect(response.data.error).toBe('you must provide a valid email string');
  1084 |     expect(sendVerificationEmailCallCount).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/EmailVerificationToken.spec.js,Magic Number,"{'line': 1084, 'column': 48, 'index': 38841}","  1082 |     expect(response.data.code).toBe(Parse.Error.INVALID_EMAIL_ADDRESS);
  1083 |     expect(response.data.error).toBe('you must provide a valid email string');
> 1084 |     expect(sendVerificationEmailCallCount).toBe(0);
       |                                                ^ Magic Number
  1085 |     expect(sendEmailOptions).not.toBeDefined();
  1086 |   });
  1087 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Conditional Test Logic,"{'line': 5, 'column': 2, 'index': 157}","  3 |
  4 | const cleanUpIndexes = schema => {
> 5 |   if (schema.indexes) {
    |  ^ Conditional Test Logic
  6 |     delete schema.indexes._id_;
  7 |     if (!Object.keys(schema.indexes).length) {
  8 |       delete schema.indexes;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Conditional Test Logic,"{'line': 7, 'column': 4, 'index': 215}","   5 |   if (schema.indexes) {
   6 |     delete schema.indexes._id_;
>  7 |     if (!Object.keys(schema.indexes).length) {
     |    ^ Conditional Test Logic
   8 |       delete schema.indexes;
   9 |     }
  10 |   }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Conditional Test Logic,"{'line': 17, 'column': 4, 'index': 413}","  15 |   afterEach(async () => {
  16 |     config = Config.get('test');
> 17 |     if (config) {
     |    ^ Conditional Test Logic
  18 |       await config.database.adapter.deleteAllClasses();
  19 |     }
  20 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 34, 'column': 6, 'index': 1013}","  32 |         ACL: { type: 'ACL' },
  33 |       };
> 34 |       expect(schema.fields).toEqual(expectedFields);
     |      ^ Duplicate Assert
  35 |
  36 |       await server.config.schemaCache.clear();
  37 |       // Will perform update"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 34, 'column': 6, 'index': 1013}","  32 |         ACL: { type: 'ACL' },
  33 |       };
> 34 |       expect(schema.fields).toEqual(expectedFields);
     |      ^ Duplicate Assert
  35 |
  36 |       await server.config.schemaCache.clear();
  37 |       // Will perform update"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 40, 'column': 6, 'index': 1295}","  38 |       await new DefinedSchemas({ definitions: [{ className: 'Test' }] }, server.config).execute();
  39 |       schema = await new Parse.Schema('Test').get();
> 40 |       expect(schema.fields).toEqual(expectedFields);
     |      ^ Duplicate Assert
  41 |     });
  42 |     it('should protect default fields', async () => {
  43 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 40, 'column': 6, 'index': 1295}","  38 |       await new DefinedSchemas({ definitions: [{ className: 'Test' }] }, server.config).execute();
  39 |       schema = await new Parse.Schema('Test').get();
> 40 |       expect(schema.fields).toEqual(expectedFields);
     |      ^ Duplicate Assert
  41 |     });
  42 |     it('should protect default fields', async () => {
  43 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 129, 'column': 6, 'index': 3951}","  127 |       await new DefinedSchemas(schemas, server.config).execute();
  128 |       let schema = await new Parse.Schema('Test').get();
> 129 |       expect(schema.fields).toEqual(expectedFields);
      |      ^ Duplicate Assert
  130 |
  131 |       let userSchema = await new Parse.Schema('_User').get();
  132 |       expect(userSchema.fields).toEqual(expectedUserFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 129, 'column': 6, 'index': 3951}","  127 |       await new DefinedSchemas(schemas, server.config).execute();
  128 |       let schema = await new Parse.Schema('Test').get();
> 129 |       expect(schema.fields).toEqual(expectedFields);
      |      ^ Duplicate Assert
  130 |
  131 |       let userSchema = await new Parse.Schema('_User').get();
  132 |       expect(userSchema.fields).toEqual(expectedUserFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 132, 'column': 6, 'index': 4067}","  130 |
  131 |       let userSchema = await new Parse.Schema('_User').get();
> 132 |       expect(userSchema.fields).toEqual(expectedUserFields);
      |      ^ Duplicate Assert
  133 |
  134 |       let roleSchema = await new Parse.Schema('_Role').get();
  135 |       expect(roleSchema.fields).toEqual(expectedRoleFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 132, 'column': 6, 'index': 4067}","  130 |
  131 |       let userSchema = await new Parse.Schema('_User').get();
> 132 |       expect(userSchema.fields).toEqual(expectedUserFields);
      |      ^ Duplicate Assert
  133 |
  134 |       let roleSchema = await new Parse.Schema('_Role').get();
  135 |       expect(roleSchema.fields).toEqual(expectedRoleFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 135, 'column': 6, 'index': 4191}","  133 |
  134 |       let roleSchema = await new Parse.Schema('_Role').get();
> 135 |       expect(roleSchema.fields).toEqual(expectedRoleFields);
      |      ^ Duplicate Assert
  136 |
  137 |       let installationSchema = await new Parse.Schema('_Installation').get();
  138 |       expect(installationSchema.fields).toEqual(expectedInstallationFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 135, 'column': 6, 'index': 4191}","  133 |
  134 |       let roleSchema = await new Parse.Schema('_Role').get();
> 135 |       expect(roleSchema.fields).toEqual(expectedRoleFields);
      |      ^ Duplicate Assert
  136 |
  137 |       let installationSchema = await new Parse.Schema('_Installation').get();
  138 |       expect(installationSchema.fields).toEqual(expectedInstallationFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 138, 'column': 6, 'index': 4331}","  136 |
  137 |       let installationSchema = await new Parse.Schema('_Installation').get();
> 138 |       expect(installationSchema.fields).toEqual(expectedInstallationFields);
      |      ^ Duplicate Assert
  139 |
  140 |       await server.config.schemaCache.clear();
  141 |       // Perform update"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 138, 'column': 6, 'index': 4331}","  136 |
  137 |       let installationSchema = await new Parse.Schema('_Installation').get();
> 138 |       expect(installationSchema.fields).toEqual(expectedInstallationFields);
      |      ^ Duplicate Assert
  139 |
  140 |       await server.config.schemaCache.clear();
  141 |       // Perform update"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 144, 'column': 6, 'index': 4599}","  142 |       await new DefinedSchemas(schemas, server.config).execute();
  143 |       schema = await new Parse.Schema('Test').get();
> 144 |       expect(schema.fields).toEqual(expectedFields);
      |      ^ Duplicate Assert
  145 |
  146 |       userSchema = await new Parse.Schema('_User').get();
  147 |       expect(userSchema.fields).toEqual(expectedUserFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 144, 'column': 6, 'index': 4599}","  142 |       await new DefinedSchemas(schemas, server.config).execute();
  143 |       schema = await new Parse.Schema('Test').get();
> 144 |       expect(schema.fields).toEqual(expectedFields);
      |      ^ Duplicate Assert
  145 |
  146 |       userSchema = await new Parse.Schema('_User').get();
  147 |       expect(userSchema.fields).toEqual(expectedUserFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 147, 'column': 6, 'index': 4711}","  145 |
  146 |       userSchema = await new Parse.Schema('_User').get();
> 147 |       expect(userSchema.fields).toEqual(expectedUserFields);
      |      ^ Duplicate Assert
  148 |
  149 |       roleSchema = await new Parse.Schema('_Role').get();
  150 |       expect(roleSchema.fields).toEqual(expectedRoleFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 147, 'column': 6, 'index': 4711}","  145 |
  146 |       userSchema = await new Parse.Schema('_User').get();
> 147 |       expect(userSchema.fields).toEqual(expectedUserFields);
      |      ^ Duplicate Assert
  148 |
  149 |       roleSchema = await new Parse.Schema('_Role').get();
  150 |       expect(roleSchema.fields).toEqual(expectedRoleFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 150, 'column': 6, 'index': 4831}","  148 |
  149 |       roleSchema = await new Parse.Schema('_Role').get();
> 150 |       expect(roleSchema.fields).toEqual(expectedRoleFields);
      |      ^ Duplicate Assert
  151 |
  152 |       installationSchema = await new Parse.Schema('_Installation').get();
  153 |       expect(installationSchema.fields).toEqual(expectedInstallationFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 150, 'column': 6, 'index': 4831}","  148 |
  149 |       roleSchema = await new Parse.Schema('_Role').get();
> 150 |       expect(roleSchema.fields).toEqual(expectedRoleFields);
      |      ^ Duplicate Assert
  151 |
  152 |       installationSchema = await new Parse.Schema('_Installation').get();
  153 |       expect(installationSchema.fields).toEqual(expectedInstallationFields);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 153, 'column': 6, 'index': 4967}","  151 |
  152 |       installationSchema = await new Parse.Schema('_Installation').get();
> 153 |       expect(installationSchema.fields).toEqual(expectedInstallationFields);
      |      ^ Duplicate Assert
  154 |     });
  155 |     it('should create new fields', async () => {
  156 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 153, 'column': 6, 'index': 4967}","  151 |
  152 |       installationSchema = await new Parse.Schema('_Installation').get();
> 153 |       expect(installationSchema.fields).toEqual(expectedInstallationFields);
      |      ^ Duplicate Assert
  154 |     });
  155 |     it('should create new fields', async () => {
  156 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 189, 'column': 6, 'index': 6293}","  187 |       await new DefinedSchemas(schemas, server.config).execute();
  188 |       let schema = await new Parse.Schema('Test').get();
> 189 |       expect(schema.fields).toEqual(fields);
      |      ^ Duplicate Assert
  190 |
  191 |       fields.anotherObject = { type: 'Object' };
  192 |       // Update"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 189, 'column': 6, 'index': 6293}","  187 |       await new DefinedSchemas(schemas, server.config).execute();
  188 |       let schema = await new Parse.Schema('Test').get();
> 189 |       expect(schema.fields).toEqual(fields);
      |      ^ Duplicate Assert
  190 |
  191 |       fields.anotherObject = { type: 'Object' };
  192 |       // Update"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 195, 'column': 6, 'index': 6523}","  193 |       await new DefinedSchemas(schemas, server.config).execute();
  194 |       schema = await new Parse.Schema('Test').get();
> 195 |       expect(schema.fields).toEqual(fields);
      |      ^ Duplicate Assert
  196 |     });
  197 |     it('should not delete removed fields when ""deleteExtraFields"" is false', async () => {
  198 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 195, 'column': 6, 'index': 6523}","  193 |       await new DefinedSchemas(schemas, server.config).execute();
  194 |       schema = await new Parse.Schema('Test').get();
> 195 |       expect(schema.fields).toEqual(fields);
      |      ^ Duplicate Assert
  196 |     });
  197 |     it('should not delete removed fields when ""deleteExtraFields"" is false', async () => {
  198 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 254, 'column': 6, 'index': 8575}","  252 |
  253 |       let schema = await new Parse.Schema('Test').get();
> 254 |       expect(schema.fields.aField).toEqual({ type: 'String' });
      |      ^ Duplicate Assert
  255 |
  256 |       const object = new Parse.Object('Test');
  257 |       await object.save({ aField: 'Hello' }, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 268, 'column': 6, 'index': 9034}","  266 |
  267 |       schema = await new Parse.Schema('Test').get();
> 268 |       expect(schema.fields.aField).toEqual({ type: 'Number' });
      |      ^ Duplicate Assert
  269 |
  270 |       await object.fetch({ useMasterKey: true });
  271 |       expect(object.get('aField')).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 282, 'column': 6, 'index': 9591}","  280 |
  281 |       let schema = await new Parse.Schema('Test').get();
> 282 |       expect(schema.fields.aField).toEqual({ type: 'String' });
      |      ^ Duplicate Assert
  283 |
  284 |       const object = new Parse.Object('Test');
  285 |       await object.save({ aField: 'Hello' }, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 282, 'column': 6, 'index': 9591}","  280 |
  281 |       let schema = await new Parse.Schema('Test').get();
> 282 |       expect(schema.fields.aField).toEqual({ type: 'String' });
      |      ^ Duplicate Assert
  283 |
  284 |       const object = new Parse.Object('Test');
  285 |       await object.save({ aField: 'Hello' }, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 293, 'column': 6, 'index': 9991}","  291 |
  292 |       schema = await new Parse.Schema('Test').get();
> 293 |       expect(schema.fields.aField).toEqual({ type: 'String' });
      |      ^ Duplicate Assert
  294 |
  295 |       await object.fetch({ useMasterKey: true });
  296 |       expect(object.get('aField')).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 293, 'column': 6, 'index': 9991}","  291 |
  292 |       schema = await new Parse.Schema('Test').get();
> 293 |       expect(schema.fields.aField).toEqual({ type: 'String' });
      |      ^ Duplicate Assert
  294 |
  295 |       await object.fetch({ useMasterKey: true });
  296 |       expect(object.get('aField')).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 307, 'column': 6, 'index': 10512}","  305 |
  306 |       let schema = await new Parse.Schema('Test').get();
> 307 |       expect(schema.fields.aField).toEqual({ type: 'String' });
      |      ^ Duplicate Assert
  308 |
  309 |       const object = new Parse.Object('Test');
  310 |       await object.save({ aField: 'Hello' }, { useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 322, 'column': 6, 'index': 10972}","  320 |
  321 |       schema = await new Parse.Schema('Test').get();
> 322 |       expect(schema.fields.aField).toEqual({ type: 'String', required: true });
      |      ^ Duplicate Assert
  323 |
  324 |       await object.fetch({ useMasterKey: true });
  325 |       expect(object.get('aField')).toEqual('Hello');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 342, 'column': 6, 'index': 11650}","  340 |       let schema = await new Parse.Schema('Test').get();
  341 |       cleanUpIndexes(schema);
> 342 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  343 |
  344 |       indexes.complex2 = { createdAt: 1, aField: 1 };
  345 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 342, 'column': 6, 'index': 11650}","  340 |       let schema = await new Parse.Schema('Test').get();
  341 |       cleanUpIndexes(schema);
> 342 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  343 |
  344 |       indexes.complex2 = { createdAt: 1, aField: 1 };
  345 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 348, 'column': 6, 'index': 11901}","  346 |       schema = await new Parse.Schema('Test').get();
  347 |       cleanUpIndexes(schema);
> 348 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  349 |     });
  350 |     it('should re create changed indexes', async () => {
  351 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 348, 'column': 6, 'index': 11901}","  346 |       schema = await new Parse.Schema('Test').get();
  347 |       cleanUpIndexes(schema);
> 348 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  349 |     });
  350 |     it('should re create changed indexes', async () => {
  351 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 365, 'column': 6, 'index': 12558}","  363 |       let schema = await new Parse.Schema('Test').get();
  364 |       cleanUpIndexes(schema);
> 365 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  366 |
  367 |       // Update
  368 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 365, 'column': 6, 'index': 12558}","  363 |       let schema = await new Parse.Schema('Test').get();
  364 |       cleanUpIndexes(schema);
> 365 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  366 |
  367 |       // Update
  368 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 371, 'column': 6, 'index': 12771}","  369 |       schema = await new Parse.Schema('Test').get();
  370 |       cleanUpIndexes(schema);
> 371 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  372 |     });
  373 |
  374 |     it('should delete unknown indexes when keepUnknownIndexes is not set', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 371, 'column': 6, 'index': 12771}","  369 |       schema = await new Parse.Schema('Test').get();
  370 |       cleanUpIndexes(schema);
> 371 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  372 |     });
  373 |
  374 |     it('should delete unknown indexes when keepUnknownIndexes is not set', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 388, 'column': 6, 'index': 13433}","  386 |       let schema = await new Parse.Schema('Test').get();
  387 |       cleanUpIndexes(schema);
> 388 |       expect(schema.indexes).toBeUndefined();
      |      ^ Duplicate Assert
  389 |
  390 |       // Update
  391 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 388, 'column': 6, 'index': 13433}","  386 |       let schema = await new Parse.Schema('Test').get();
  387 |       cleanUpIndexes(schema);
> 388 |       expect(schema.indexes).toBeUndefined();
      |      ^ Duplicate Assert
  389 |
  390 |       // Update
  391 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 394, 'column': 6, 'index': 13645}","  392 |       schema = await new Parse.Schema('Test').get();
  393 |       cleanUpIndexes(schema);
> 394 |       expect(schema.indexes).toBeUndefined();
      |      ^ Duplicate Assert
  395 |     });
  396 |
  397 |     it('should delete unknown indexes when keepUnknownIndexes is set to false', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 394, 'column': 6, 'index': 13645}","  392 |       schema = await new Parse.Schema('Test').get();
  393 |       cleanUpIndexes(schema);
> 394 |       expect(schema.indexes).toBeUndefined();
      |      ^ Duplicate Assert
  395 |     });
  396 |
  397 |     it('should delete unknown indexes when keepUnknownIndexes is set to false', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 411, 'column': 6, 'index': 14365}","  409 |       let schema = await new Parse.Schema('Test').get();
  410 |       cleanUpIndexes(schema);
> 411 |       expect(schema.indexes).toBeUndefined();
      |      ^ Duplicate Assert
  412 |
  413 |       // Update
  414 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 411, 'column': 6, 'index': 14365}","  409 |       let schema = await new Parse.Schema('Test').get();
  410 |       cleanUpIndexes(schema);
> 411 |       expect(schema.indexes).toBeUndefined();
      |      ^ Duplicate Assert
  412 |
  413 |       // Update
  414 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 417, 'column': 6, 'index': 14577}","  415 |       schema = await new Parse.Schema('Test').get();
  416 |       cleanUpIndexes(schema);
> 417 |       expect(schema.indexes).toBeUndefined();
      |      ^ Duplicate Assert
  418 |     });
  419 |
  420 |     it('should not delete unknown indexes when keepUnknownIndexes is set to true', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 417, 'column': 6, 'index': 14577}","  415 |       schema = await new Parse.Schema('Test').get();
  416 |       cleanUpIndexes(schema);
> 417 |       expect(schema.indexes).toBeUndefined();
      |      ^ Duplicate Assert
  418 |     });
  419 |
  420 |     it('should not delete unknown indexes when keepUnknownIndexes is set to true', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 434, 'column': 6, 'index': 15285}","  432 |       let schema = await new Parse.Schema('Test').get();
  433 |       cleanUpIndexes(schema);
> 434 |       expect(schema.indexes).toEqual({ complex: { createdAt: 1, updatedAt: 1 } });
      |      ^ Duplicate Assert
  435 |
  436 |       // Update
  437 |       await new DefinedSchemas(schemas, server.config).execute();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 440, 'column': 6, 'index': 15534}","  438 |       schema = await new Parse.Schema('Test').get();
  439 |       cleanUpIndexes(schema);
> 440 |       expect(schema.indexes).toEqual(indexes);
      |      ^ Duplicate Assert
  441 |     });
  442 |
  443 |     xit('should keep protected indexes', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 537, 'column': 6, 'index': 19081}","  535 |       };
  536 |       let testSchema = await new Parse.Schema('Test').get();
> 537 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  538 |
  539 |       await new DefinedSchemas(schemas, server.config).execute();
  540 |       testSchema = await new Parse.Schema('Test').get();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 537, 'column': 6, 'index': 19081}","  535 |       };
  536 |       let testSchema = await new Parse.Schema('Test').get();
> 537 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  538 |
  539 |       await new DefinedSchemas(schemas, server.config).execute();
  540 |       testSchema = await new Parse.Schema('Test').get();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 541, 'column': 6, 'index': 19278}","  539 |       await new DefinedSchemas(schemas, server.config).execute();
  540 |       testSchema = await new Parse.Schema('Test').get();
> 541 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  542 |     });
  543 |     it('should save CLP', async () => {
  544 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 541, 'column': 6, 'index': 19278}","  539 |       await new DefinedSchemas(schemas, server.config).execute();
  540 |       testSchema = await new Parse.Schema('Test').get();
> 541 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  542 |     });
  543 |     it('should save CLP', async () => {
  544 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 568, 'column': 6, 'index': 20252}","  566 |
  567 |       let testSchema = await new Parse.Schema('Test').get();
> 568 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  569 |
  570 |       expectedTestCLP.update = {};
  571 |       expectedTestCLP.create = { requiresAuthentication: true };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 568, 'column': 6, 'index': 20252}","  566 |
  567 |       let testSchema = await new Parse.Schema('Test').get();
> 568 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  569 |
  570 |       expectedTestCLP.update = {};
  571 |       expectedTestCLP.create = { requiresAuthentication: true };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 575, 'column': 6, 'index': 20550}","  573 |       await new DefinedSchemas(schemas, server.config).execute();
  574 |       testSchema = await new Parse.Schema('Test').get();
> 575 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  576 |     });
  577 |     it('should force addField to empty', async () => {
  578 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 575, 'column': 6, 'index': 20550}","  573 |       await new DefinedSchemas(schemas, server.config).execute();
  574 |       testSchema = await new Parse.Schema('Test').get();
> 575 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  576 |     });
  577 |     it('should force addField to empty', async () => {
  578 |       const server = await reconfigureServer();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 596, 'column': 6, 'index': 21200}","  594 |
  595 |       let testSchema = await new Parse.Schema('Test').get();
> 596 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  597 |
  598 |       await new DefinedSchemas(schemas, server.config).execute();
  599 |       testSchema = await new Parse.Schema('Test').get();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 596, 'column': 6, 'index': 21200}","  594 |
  595 |       let testSchema = await new Parse.Schema('Test').get();
> 596 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  597 |
  598 |       await new DefinedSchemas(schemas, server.config).execute();
  599 |       testSchema = await new Parse.Schema('Test').get();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 600, 'column': 6, 'index': 21397}","  598 |       await new DefinedSchemas(schemas, server.config).execute();
  599 |       testSchema = await new Parse.Schema('Test').get();
> 600 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  601 |     });
  602 |   });
  603 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 600, 'column': 6, 'index': 21397}","  598 |       await new DefinedSchemas(schemas, server.config).execute();
  599 |       testSchema = await new Parse.Schema('Test').get();
> 600 |       expect(testSchema.classLevelPermissions).toEqual(expectedTestCLP);
      |      ^ Duplicate Assert
  601 |     });
  602 |   });
  603 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 646, 'column': 4, 'index': 23129}","  644 |
  645 |     let schemas = await Parse.Schema.all();
> 646 |     expect(schemas.length).toEqual(4);
      |    ^ Duplicate Assert
  647 |
  648 |     await new Parse.Schema('_User').delete();
  649 |     schemas = await Parse.Schema.all();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Duplicate Assert,"{'line': 650, 'column': 4, 'index': 23255}","  648 |     await new Parse.Schema('_User').delete();
  649 |     schemas = await Parse.Schema.all();
> 650 |     expect(schemas.length).toEqual(3);
      |    ^ Duplicate Assert
  651 |   });
  652 |   it('should run beforeMigration before execution of DefinedSchemas', async () => {
  653 |     const config = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Exception Handling,"{'line': 682, 'column': 6, 'index': 24519}","  680 |     spyOn(logger, 'error').and.callThrough();
  681 |     spyOn(DefinedSchemas.prototype, 'createDeleteSession').and.callFake(() => {
> 682 |       throw error;
      |      ^ Exception Handling
  683 |     });
  684 |
  685 |     await new DefinedSchemas("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Magic Number,"{'line': 629, 'column': 84, 'index': 22482}","  627 |     // Role could be flaky since all system classes are not ensured
  628 |     // at start up by the DefinedSchema system
> 629 |     expect(schemas.filter(({ className }) => className !== '_Role').length).toEqual(3);
      |                                                                                    ^ Magic Number
  630 |
  631 |     await expectAsync(new Parse.Schema('TheNewTest').save()).toBeRejectedWithError(
  632 |       'Cannot perform this operation when schemas options is used.'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Magic Number,"{'line': 646, 'column': 35, 'index': 23160}","  644 |
  645 |     let schemas = await Parse.Schema.all();
> 646 |     expect(schemas.length).toEqual(4);
      |                                   ^ Magic Number
  647 |
  648 |     await new Parse.Schema('_User').delete();
  649 |     schemas = await Parse.Schema.all();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DefinedSchemas.spec.js,Magic Number,"{'line': 650, 'column': 35, 'index': 23286}","  648 |     await new Parse.Schema('_User').delete();
  649 |     schemas = await Parse.Schema.all();
> 650 |     expect(schemas.length).toEqual(3);
      |                                   ^ Magic Number
  651 |   });
  652 |   it('should run beforeMigration before execution of DefinedSchemas', async () => {
  653 |     const config = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Conditional Test Logic,"{'line': 696, 'column': 4, 'index': 24831}","  694 |     acc[op] = {};
  695 |
> 696 |     if (pointerNames && pointerNames.length) {
      |    ^ Conditional Test Logic
  697 |       acc[op].pointerFields = pointerNames;
  698 |     }
  699 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Duplicate Assert,"{'line': 25, 'column': 6, 'index': 819}","  23 |       let query = { $or: [{ a: 1 }, { b: 1 }], c: { $nearSphere: {} } };
  24 |       validateQuery(query);
> 25 |       expect(query).toEqual({
     |      ^ Duplicate Assert
  26 |         $or: [{ a: 1 }, { b: 1 }],
  27 |         c: { $nearSphere: {} },
  28 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Duplicate Assert,"{'line': 31, 'column': 6, 'index': 1017}","  29 |       query = { $or: [{ a: 1 }, { b: 1 }], c: { $near: {} } };
  30 |       validateQuery(query);
> 31 |       expect(query).toEqual({ $or: [{ a: 1 }, { b: 1 }], c: { $near: {} } });
     |      ^ Duplicate Assert
  32 |       done();
  33 |     });
  34 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Exception Handling,"{'line': 640, 'column': 6, 'index': 22761}","  638 |       const findOneAndUpdateSpy = spyOn(mockStorageAdapter, 'findOneAndUpdate').and.callThrough();
  639 |
> 640 |       try {
      |      ^ Exception Handling
  641 |         // Call update with validateOnly: true (same as RestWrite.runBeforeSaveTrigger)
  642 |         await databaseController.update(
  643 |           'TestObject',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Exception Handling,"{'line': 668, 'column': 6, 'index': 23993}","  666 |       const findOneAndUpdateSpy = spyOn(mockStorageAdapter, 'findOneAndUpdate').and.callThrough();
  667 |
> 668 |       try {
      |      ^ Exception Handling
  669 |         // Call update with validateOnly: false
  670 |         await databaseController.update(
  671 |           'TestObject',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Magic Number,"{'line': 523, 'column': 36, 'index': 18286}","  521 |       query.equalTo('email', 'EXAMPLE@EXAMPLE.COM');
  522 |       const result = await query.find({ useMasterKey: true });
> 523 |       expect(result.length).toEqual(0);
      |                                    ^ Magic Number
  524 |
  525 |       const query2 = new Parse.Query(Parse.User);
  526 |       query2.equalTo('email', 'example@example.com');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Magic Number,"{'line': 528, 'column': 37, 'index': 18497}","  526 |       query2.equalTo('email', 'example@example.com');
  527 |       const result2 = await query2.find({ useMasterKey: true });
> 528 |       expect(result2.length).toEqual(1);
      |                                     ^ Magic Number
  529 |     });
  530 |   });
  531 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Magic Number,"{'line': 610, 'column': 36, 'index': 21671}","  608 |       query.equalTo('username', 'EXAMPLE');
  609 |       const result = await query.find({ useMasterKey: true });
> 610 |       expect(result.length).toEqual(0);
      |                                    ^ Magic Number
  611 |
  612 |       const query2 = new Parse.Query(Parse.User);
  613 |       query2.equalTo('username', 'example');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/DatabaseController.spec.js,Magic Number,"{'line': 615, 'column': 37, 'index': 21873}","  613 |       query2.equalTo('username', 'example');
  614 |       const result2 = await query2.find({ useMasterKey: true });
> 615 |       expect(result2.length).toEqual(1);
      |                                     ^ Magic Number
  616 |     });
  617 |   });
  618 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Duplicate Assert,"{'line': 262, 'column': 4, 'index': 9502}","  260 |
  261 |     let calls = await execTest('silly', 'silly', 'debug');
> 262 |     expect(calls).toEqual({ beforeSave: 'silly', afterSave: 'debug' });
      |    ^ Duplicate Assert
  263 |
  264 |     calls = await execTest('info', 'warn', 'debug');
  265 |     expect(calls).toEqual({ beforeSave: 'warn', afterSave: undefined });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Duplicate Assert,"{'line': 265, 'column': 4, 'index': 9628}","  263 |
  264 |     calls = await execTest('info', 'warn', 'debug');
> 265 |     expect(calls).toEqual({ beforeSave: 'warn', afterSave: undefined });
      |    ^ Duplicate Assert
  266 |   });
  267 |
  268 |   it_id('97e0eafa-cde6-4a9a-9e53-7db98bacbc62')(it)('should log cloud function failure', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Duplicate Assert,"{'line': 368, 'column': 4, 'index': 13529}","  366 |
  367 |     await Parse.Cloud.run('aFunction', { foo: 'bar' });
> 368 |     expect(spy).toHaveBeenCalledTimes(0);
      |    ^ Duplicate Assert
  369 |
  370 |     await expectAsync(Parse.Cloud.run('bFunction', { foo: 'bar' })).toBeRejected();
  371 |     // Not ""Failed running cloud function message..."""
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Duplicate Assert,"{'line': 372, 'column': 4, 'index': 13710}","  370 |     await expectAsync(Parse.Cloud.run('bFunction', { foo: 'bar' })).toBeRejected();
  371 |     // Not ""Failed running cloud function message...""
> 372 |     expect(spy).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  373 |   });
  374 |
  375 |   it('should log cloud function triggers using the silent log level', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Duplicate Assert,"{'line': 394, 'column': 4, 'index': 14409}","  392 |     const obj = new Parse.Object('TestClass');
  393 |     await obj.save();
> 394 |     expect(spy).toHaveBeenCalledTimes(0);
      |    ^ Duplicate Assert
  395 |
  396 |     const objError = new Parse.Object('TestClassError');
  397 |     await expectAsync(objError.save()).toBeRejected();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Duplicate Assert,"{'line': 399, 'column': 4, 'index': 14627}","  397 |     await expectAsync(objError.save()).toBeRejected();
  398 |     // Not ""beforeSave failed for TestClassError for user ...""
> 399 |     expect(spy).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  400 |   });
  401 | });
  402 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Exception Handling,"{'line': 337, 'column': 4, 'index': 12581}","  335 |     const config = Config.get('test');
  336 |     const spy = spyOn(config.loggerController, 'error').and.callThrough();
> 337 |     try {
      |    ^ Exception Handling
  338 |       const object = new Parse.Object('Object');
  339 |       object.id = 'invalid';
  340 |       await object.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Exception Handling,"{'line': 363, 'column': 6, 'index': 13346}","  361 |     });
  362 |     Parse.Cloud.define('bFunction', () => {
> 363 |       throw new Error('Failed');
      |      ^ Exception Handling
  364 |     });
  365 |     spy = spyOn(Config.get('test').loggerController.adapter, 'log').and.callThrough();
  366 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Exception Handling,"{'line': 385, 'column': 6, 'index': 14109}","  383 |     });
  384 |     Parse.Cloud.beforeSave('TestClassError', () => {
> 385 |       throw new Error('Failed');
      |      ^ Exception Handling
  386 |     });
  387 |     Parse.Cloud.beforeSave('TestClass', () => { });
  388 |     Parse.Cloud.afterSave('TestClass', () => { });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Magic Number,"{'line': 120, 'column': 40, 'index': 4857}","  118 |     const longString = fs.readFileSync(loremFile, 'utf8');
  119 |     const truncatedString = logController.truncateLogMessage(longString);
> 120 |     expect(truncatedString.length).toBe(1015); // truncate length + the string '... (truncated)'
      |                                        ^ Magic Number
  121 |   });
  122 |
  123 |   it_id('4a009b1f-9203-49ca-8d48-5b45f4eedbdf')(it)('should truncate input and result of long lines', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Magic Number,"{'line': 345, 'column': 35, 'index': 12799}","  343 |     }
  344 |     expect(spy).toHaveBeenCalled();
> 345 |     expect(spy.calls.count()).toBe(1);
      |                                   ^ Magic Number
  346 |     const { args } = spy.calls.mostRecent();
  347 |     expect(args[0]).toBe('Parse error: ');
  348 |     expect(args[1].message).toBe('Object not found.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCodeLogger.spec.js,Mystery Guest,"{'column': 23, 'line': 118}","  116 |   it('should truncate really long lines when asked to', () => {
  117 |     const logController = new LoggerController(new WinstonLoggerAdapter());
> 118 |     const longString = fs.readFileSync(loremFile, 'utf8');
      |                       ^ Mystery Guest
  119 |     const truncatedString = logController.truncateLogMessage(longString);
  120 |     expect(truncatedString.length).toBe(1015); // truncate length + the string '... (truncated)'
  121 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 638, 'column': 6, 'index': 19696}","  636 |   it(""test beforeSave changed object fail doesn't change object"", async function () {
  637 |     Parse.Cloud.beforeSave('BeforeSaveChanged', function (req) {
> 638 |       if (req.object.has('fail')) {
      |      ^ Conditional Test Logic
  639 |         return Promise.reject(new Error('something went wrong'));
  640 |       }
  641 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 951, 'column': 6, 'index': 29294}","  949 |     Parse.Cloud.afterSave('AfterSaveTest2', function (req) {
  950 |       const obj = req.object;
> 951 |       if (!obj.existed()) {
      |      ^ Conditional Test Logic
  952 |         return new Promise(resolve => {
  953 |           setTimeout(function () {
  954 |             obj.set('proof', obj.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 986, 'column': 6, 'index': 30288}","  984 |     Parse.Cloud.afterSave('AfterSaveTest2', function (req) {
  985 |       const obj = req.object;
> 986 |       if (!obj.existed()) {
      |      ^ Conditional Test Logic
  987 |         return new Promise(resolve => {
  988 |           setTimeout(function () {
  989 |             obj.set('proof', obj.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 1160, 'column': 10, 'index': 34922}","  1158 |       .then(
  1159 |         objAgain => {
> 1160 |           if (objAgain) {
       |          ^ Conditional Test Logic
  1161 |             expect(objAgain.get('foo')).toEqual('bar');
  1162 |           } else {
  1163 |             fail('unable to fetch the object ', id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 1255, 'column': 6, 'index': 37335}","  1253 |     Parse.Cloud.run('foo').then(result => {
  1254 |       expect(result.object instanceof Parse.Object).toBeTruthy();
> 1255 |       if (!result.object) {
       |      ^ Conditional Test Logic
  1256 |         fail('Unable to run foo');
  1257 |         done();
  1258 |         return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 1395, 'column': 6, 'index': 41884}","  1393 |       expect(object instanceof Parse.Object).toBeTruthy();
  1394 |       expect(object.get('fooAgain')).toEqual('barAgain');
> 1395 |       if (triggerTime == 0) {
       |      ^ Conditional Test Logic
  1396 |         // Create
  1397 |         expect(object.get('foo')).toEqual('bar');
  1398 |       } else if (triggerTime == 1) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 1398, 'column': 13, 'index': 41989}","  1396 |         // Create
  1397 |         expect(object.get('foo')).toEqual('bar');
> 1398 |       } else if (triggerTime == 1) {
       |             ^ Conditional Test Logic
  1399 |         // Update
  1400 |         expect(object.dirtyKeys()).toEqual(['foo']);
  1401 |         expect(object.dirty('foo')).toBeTruthy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 1476, 'column': 6, 'index': 43841}","  1474 |   it('test save triggers get user', async done => {
  1475 |     Parse.Cloud.beforeSave('SaveTriggerUser', function (req) {
> 1476 |       if (req.user && req.user.id) {
       |      ^ Conditional Test Logic
  1477 |         return;
  1478 |       } else {
  1479 |         throw new Error('No user present on request object for beforeSave.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 1484, 'column': 6, 'index': 44066}","  1482 |
  1483 |     Parse.Cloud.afterSave('SaveTriggerUser', function (req) {
> 1484 |       if (!req.user || !req.user.id) {
       |      ^ Conditional Test Logic
  1485 |         console.log('No user present on request object for afterSave.');
  1486 |       }
  1487 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 1920, 'column': 6, 'index': 57904}","  1918 |     Parse.Cloud.beforeSave('CloudIncrementClass', function (req) {
  1919 |       const obj = req.object;
> 1920 |       if (!req.master) {
       |      ^ Conditional Test Logic
  1921 |         obj.increment('points', -10);
  1922 |         obj.increment('num', -9);
  1923 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2013, 'column': 6, 'index': 60420}","  2011 |   it('can unset in afterSave', async () => {
  2012 |     Parse.Cloud.beforeSave('TestObject', ({ object }) => {
> 2013 |       if (!object.existed()) {
       |      ^ Conditional Test Logic
  2014 |         object.set('secret', true);
  2015 |         return object;
  2016 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2045, 'column': 6, 'index': 61199}","  2043 |   it('should revert in beforeSave', async () => {
  2044 |     Parse.Cloud.beforeSave('MyObject', ({ object }) => {
> 2045 |       if (!object.existed()) {
       |      ^ Conditional Test Logic
  2046 |         object.set('count', 0);
  2047 |         return object;
  2048 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2161, 'column': 10, 'index': 64889}","  2159 |             return jobStatus.get('finishedAt') && jobStatus.get('message') === 'Hello, world!!!';
  2160 |           };
> 2161 |           while (!(await checkJobStatus())) {
       |          ^ Conditional Test Logic
  2162 |             await new Promise(resolve => setTimeout(resolve, 100));
  2163 |           }
  2164 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2218, 'column': 10, 'index': 66576}","  2216 |             return jobStatus.get('finishedAt');
  2217 |           };
> 2218 |           while (!(await checkJobStatus())) {
       |          ^ Conditional Test Logic
  2219 |             await new Promise(resolve => setTimeout(resolve, 100));
  2220 |           }
  2221 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2247, 'column': 10, 'index': 67605}","  2245 |             return jobStatus.get('finishedAt');
  2246 |           };
> 2247 |           while (!(await checkJobStatus())) {
       |          ^ Conditional Test Logic
  2248 |             await new Promise(resolve => setTimeout(resolve, 100));
  2249 |           }
  2250 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2286, 'column': 10, 'index': 68868}","  2284 |             );
  2285 |           };
> 2286 |           while (!(await checkJobStatus())) {
       |          ^ Conditional Test Logic
  2287 |             await new Promise(resolve => setTimeout(resolve, 100));
  2288 |           }
  2289 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2317, 'column': 10, 'index': 69887}","  2315 |             );
  2316 |           };
> 2317 |           while (!(await checkJobStatus())) {
       |          ^ Conditional Test Logic
  2318 |             await new Promise(resolve => setTimeout(resolve, 100));
  2319 |           }
  2320 |         })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2331, 'column': 6, 'index': 70376}","  2329 |       const job = await Parse.Cloud.startJob('myJobError');
  2330 |       let jobStatus, status;
> 2331 |       while (status !== 'failed') {
       |      ^ Conditional Test Logic
  2332 |         if (jobStatus) {
  2333 |           await new Promise(resolve => setTimeout(resolve, 10));
  2334 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2332, 'column': 8, 'index': 70414}","  2330 |       let jobStatus, status;
  2331 |       while (status !== 'failed') {
> 2332 |         if (jobStatus) {
       |        ^ Conditional Test Logic
  2333 |           await new Promise(resolve => setTimeout(resolve, 10));
  2334 |         }
  2335 |         jobStatus = await Parse.Cloud.getJobStatus(job);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2743, 'column': 4, 'index': 82041}","  2741 |     const count = 20;
  2742 |     const objects = [];
> 2743 |     while (objects.length != count) {
       |    ^ Conditional Test Logic
  2744 |       const object = new Parse.Object('MyObject');
  2745 |       object.set('score', Math.floor(Math.random() * 100));
  2746 |       objects.push(object);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 2978, 'column': 6, 'index': 90331}","  2976 |   it('should add afterFind trigger using get', done => {
  2977 |     Parse.Cloud.afterFind('MyObject', req => {
> 2978 |       for (let i = 0; i < req.objects.length; i++) {
       |      ^ Conditional Test Logic
  2979 |         req.objects[i].set('secretField', '###');
  2980 |       }
  2981 |       return req.objects;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 3008, 'column': 6, 'index': 91102}","  3006 |   it('should add afterFind trigger using find', done => {
  3007 |     Parse.Cloud.afterFind('MyObject', req => {
> 3008 |       for (let i = 0; i < req.objects.length; i++) {
       |      ^ Conditional Test Logic
  3009 |         req.objects[i].set('secretField', '###');
  3010 |       }
  3011 |       return req.objects;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 3040, 'column': 6, 'index': 91936}","  3038 |     Parse.Cloud.afterFind('MyObject', req => {
  3039 |       const filteredResults = [];
> 3040 |       for (let i = 0; i < req.objects.length; i++) {
       |      ^ Conditional Test Logic
  3041 |         if (req.objects[i].get('secretField') === 'SSID1') {
  3042 |           filteredResults.push(req.objects[i]);
  3043 |         }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 3041, 'column': 8, 'index': 91991}","  3039 |       const filteredResults = [];
  3040 |       for (let i = 0; i < req.objects.length; i++) {
> 3041 |         if (req.objects[i].get('secretField') === 'SSID1') {
       |        ^ Conditional Test Logic
  3042 |           filteredResults.push(req.objects[i]);
  3043 |         }
  3044 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 3103, 'column': 10, 'index': 93682}","  3101 |       return new Promise(resolve => {
  3102 |         setTimeout(function () {
> 3103 |           for (let i = 0; i < req.objects.length; i++) {
       |          ^ Conditional Test Logic
  3104 |             req.objects[i].set('secretField', '###');
  3105 |           }
  3106 |           resolve(req.objects);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 3646, 'column': 6, 'index': 110692}","  3644 |     Parse.Cloud.beforeLogin(req => {
  3645 |       hit++;
> 3646 |       if (req.object.get('isBanned')) {
       |      ^ Conditional Test Logic
  3647 |         throw new Error('banned account');
  3648 |       }
  3649 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 3668, 'column': 6, 'index': 111308}","  3666 |     Parse.Cloud.beforeLogin(req => {
  3667 |       hit++;
> 3668 |       if (req.object.get('isBanned')) {
       |      ^ Conditional Test Logic
  3669 |         throw new Error('banned account');
  3670 |       }
  3671 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4380, 'column': 4, 'index': 135921}","  4378 |       },
  4379 |     };
> 4380 |     for (const hook in hooks) {
       |    ^ Conditional Test Logic
  4381 |       spyOn(hooks, hook).and.callThrough();
  4382 |       Parse.Cloud[hook](Parse.File, hooks[hook]);
  4383 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4392, 'column': 4, 'index': 136269}","  4390 |       },
  4391 |     });
> 4392 |     for (const hook in hooks) {
       |    ^ Conditional Test Logic
  4393 |       expect(hooks[hook]).toHaveBeenCalled();
  4394 |     }
  4395 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4407, 'column': 4, 'index': 136696}","  4405 |       afterFind() { },
  4406 |     };
> 4407 |     for (const hook in hooks) {
       |    ^ Conditional Test Logic
  4408 |       spyOn(hooks, hook).and.callThrough();
  4409 |       Parse.Cloud[hook](Parse.File, hooks[hook]);
  4410 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4438, 'column': 4, 'index': 137684}","  4436 |       },
  4437 |     };
> 4438 |     for (const hook in hooks) {
       |    ^ Conditional Test Logic
  4439 |       spyOn(hooks, hook).and.callThrough();
  4440 |       Parse.Cloud[hook](Parse.File, hooks[hook]);
  4441 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4454, 'column': 4, 'index': 138228}","  4452 |       })
  4453 |     ).toBeRejectedWith(new Parse.Error(Parse.Error.SCRIPT_FAILED, 'unauthorized'));
> 4454 |     for (const hook in hooks) {
       |    ^ Conditional Test Logic
  4455 |       expect(hooks[hook]).toHaveBeenCalled();
  4456 |     }
  4457 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4510, 'column': 6, 'index': 140274}","  4508 |     let count = 0;
  4509 |     Parse.Cloud.beforeSave(Parse.Config, (req) => {
> 4510 |       if (count === 0) {
       |      ^ Conditional Test Logic
  4511 |         expect(req.object.get('number')).toBe(12);
  4512 |         expect(req.original).toBeUndefined();
  4513 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4514, 'column': 6, 'index': 140404}","  4512 |         expect(req.original).toBeUndefined();
  4513 |       }
> 4514 |       if (count === 1) {
       |      ^ Conditional Test Logic
  4515 |         expect(req.object.get('number')).toBe(13);
  4516 |         expect(req.original.get('number')).toBe(12);
  4517 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4605, 'column': 6, 'index': 143453}","  4603 |     let count = 0;
  4604 |     Parse.Cloud.afterSave(Parse.Config, (req) => {
> 4605 |       if (count === 0) {
       |      ^ Conditional Test Logic
  4606 |         expect(req.object.get('number')).toBe(12);
  4607 |         expect(req.original).toBeUndefined();
  4608 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Conditional Test Logic,"{'line': 4609, 'column': 6, 'index': 143583}","  4607 |         expect(req.original).toBeUndefined();
  4608 |       }
> 4609 |       if (count === 1) {
       |      ^ Conditional Test Logic
  4610 |         expect(req.object.get('number')).toBe(13);
  4611 |         expect(req.original.get('number')).toBe(12);
  4612 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 110, 'column': 4, 'index': 3695}","  108 |     const version = require('../package.json').version;
  109 |     const currentConfig = Config.get('test');
> 110 |     expect(Parse.Server.version).toBeDefined();
      |    ^ Duplicate Assert
  111 |     expect(currentConfig.version).toBeDefined();
  112 |     expect(Parse.Server.version).toEqual(version);
  113 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 112, 'column': 4, 'index': 3792}","  110 |     expect(Parse.Server.version).toBeDefined();
  111 |     expect(currentConfig.version).toBeDefined();
> 112 |     expect(Parse.Server.version).toEqual(version);
      |    ^ Duplicate Assert
  113 |   });
  114 |
  115 |   it('show warning on duplicate cloud functions', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 525, 'column': 6, 'index': 16661}","  523 |       );
  524 |
> 525 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
      |      ^ Duplicate Assert
  526 |       expect(receivedQuery.className).toBe(className);
  527 |
  528 |       receivedQuery = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 525, 'column': 6, 'index': 16661}","  523 |       );
  524 |
> 525 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
      |      ^ Duplicate Assert
  526 |       expect(receivedQuery.className).toBe(className);
  527 |
  528 |       receivedQuery = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 526, 'column': 6, 'index': 16718}","  524 |
  525 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
> 526 |       expect(receivedQuery.className).toBe(className);
      |      ^ Duplicate Assert
  527 |
  528 |       receivedQuery = null;
  529 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 526, 'column': 6, 'index': 16718}","  524 |
  525 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
> 526 |       expect(receivedQuery.className).toBe(className);
      |      ^ Duplicate Assert
  527 |
  528 |       receivedQuery = null;
  529 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 540, 'column': 6, 'index': 16972}","  538 |       );
  539 |
> 540 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
      |      ^ Duplicate Assert
  541 |       expect(receivedQuery.className).toBe(className);
  542 |     });
  543 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 540, 'column': 6, 'index': 16972}","  538 |       );
  539 |
> 540 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
      |      ^ Duplicate Assert
  541 |       expect(receivedQuery.className).toBe(className);
  542 |     });
  543 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 541, 'column': 6, 'index': 17029}","  539 |
  540 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
> 541 |       expect(receivedQuery.className).toBe(className);
      |      ^ Duplicate Assert
  542 |     });
  543 |   });
  544 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 541, 'column': 6, 'index': 17029}","  539 |
  540 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
> 541 |       expect(receivedQuery.className).toBe(className);
      |      ^ Duplicate Assert
  542 |     });
  543 |   });
  544 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 665, 'column': 6, 'index': 20419}","  663 |     obj.set('foo', 'bing');
  664 |     obj.save().then(() => {
> 665 |       expect(obj.get('foo')).toEqual('baz');
      |      ^ Duplicate Assert
  666 |       obj.set('foo', 'bar');
  667 |       return obj.save().then(() => {
  668 |         expect(obj.get('foo')).toEqual('baz');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 665, 'column': 6, 'index': 20419}","  663 |     obj.set('foo', 'bing');
  664 |     obj.save().then(() => {
> 665 |       expect(obj.get('foo')).toEqual('baz');
      |      ^ Duplicate Assert
  666 |       obj.set('foo', 'bar');
  667 |       return obj.save().then(() => {
  668 |         expect(obj.get('foo')).toEqual('baz');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 668, 'column': 8, 'index': 20532}","  666 |       obj.set('foo', 'bar');
  667 |       return obj.save().then(() => {
> 668 |         expect(obj.get('foo')).toEqual('baz');
      |        ^ Duplicate Assert
  669 |         done();
  670 |       });
  671 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 668, 'column': 8, 'index': 20532}","  666 |       obj.set('foo', 'bar');
  667 |       return obj.save().then(() => {
> 668 |         expect(obj.get('foo')).toEqual('baz');
      |        ^ Duplicate Assert
  669 |         done();
  670 |       });
  671 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 816, 'column': 4, 'index': 25272}","  814 |       sessionToken: triggeruser.getSessionToken(),
  815 |     });
> 816 |     expect(called).toBe(1);
      |    ^ Duplicate Assert
  817 |     await triggerobject.save(undefined, {
  818 |       sessionToken: triggeruser.getSessionToken(),
  819 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 820, 'column': 4, 'index': 25401}","  818 |       sessionToken: triggeruser.getSessionToken(),
  819 |     });
> 820 |     expect(called).toBe(2);
      |    ^ Duplicate Assert
  821 |     await triggerobject.save(undefined, {
  822 |       sessionToken: triggeruser2.getSessionToken(),
  823 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 824, 'column': 4, 'index': 25531}","  822 |       sessionToken: triggeruser2.getSessionToken(),
  823 |     });
> 824 |     expect(called).toBe(3);
      |    ^ Duplicate Assert
  825 |     await triggerobject.save(undefined, {
  826 |       sessionToken: triggeruser3.getSessionToken(),
  827 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 828, 'column': 4, 'index': 25661}","  826 |       sessionToken: triggeruser3.getSessionToken(),
  827 |     });
> 828 |     expect(called).toBe(4);
      |    ^ Duplicate Assert
  829 |
  830 |     const triggerobject2 = new Parse.Object('triggerclass');
  831 |     triggerobject2.set('someField', 'someValue');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 847, 'column': 4, 'index': 26512}","  845 |       sessionToken: triggeruser2.getSessionToken(),
  846 |     });
> 847 |     expect(called).toBe(5);
      |    ^ Duplicate Assert
  848 |     await triggerobject2.save(undefined, {
  849 |       sessionToken: triggeruser2.getSessionToken(),
  850 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 851, 'column': 4, 'index': 26643}","  849 |       sessionToken: triggeruser2.getSessionToken(),
  850 |     });
> 851 |     expect(called).toBe(6);
      |    ^ Duplicate Assert
  852 |     await triggerobject2.save(undefined, {
  853 |       sessionToken: triggeruser.getSessionToken(),
  854 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 855, 'column': 4, 'index': 26773}","  853 |       sessionToken: triggeruser.getSessionToken(),
  854 |     });
> 855 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  856 |
  857 |     let catched = false;
  858 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 855, 'column': 4, 'index': 26773}","  853 |       sessionToken: triggeruser.getSessionToken(),
  854 |     });
> 855 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  856 |
  857 |     let catched = false;
  858 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 864, 'column': 6, 'index': 26988}","  862 |     } catch (e) {
  863 |       catched = true;
> 864 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
      |      ^ Duplicate Assert
  865 |     }
  866 |     expect(catched).toBe(true);
  867 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 864, 'column': 6, 'index': 26988}","  862 |     } catch (e) {
  863 |       catched = true;
> 864 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
      |      ^ Duplicate Assert
  865 |     }
  866 |     expect(catched).toBe(true);
  867 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 866, 'column': 4, 'index': 27049}","  864 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  865 |     }
> 866 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  867 |     expect(called).toBe(7);
  868 |
  869 |     catched = false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 866, 'column': 4, 'index': 27049}","  864 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  865 |     }
> 866 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  867 |     expect(called).toBe(7);
  868 |
  869 |     catched = false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 867, 'column': 4, 'index': 27081}","  865 |     }
  866 |     expect(catched).toBe(true);
> 867 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  868 |
  869 |     catched = false;
  870 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 867, 'column': 4, 'index': 27081}","  865 |     }
  866 |     expect(catched).toBe(true);
> 867 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  868 |
  869 |     catched = false;
  870 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 876, 'column': 6, 'index': 27292}","  874 |     } catch (e) {
  875 |       catched = true;
> 876 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
      |      ^ Duplicate Assert
  877 |     }
  878 |     expect(catched).toBe(true);
  879 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 876, 'column': 6, 'index': 27292}","  874 |     } catch (e) {
  875 |       catched = true;
> 876 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
      |      ^ Duplicate Assert
  877 |     }
  878 |     expect(catched).toBe(true);
  879 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 878, 'column': 4, 'index': 27353}","  876 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  877 |     }
> 878 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  879 |     expect(called).toBe(7);
  880 |
  881 |     catched = false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 878, 'column': 4, 'index': 27353}","  876 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  877 |     }
> 878 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  879 |     expect(called).toBe(7);
  880 |
  881 |     catched = false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 879, 'column': 4, 'index': 27385}","  877 |     }
  878 |     expect(catched).toBe(true);
> 879 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  880 |
  881 |     catched = false;
  882 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 879, 'column': 4, 'index': 27385}","  877 |     }
  878 |     expect(catched).toBe(true);
> 879 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  880 |
  881 |     catched = false;
  882 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 888, 'column': 6, 'index': 27596}","  886 |     } catch (e) {
  887 |       catched = true;
> 888 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
      |      ^ Duplicate Assert
  889 |     }
  890 |     expect(catched).toBe(true);
  891 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 888, 'column': 6, 'index': 27596}","  886 |     } catch (e) {
  887 |       catched = true;
> 888 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
      |      ^ Duplicate Assert
  889 |     }
  890 |     expect(catched).toBe(true);
  891 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 890, 'column': 4, 'index': 27657}","  888 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  889 |     }
> 890 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  891 |     expect(called).toBe(7);
  892 |
  893 |     const triggerobject3 = new Parse.Object('triggerclass');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 890, 'column': 4, 'index': 27657}","  888 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  889 |     }
> 890 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  891 |     expect(called).toBe(7);
  892 |
  893 |     const triggerobject3 = new Parse.Object('triggerclass');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 891, 'column': 4, 'index': 27689}","  889 |     }
  890 |     expect(catched).toBe(true);
> 891 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  892 |
  893 |     const triggerobject3 = new Parse.Object('triggerclass');
  894 |     triggerobject3.set('someField', 'someValue');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 891, 'column': 4, 'index': 27689}","  889 |     }
  890 |     expect(catched).toBe(true);
> 891 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  892 |
  893 |     const triggerobject3 = new Parse.Object('triggerclass');
  894 |     triggerobject3.set('someField', 'someValue');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 904, 'column': 6, 'index': 28064}","  902 |     } catch (e) {
  903 |       catched = true;
> 904 |       expect(e.code).toBe(119);
      |      ^ Duplicate Assert
  905 |     }
  906 |     expect(catched).toBe(true);
  907 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 904, 'column': 6, 'index': 28064}","  902 |     } catch (e) {
  903 |       catched = true;
> 904 |       expect(e.code).toBe(119);
      |      ^ Duplicate Assert
  905 |     }
  906 |     expect(catched).toBe(true);
  907 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 906, 'column': 4, 'index': 28100}","  904 |       expect(e.code).toBe(119);
  905 |     }
> 906 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  907 |     expect(called).toBe(7);
  908 |
  909 |     catched = false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 906, 'column': 4, 'index': 28100}","  904 |       expect(e.code).toBe(119);
  905 |     }
> 906 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  907 |     expect(called).toBe(7);
  908 |
  909 |     catched = false;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 907, 'column': 4, 'index': 28132}","  905 |     }
  906 |     expect(catched).toBe(true);
> 907 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  908 |
  909 |     catched = false;
  910 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 907, 'column': 4, 'index': 28132}","  905 |     }
  906 |     expect(catched).toBe(true);
> 907 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  908 |
  909 |     catched = false;
  910 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 916, 'column': 6, 'index': 28343}","  914 |     } catch (e) {
  915 |       catched = true;
> 916 |       expect(e.code).toBe(119);
      |      ^ Duplicate Assert
  917 |     }
  918 |     expect(catched).toBe(true);
  919 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 916, 'column': 6, 'index': 28343}","  914 |     } catch (e) {
  915 |       catched = true;
> 916 |       expect(e.code).toBe(119);
      |      ^ Duplicate Assert
  917 |     }
  918 |     expect(catched).toBe(true);
  919 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 918, 'column': 4, 'index': 28379}","  916 |       expect(e.code).toBe(119);
  917 |     }
> 918 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  919 |     expect(called).toBe(7);
  920 |   });
  921 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 918, 'column': 4, 'index': 28379}","  916 |       expect(e.code).toBe(119);
  917 |     }
> 918 |     expect(catched).toBe(true);
      |    ^ Duplicate Assert
  919 |     expect(called).toBe(7);
  920 |   });
  921 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 919, 'column': 4, 'index': 28411}","  917 |     }
  918 |     expect(catched).toBe(true);
> 919 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  920 |   });
  921 |
  922 |   it('test afterSave ran and created an object', function (done) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 919, 'column': 4, 'index': 28411}","  917 |     }
  918 |     expect(catched).toBe(true);
> 919 |     expect(called).toBe(7);
      |    ^ Duplicate Assert
  920 |   });
  921 |
  922 |   it('test afterSave ran and created an object', function (done) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1397, 'column': 8, 'index': 41934}","  1395 |       if (triggerTime == 0) {
  1396 |         // Create
> 1397 |         expect(object.get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1398 |       } else if (triggerTime == 1) {
  1399 |         // Update
  1400 |         expect(object.dirtyKeys()).toEqual(['foo']);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1402, 'column': 8, 'index': 42142}","  1400 |         expect(object.dirtyKeys()).toEqual(['foo']);
  1401 |         expect(object.dirty('foo')).toBeTruthy();
> 1402 |         expect(object.get('foo')).toEqual('baz');
       |        ^ Duplicate Assert
  1403 |       } else {
  1404 |         throw new Error();
  1405 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1588, 'column': 8, 'index': 46876}","  1586 |       .then(() => Parse.Cloud.run('testQuery'))
  1587 |       .then(result => {
> 1588 |         expect(result).toEqual('AAA');
       |        ^ Duplicate Assert
  1589 |         Parse.User.current().set('data', 'BBB');
  1590 |         return Parse.User.current().save(null, { useMasterKey: true });
  1591 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1594, 'column': 8, 'index': 47117}","  1592 |       .then(() => Parse.Cloud.run('testQuery'))
  1593 |       .then(result => {
> 1594 |         expect(result).toEqual('BBB');
       |        ^ Duplicate Assert
  1595 |         done();
  1596 |       });
  1597 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1688, 'column': 8, 'index': 50133}","  1686 |         const aNoBeforeSaveObj = new NoBeforeSaveObject();
  1687 |         aNoBeforeSaveObj.set('aTestObject', aTestObject);
> 1688 |         expect(aNoBeforeSaveObj.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1689 |         return aNoBeforeSaveObj.save();
  1690 |       })
  1691 |       .then(aNoBeforeSaveObj => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1688, 'column': 8, 'index': 50133}","  1686 |         const aNoBeforeSaveObj = new NoBeforeSaveObject();
  1687 |         aNoBeforeSaveObj.set('aTestObject', aTestObject);
> 1688 |         expect(aNoBeforeSaveObj.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1689 |         return aNoBeforeSaveObj.save();
  1690 |       })
  1691 |       .then(aNoBeforeSaveObj => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1692, 'column': 8, 'index': 50295}","  1690 |       })
  1691 |       .then(aNoBeforeSaveObj => {
> 1692 |         expect(aNoBeforeSaveObj.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1693 |
  1694 |         const aBeforeSaveObj = new BeforeSaveObject();
  1695 |         aBeforeSaveObj.set('aTestObject', aTestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1692, 'column': 8, 'index': 50295}","  1690 |       })
  1691 |       .then(aNoBeforeSaveObj => {
> 1692 |         expect(aNoBeforeSaveObj.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1693 |
  1694 |         const aBeforeSaveObj = new BeforeSaveObject();
  1695 |         aBeforeSaveObj.set('aTestObject', aTestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1696, 'column': 8, 'index': 50486}","  1694 |         const aBeforeSaveObj = new BeforeSaveObject();
  1695 |         aBeforeSaveObj.set('aTestObject', aTestObject);
> 1696 |         expect(aBeforeSaveObj.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1697 |         return aBeforeSaveObj.save();
  1698 |       })
  1699 |       .then(aBeforeSaveObj => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1696, 'column': 8, 'index': 50486}","  1694 |         const aBeforeSaveObj = new BeforeSaveObject();
  1695 |         aBeforeSaveObj.set('aTestObject', aTestObject);
> 1696 |         expect(aBeforeSaveObj.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1697 |         return aBeforeSaveObj.save();
  1698 |       })
  1699 |       .then(aBeforeSaveObj => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1700, 'column': 8, 'index': 50642}","  1698 |       })
  1699 |       .then(aBeforeSaveObj => {
> 1700 |         expect(aBeforeSaveObj.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1701 |         done();
  1702 |       });
  1703 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1700, 'column': 8, 'index': 50642}","  1698 |       })
  1699 |       .then(aBeforeSaveObj => {
> 1700 |         expect(aBeforeSaveObj.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1701 |         done();
  1702 |       });
  1703 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1765, 'column': 8, 'index': 52861}","  1763 |         const aBeforeSaveUnchangedObject = new BeforeSaveUnchangedObject();
  1764 |         aBeforeSaveUnchangedObject.set('aTestObject', aTestObject);
> 1765 |         expect(aBeforeSaveUnchangedObject.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1766 |         return aBeforeSaveUnchangedObject.save();
  1767 |       })
  1768 |       .then(aBeforeSaveUnchangedObject => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1765, 'column': 8, 'index': 52861}","  1763 |         const aBeforeSaveUnchangedObject = new BeforeSaveUnchangedObject();
  1764 |         aBeforeSaveUnchangedObject.set('aTestObject', aTestObject);
> 1765 |         expect(aBeforeSaveUnchangedObject.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1766 |         return aBeforeSaveUnchangedObject.save();
  1767 |       })
  1768 |       .then(aBeforeSaveUnchangedObject => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1769, 'column': 8, 'index': 53053}","  1767 |       })
  1768 |       .then(aBeforeSaveUnchangedObject => {
> 1769 |         expect(aBeforeSaveUnchangedObject.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1770 |
  1771 |         const aBeforeSaveChangedObject = new BeforeSaveChangedObject();
  1772 |         aBeforeSaveChangedObject.set('aTestObject', aTestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1769, 'column': 8, 'index': 53053}","  1767 |       })
  1768 |       .then(aBeforeSaveUnchangedObject => {
> 1769 |         expect(aBeforeSaveUnchangedObject.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1770 |
  1771 |         const aBeforeSaveChangedObject = new BeforeSaveChangedObject();
  1772 |         aBeforeSaveChangedObject.set('aTestObject', aTestObject);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1773, 'column': 8, 'index': 53281}","  1771 |         const aBeforeSaveChangedObject = new BeforeSaveChangedObject();
  1772 |         aBeforeSaveChangedObject.set('aTestObject', aTestObject);
> 1773 |         expect(aBeforeSaveChangedObject.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1774 |         return aBeforeSaveChangedObject.save();
  1775 |       })
  1776 |       .then(aBeforeSaveChangedObject => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1773, 'column': 8, 'index': 53281}","  1771 |         const aBeforeSaveChangedObject = new BeforeSaveChangedObject();
  1772 |         aBeforeSaveChangedObject.set('aTestObject', aTestObject);
> 1773 |         expect(aBeforeSaveChangedObject.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1774 |         return aBeforeSaveChangedObject.save();
  1775 |       })
  1776 |       .then(aBeforeSaveChangedObject => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1777, 'column': 8, 'index': 53467}","  1775 |       })
  1776 |       .then(aBeforeSaveChangedObject => {
> 1777 |         expect(aBeforeSaveChangedObject.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1778 |         expect(aBeforeSaveChangedObject.get('foo')).toEqual('baz');
  1779 |         done();
  1780 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1777, 'column': 8, 'index': 53467}","  1775 |       })
  1776 |       .then(aBeforeSaveChangedObject => {
> 1777 |         expect(aBeforeSaveChangedObject.get('aTestObject').get('foo')).toEqual('bar');
       |        ^ Duplicate Assert
  1778 |         expect(aBeforeSaveChangedObject.get('foo')).toEqual('baz');
  1779 |         done();
  1780 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1956, 'column': 4, 'index': 58896}","  1954 |     await obj.save();
  1955 |
> 1956 |     expect(obj.get('foo')).toBeUndefined();
       |    ^ Duplicate Assert
  1957 |     await obj.fetch();
  1958 |
  1959 |     expect(obj.get('foo')).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1956, 'column': 4, 'index': 58896}","  1954 |     await obj.save();
  1955 |
> 1956 |     expect(obj.get('foo')).toBeUndefined();
       |    ^ Duplicate Assert
  1957 |     await obj.fetch();
  1958 |
  1959 |     expect(obj.get('foo')).toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1959, 'column': 4, 'index': 58964}","  1957 |     await obj.fetch();
  1958 |
> 1959 |     expect(obj.get('foo')).toBeUndefined();
       |    ^ Duplicate Assert
  1960 |   });
  1961 |
  1962 |   it('before save can revert fields with existing object', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1959, 'column': 4, 'index': 58964}","  1957 |     await obj.fetch();
  1958 |
> 1959 |     expect(obj.get('foo')).toBeUndefined();
       |    ^ Duplicate Assert
  1960 |   });
  1961 |
  1962 |   it('before save can revert fields with existing object', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1989, 'column': 4, 'index': 59598}","  1987 |     await obj.save(null, { useMasterKey: true });
  1988 |
> 1989 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1990 |     obj.set('foo', 'yolo');
  1991 |     await obj.save();
  1992 |     expect(obj.get('foo')).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1989, 'column': 4, 'index': 59598}","  1987 |     await obj.save(null, { useMasterKey: true });
  1988 |
> 1989 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1990 |     obj.set('foo', 'yolo');
  1991 |     await obj.save();
  1992 |     expect(obj.get('foo')).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1992, 'column': 4, 'index': 59688}","  1990 |     obj.set('foo', 'yolo');
  1991 |     await obj.save();
> 1992 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1993 |   });
  1994 |
  1995 |   it('create role with name and ACL and a beforeSave', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 1992, 'column': 4, 'index': 59688}","  1990 |     obj.set('foo', 'yolo');
  1991 |     await obj.save();
> 1992 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1993 |   });
  1994 |
  1995 |   it('create role with name and ACL and a beforeSave', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2003, 'column': 4, 'index': 60011}","  2001 |     await obj.save();
  2002 |
> 2003 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));
       |    ^ Duplicate Assert
  2004 |     expect(obj.get('name')).toEqual('TestRole');
  2005 |     await obj.fetch();
  2006 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2003, 'column': 4, 'index': 60011}","  2001 |     await obj.save();
  2002 |
> 2003 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));
       |    ^ Duplicate Assert
  2004 |     expect(obj.get('name')).toEqual('TestRole');
  2005 |     await obj.fetch();
  2006 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2004, 'column': 4, 'index': 60098}","  2002 |
  2003 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));
> 2004 |     expect(obj.get('name')).toEqual('TestRole');
       |    ^ Duplicate Assert
  2005 |     await obj.fetch();
  2006 |
  2007 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2004, 'column': 4, 'index': 60098}","  2002 |
  2003 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));
> 2004 |     expect(obj.get('name')).toEqual('TestRole');
       |    ^ Duplicate Assert
  2005 |     await obj.fetch();
  2006 |
  2007 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2007, 'column': 4, 'index': 60171}","  2005 |     await obj.fetch();
  2006 |
> 2007 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));
       |    ^ Duplicate Assert
  2008 |     expect(obj.get('name')).toEqual('TestRole');
  2009 |   });
  2010 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2007, 'column': 4, 'index': 60171}","  2005 |     await obj.fetch();
  2006 |
> 2007 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));
       |    ^ Duplicate Assert
  2008 |     expect(obj.get('name')).toEqual('TestRole');
  2009 |   });
  2010 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2008, 'column': 4, 'index': 60258}","  2006 |
  2007 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));
> 2008 |     expect(obj.get('name')).toEqual('TestRole');
       |    ^ Duplicate Assert
  2009 |   });
  2010 |
  2011 |   it('can unset in afterSave', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2008, 'column': 4, 'index': 60258}","  2006 |
  2007 |     expect(obj.getACL()).toEqual(new Parse.ACL({ '*': { read: true, write: true } }));
> 2008 |     expect(obj.get('name')).toEqual('TestRole');
       |    ^ Duplicate Assert
  2009 |   });
  2010 |
  2011 |   it('can unset in afterSave', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2036, 'column': 4, 'index': 60879}","  2034 |     const obj = new TestObject();
  2035 |     await obj.save();
> 2036 |     expect(obj.get('secret')).toBeUndefined();
       |    ^ Duplicate Assert
  2037 |     await obj.fetch();
  2038 |     expect(obj.get('secret')).toBeUndefined();
  2039 |     await obj.fetch({ useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2036, 'column': 4, 'index': 60879}","  2034 |     const obj = new TestObject();
  2035 |     await obj.save();
> 2036 |     expect(obj.get('secret')).toBeUndefined();
       |    ^ Duplicate Assert
  2037 |     await obj.fetch();
  2038 |     expect(obj.get('secret')).toBeUndefined();
  2039 |     await obj.fetch({ useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2038, 'column': 4, 'index': 60949}","  2036 |     expect(obj.get('secret')).toBeUndefined();
  2037 |     await obj.fetch();
> 2038 |     expect(obj.get('secret')).toBeUndefined();
       |    ^ Duplicate Assert
  2039 |     await obj.fetch({ useMasterKey: true });
  2040 |     expect(obj.get('secret')).toBe(true);
  2041 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2038, 'column': 4, 'index': 60949}","  2036 |     expect(obj.get('secret')).toBeUndefined();
  2037 |     await obj.fetch();
> 2038 |     expect(obj.get('secret')).toBeUndefined();
       |    ^ Duplicate Assert
  2039 |     await obj.fetch({ useMasterKey: true });
  2040 |     expect(obj.get('secret')).toBe(true);
  2041 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2040, 'column': 4, 'index': 61041}","  2038 |     expect(obj.get('secret')).toBeUndefined();
  2039 |     await obj.fetch({ useMasterKey: true });
> 2040 |     expect(obj.get('secret')).toBe(true);
       |    ^ Duplicate Assert
  2041 |   });
  2042 |
  2043 |   it('should revert in beforeSave', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2053, 'column': 4, 'index': 61409}","  2051 |     });
  2052 |     const obj = await new Parse.Object('MyObject').save();
> 2053 |     expect(obj.get('count')).toBe(0);
       |    ^ Duplicate Assert
  2054 |     obj.set('count', 10);
  2055 |     await obj.save();
  2056 |     expect(obj.get('count')).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2053, 'column': 4, 'index': 61409}","  2051 |     });
  2052 |     const obj = await new Parse.Object('MyObject').save();
> 2053 |     expect(obj.get('count')).toBe(0);
       |    ^ Duplicate Assert
  2054 |     obj.set('count', 10);
  2055 |     await obj.save();
  2056 |     expect(obj.get('count')).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2056, 'column': 4, 'index': 61495}","  2054 |     obj.set('count', 10);
  2055 |     await obj.save();
> 2056 |     expect(obj.get('count')).toBe(0);
       |    ^ Duplicate Assert
  2057 |     await obj.fetch();
  2058 |     expect(obj.get('count')).toBe(0);
  2059 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2056, 'column': 4, 'index': 61495}","  2054 |     obj.set('count', 10);
  2055 |     await obj.save();
> 2056 |     expect(obj.get('count')).toBe(0);
       |    ^ Duplicate Assert
  2057 |     await obj.fetch();
  2058 |     expect(obj.get('count')).toBe(0);
  2059 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2058, 'column': 4, 'index': 61556}","  2056 |     expect(obj.get('count')).toBe(0);
  2057 |     await obj.fetch();
> 2058 |     expect(obj.get('count')).toBe(0);
       |    ^ Duplicate Assert
  2059 |   });
  2060 |
  2061 |   it('pointer should not be cleared by triggers', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2058, 'column': 4, 'index': 61556}","  2056 |     expect(obj.get('count')).toBe(0);
  2057 |     await obj.fetch();
> 2058 |     expect(obj.get('count')).toBe(0);
       |    ^ Duplicate Assert
  2059 |   });
  2060 |
  2061 |   it('pointer should not be cleared by triggers', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2096, 'column': 6, 'index': 62853}","  2094 |       count += 1;
  2095 |       req.object.set('foo', 'baz');
> 2096 |       expect(typeof req.object.get('objectField').number).toBe('number');
       |      ^ Duplicate Assert
  2097 |     });
  2098 |
  2099 |     Parse.Cloud.afterSave('CloudIncrementNested', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2096, 'column': 6, 'index': 62853}","  2094 |       count += 1;
  2095 |       req.object.set('foo', 'baz');
> 2096 |       expect(typeof req.object.get('objectField').number).toBe('number');
       |      ^ Duplicate Assert
  2097 |     });
  2098 |
  2099 |     Parse.Cloud.afterSave('CloudIncrementNested', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2100, 'column': 6, 'index': 62995}","  2098 |
  2099 |     Parse.Cloud.afterSave('CloudIncrementNested', req => {
> 2100 |       expect(typeof req.object.get('objectField').number).toBe('number');
       |      ^ Duplicate Assert
  2101 |     });
  2102 |
  2103 |     const obj = new Parse.Object('CloudIncrementNested');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2100, 'column': 6, 'index': 62995}","  2098 |
  2099 |     Parse.Cloud.afterSave('CloudIncrementNested', req => {
> 2100 |       expect(typeof req.object.get('objectField').number).toBe('number');
       |      ^ Duplicate Assert
  2101 |     });
  2102 |
  2103 |     const obj = new Parse.Object('CloudIncrementNested');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2476, 'column': 4, 'index': 74322}","  2474 |     obj.set('secret', 'bar');
  2475 |     await obj.save();
> 2476 |     expect(obj.get('secret')).toBeUndefined();
       |    ^ Duplicate Assert
  2477 |     await obj.fetch();
  2478 |     expect(obj.get('secret')).toBe('bar');
  2479 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2478, 'column': 4, 'index': 74392}","  2476 |     expect(obj.get('secret')).toBeUndefined();
  2477 |     await obj.fetch();
> 2478 |     expect(obj.get('secret')).toBe('bar');
       |    ^ Duplicate Assert
  2479 |   });
  2480 |
  2481 |   it('should unset', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2904, 'column': 4, 'index': 87360}","  2902 |     await query.get(obj1.id);
  2903 |     // Pointer not included in query so we don't expect beforeFind to be called
> 2904 |     expect(spy).not.toHaveBeenCalled();
       |    ^ Duplicate Assert
  2905 |     const query2 = new Parse.Query('TestObject');
  2906 |     query2.include('pointerField');
  2907 |     const res = await query2.get(obj1.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2910, 'column': 4, 'index': 87670}","  2908 |     expect(res.get('pointerField').get('aField')).toBe('aFieldValue');
  2909 |     // Pointer included in query so we expect beforeFind to be called
> 2910 |     expect(spy).toHaveBeenCalledTimes(1);
       |    ^ Duplicate Assert
  2911 |     const query3 = new Parse.Query('TestObject');
  2912 |     query3.include('pointerFieldArray');
  2913 |     const res2 = await query3.get(obj3.id);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2915, 'column': 4, 'index': 87927}","  2913 |     const res2 = await query3.get(obj3.id);
  2914 |     expect(res2.get('pointerFieldArray')[0].get('aField')).toBe('aFieldValue');
> 2915 |     expect(spy).toHaveBeenCalledTimes(2);
       |    ^ Duplicate Assert
  2916 |   });
  2917 |
  2918 |   it('should have access to context in include query in beforeFind hook', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2928, 'column': 6, 'index': 88425}","  2926 |     await obj1.save();
  2927 |     Parse.Cloud.beforeFind('TestObject', req => {
> 2928 |       expect(req.context).toBeDefined();
       |      ^ Duplicate Assert
  2929 |       expect(req.context.a).toEqual('a');
  2930 |       beforeFindTestObjectCalled = true;
  2931 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2928, 'column': 6, 'index': 88425}","  2926 |     await obj1.save();
  2927 |     Parse.Cloud.beforeFind('TestObject', req => {
> 2928 |       expect(req.context).toBeDefined();
       |      ^ Duplicate Assert
  2929 |       expect(req.context.a).toEqual('a');
  2930 |       beforeFindTestObjectCalled = true;
  2931 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2929, 'column': 6, 'index': 88466}","  2927 |     Parse.Cloud.beforeFind('TestObject', req => {
  2928 |       expect(req.context).toBeDefined();
> 2929 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  2930 |       beforeFindTestObjectCalled = true;
  2931 |     });
  2932 |     Parse.Cloud.beforeFind('TestObject2', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2929, 'column': 6, 'index': 88466}","  2927 |     Parse.Cloud.beforeFind('TestObject', req => {
  2928 |       expect(req.context).toBeDefined();
> 2929 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  2930 |       beforeFindTestObjectCalled = true;
  2931 |     });
  2932 |     Parse.Cloud.beforeFind('TestObject2', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2933, 'column': 6, 'index': 88608}","  2931 |     });
  2932 |     Parse.Cloud.beforeFind('TestObject2', req => {
> 2933 |       expect(req.context).toBeDefined();
       |      ^ Duplicate Assert
  2934 |       expect(req.context.a).toEqual('a');
  2935 |       beforeFindTestObject2Called = true;
  2936 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2933, 'column': 6, 'index': 88608}","  2931 |     });
  2932 |     Parse.Cloud.beforeFind('TestObject2', req => {
> 2933 |       expect(req.context).toBeDefined();
       |      ^ Duplicate Assert
  2934 |       expect(req.context.a).toEqual('a');
  2935 |       beforeFindTestObject2Called = true;
  2936 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2934, 'column': 6, 'index': 88649}","  2932 |     Parse.Cloud.beforeFind('TestObject2', req => {
  2933 |       expect(req.context).toBeDefined();
> 2934 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  2935 |       beforeFindTestObject2Called = true;
  2936 |     });
  2937 |     const query = new Parse.Query('TestObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 2934, 'column': 6, 'index': 88649}","  2932 |     Parse.Cloud.beforeFind('TestObject2', req => {
  2933 |       expect(req.context).toBeDefined();
> 2934 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  2935 |       beforeFindTestObject2Called = true;
  2936 |     });
  2937 |     const query = new Parse.Query('TestObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3233, 'column': 4, 'index': 97742}","  3231 |     const obj2 = await query.first();
  3232 |     expect(obj2.get('foo')).toEqual('bar');
> 3233 |     expect(obj2.id).toBeUndefined();
       |    ^ Duplicate Assert
  3234 |     await obj2.save();
  3235 |     expect(obj2.id).toBeDefined();
  3236 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3235, 'column': 4, 'index': 97802}","  3233 |     expect(obj2.id).toBeUndefined();
  3234 |     await obj2.save();
> 3235 |     expect(obj2.id).toBeDefined();
       |    ^ Duplicate Assert
  3236 |   });
  3237 |
  3238 |   it('should have request headers', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3487, 'column': 6, 'index': 106111}","  3485 |     let calledAfter = false;
  3486 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3487 |       expect(req.object.get('foo')).toEqual('bar');
       |      ^ Duplicate Assert
  3488 |       expect(req.context.otherKey).toBe(10);
  3489 |       expect(req.context.key).toBe('hello');
  3490 |       calledBefore = true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3487, 'column': 6, 'index': 106111}","  3485 |     let calledAfter = false;
  3486 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3487 |       expect(req.object.get('foo')).toEqual('bar');
       |      ^ Duplicate Assert
  3488 |       expect(req.context.otherKey).toBe(10);
  3489 |       expect(req.context.key).toBe('hello');
  3490 |       calledBefore = true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3488, 'column': 6, 'index': 106163}","  3486 |     Parse.Cloud.beforeSave('TestObject', req => {
  3487 |       expect(req.object.get('foo')).toEqual('bar');
> 3488 |       expect(req.context.otherKey).toBe(10);
       |      ^ Duplicate Assert
  3489 |       expect(req.context.key).toBe('hello');
  3490 |       calledBefore = true;
  3491 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3488, 'column': 6, 'index': 106163}","  3486 |     Parse.Cloud.beforeSave('TestObject', req => {
  3487 |       expect(req.object.get('foo')).toEqual('bar');
> 3488 |       expect(req.context.otherKey).toBe(10);
       |      ^ Duplicate Assert
  3489 |       expect(req.context.key).toBe('hello');
  3490 |       calledBefore = true;
  3491 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3489, 'column': 6, 'index': 106208}","  3487 |       expect(req.object.get('foo')).toEqual('bar');
  3488 |       expect(req.context.otherKey).toBe(10);
> 3489 |       expect(req.context.key).toBe('hello');
       |      ^ Duplicate Assert
  3490 |       calledBefore = true;
  3491 |     });
  3492 |     Parse.Cloud.afterSave('TestObject', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3489, 'column': 6, 'index': 106208}","  3487 |       expect(req.object.get('foo')).toEqual('bar');
  3488 |       expect(req.context.otherKey).toBe(10);
> 3489 |       expect(req.context.key).toBe('hello');
       |      ^ Duplicate Assert
  3490 |       calledBefore = true;
  3491 |     });
  3492 |     Parse.Cloud.afterSave('TestObject', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3493, 'column': 6, 'index': 106337}","  3491 |     });
  3492 |     Parse.Cloud.afterSave('TestObject', req => {
> 3493 |       expect(req.object.get('foo')).toEqual('bar');
       |      ^ Duplicate Assert
  3494 |       expect(req.context.otherKey).toBe(10);
  3495 |       expect(req.context.key).toBe('hello');
  3496 |       calledAfter = true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3493, 'column': 6, 'index': 106337}","  3491 |     });
  3492 |     Parse.Cloud.afterSave('TestObject', req => {
> 3493 |       expect(req.object.get('foo')).toEqual('bar');
       |      ^ Duplicate Assert
  3494 |       expect(req.context.otherKey).toBe(10);
  3495 |       expect(req.context.key).toBe('hello');
  3496 |       calledAfter = true;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3494, 'column': 6, 'index': 106389}","  3492 |     Parse.Cloud.afterSave('TestObject', req => {
  3493 |       expect(req.object.get('foo')).toEqual('bar');
> 3494 |       expect(req.context.otherKey).toBe(10);
       |      ^ Duplicate Assert
  3495 |       expect(req.context.key).toBe('hello');
  3496 |       calledAfter = true;
  3497 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3494, 'column': 6, 'index': 106389}","  3492 |     Parse.Cloud.afterSave('TestObject', req => {
  3493 |       expect(req.object.get('foo')).toEqual('bar');
> 3494 |       expect(req.context.otherKey).toBe(10);
       |      ^ Duplicate Assert
  3495 |       expect(req.context.key).toBe('hello');
  3496 |       calledAfter = true;
  3497 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3495, 'column': 6, 'index': 106434}","  3493 |       expect(req.object.get('foo')).toEqual('bar');
  3494 |       expect(req.context.otherKey).toBe(10);
> 3495 |       expect(req.context.key).toBe('hello');
       |      ^ Duplicate Assert
  3496 |       calledAfter = true;
  3497 |     });
  3498 |     const req = request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3495, 'column': 6, 'index': 106434}","  3493 |       expect(req.object.get('foo')).toEqual('bar');
  3494 |       expect(req.context.otherKey).toBe(10);
> 3495 |       expect(req.context.key).toBe('hello');
       |      ^ Duplicate Assert
  3496 |       calledAfter = true;
  3497 |     });
  3498 |     const req = request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3806, 'column': 4, 'index': 115360}","  3804 |     await obj.save();
  3805 |
> 3806 |     expect(beforeSaves).toEqual(1);
       |    ^ Duplicate Assert
  3807 |     expect(afterSaves).toEqual(1);
  3808 |     expect(beforeFinds).toEqual(0);
  3809 |     expect(afterFinds).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3807, 'column': 4, 'index': 115396}","  3805 |
  3806 |     expect(beforeSaves).toEqual(1);
> 3807 |     expect(afterSaves).toEqual(1);
       |    ^ Duplicate Assert
  3808 |     expect(beforeFinds).toEqual(0);
  3809 |     expect(afterFinds).toEqual(0);
  3810 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3808, 'column': 4, 'index': 115431}","  3806 |     expect(beforeSaves).toEqual(1);
  3807 |     expect(afterSaves).toEqual(1);
> 3808 |     expect(beforeFinds).toEqual(0);
       |    ^ Duplicate Assert
  3809 |     expect(afterFinds).toEqual(0);
  3810 |
  3811 |     obj.set('someField', 'some value 2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3808, 'column': 4, 'index': 115431}","  3806 |     expect(beforeSaves).toEqual(1);
  3807 |     expect(afterSaves).toEqual(1);
> 3808 |     expect(beforeFinds).toEqual(0);
       |    ^ Duplicate Assert
  3809 |     expect(afterFinds).toEqual(0);
  3810 |
  3811 |     obj.set('someField', 'some value 2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3809, 'column': 4, 'index': 115467}","  3807 |     expect(afterSaves).toEqual(1);
  3808 |     expect(beforeFinds).toEqual(0);
> 3809 |     expect(afterFinds).toEqual(0);
       |    ^ Duplicate Assert
  3810 |
  3811 |     obj.set('someField', 'some value 2');
  3812 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3809, 'column': 4, 'index': 115467}","  3807 |     expect(afterSaves).toEqual(1);
  3808 |     expect(beforeFinds).toEqual(0);
> 3809 |     expect(afterFinds).toEqual(0);
       |    ^ Duplicate Assert
  3810 |
  3811 |     obj.set('someField', 'some value 2');
  3812 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3814, 'column': 4, 'index': 115568}","  3812 |     await obj.save();
  3813 |
> 3814 |     expect(beforeSaves).toEqual(2);
       |    ^ Duplicate Assert
  3815 |     expect(afterSaves).toEqual(2);
  3816 |     expect(beforeFinds).toEqual(0);
  3817 |     expect(afterFinds).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3814, 'column': 4, 'index': 115568}","  3812 |     await obj.save();
  3813 |
> 3814 |     expect(beforeSaves).toEqual(2);
       |    ^ Duplicate Assert
  3815 |     expect(afterSaves).toEqual(2);
  3816 |     expect(beforeFinds).toEqual(0);
  3817 |     expect(afterFinds).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3815, 'column': 4, 'index': 115604}","  3813 |
  3814 |     expect(beforeSaves).toEqual(2);
> 3815 |     expect(afterSaves).toEqual(2);
       |    ^ Duplicate Assert
  3816 |     expect(beforeFinds).toEqual(0);
  3817 |     expect(afterFinds).toEqual(0);
  3818 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3815, 'column': 4, 'index': 115604}","  3813 |
  3814 |     expect(beforeSaves).toEqual(2);
> 3815 |     expect(afterSaves).toEqual(2);
       |    ^ Duplicate Assert
  3816 |     expect(beforeFinds).toEqual(0);
  3817 |     expect(afterFinds).toEqual(0);
  3818 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3816, 'column': 4, 'index': 115639}","  3814 |     expect(beforeSaves).toEqual(2);
  3815 |     expect(afterSaves).toEqual(2);
> 3816 |     expect(beforeFinds).toEqual(0);
       |    ^ Duplicate Assert
  3817 |     expect(afterFinds).toEqual(0);
  3818 |
  3819 |     await obj.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3816, 'column': 4, 'index': 115639}","  3814 |     expect(beforeSaves).toEqual(2);
  3815 |     expect(afterSaves).toEqual(2);
> 3816 |     expect(beforeFinds).toEqual(0);
       |    ^ Duplicate Assert
  3817 |     expect(afterFinds).toEqual(0);
  3818 |
  3819 |     await obj.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3817, 'column': 4, 'index': 115675}","  3815 |     expect(afterSaves).toEqual(2);
  3816 |     expect(beforeFinds).toEqual(0);
> 3817 |     expect(afterFinds).toEqual(0);
       |    ^ Duplicate Assert
  3818 |
  3819 |     await obj.fetch();
  3820 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3817, 'column': 4, 'index': 115675}","  3815 |     expect(afterSaves).toEqual(2);
  3816 |     expect(beforeFinds).toEqual(0);
> 3817 |     expect(afterFinds).toEqual(0);
       |    ^ Duplicate Assert
  3818 |
  3819 |     await obj.fetch();
  3820 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3821, 'column': 4, 'index': 115735}","  3819 |     await obj.fetch();
  3820 |
> 3821 |     expect(beforeSaves).toEqual(2);
       |    ^ Duplicate Assert
  3822 |     expect(afterSaves).toEqual(2);
  3823 |     expect(beforeFinds).toEqual(1);
  3824 |     expect(afterFinds).toEqual(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3821, 'column': 4, 'index': 115735}","  3819 |     await obj.fetch();
  3820 |
> 3821 |     expect(beforeSaves).toEqual(2);
       |    ^ Duplicate Assert
  3822 |     expect(afterSaves).toEqual(2);
  3823 |     expect(beforeFinds).toEqual(1);
  3824 |     expect(afterFinds).toEqual(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3822, 'column': 4, 'index': 115771}","  3820 |
  3821 |     expect(beforeSaves).toEqual(2);
> 3822 |     expect(afterSaves).toEqual(2);
       |    ^ Duplicate Assert
  3823 |     expect(beforeFinds).toEqual(1);
  3824 |     expect(afterFinds).toEqual(1);
  3825 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3822, 'column': 4, 'index': 115771}","  3820 |
  3821 |     expect(beforeSaves).toEqual(2);
> 3822 |     expect(afterSaves).toEqual(2);
       |    ^ Duplicate Assert
  3823 |     expect(beforeFinds).toEqual(1);
  3824 |     expect(afterFinds).toEqual(1);
  3825 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3823, 'column': 4, 'index': 115806}","  3821 |     expect(beforeSaves).toEqual(2);
  3822 |     expect(afterSaves).toEqual(2);
> 3823 |     expect(beforeFinds).toEqual(1);
       |    ^ Duplicate Assert
  3824 |     expect(afterFinds).toEqual(1);
  3825 |
  3826 |     obj.set('someField', 'some value 3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3823, 'column': 4, 'index': 115806}","  3821 |     expect(beforeSaves).toEqual(2);
  3822 |     expect(afterSaves).toEqual(2);
> 3823 |     expect(beforeFinds).toEqual(1);
       |    ^ Duplicate Assert
  3824 |     expect(afterFinds).toEqual(1);
  3825 |
  3826 |     obj.set('someField', 'some value 3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3824, 'column': 4, 'index': 115842}","  3822 |     expect(afterSaves).toEqual(2);
  3823 |     expect(beforeFinds).toEqual(1);
> 3824 |     expect(afterFinds).toEqual(1);
       |    ^ Duplicate Assert
  3825 |
  3826 |     obj.set('someField', 'some value 3');
  3827 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3824, 'column': 4, 'index': 115842}","  3822 |     expect(afterSaves).toEqual(2);
  3823 |     expect(beforeFinds).toEqual(1);
> 3824 |     expect(afterFinds).toEqual(1);
       |    ^ Duplicate Assert
  3825 |
  3826 |     obj.set('someField', 'some value 3');
  3827 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3829, 'column': 4, 'index': 115943}","  3827 |     await obj.save();
  3828 |
> 3829 |     expect(beforeSaves).toEqual(3);
       |    ^ Duplicate Assert
  3830 |     expect(afterSaves).toEqual(3);
  3831 |     expect(beforeFinds).toEqual(1);
  3832 |     expect(afterFinds).toEqual(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3830, 'column': 4, 'index': 115979}","  3828 |
  3829 |     expect(beforeSaves).toEqual(3);
> 3830 |     expect(afterSaves).toEqual(3);
       |    ^ Duplicate Assert
  3831 |     expect(beforeFinds).toEqual(1);
  3832 |     expect(afterFinds).toEqual(1);
  3833 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3831, 'column': 4, 'index': 116014}","  3829 |     expect(beforeSaves).toEqual(3);
  3830 |     expect(afterSaves).toEqual(3);
> 3831 |     expect(beforeFinds).toEqual(1);
       |    ^ Duplicate Assert
  3832 |     expect(afterFinds).toEqual(1);
  3833 |   });
  3834 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3831, 'column': 4, 'index': 116014}","  3829 |     expect(beforeSaves).toEqual(3);
  3830 |     expect(afterSaves).toEqual(3);
> 3831 |     expect(beforeFinds).toEqual(1);
       |    ^ Duplicate Assert
  3832 |     expect(afterFinds).toEqual(1);
  3833 |   });
  3834 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3832, 'column': 4, 'index': 116050}","  3830 |     expect(afterSaves).toEqual(3);
  3831 |     expect(beforeFinds).toEqual(1);
> 3832 |     expect(afterFinds).toEqual(1);
       |    ^ Duplicate Assert
  3833 |   });
  3834 | });
  3835 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3832, 'column': 4, 'index': 116050}","  3830 |     expect(afterSaves).toEqual(3);
  3831 |     expect(beforeFinds).toEqual(1);
> 3832 |     expect(afterFinds).toEqual(1);
       |    ^ Duplicate Assert
  3833 |   });
  3834 | });
  3835 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3901, 'column': 6, 'index': 118159}","  3899 |   it('context options should override _context object property when saving a new object', async () => {
  3900 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3901 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3902 |       expect(req.context.hello).not.toBeDefined();
  3903 |       expect(req._context).not.toBeDefined();
  3904 |       expect(req.object._context).not.toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3901, 'column': 6, 'index': 118159}","  3899 |   it('context options should override _context object property when saving a new object', async () => {
  3900 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3901 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3902 |       expect(req.context.hello).not.toBeDefined();
  3903 |       expect(req._context).not.toBeDefined();
  3904 |       expect(req.object._context).not.toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3902, 'column': 6, 'index': 118201}","  3900 |     Parse.Cloud.beforeSave('TestObject', req => {
  3901 |       expect(req.context.a).toEqual('a');
> 3902 |       expect(req.context.hello).not.toBeDefined();
       |      ^ Duplicate Assert
  3903 |       expect(req._context).not.toBeDefined();
  3904 |       expect(req.object._context).not.toBeDefined();
  3905 |       expect(req.object.context).not.toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3902, 'column': 6, 'index': 118201}","  3900 |     Parse.Cloud.beforeSave('TestObject', req => {
  3901 |       expect(req.context.a).toEqual('a');
> 3902 |       expect(req.context.hello).not.toBeDefined();
       |      ^ Duplicate Assert
  3903 |       expect(req._context).not.toBeDefined();
  3904 |       expect(req.object._context).not.toBeDefined();
  3905 |       expect(req.object.context).not.toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3903, 'column': 6, 'index': 118252}","  3901 |       expect(req.context.a).toEqual('a');
  3902 |       expect(req.context.hello).not.toBeDefined();
> 3903 |       expect(req._context).not.toBeDefined();
       |      ^ Duplicate Assert
  3904 |       expect(req.object._context).not.toBeDefined();
  3905 |       expect(req.object.context).not.toBeDefined();
  3906 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3903, 'column': 6, 'index': 118252}","  3901 |       expect(req.context.a).toEqual('a');
  3902 |       expect(req.context.hello).not.toBeDefined();
> 3903 |       expect(req._context).not.toBeDefined();
       |      ^ Duplicate Assert
  3904 |       expect(req.object._context).not.toBeDefined();
  3905 |       expect(req.object.context).not.toBeDefined();
  3906 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3904, 'column': 6, 'index': 118298}","  3902 |       expect(req.context.hello).not.toBeDefined();
  3903 |       expect(req._context).not.toBeDefined();
> 3904 |       expect(req.object._context).not.toBeDefined();
       |      ^ Duplicate Assert
  3905 |       expect(req.object.context).not.toBeDefined();
  3906 |     });
  3907 |     Parse.Cloud.afterSave('TestObject', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3904, 'column': 6, 'index': 118298}","  3902 |       expect(req.context.hello).not.toBeDefined();
  3903 |       expect(req._context).not.toBeDefined();
> 3904 |       expect(req.object._context).not.toBeDefined();
       |      ^ Duplicate Assert
  3905 |       expect(req.object.context).not.toBeDefined();
  3906 |     });
  3907 |     Parse.Cloud.afterSave('TestObject', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3905, 'column': 6, 'index': 118351}","  3903 |       expect(req._context).not.toBeDefined();
  3904 |       expect(req.object._context).not.toBeDefined();
> 3905 |       expect(req.object.context).not.toBeDefined();
       |      ^ Duplicate Assert
  3906 |     });
  3907 |     Parse.Cloud.afterSave('TestObject', req => {
  3908 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3905, 'column': 6, 'index': 118351}","  3903 |       expect(req._context).not.toBeDefined();
  3904 |       expect(req.object._context).not.toBeDefined();
> 3905 |       expect(req.object.context).not.toBeDefined();
       |      ^ Duplicate Assert
  3906 |     });
  3907 |     Parse.Cloud.afterSave('TestObject', req => {
  3908 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3908, 'column': 6, 'index': 118460}","  3906 |     });
  3907 |     Parse.Cloud.afterSave('TestObject', req => {
> 3908 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3909 |       expect(req.context.hello).not.toBeDefined();
  3910 |       expect(req._context).not.toBeDefined();
  3911 |       expect(req.object._context).not.toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3908, 'column': 6, 'index': 118460}","  3906 |     });
  3907 |     Parse.Cloud.afterSave('TestObject', req => {
> 3908 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3909 |       expect(req.context.hello).not.toBeDefined();
  3910 |       expect(req._context).not.toBeDefined();
  3911 |       expect(req.object._context).not.toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3909, 'column': 6, 'index': 118502}","  3907 |     Parse.Cloud.afterSave('TestObject', req => {
  3908 |       expect(req.context.a).toEqual('a');
> 3909 |       expect(req.context.hello).not.toBeDefined();
       |      ^ Duplicate Assert
  3910 |       expect(req._context).not.toBeDefined();
  3911 |       expect(req.object._context).not.toBeDefined();
  3912 |       expect(req.object.context).not.toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3909, 'column': 6, 'index': 118502}","  3907 |     Parse.Cloud.afterSave('TestObject', req => {
  3908 |       expect(req.context.a).toEqual('a');
> 3909 |       expect(req.context.hello).not.toBeDefined();
       |      ^ Duplicate Assert
  3910 |       expect(req._context).not.toBeDefined();
  3911 |       expect(req.object._context).not.toBeDefined();
  3912 |       expect(req.object.context).not.toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3910, 'column': 6, 'index': 118553}","  3908 |       expect(req.context.a).toEqual('a');
  3909 |       expect(req.context.hello).not.toBeDefined();
> 3910 |       expect(req._context).not.toBeDefined();
       |      ^ Duplicate Assert
  3911 |       expect(req.object._context).not.toBeDefined();
  3912 |       expect(req.object.context).not.toBeDefined();
  3913 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3910, 'column': 6, 'index': 118553}","  3908 |       expect(req.context.a).toEqual('a');
  3909 |       expect(req.context.hello).not.toBeDefined();
> 3910 |       expect(req._context).not.toBeDefined();
       |      ^ Duplicate Assert
  3911 |       expect(req.object._context).not.toBeDefined();
  3912 |       expect(req.object.context).not.toBeDefined();
  3913 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3911, 'column': 6, 'index': 118599}","  3909 |       expect(req.context.hello).not.toBeDefined();
  3910 |       expect(req._context).not.toBeDefined();
> 3911 |       expect(req.object._context).not.toBeDefined();
       |      ^ Duplicate Assert
  3912 |       expect(req.object.context).not.toBeDefined();
  3913 |     });
  3914 |     await request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3911, 'column': 6, 'index': 118599}","  3909 |       expect(req.context.hello).not.toBeDefined();
  3910 |       expect(req._context).not.toBeDefined();
> 3911 |       expect(req.object._context).not.toBeDefined();
       |      ^ Duplicate Assert
  3912 |       expect(req.object.context).not.toBeDefined();
  3913 |     });
  3914 |     await request({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3912, 'column': 6, 'index': 118652}","  3910 |       expect(req._context).not.toBeDefined();
  3911 |       expect(req.object._context).not.toBeDefined();
> 3912 |       expect(req.object.context).not.toBeDefined();
       |      ^ Duplicate Assert
  3913 |     });
  3914 |     await request({
  3915 |       url: 'http://localhost:8378/1/classes/TestObject',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3912, 'column': 6, 'index': 118652}","  3910 |       expect(req._context).not.toBeDefined();
  3911 |       expect(req.object._context).not.toBeDefined();
> 3912 |       expect(req.object.context).not.toBeDefined();
       |      ^ Duplicate Assert
  3913 |     });
  3914 |     await request({
  3915 |       url: 'http://localhost:8378/1/classes/TestObject',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3929, 'column': 6, 'index': 119170}","  3927 |   it('should have access to context when saving a new object', async () => {
  3928 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3929 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3930 |     });
  3931 |     Parse.Cloud.afterSave('TestObject', req => {
  3932 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3929, 'column': 6, 'index': 119170}","  3927 |   it('should have access to context when saving a new object', async () => {
  3928 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3929 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3930 |     });
  3931 |     Parse.Cloud.afterSave('TestObject', req => {
  3932 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3932, 'column': 6, 'index': 119269}","  3930 |     });
  3931 |     Parse.Cloud.afterSave('TestObject', req => {
> 3932 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3933 |     });
  3934 |     const obj = new TestObject();
  3935 |     await obj.save(null, { context: { a: 'a' } });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3932, 'column': 6, 'index': 119269}","  3930 |     });
  3931 |     Parse.Cloud.afterSave('TestObject', req => {
> 3932 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3933 |     });
  3934 |     const obj = new TestObject();
  3935 |     await obj.save(null, { context: { a: 'a' } });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3942, 'column': 6, 'index': 119604}","  3940 |     await obj.save(null);
  3941 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3942 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3943 |     });
  3944 |     Parse.Cloud.afterSave('TestObject', req => {
  3945 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3942, 'column': 6, 'index': 119604}","  3940 |     await obj.save(null);
  3941 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3942 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3943 |     });
  3944 |     Parse.Cloud.afterSave('TestObject', req => {
  3945 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3945, 'column': 6, 'index': 119703}","  3943 |     });
  3944 |     Parse.Cloud.afterSave('TestObject', req => {
> 3945 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3946 |     });
  3947 |     await obj.save(null, { context: { a: 'a' } });
  3948 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3945, 'column': 6, 'index': 119703}","  3943 |     });
  3944 |     Parse.Cloud.afterSave('TestObject', req => {
> 3945 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3946 |     });
  3947 |     await obj.save(null, { context: { a: 'a' } });
  3948 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3952, 'column': 6, 'index': 119951}","  3950 |   it('should have access to context when saving a new object in a trigger', async () => {
  3951 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3952 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3953 |     });
  3954 |     Parse.Cloud.afterSave('TestObject', req => {
  3955 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3952, 'column': 6, 'index': 119951}","  3950 |   it('should have access to context when saving a new object in a trigger', async () => {
  3951 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3952 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3953 |     });
  3954 |     Parse.Cloud.afterSave('TestObject', req => {
  3955 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3955, 'column': 6, 'index': 120050}","  3953 |     });
  3954 |     Parse.Cloud.afterSave('TestObject', req => {
> 3955 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3956 |     });
  3957 |     Parse.Cloud.afterSave('TriggerObject', async () => {
  3958 |       const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3955, 'column': 6, 'index': 120050}","  3953 |     });
  3954 |     Parse.Cloud.afterSave('TestObject', req => {
> 3955 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3956 |     });
  3957 |     Parse.Cloud.afterSave('TriggerObject', async () => {
  3958 |       const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3967, 'column': 6, 'index': 120468}","  3965 |   it('should have access to context when cascade-saving objects', async () => {
  3966 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3967 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3968 |     });
  3969 |     Parse.Cloud.afterSave('TestObject', req => {
  3970 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3967, 'column': 6, 'index': 120468}","  3965 |   it('should have access to context when cascade-saving objects', async () => {
  3966 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3967 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3968 |     });
  3969 |     Parse.Cloud.afterSave('TestObject', req => {
  3970 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3970, 'column': 6, 'index': 120567}","  3968 |     });
  3969 |     Parse.Cloud.afterSave('TestObject', req => {
> 3970 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3971 |     });
  3972 |     Parse.Cloud.beforeSave('TestObject2', req => {
  3973 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3970, 'column': 6, 'index': 120567}","  3968 |     });
  3969 |     Parse.Cloud.afterSave('TestObject', req => {
> 3970 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3971 |     });
  3972 |     Parse.Cloud.beforeSave('TestObject2', req => {
  3973 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3973, 'column': 6, 'index': 120668}","  3971 |     });
  3972 |     Parse.Cloud.beforeSave('TestObject2', req => {
> 3973 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3974 |     });
  3975 |     Parse.Cloud.afterSave('TestObject2', req => {
  3976 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3973, 'column': 6, 'index': 120668}","  3971 |     });
  3972 |     Parse.Cloud.beforeSave('TestObject2', req => {
> 3973 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3974 |     });
  3975 |     Parse.Cloud.afterSave('TestObject2', req => {
  3976 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3976, 'column': 6, 'index': 120768}","  3974 |     });
  3975 |     Parse.Cloud.afterSave('TestObject2', req => {
> 3976 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3977 |     });
  3978 |     const obj = new Parse.Object('TestObject');
  3979 |     const obj2 = new Parse.Object('TestObject2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3976, 'column': 6, 'index': 120768}","  3974 |     });
  3975 |     Parse.Cloud.afterSave('TestObject2', req => {
> 3976 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3977 |     });
  3978 |     const obj = new Parse.Object('TestObject');
  3979 |     const obj2 = new Parse.Object('TestObject2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3986, 'column': 6, 'index': 121123}","  3984 |   it('should have access to context as saveAll argument', async () => {
  3985 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3986 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3987 |     });
  3988 |     Parse.Cloud.afterSave('TestObject', req => {
  3989 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3986, 'column': 6, 'index': 121123}","  3984 |   it('should have access to context as saveAll argument', async () => {
  3985 |     Parse.Cloud.beforeSave('TestObject', req => {
> 3986 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3987 |     });
  3988 |     Parse.Cloud.afterSave('TestObject', req => {
  3989 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3989, 'column': 6, 'index': 121222}","  3987 |     });
  3988 |     Parse.Cloud.afterSave('TestObject', req => {
> 3989 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3990 |     });
  3991 |     const obj1 = new TestObject();
  3992 |     const obj2 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3989, 'column': 6, 'index': 121222}","  3987 |     });
  3988 |     Parse.Cloud.afterSave('TestObject', req => {
> 3989 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3990 |     });
  3991 |     const obj1 = new TestObject();
  3992 |     const obj2 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3998, 'column': 6, 'index': 121547}","  3996 |   it('should have access to context as destroyAll argument', async () => {
  3997 |     Parse.Cloud.beforeDelete('TestObject', req => {
> 3998 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3999 |     });
  4000 |     Parse.Cloud.afterDelete('TestObject', req => {
  4001 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 3998, 'column': 6, 'index': 121547}","  3996 |   it('should have access to context as destroyAll argument', async () => {
  3997 |     Parse.Cloud.beforeDelete('TestObject', req => {
> 3998 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  3999 |     });
  4000 |     Parse.Cloud.afterDelete('TestObject', req => {
  4001 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4001, 'column': 6, 'index': 121648}","  3999 |     });
  4000 |     Parse.Cloud.afterDelete('TestObject', req => {
> 4001 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4002 |     });
  4003 |     const obj1 = new TestObject();
  4004 |     const obj2 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4001, 'column': 6, 'index': 121648}","  3999 |     });
  4000 |     Parse.Cloud.afterDelete('TestObject', req => {
> 4001 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4002 |     });
  4003 |     const obj1 = new TestObject();
  4004 |     const obj2 = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4011, 'column': 6, 'index': 122019}","  4009 |   it('should have access to context as destroy a object', async () => {
  4010 |     Parse.Cloud.beforeDelete('TestObject', req => {
> 4011 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4012 |     });
  4013 |     Parse.Cloud.afterDelete('TestObject', req => {
  4014 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4011, 'column': 6, 'index': 122019}","  4009 |   it('should have access to context as destroy a object', async () => {
  4010 |     Parse.Cloud.beforeDelete('TestObject', req => {
> 4011 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4012 |     });
  4013 |     Parse.Cloud.afterDelete('TestObject', req => {
  4014 |       expect(req.context.a).toEqual('a');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4014, 'column': 6, 'index': 122120}","  4012 |     });
  4013 |     Parse.Cloud.afterDelete('TestObject', req => {
> 4014 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4015 |     });
  4016 |     const obj = new TestObject();
  4017 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4014, 'column': 6, 'index': 122120}","  4012 |     });
  4013 |     Parse.Cloud.afterDelete('TestObject', req => {
> 4014 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4015 |     });
  4016 |     const obj = new TestObject();
  4017 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4050, 'column': 6, 'index': 123307}","  4048 |   it('beforeFind and afterFind should have access to context while making fetch call', async () => {
  4049 |     Parse.Cloud.beforeFind('TestObject', req => {
> 4050 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4051 |       expect(req.context.b).toBeUndefined();
  4052 |       req.context.b = 'b';
  4053 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4050, 'column': 6, 'index': 123307}","  4048 |   it('beforeFind and afterFind should have access to context while making fetch call', async () => {
  4049 |     Parse.Cloud.beforeFind('TestObject', req => {
> 4050 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4051 |       expect(req.context.b).toBeUndefined();
  4052 |       req.context.b = 'b';
  4053 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4051, 'column': 6, 'index': 123349}","  4049 |     Parse.Cloud.beforeFind('TestObject', req => {
  4050 |       expect(req.context.a).toEqual('a');
> 4051 |       expect(req.context.b).toBeUndefined();
       |      ^ Duplicate Assert
  4052 |       req.context.b = 'b';
  4053 |     });
  4054 |     Parse.Cloud.afterFind('TestObject', req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4055, 'column': 6, 'index': 123478}","  4053 |     });
  4054 |     Parse.Cloud.afterFind('TestObject', req => {
> 4055 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4056 |       expect(req.context.b).toEqual('b');
  4057 |     });
  4058 |     const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4055, 'column': 6, 'index': 123478}","  4053 |     });
  4054 |     Parse.Cloud.afterFind('TestObject', req => {
> 4055 |       expect(req.context.a).toEqual('a');
       |      ^ Duplicate Assert
  4056 |       expect(req.context.b).toEqual('b');
  4057 |     });
  4058 |     const obj = new TestObject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4056, 'column': 6, 'index': 123520}","  4054 |     Parse.Cloud.afterFind('TestObject', req => {
  4055 |       expect(req.context.a).toEqual('a');
> 4056 |       expect(req.context.b).toEqual('b');
       |      ^ Duplicate Assert
  4057 |     });
  4058 |     const obj = new TestObject();
  4059 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4213, 'column': 6, 'index': 129686}","  4211 |     const createFileSpy = spyOn(mockAdapter, 'createFile').and.callThrough();
  4212 |     Parse.Cloud.beforeSave(Parse.File, req => {
> 4213 |       expect(req.fileSize).toBe(3);
       |      ^ Duplicate Assert
  4214 |       const newFile = new Parse.File('some-file.txt');
  4215 |       newFile._url = 'http://www.somewhere.com/parse/files/some-app-id/some-file.txt';
  4216 |       return newFile;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4219, 'column': 6, 'index': 129941}","  4217 |     });
  4218 |     Parse.Cloud.afterSave(Parse.File, req => {
> 4219 |       expect(req.fileSize).toBe(null);
       |      ^ Duplicate Assert
  4220 |     });
  4221 |     const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
  4222 |     const result = await file.save({ useMasterKey: true });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4262, 'column': 6, 'index': 131698}","  4260 |     await reconfigureServer({ filesAdapter: mockAdapter });
  4261 |     Parse.Cloud.beforeSave(Parse.File, async req => {
> 4262 |       expect(req.fileSize).toBe(3);
       |      ^ Duplicate Assert
  4263 |       expect(req.master).toBe(true);
  4264 |       const newFile = new Parse.File('donald_duck.pdf', [4, 5, 6, 7, 8, 9], 'application/pdf');
  4265 |       return newFile;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4263, 'column': 6, 'index': 131734}","  4261 |     Parse.Cloud.beforeSave(Parse.File, async req => {
  4262 |       expect(req.fileSize).toBe(3);
> 4263 |       expect(req.master).toBe(true);
       |      ^ Duplicate Assert
  4264 |       const newFile = new Parse.File('donald_duck.pdf', [4, 5, 6, 7, 8, 9], 'application/pdf');
  4265 |       return newFile;
  4266 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4263, 'column': 6, 'index': 131734}","  4261 |     Parse.Cloud.beforeSave(Parse.File, async req => {
  4262 |       expect(req.fileSize).toBe(3);
> 4263 |       expect(req.master).toBe(true);
       |      ^ Duplicate Assert
  4264 |       const newFile = new Parse.File('donald_duck.pdf', [4, 5, 6, 7, 8, 9], 'application/pdf');
  4265 |       return newFile;
  4266 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4268, 'column': 6, 'index': 131950}","  4266 |     });
  4267 |     Parse.Cloud.afterSave(Parse.File, async req => {
> 4268 |       expect(req.fileSize).toBe(6);
       |      ^ Duplicate Assert
  4269 |       expect(req.master).toBe(true);
  4270 |       done();
  4271 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4269, 'column': 6, 'index': 131986}","  4267 |     Parse.Cloud.afterSave(Parse.File, async req => {
  4268 |       expect(req.fileSize).toBe(6);
> 4269 |       expect(req.master).toBe(true);
       |      ^ Duplicate Assert
  4270 |       done();
  4271 |     });
  4272 |     const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4269, 'column': 6, 'index': 131986}","  4267 |     Parse.Cloud.afterSave(Parse.File, async req => {
  4268 |       expect(req.fileSize).toBe(6);
> 4269 |       expect(req.master).toBe(true);
       |      ^ Duplicate Assert
  4270 |       done();
  4271 |     });
  4272 |     const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4305, 'column': 6, 'index': 133313}","  4303 |     await reconfigureServer({ filesAdapter: mockAdapter });
  4304 |     Parse.Cloud.beforeDelete(Parse.File, req => {
> 4305 |       expect(req.file).toBeInstanceOf(Parse.File);
       |      ^ Duplicate Assert
  4306 |       expect(req.file._name).toEqual('popeye.txt');
  4307 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
  4308 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4305, 'column': 6, 'index': 133313}","  4303 |     await reconfigureServer({ filesAdapter: mockAdapter });
  4304 |     Parse.Cloud.beforeDelete(Parse.File, req => {
> 4305 |       expect(req.file).toBeInstanceOf(Parse.File);
       |      ^ Duplicate Assert
  4306 |       expect(req.file._name).toEqual('popeye.txt');
  4307 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
  4308 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4306, 'column': 6, 'index': 133364}","  4304 |     Parse.Cloud.beforeDelete(Parse.File, req => {
  4305 |       expect(req.file).toBeInstanceOf(Parse.File);
> 4306 |       expect(req.file._name).toEqual('popeye.txt');
       |      ^ Duplicate Assert
  4307 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
  4308 |     });
  4309 |     Parse.Cloud.afterDelete(Parse.File, req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4306, 'column': 6, 'index': 133364}","  4304 |     Parse.Cloud.beforeDelete(Parse.File, req => {
  4305 |       expect(req.file).toBeInstanceOf(Parse.File);
> 4306 |       expect(req.file._name).toEqual('popeye.txt');
       |      ^ Duplicate Assert
  4307 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
  4308 |     });
  4309 |     Parse.Cloud.afterDelete(Parse.File, req => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4307, 'column': 6, 'index': 133416}","  4305 |       expect(req.file).toBeInstanceOf(Parse.File);
  4306 |       expect(req.file._name).toEqual('popeye.txt');
> 4307 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
       |      ^ Duplicate Assert
  4308 |     });
  4309 |     Parse.Cloud.afterDelete(Parse.File, req => {
  4310 |       expect(req.file).toBeInstanceOf(Parse.File);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4307, 'column': 6, 'index': 133416}","  4305 |       expect(req.file).toBeInstanceOf(Parse.File);
  4306 |       expect(req.file._name).toEqual('popeye.txt');
> 4307 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
       |      ^ Duplicate Assert
  4308 |     });
  4309 |     Parse.Cloud.afterDelete(Parse.File, req => {
  4310 |       expect(req.file).toBeInstanceOf(Parse.File);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4310, 'column': 6, 'index': 133549}","  4308 |     });
  4309 |     Parse.Cloud.afterDelete(Parse.File, req => {
> 4310 |       expect(req.file).toBeInstanceOf(Parse.File);
       |      ^ Duplicate Assert
  4311 |       expect(req.file._name).toEqual('popeye.txt');
  4312 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
  4313 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4310, 'column': 6, 'index': 133549}","  4308 |     });
  4309 |     Parse.Cloud.afterDelete(Parse.File, req => {
> 4310 |       expect(req.file).toBeInstanceOf(Parse.File);
       |      ^ Duplicate Assert
  4311 |       expect(req.file._name).toEqual('popeye.txt');
  4312 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
  4313 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4311, 'column': 6, 'index': 133600}","  4309 |     Parse.Cloud.afterDelete(Parse.File, req => {
  4310 |       expect(req.file).toBeInstanceOf(Parse.File);
> 4311 |       expect(req.file._name).toEqual('popeye.txt');
       |      ^ Duplicate Assert
  4312 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
  4313 |       done();
  4314 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4311, 'column': 6, 'index': 133600}","  4309 |     Parse.Cloud.afterDelete(Parse.File, req => {
  4310 |       expect(req.file).toBeInstanceOf(Parse.File);
> 4311 |       expect(req.file._name).toEqual('popeye.txt');
       |      ^ Duplicate Assert
  4312 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
  4313 |       done();
  4314 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4312, 'column': 6, 'index': 133652}","  4310 |       expect(req.file).toBeInstanceOf(Parse.File);
  4311 |       expect(req.file._name).toEqual('popeye.txt');
> 4312 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
       |      ^ Duplicate Assert
  4313 |       done();
  4314 |     });
  4315 |     const file = new Parse.File('popeye.txt');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4312, 'column': 6, 'index': 133652}","  4310 |       expect(req.file).toBeInstanceOf(Parse.File);
  4311 |       expect(req.file._name).toEqual('popeye.txt');
> 4312 |       expect(req.file._url).toEqual('http://www.somewhere.com/popeye.txt');
       |      ^ Duplicate Assert
  4313 |       done();
  4314 |     });
  4315 |     const file = new Parse.File('popeye.txt');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4365, 'column': 8, 'index': 135419}","  4363 |     const hooks = {
  4364 |       beforeFind(req) {
> 4365 |         expect(req).toBeDefined();
       |        ^ Duplicate Assert
  4366 |         expect(req.file).toBeDefined();
  4367 |         expect(req.triggerName).toBe('beforeFind');
  4368 |         expect(req.master).toBeFalse();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4365, 'column': 8, 'index': 135419}","  4363 |     const hooks = {
  4364 |       beforeFind(req) {
> 4365 |         expect(req).toBeDefined();
       |        ^ Duplicate Assert
  4366 |         expect(req.file).toBeDefined();
  4367 |         expect(req.triggerName).toBe('beforeFind');
  4368 |         expect(req.master).toBeFalse();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4366, 'column': 8, 'index': 135454}","  4364 |       beforeFind(req) {
  4365 |         expect(req).toBeDefined();
> 4366 |         expect(req.file).toBeDefined();
       |        ^ Duplicate Assert
  4367 |         expect(req.triggerName).toBe('beforeFind');
  4368 |         expect(req.master).toBeFalse();
  4369 |         expect(req.log).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4366, 'column': 8, 'index': 135454}","  4364 |       beforeFind(req) {
  4365 |         expect(req).toBeDefined();
> 4366 |         expect(req.file).toBeDefined();
       |        ^ Duplicate Assert
  4367 |         expect(req.triggerName).toBe('beforeFind');
  4368 |         expect(req.master).toBeFalse();
  4369 |         expect(req.log).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4367, 'column': 8, 'index': 135494}","  4365 |         expect(req).toBeDefined();
  4366 |         expect(req.file).toBeDefined();
> 4367 |         expect(req.triggerName).toBe('beforeFind');
       |        ^ Duplicate Assert
  4368 |         expect(req.master).toBeFalse();
  4369 |         expect(req.log).toBeDefined();
  4370 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4368, 'column': 8, 'index': 135546}","  4366 |         expect(req.file).toBeDefined();
  4367 |         expect(req.triggerName).toBe('beforeFind');
> 4368 |         expect(req.master).toBeFalse();
       |        ^ Duplicate Assert
  4369 |         expect(req.log).toBeDefined();
  4370 |       },
  4371 |       afterFind(req) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4369, 'column': 8, 'index': 135586}","  4367 |         expect(req.triggerName).toBe('beforeFind');
  4368 |         expect(req.master).toBeFalse();
> 4369 |         expect(req.log).toBeDefined();
       |        ^ Duplicate Assert
  4370 |       },
  4371 |       afterFind(req) {
  4372 |         expect(req).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4369, 'column': 8, 'index': 135586}","  4367 |         expect(req.triggerName).toBe('beforeFind');
  4368 |         expect(req.master).toBeFalse();
> 4369 |         expect(req.log).toBeDefined();
       |        ^ Duplicate Assert
  4370 |       },
  4371 |       afterFind(req) {
  4372 |         expect(req).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4372, 'column': 8, 'index': 135657}","  4370 |       },
  4371 |       afterFind(req) {
> 4372 |         expect(req).toBeDefined();
       |        ^ Duplicate Assert
  4373 |         expect(req.file).toBeDefined();
  4374 |         expect(req.triggerName).toBe('afterFind');
  4375 |         expect(req.master).toBeFalse();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4372, 'column': 8, 'index': 135657}","  4370 |       },
  4371 |       afterFind(req) {
> 4372 |         expect(req).toBeDefined();
       |        ^ Duplicate Assert
  4373 |         expect(req.file).toBeDefined();
  4374 |         expect(req.triggerName).toBe('afterFind');
  4375 |         expect(req.master).toBeFalse();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4373, 'column': 8, 'index': 135692}","  4371 |       afterFind(req) {
  4372 |         expect(req).toBeDefined();
> 4373 |         expect(req.file).toBeDefined();
       |        ^ Duplicate Assert
  4374 |         expect(req.triggerName).toBe('afterFind');
  4375 |         expect(req.master).toBeFalse();
  4376 |         expect(req.log).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4373, 'column': 8, 'index': 135692}","  4371 |       afterFind(req) {
  4372 |         expect(req).toBeDefined();
> 4373 |         expect(req.file).toBeDefined();
       |        ^ Duplicate Assert
  4374 |         expect(req.triggerName).toBe('afterFind');
  4375 |         expect(req.master).toBeFalse();
  4376 |         expect(req.log).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4374, 'column': 8, 'index': 135732}","  4372 |         expect(req).toBeDefined();
  4373 |         expect(req.file).toBeDefined();
> 4374 |         expect(req.triggerName).toBe('afterFind');
       |        ^ Duplicate Assert
  4375 |         expect(req.master).toBeFalse();
  4376 |         expect(req.log).toBeDefined();
  4377 |         expect(req.forceDownload).toBeFalse();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4375, 'column': 8, 'index': 135783}","  4373 |         expect(req.file).toBeDefined();
  4374 |         expect(req.triggerName).toBe('afterFind');
> 4375 |         expect(req.master).toBeFalse();
       |        ^ Duplicate Assert
  4376 |         expect(req.log).toBeDefined();
  4377 |         expect(req.forceDownload).toBeFalse();
  4378 |       },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4376, 'column': 8, 'index': 135823}","  4374 |         expect(req.triggerName).toBe('afterFind');
  4375 |         expect(req.master).toBeFalse();
> 4376 |         expect(req.log).toBeDefined();
       |        ^ Duplicate Assert
  4377 |         expect(req.forceDownload).toBeFalse();
  4378 |       },
  4379 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Duplicate Assert,"{'line': 4376, 'column': 8, 'index': 135823}","  4374 |         expect(req.triggerName).toBe('afterFind');
  4375 |         expect(req.master).toBeFalse();
> 4376 |         expect(req.log).toBeDefined();
       |        ^ Duplicate Assert
  4377 |         expect(req.forceDownload).toBeFalse();
  4378 |       },
  4379 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 69, 'column': 10, 'index': 2418}","  67 |         await new Promise(resolve => setTimeout(resolve, 1000));
  68 |         Parse.Cloud.beforeSave('Test', () => {
> 69 |           throw 'Cannot save.';
     |          ^ Exception Handling
  70 |         });
  71 |       },
  72 |     }).start();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 139, 'column': 6, 'index': 4677}","  137 |   it('basic beforeSave rejection', function (done) {
  138 |     Parse.Cloud.beforeSave('BeforeSaveFail', function () {
> 139 |       throw new Error('You shall not pass!');
      |      ^ Exception Handling
  140 |     });
  141 |
  142 |     const obj = new Parse.Object('BeforeSaveFail');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 174, 'column': 6, 'index': 5556}","  172 |   it('returns an empty error', done => {
  173 |     Parse.Cloud.define('cloudCodeWithError', () => {
> 174 |       throw null;
      |      ^ Exception Handling
  175 |     });
  176 |
  177 |     Parse.Cloud.run('cloudCodeWithError').then("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 189, 'column': 6, 'index': 5948}","  187 |   it('beforeFind can throw string', async function (done) {
  188 |     Parse.Cloud.beforeFind('beforeFind', () => {
> 189 |       throw 'throw beforeFind';
      |      ^ Exception Handling
  190 |     });
  191 |     const obj = new Parse.Object('beforeFind');
  192 |     obj.set('foo', 'bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 195, 'column': 4, 'index': 6123}","  193 |     await obj.save();
  194 |     expect(obj.get('foo')).toBe('bar');
> 195 |     try {
      |    ^ Exception Handling
  196 |       const query = new Parse.Query('beforeFind');
  197 |       await query.first();
  198 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 547, 'column': 6, 'index': 17241}","  545 |   it('beforeSave rejection with custom error code', function (done) {
  546 |     Parse.Cloud.beforeSave('BeforeSaveFailWithErrorCode', function () {
> 547 |       throw new Parse.Error(999, 'Nope');
      |      ^ Exception Handling
  548 |     });
  549 |
  550 |     const obj = new Parse.Object('BeforeSaveFailWithErrorCode');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 570, 'column': 10, 'index': 17919}","  568 |       return query.find().then(
  569 |         () => {
> 570 |           throw 'Nope';
      |          ^ Exception Handling
  571 |         },
  572 |         () => {
  573 |           return Promise.response();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 628, 'column': 4, 'index': 19383}","  626 |     const obj = new Parse.Object('BeforeSaveChanged');
  627 |     obj.set('foo', 'bar');
> 628 |     try {
      |    ^ Exception Handling
  629 |       await obj.save();
  630 |       fail('should not succeed');
  631 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 649, 'column': 4, 'index': 19995}","  647 |     await obj.save();
  648 |     obj.set('foo', 'baz').set('fail', true);
> 649 |     try {
      |    ^ Exception Handling
  650 |       await obj.save();
  651 |     } catch (e) {
  652 |       await obj.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 858, 'column': 4, 'index': 26827}","  856 |
  857 |     let catched = false;
> 858 |     try {
      |    ^ Exception Handling
  859 |       await triggerobject2.save(undefined, {
  860 |         sessionToken: triggeruser3.getSessionToken(),
  861 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 870, 'column': 4, 'index': 27131}","  868 |
  869 |     catched = false;
> 870 |     try {
      |    ^ Exception Handling
  871 |       await triggerobject2.save(undefined, {
  872 |         sessionToken: triggeruser4.getSessionToken(),
  873 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 882, 'column': 4, 'index': 27435}","  880 |
  881 |     catched = false;
> 882 |     try {
      |    ^ Exception Handling
  883 |       await triggerobject2.save(undefined, {
  884 |         sessionToken: triggeruser5.getSessionToken(),
  885 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 898, 'column': 4, 'index': 27903}","  896 |
  897 |     catched = false;
> 898 |     try {
      |    ^ Exception Handling
  899 |       await triggerobject3.save(undefined, {
  900 |         sessionToken: triggeruser4.getSessionToken(),
  901 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 910, 'column': 4, 'index': 28182}","  908 |
  909 |     catched = false;
> 910 |     try {
      |    ^ Exception Handling
  911 |       await triggerobject3.save(undefined, {
  912 |         sessionToken: triggeruser5.getSessionToken(),
  913 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 1131, 'column': 6, 'index': 34238}","  1129 |   it('test beforeDelete failure', function (done) {
  1130 |     Parse.Cloud.beforeDelete('BeforeDeleteFail', function () {
> 1131 |       throw 'Nope';
       |      ^ Exception Handling
  1132 |     });
  1133 |
  1134 |     const obj = new Parse.Object('BeforeDeleteFail');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 1178, 'column': 8, 'index': 35470}","  1176 |       const query = new Parse.Query('Yolo');
  1177 |       return query.find().then(() => {
> 1178 |         throw 'Nope';
       |        ^ Exception Handling
  1179 |       });
  1180 |     });
  1181 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 1404, 'column': 8, 'index': 42207}","  1402 |         expect(object.get('foo')).toEqual('baz');
  1403 |       } else {
> 1404 |         throw new Error();
       |        ^ Exception Handling
  1405 |       }
  1406 |       triggerTime++;
  1407 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 1479, 'column': 8, 'index': 43911}","  1477 |         return;
  1478 |       } else {
> 1479 |         throw new Error('No user present on request object for beforeSave.');
       |        ^ Exception Handling
  1480 |       }
  1481 |     });
  1482 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 2132, 'column': 6, 'index': 63906}","  2130 |   it('should succeed on afterSave exception', done => {
  2131 |     Parse.Cloud.afterSave('AfterSaveTestClass', function () {
> 2132 |       throw 'Exception';
       |      ^ Exception Handling
  2133 |     });
  2134 |     const AfterSaveTestClass = Parse.Object.extend('AfterSaveTestClass');
  2135 |     const obj = new AfterSaveTestClass();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 2327, 'column': 8, 'index': 70194}","  2325 |     it('should set the failure message on the job error', async () => {
  2326 |       Parse.Cloud.job('myJobError', () => {
> 2327 |         throw new Parse.Error(Parse.Error.OBJECT_NOT_FOUND, 'Something went wrong');
       |        ^ Exception Handling
  2328 |       });
  2329 |       const job = await Parse.Cloud.startJob('myJobError');
  2330 |       let jobStatus, status;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3075, 'column': 6, 'index': 92923}","  3073 |   it('should handle failures', done => {
  3074 |     Parse.Cloud.afterFind('MyObject', () => {
> 3075 |       throw new Parse.Error(Parse.Error.SCRIPT_FAILED, 'It should fail');
       |      ^ Exception Handling
  3076 |     });
  3077 |     const obj = new Parse.Object('MyObject');
  3078 |     obj.set('secretField', 'SSID');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3408, 'column': 4, 'index': 103716}","  3406 |       },
  3407 |     });
> 3408 |     try {
       |    ^ Exception Handling
  3409 |       await req;
  3410 |       fail('Should have thrown error');
  3411 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3440, 'column': 4, 'index': 104581}","  3438 |       },
  3439 |     });
> 3440 |     try {
       |    ^ Exception Handling
  3441 |       await req;
  3442 |       fail('Should have thrown error');
  3443 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3538, 'column': 4, 'index': 107615}","  3536 |       },
  3537 |     });
> 3538 |     try {
       |    ^ Exception Handling
  3539 |       await req;
  3540 |       fail('Should have thrown error');
  3541 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3571, 'column': 4, 'index': 108524}","  3569 |       },
  3570 |     });
> 3571 |     try {
       |    ^ Exception Handling
  3572 |       await req;
  3573 |       fail('Should have thrown error');
  3574 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3647, 'column': 8, 'index': 110734}","  3645 |       hit++;
  3646 |       if (req.object.get('isBanned')) {
> 3647 |         throw new Error('banned account');
       |        ^ Exception Handling
  3648 |       }
  3649 |     });
  3650 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3654, 'column': 4, 'index': 110893}","  3652 |     await user.save({ isBanned: true });
  3653 |
> 3654 |     try {
       |    ^ Exception Handling
  3655 |       await Parse.User.logIn('tupac', 'shakur');
  3656 |       throw new Error('should not have been logged in.');
  3657 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3656, 'column': 6, 'index': 110954}","  3654 |     try {
  3655 |       await Parse.User.logIn('tupac', 'shakur');
> 3656 |       throw new Error('should not have been logged in.');
       |      ^ Exception Handling
  3657 |     } catch (e) {
  3658 |       expect(e.message).toBe('banned account');
  3659 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3669, 'column': 8, 'index': 111350}","  3667 |       hit++;
  3668 |       if (req.object.get('isBanned')) {
> 3669 |         throw new Error('banned account');
       |        ^ Exception Handling
  3670 |       }
  3671 |     });
  3672 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3679, 'column': 4, 'index': 111656}","  3677 |     await user.save({ isBanned: true, file });
  3678 |
> 3679 |     try {
       |    ^ Exception Handling
  3680 |       await Parse.User.logIn('tupac', 'shakur');
  3681 |       throw new Error('should not have been logged in.');
  3682 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3681, 'column': 6, 'index': 111717}","  3679 |     try {
  3680 |       await Parse.User.logIn('tupac', 'shakur');
> 3681 |       throw new Error('should not have been logged in.');
       |      ^ Exception Handling
  3682 |     } catch (e) {
  3683 |       expect(e.message).toBe('banned account');
  3684 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3697, 'column': 4, 'index': 112150}","  3695 |
  3696 |     await Parse.User.signUp('tupac', 'shakur');
> 3697 |     try {
       |    ^ Exception Handling
  3698 |       await Parse.User.logIn('tony', 'shakur');
  3699 |     } catch (e) {
  3700 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3739, 'column': 8, 'index': 113322}","  3737 |     const trigger = {
  3738 |       afterLogin() {
> 3739 |         throw error;
       |        ^ Exception Handling
  3740 |       },
  3741 |     };
  3742 |     const spy = spyOn(trigger, 'afterLogin').and.callThrough();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3754, 'column': 8, 'index': 113855}","  3752 |     const trigger = {
  3753 |       afterLogout() {
> 3754 |         throw error;
       |        ^ Exception Handling
  3755 |       },
  3756 |     };
  3757 |     const spy = spyOn(trigger, 'afterLogout').and.callThrough();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 3861, 'column': 4, 'index': 116896}","  3859 |
  3860 |     await Parse.User.signUp('testuser', 'p@ssword');
> 3861 |     try {
       |    ^ Exception Handling
  3862 |       await Parse.User.logIn('testuser', 'badpassword');
  3863 |     } catch (e) {
  3864 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4084, 'column': 6, 'index': 124737}","  4082 |     await reconfigureServer({ filesAdapter: mockAdapter });
  4083 |     Parse.Cloud.beforeSave(Parse.File, () => {
> 4084 |       throw new Parse.Error(400, 'some-error-message');
       |      ^ Exception Handling
  4085 |     });
  4086 |     const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
  4087 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4087, 'column': 4, 'index': 124871}","  4085 |     });
  4086 |     const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
> 4087 |     try {
       |    ^ Exception Handling
  4088 |       await file.save({ useMasterKey: true });
  4089 |     } catch (error) {
  4090 |       expect(error.message).toBe('some-error-message');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4232, 'column': 6, 'index': 130530}","  4230 |     await reconfigureServer({ filesAdapter: mockAdapter });
  4231 |     Parse.Cloud.afterSave(Parse.File, async () => {
> 4232 |       throw new Parse.Error(400, 'some-error-message');
       |      ^ Exception Handling
  4233 |     });
  4234 |     const filename = 'donald_duck.pdf';
  4235 |     const file = new Parse.File(filename, [1, 2, 3], 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4236, 'column': 4, 'index': 130700}","  4234 |     const filename = 'donald_duck.pdf';
  4235 |     const file = new Parse.File(filename, [1, 2, 3], 'text/plain');
> 4236 |     try {
       |    ^ Exception Handling
  4237 |       await file.save({ useMasterKey: true });
  4238 |     } catch (error) {
  4239 |       expect(error.message).toBe('some-error-message');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4291, 'column': 6, 'index': 132861}","  4289 |     await reconfigureServer({ filesAdapter: mockAdapter });
  4290 |     Parse.Cloud.beforeDelete(Parse.File, () => {
> 4291 |       throw new Error('some error message');
       |      ^ Exception Handling
  4292 |     });
  4293 |     const file = new Parse.File('popeye.txt');
  4294 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4294, 'column': 4, 'index': 132959}","  4292 |     });
  4293 |     const file = new Parse.File('popeye.txt');
> 4294 |     try {
       |    ^ Exception Handling
  4295 |       await file.destroy({ useMasterKey: true });
  4296 |     } catch (error) {
  4297 |       expect(error.message).toBe('some error message');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4331, 'column': 6, 'index': 134362}","  4329 |   it('throw custom error from beforeSave(Parse.File) ', async done => {
  4330 |     Parse.Cloud.beforeSave(Parse.File, () => {
> 4331 |       throw new Parse.Error(Parse.Error.SCRIPT_FAILED, 'It should fail');
       |      ^ Exception Handling
  4332 |     });
  4333 |     try {
  4334 |       const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4333, 'column': 4, 'index': 134442}","  4331 |       throw new Parse.Error(Parse.Error.SCRIPT_FAILED, 'It should fail');
  4332 |     });
> 4333 |     try {
       |    ^ Exception Handling
  4334 |       const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
  4335 |       await file.save({ useMasterKey: true });
  4336 |       fail('error should have thrown');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4345, 'column': 6, 'index': 134831}","  4343 |   it('throw empty error from beforeSave(Parse.File)', async done => {
  4344 |     Parse.Cloud.beforeSave(Parse.File, () => {
> 4345 |       throw null;
       |      ^ Exception Handling
  4346 |     });
  4347 |     try {
  4348 |       const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4347, 'column': 4, 'index': 134855}","  4345 |       throw null;
  4346 |     });
> 4347 |     try {
       |    ^ Exception Handling
  4348 |       const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
  4349 |       await file.save({ useMasterKey: true });
  4350 |       fail('error should have thrown');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4403, 'column': 8, 'index': 136631}","  4401 |     const hooks = {
  4402 |       beforeFind() {
> 4403 |         throw 'unauthorized';
       |        ^ Exception Handling
  4404 |       },
  4405 |       afterFind() { },
  4406 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4420, 'column': 8, 'index': 137093}","  4418 |         },
  4419 |       }).catch(e => {
> 4420 |         throw new Parse.Error(e.data.code, e.data.error);
       |        ^ Exception Handling
  4421 |       })
  4422 |     ).toBeRejectedWith(new Parse.Error(Parse.Error.SCRIPT_FAILED, 'unauthorized'));
  4423 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4435, 'column': 8, 'index': 137642}","  4433 |       beforeFind() { },
  4434 |       afterFind() {
> 4435 |         throw 'unauthorized';
       |        ^ Exception Handling
  4436 |       },
  4437 |     };
  4438 |     for (const hook in hooks) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4451, 'column': 8, 'index': 138081}","  4449 |         },
  4450 |       }).catch(e => {
> 4451 |         throw new Parse.Error(e.data.code, e.data.error);
       |        ^ Exception Handling
  4452 |       })
  4453 |     ).toBeRejectedWith(new Parse.Error(Parse.Error.SCRIPT_FAILED, 'unauthorized'));
  4454 |     for (const hook in hooks) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4541, 'column': 6, 'index': 141293}","  4539 |   it('beforeSave(Parse.Config) throw custom error', async () => {
  4540 |     Parse.Cloud.beforeSave(Parse.Config, () => {
> 4541 |       throw new Parse.Error(Parse.Error.SCRIPT_FAILED, 'It should fail');
       |      ^ Exception Handling
  4542 |     });
  4543 |     try {
  4544 |       await testConfig();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4543, 'column': 4, 'index': 141373}","  4541 |       throw new Parse.Error(Parse.Error.SCRIPT_FAILED, 'It should fail');
  4542 |     });
> 4543 |     try {
       |    ^ Exception Handling
  4544 |       await testConfig();
  4545 |       fail('error should have thrown');
  4546 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4554, 'column': 6, 'index': 141699}","  4552 |   it('beforeSave(Parse.Config) throw string error', async () => {
  4553 |     Parse.Cloud.beforeSave(Parse.Config, () => {
> 4554 |       throw 'before save failed';
       |      ^ Exception Handling
  4555 |     });
  4556 |     try {
  4557 |       await testConfig();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4556, 'column': 4, 'index': 141739}","  4554 |       throw 'before save failed';
  4555 |     });
> 4556 |     try {
       |    ^ Exception Handling
  4557 |       await testConfig();
  4558 |       fail('error should have thrown');
  4559 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4567, 'column': 6, 'index': 142068}","  4565 |   it('beforeSave(Parse.Config) throw empty error', async () => {
  4566 |     Parse.Cloud.beforeSave(Parse.Config, () => {
> 4567 |       throw null;
       |      ^ Exception Handling
  4568 |     });
  4569 |     try {
  4570 |       await testConfig();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Exception Handling,"{'line': 4569, 'column': 4, 'index': 142092}","  4567 |       throw null;
  4568 |     });
> 4569 |     try {
       |    ^ Exception Handling
  4570 |       await testConfig();
  4571 |       fail('error should have thrown');
  4572 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 271, 'column': 40, 'index': 8857}","  269 |       });
  270 |       Parse.Cloud.afterFind('TestObject', req => {
> 271 |         expect(req.objects.length).toBe(0);
      |                                        ^ Magic Number
  272 |       });
  273 |
  274 |       const obj = new Parse.Object('TestObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 321, 'column': 34, 'index': 10368}","  319 |       const q = new Parse.Query('SecretDoc');
  320 |       const results = await q.find({ sessionToken: userA.getSessionToken() });
> 321 |       expect(results.length).toBe(0);
      |                                  ^ Magic Number
  322 |     });
  323 |
  324 |     it('should allow authorized user to see their objects', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 327, 'column': 34, 'index': 10614}","  325 |       const q = new Parse.Query('SecretDoc');
  326 |       const results = await q.find({ sessionToken: userB.getSessionToken() });
> 327 |       expect(results.length).toBe(1);
      |                                  ^ Magic Number
  328 |       expect(results[0].id).toBe(secret.id);
  329 |       expect(results[0].get('title')).toBe('top');
  330 |       expect(results[0].get('content')).toBe('classified');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 343, 'column': 34, 'index': 11344}","  341 |       const q = new Parse.Query('SecretDoc');
  342 |       const results = await q.find({ useMasterKey: true });
> 343 |       expect(results.length).toBe(1);
      |                                  ^ Magic Number
  344 |       expect(results[0].id).toBe(secret.id);
  345 |     });
  346 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 407, 'column': 33, 'index': 13587}","  405 |       expect(result).toBeDefined();
  406 |       expect(Array.isArray(result)).toBe(true);
> 407 |       expect(result.length).toBe(2);
      |                                 ^ Magic Number
  408 |       expect(result[0].name).toBe('test1');
  409 |       expect(result[1].name).toBe('test2');
  410 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 498, 'column': 31, 'index': 15966}","  496 |       expect(receivedQuery).toBeInstanceOf(Parse.Query);
  497 |       const qJSON = receivedQuery.toJSON();
> 498 |       expect(qJSON.limit).toBe(5);
      |                               ^ Magic Number
  499 |       expect(qJSON.skip).toBe(1);
  500 |       expect(qJSON.where).toEqual({});
  501 |       expect(result).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 499, 'column': 30, 'index': 16000}","  497 |       const qJSON = receivedQuery.toJSON();
  498 |       expect(qJSON.limit).toBe(5);
> 499 |       expect(qJSON.skip).toBe(1);
      |                              ^ Magic Number
  500 |       expect(qJSON.where).toEqual({});
  501 |       expect(result).toBeDefined();
  502 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 558, 'column': 35, 'index': 17590}","  556 |       },
  557 |       function (error) {
> 558 |         expect(error.code).toEqual(999);
      |                                   ^ Magic Number
  559 |         expect(error.message).toEqual('Nope');
  560 |         done();
  561 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 816, 'column': 24, 'index': 25292}","  814 |       sessionToken: triggeruser.getSessionToken(),
  815 |     });
> 816 |     expect(called).toBe(1);
      |                        ^ Magic Number
  817 |     await triggerobject.save(undefined, {
  818 |       sessionToken: triggeruser.getSessionToken(),
  819 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 820, 'column': 24, 'index': 25421}","  818 |       sessionToken: triggeruser.getSessionToken(),
  819 |     });
> 820 |     expect(called).toBe(2);
      |                        ^ Magic Number
  821 |     await triggerobject.save(undefined, {
  822 |       sessionToken: triggeruser2.getSessionToken(),
  823 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 824, 'column': 24, 'index': 25551}","  822 |       sessionToken: triggeruser2.getSessionToken(),
  823 |     });
> 824 |     expect(called).toBe(3);
      |                        ^ Magic Number
  825 |     await triggerobject.save(undefined, {
  826 |       sessionToken: triggeruser3.getSessionToken(),
  827 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 828, 'column': 24, 'index': 25681}","  826 |       sessionToken: triggeruser3.getSessionToken(),
  827 |     });
> 828 |     expect(called).toBe(4);
      |                        ^ Magic Number
  829 |
  830 |     const triggerobject2 = new Parse.Object('triggerclass');
  831 |     triggerobject2.set('someField', 'someValue');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 847, 'column': 24, 'index': 26532}","  845 |       sessionToken: triggeruser2.getSessionToken(),
  846 |     });
> 847 |     expect(called).toBe(5);
      |                        ^ Magic Number
  848 |     await triggerobject2.save(undefined, {
  849 |       sessionToken: triggeruser2.getSessionToken(),
  850 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 851, 'column': 24, 'index': 26663}","  849 |       sessionToken: triggeruser2.getSessionToken(),
  850 |     });
> 851 |     expect(called).toBe(6);
      |                        ^ Magic Number
  852 |     await triggerobject2.save(undefined, {
  853 |       sessionToken: triggeruser.getSessionToken(),
  854 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 855, 'column': 24, 'index': 26793}","  853 |       sessionToken: triggeruser.getSessionToken(),
  854 |     });
> 855 |     expect(called).toBe(7);
      |                        ^ Magic Number
  856 |
  857 |     let catched = false;
  858 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 867, 'column': 24, 'index': 27101}","  865 |     }
  866 |     expect(catched).toBe(true);
> 867 |     expect(called).toBe(7);
      |                        ^ Magic Number
  868 |
  869 |     catched = false;
  870 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 879, 'column': 24, 'index': 27405}","  877 |     }
  878 |     expect(catched).toBe(true);
> 879 |     expect(called).toBe(7);
      |                        ^ Magic Number
  880 |
  881 |     catched = false;
  882 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 891, 'column': 24, 'index': 27709}","  889 |     }
  890 |     expect(catched).toBe(true);
> 891 |     expect(called).toBe(7);
      |                        ^ Magic Number
  892 |
  893 |     const triggerobject3 = new Parse.Object('triggerclass');
  894 |     triggerobject3.set('someField', 'someValue');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 904, 'column': 26, 'index': 28084}","  902 |     } catch (e) {
  903 |       catched = true;
> 904 |       expect(e.code).toBe(119);
      |                          ^ Magic Number
  905 |     }
  906 |     expect(catched).toBe(true);
  907 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 907, 'column': 24, 'index': 28152}","  905 |     }
  906 |     expect(catched).toBe(true);
> 907 |     expect(called).toBe(7);
      |                        ^ Magic Number
  908 |
  909 |     catched = false;
  910 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 916, 'column': 26, 'index': 28363}","  914 |     } catch (e) {
  915 |       catched = true;
> 916 |       expect(e.code).toBe(119);
      |                          ^ Magic Number
  917 |     }
  918 |     expect(catched).toBe(true);
  919 |     expect(called).toBe(7);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 919, 'column': 24, 'index': 28431}","  917 |     }
  918 |     expect(catched).toBe(true);
> 919 |     expect(called).toBe(7);
      |                        ^ Magic Number
  920 |   });
  921 |
  922 |   it('test afterSave ran and created an object', function (done) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 937, 'column': 41, 'index': 28978}","  935 |       query.find().then(
  936 |         function (results) {
> 937 |           expect(results.length).toEqual(1);
      |                                         ^ Magic Number
  938 |           done();
  939 |         },
  940 |         function (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 969, 'column': 41, 'index': 29835}","  967 |       query.find().then(
  968 |         function (results) {
> 969 |           expect(results.length).toEqual(1);
      |                                         ^ Magic Number
  970 |           const savedObject = results[0];
  971 |           expect(savedObject.get('proof')).toEqual(obj.id);
  972 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1060, 'column': 41, 'index': 32266}","  1058 |         query.equalTo('proof', obj.id);
  1059 |         query.find().then(function (results) {
> 1060 |           expect(results.length).toEqual(1);
       |                                         ^ Magic Number
  1061 |           const deletedObject = results[0];
  1062 |           expect(deletedObject.get('proof')).toEqual(obj.id);
  1063 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1096, 'column': 39, 'index': 33339}","  1094 |       query.equalTo('proof', obj.id);
  1095 |       query.find().then(function (results) {
> 1096 |         expect(results.length).toEqual(0);
       |                                       ^ Magic Number
  1097 |       }, errorHandler);
  1098 |     }, errorHandler);
  1099 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1215, 'column': 41, 'index': 36506}","  1213 |       query.find().then(
  1214 |         function (results) {
> 1215 |           expect(results.length).toEqual(1);
       |                                         ^ Magic Number
  1216 |           done();
  1217 |         },
  1218 |         function (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1261, 'column': 45, 'index': 37531}","  1259 |       }
  1260 |       expect(result.object.className).toEqual('Foo');
> 1261 |       expect(result.object.get('x')).toEqual(2);
       |                                             ^ Magic Number
  1262 |       const bar = result.object.get('relation');
  1263 |       expect(bar instanceof Parse.Object).toBeTruthy();
  1264 |       expect(bar.className).toEqual('Bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1265, 'column': 35, 'index': 37719}","  1263 |       expect(bar instanceof Parse.Object).toBeTruthy();
  1264 |       expect(bar.className).toEqual('Bar');
> 1265 |       expect(bar.get('x')).toEqual(3);
       |                                   ^ Magic Number
  1266 |       expect(Array.isArray(result.array)).toEqual(true);
  1267 |       expect(result.array[0] instanceof Parse.Object).toBeTruthy();
  1268 |       expect(result.array[0].get('x')).toEqual(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1268, 'column': 47, 'index': 37895}","  1266 |       expect(Array.isArray(result.array)).toEqual(true);
  1267 |       expect(result.array[0] instanceof Parse.Object).toBeTruthy();
> 1268 |       expect(result.array[0].get('x')).toEqual(2);
       |                                               ^ Magic Number
  1269 |       done();
  1270 |     });
  1271 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1276, 'column': 45, 'index': 38148}","  1274 |     Parse.Cloud.define('params', function (req) {
  1275 |       expect(req.params.date instanceof Date).toBe(true);
> 1276 |       expect(req.params.date.getTime()).toBe(1463907600000);
       |                                             ^ Magic Number
  1277 |       expect(req.params.dateList[0] instanceof Date).toBe(true);
  1278 |       expect(req.params.dateList[0].getTime()).toBe(1463907600000);
  1279 |       expect(req.params.complexStructure.date[0] instanceof Date).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1278, 'column': 52, 'index': 38281}","  1276 |       expect(req.params.date.getTime()).toBe(1463907600000);
  1277 |       expect(req.params.dateList[0] instanceof Date).toBe(true);
> 1278 |       expect(req.params.dateList[0].getTime()).toBe(1463907600000);
       |                                                    ^ Magic Number
  1279 |       expect(req.params.complexStructure.date[0] instanceof Date).toBe(true);
  1280 |       expect(req.params.complexStructure.date[0].getTime()).toBe(1463907600000);
  1281 |       expect(req.params.complexStructure.deepDate.date[0] instanceof Date).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1280, 'column': 65, 'index': 38440}","  1278 |       expect(req.params.dateList[0].getTime()).toBe(1463907600000);
  1279 |       expect(req.params.complexStructure.date[0] instanceof Date).toBe(true);
> 1280 |       expect(req.params.complexStructure.date[0].getTime()).toBe(1463907600000);
       |                                                                 ^ Magic Number
  1281 |       expect(req.params.complexStructure.deepDate.date[0] instanceof Date).toBe(true);
  1282 |       expect(req.params.complexStructure.deepDate.date[0].getTime()).toBe(1463907600000);
  1283 |       expect(req.params.complexStructure.deepDate2[0].date instanceof Date).toBe(true);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1282, 'column': 74, 'index': 38617}","  1280 |       expect(req.params.complexStructure.date[0].getTime()).toBe(1463907600000);
  1281 |       expect(req.params.complexStructure.deepDate.date[0] instanceof Date).toBe(true);
> 1282 |       expect(req.params.complexStructure.deepDate.date[0].getTime()).toBe(1463907600000);
       |                                                                          ^ Magic Number
  1283 |       expect(req.params.complexStructure.deepDate2[0].date instanceof Date).toBe(true);
  1284 |       expect(req.params.complexStructure.deepDate2[0].date.getTime()).toBe(1463907600000);
  1285 |       // Regression for #2294"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1284, 'column': 75, 'index': 38796}","  1282 |       expect(req.params.complexStructure.deepDate.date[0].getTime()).toBe(1463907600000);
  1283 |       expect(req.params.complexStructure.deepDate2[0].date instanceof Date).toBe(true);
> 1284 |       expect(req.params.complexStructure.deepDate2[0].date.getTime()).toBe(1463907600000);
       |                                                                           ^ Magic Number
  1285 |       // Regression for #2294
  1286 |       expect(req.params.file instanceof Parse.File).toBe(true);
  1287 |       expect(req.params.file.url()).toEqual('https://some.url');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1422, 'column': 35, 'index': 42633}","  1420 |         () => {
  1421 |           // Make sure the checking has been triggered
> 1422 |           expect(triggerTime).toBe(2);
       |                                   ^ Magic Number
  1423 |           done();
  1424 |         },
  1425 |         function (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1934, 'column': 44, 'index': 58406}","  1932 |         savedObj
  1933 |       ) {
> 1934 |         expect(savedObj.get('num')).toEqual(1);
       |                                            ^ Magic Number
  1935 |         expect(savedObj.get('points')).toEqual(0);
  1936 |         done();
  1937 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 1935, 'column': 47, 'index': 58457}","  1933 |       ) {
  1934 |         expect(savedObj.get('num')).toEqual(1);
> 1935 |         expect(savedObj.get('points')).toEqual(0);
       |                                               ^ Magic Number
  1936 |         done();
  1937 |       });
  1938 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2053, 'column': 34, 'index': 61439}","  2051 |     });
  2052 |     const obj = await new Parse.Object('MyObject').save();
> 2053 |     expect(obj.get('count')).toBe(0);
       |                                  ^ Magic Number
  2054 |     obj.set('count', 10);
  2055 |     await obj.save();
  2056 |     expect(obj.get('count')).toBe(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2056, 'column': 34, 'index': 61525}","  2054 |     obj.set('count', 10);
  2055 |     await obj.save();
> 2056 |     expect(obj.get('count')).toBe(0);
       |                                  ^ Magic Number
  2057 |     await obj.fetch();
  2058 |     expect(obj.get('count')).toBe(0);
  2059 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2058, 'column': 34, 'index': 61586}","  2056 |     expect(obj.get('count')).toBe(0);
  2057 |     await obj.fetch();
> 2058 |     expect(obj.get('count')).toBe(0);
       |                                  ^ Magic Number
  2059 |   });
  2060 |
  2061 |   it('pointer should not be cleared by triggers', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2187, 'column': 34, 'index': 65595}","  2185 |         },
  2186 |         err => {
> 2187 |           expect(err.status).toBe(403);
       |                                  ^ Magic Number
  2188 |           done();
  2189 |         }
  2190 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2427, 'column': 31, 'index': 73087}","  2425 |     query.equalTo('objectId', 'test_6733');
  2426 |     const res = await query.find();
> 2427 |     expect(res.length).toEqual(1);
       |                               ^ Magic Number
  2428 |     expect(res[0].get('foo')).toEqual('bar');
  2429 |   });
  2430 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2582, 'column': 38, 'index': 77311}","  2580 |       expect(jsonQuery.include).toEqual('otherKey,otherValue');
  2581 |       expect(jsonQuery.excludeKeys).toBe('exclude');
> 2582 |       expect(jsonQuery.limit).toEqual(100);
       |                                      ^ Magic Number
  2583 |       expect(jsonQuery.skip).toBe(undefined);
  2584 |       expect(jsonQuery.order).toBe('key');
  2585 |       expect(jsonQuery.keys).toBe('select');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2622, 'column': 36, 'index': 78618}","  2620 |       query.equalTo('forced', false);
  2621 |       query.find().then(results => {
> 2622 |         expect(results.length).toBe(1);
       |                                    ^ Magic Number
  2623 |         const firstResult = results[0];
  2624 |         expect(firstResult.get('forced')).toBe(true);
  2625 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2647, 'column': 36, 'index': 79401}","  2645 |       query.equalTo('forced', false);
  2646 |       query.find().then(results => {
> 2647 |         expect(results.length).toBe(2);
       |                                    ^ Magic Number
  2648 |         done();
  2649 |       });
  2650 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2686, 'column': 32, 'index': 80612}","  2684 |     query.equalTo('objectId', obj.id);
  2685 |     const results = await query.find();
> 2686 |     expect(results.length).toBe(1);
       |                                ^ Magic Number
  2687 |     expect(results[0].get('number')).toBeUndefined();
  2688 |     expect(results[0].get('string')).toBe('hello');
  2689 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 2954, 'column': 38, 'index': 89477}","  2952 |       expect(jsonQuery.include).toEqual('otherKey,otherValue');
  2953 |       expect(jsonQuery.excludeKeys).toBe('exclude');
> 2954 |       expect(jsonQuery.limit).toEqual(100);
       |                                      ^ Magic Number
  2955 |       expect(jsonQuery.skip).toBe(undefined);
  2956 |       expect(jsonQuery.order).toBe('key');
  2957 |       expect(jsonQuery.keys).toBe('select');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3057, 'column': 43, 'index': 92603}","  3055 |           function (results) {
  3056 |             expect(results[0].get('secretField')).toEqual('SSID1');
> 3057 |             expect(results.length).toEqual(1);
       |                                           ^ Magic Number
  3058 |             done();
  3059 |           },
  3060 |           function (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3169, 'column': 25, 'index': 95602}","  3167 |     Parse.Cloud.beforeFind('Stuff', hook.method);
  3168 |     new Parse.Query('Stuff').count().then(count => {
> 3169 |       expect(count).toBe(0);
       |                         ^ Magic Number
  3170 |       expect(hook.method).toHaveBeenCalled();
  3171 |       done();
  3172 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3185, 'column': 30, 'index': 96081}","  3183 |     Parse.Cloud.beforeFind('Stuff', hook.method);
  3184 |     new Parse.Query('Stuff').find().then(res => {
> 3185 |       expect(res.length).toBe(0);
       |                              ^ Magic Number
  3186 |       expect(hook.method).toHaveBeenCalled();
  3187 |       done();
  3188 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3488, 'column': 40, 'index': 106197}","  3486 |     Parse.Cloud.beforeSave('TestObject', req => {
  3487 |       expect(req.object.get('foo')).toEqual('bar');
> 3488 |       expect(req.context.otherKey).toBe(10);
       |                                        ^ Magic Number
  3489 |       expect(req.context.key).toBe('hello');
  3490 |       calledBefore = true;
  3491 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3494, 'column': 40, 'index': 106423}","  3492 |     Parse.Cloud.afterSave('TestObject', req => {
  3493 |       expect(req.object.get('foo')).toEqual('bar');
> 3494 |       expect(req.context.otherKey).toBe(10);
       |                                        ^ Magic Number
  3495 |       expect(req.context.key).toBe('hello');
  3496 |       calledAfter = true;
  3497 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3593, 'column': 40, 'index': 109154}","  3591 |     });
  3592 |     Parse.Cloud.afterSave('MyClass', req => {
> 3593 |       expect(req.context.otherKey).toBe(1);
       |                                        ^ Magic Number
  3594 |       expect(req.context.key).toBe('value');
  3595 |       calledAfter = true;
  3596 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3613, 'column': 36, 'index': 109777}","  3611 |     });
  3612 |     Parse.Cloud.afterSave('MyClass', req => {
> 3613 |       expect(req.context.yolo).toBe(1);
       |                                    ^ Magic Number
  3614 |       expect(req.context.some).toBe('value');
  3615 |       calledAfter = true;
  3616 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3635, 'column': 21, 'index': 110392}","  3633 |     await Parse.User.signUp('tupac', 'shakur');
  3634 |     const user = await Parse.User.logIn('tupac', 'shakur');
> 3635 |     expect(hit).toBe(1);
       |                     ^ Magic Number
  3636 |     expect(user).toBeDefined();
  3637 |     expect(user.getUsername()).toBe('tupac');
  3638 |     expect(user.getSessionToken()).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3660, 'column': 21, 'index': 111099}","  3658 |       expect(e.message).toBe('banned account');
  3659 |     }
> 3660 |     expect(hit).toBe(1);
       |                     ^ Magic Number
  3661 |     done();
  3662 |   });
  3663 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3685, 'column': 21, 'index': 111862}","  3683 |       expect(e.message).toBe('banned account');
  3684 |     }
> 3685 |     expect(hit).toBe(1);
       |                     ^ Magic Number
  3686 |     done();
  3687 |   });
  3688 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3702, 'column': 21, 'index': 112306}","  3700 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  3701 |     }
> 3702 |     expect(hit).toBe(0);
       |                     ^ Magic Number
  3703 |     done();
  3704 |   });
  3705 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3715, 'column': 21, 'index': 112640}","  3713 |     const user = await Parse.User.signUp('tupac', 'shakur');
  3714 |     expect(user).toBeDefined();
> 3715 |     expect(hit).toBe(0);
       |                     ^ Magic Number
  3716 |     done();
  3717 |   });
  3718 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3806, 'column': 32, 'index': 115388}","  3804 |     await obj.save();
  3805 |
> 3806 |     expect(beforeSaves).toEqual(1);
       |                                ^ Magic Number
  3807 |     expect(afterSaves).toEqual(1);
  3808 |     expect(beforeFinds).toEqual(0);
  3809 |     expect(afterFinds).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3807, 'column': 31, 'index': 115423}","  3805 |
  3806 |     expect(beforeSaves).toEqual(1);
> 3807 |     expect(afterSaves).toEqual(1);
       |                               ^ Magic Number
  3808 |     expect(beforeFinds).toEqual(0);
  3809 |     expect(afterFinds).toEqual(0);
  3810 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3808, 'column': 32, 'index': 115459}","  3806 |     expect(beforeSaves).toEqual(1);
  3807 |     expect(afterSaves).toEqual(1);
> 3808 |     expect(beforeFinds).toEqual(0);
       |                                ^ Magic Number
  3809 |     expect(afterFinds).toEqual(0);
  3810 |
  3811 |     obj.set('someField', 'some value 2');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3809, 'column': 31, 'index': 115494}","  3807 |     expect(afterSaves).toEqual(1);
  3808 |     expect(beforeFinds).toEqual(0);
> 3809 |     expect(afterFinds).toEqual(0);
       |                               ^ Magic Number
  3810 |
  3811 |     obj.set('someField', 'some value 2');
  3812 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3814, 'column': 32, 'index': 115596}","  3812 |     await obj.save();
  3813 |
> 3814 |     expect(beforeSaves).toEqual(2);
       |                                ^ Magic Number
  3815 |     expect(afterSaves).toEqual(2);
  3816 |     expect(beforeFinds).toEqual(0);
  3817 |     expect(afterFinds).toEqual(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3815, 'column': 31, 'index': 115631}","  3813 |
  3814 |     expect(beforeSaves).toEqual(2);
> 3815 |     expect(afterSaves).toEqual(2);
       |                               ^ Magic Number
  3816 |     expect(beforeFinds).toEqual(0);
  3817 |     expect(afterFinds).toEqual(0);
  3818 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3816, 'column': 32, 'index': 115667}","  3814 |     expect(beforeSaves).toEqual(2);
  3815 |     expect(afterSaves).toEqual(2);
> 3816 |     expect(beforeFinds).toEqual(0);
       |                                ^ Magic Number
  3817 |     expect(afterFinds).toEqual(0);
  3818 |
  3819 |     await obj.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3817, 'column': 31, 'index': 115702}","  3815 |     expect(afterSaves).toEqual(2);
  3816 |     expect(beforeFinds).toEqual(0);
> 3817 |     expect(afterFinds).toEqual(0);
       |                               ^ Magic Number
  3818 |
  3819 |     await obj.fetch();
  3820 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3821, 'column': 32, 'index': 115763}","  3819 |     await obj.fetch();
  3820 |
> 3821 |     expect(beforeSaves).toEqual(2);
       |                                ^ Magic Number
  3822 |     expect(afterSaves).toEqual(2);
  3823 |     expect(beforeFinds).toEqual(1);
  3824 |     expect(afterFinds).toEqual(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3822, 'column': 31, 'index': 115798}","  3820 |
  3821 |     expect(beforeSaves).toEqual(2);
> 3822 |     expect(afterSaves).toEqual(2);
       |                               ^ Magic Number
  3823 |     expect(beforeFinds).toEqual(1);
  3824 |     expect(afterFinds).toEqual(1);
  3825 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3823, 'column': 32, 'index': 115834}","  3821 |     expect(beforeSaves).toEqual(2);
  3822 |     expect(afterSaves).toEqual(2);
> 3823 |     expect(beforeFinds).toEqual(1);
       |                                ^ Magic Number
  3824 |     expect(afterFinds).toEqual(1);
  3825 |
  3826 |     obj.set('someField', 'some value 3');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3824, 'column': 31, 'index': 115869}","  3822 |     expect(afterSaves).toEqual(2);
  3823 |     expect(beforeFinds).toEqual(1);
> 3824 |     expect(afterFinds).toEqual(1);
       |                               ^ Magic Number
  3825 |
  3826 |     obj.set('someField', 'some value 3');
  3827 |     await obj.save();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3829, 'column': 32, 'index': 115971}","  3827 |     await obj.save();
  3828 |
> 3829 |     expect(beforeSaves).toEqual(3);
       |                                ^ Magic Number
  3830 |     expect(afterSaves).toEqual(3);
  3831 |     expect(beforeFinds).toEqual(1);
  3832 |     expect(afterFinds).toEqual(1);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3830, 'column': 31, 'index': 116006}","  3828 |
  3829 |     expect(beforeSaves).toEqual(3);
> 3830 |     expect(afterSaves).toEqual(3);
       |                               ^ Magic Number
  3831 |     expect(beforeFinds).toEqual(1);
  3832 |     expect(afterFinds).toEqual(1);
  3833 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3831, 'column': 32, 'index': 116042}","  3829 |     expect(beforeSaves).toEqual(3);
  3830 |     expect(afterSaves).toEqual(3);
> 3831 |     expect(beforeFinds).toEqual(1);
       |                                ^ Magic Number
  3832 |     expect(afterFinds).toEqual(1);
  3833 |   });
  3834 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3832, 'column': 31, 'index': 116077}","  3830 |     expect(afterSaves).toEqual(3);
  3831 |     expect(beforeFinds).toEqual(1);
> 3832 |     expect(afterFinds).toEqual(1);
       |                               ^ Magic Number
  3833 |   });
  3834 | });
  3835 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3846, 'column': 21, 'index': 116473}","  3844 |     await Parse.User.signUp('testuser', 'p@ssword');
  3845 |     const user = await Parse.User.logIn('testuser', 'p@ssword');
> 3846 |     expect(hit).toBe(1);
       |                     ^ Magic Number
  3847 |     expect(user).toBeDefined();
  3848 |     expect(user.getUsername()).toBe('testuser');
  3849 |     expect(user.getSessionToken()).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3866, 'column': 21, 'index': 117061}","  3864 |       expect(e.code).toBe(Parse.Error.OBJECT_NOT_FOUND);
  3865 |     }
> 3866 |     expect(hit).toBe(0);
       |                     ^ Magic Number
  3867 |     done();
  3868 |   });
  3869 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 3879, 'column': 21, 'index': 117401}","  3877 |     const user = await Parse.User.signUp('testuser', 'p@ssword');
  3878 |     expect(user).toBeDefined();
> 3879 |     expect(hit).toBe(0);
       |                     ^ Magic Number
  3880 |     done();
  3881 |   });
  3882 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 4137, 'column': 32, 'index': 126688}","  4135 |     Parse.Cloud.beforeSave(Parse.File, async req => {
  4136 |       expect(req.triggerName).toEqual('beforeSave');
> 4137 |       expect(req.fileSize).toBe(3);
       |                                ^ Magic Number
  4138 |       const newFile = new Parse.File('donald_duck.pdf', [4, 5, 6], 'application/pdf');
  4139 |       newFile.setMetadata({ foo: 'bar' });
  4140 |       newFile.setTags({ tagA: 'some-tag' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 4171, 'column': 32, 'index': 127958}","  4169 |     Parse.Cloud.beforeSave(Parse.File, async req => {
  4170 |       expect(req.triggerName).toEqual('beforeSave');
> 4171 |       expect(req.fileSize).toBe(3);
       |                                ^ Magic Number
  4172 |       expect(req.file).toBeInstanceOf(Parse.File);
  4173 |       expect(req.file.name()).toBe('popeye.txt');
  4174 |       expect(req.file.metadata()).toEqual({ foo: 'bar' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 4213, 'column': 32, 'index': 129712}","  4211 |     const createFileSpy = spyOn(mockAdapter, 'createFile').and.callThrough();
  4212 |     Parse.Cloud.beforeSave(Parse.File, req => {
> 4213 |       expect(req.fileSize).toBe(3);
       |                                ^ Magic Number
  4214 |       const newFile = new Parse.File('some-file.txt');
  4215 |       newFile._url = 'http://www.somewhere.com/parse/files/some-app-id/some-file.txt';
  4216 |       return newFile;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 4262, 'column': 32, 'index': 131724}","  4260 |     await reconfigureServer({ filesAdapter: mockAdapter });
  4261 |     Parse.Cloud.beforeSave(Parse.File, async req => {
> 4262 |       expect(req.fileSize).toBe(3);
       |                                ^ Magic Number
  4263 |       expect(req.master).toBe(true);
  4264 |       const newFile = new Parse.File('donald_duck.pdf', [4, 5, 6, 7, 8, 9], 'application/pdf');
  4265 |       return newFile;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 4268, 'column': 32, 'index': 131976}","  4266 |     });
  4267 |     Parse.Cloud.afterSave(Parse.File, async req => {
> 4268 |       expect(req.fileSize).toBe(6);
       |                                ^ Magic Number
  4269 |       expect(req.master).toBe(true);
  4270 |       done();
  4271 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Magic Number,"{'line': 4352, 'column': 26, 'index': 135066}","  4350 |       fail('error should have thrown');
  4351 |     } catch (e) {
> 4352 |       expect(e.code).toBe(130);
       |                          ^ Magic Number
  4353 |       done();
  4354 |     }
  4355 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Redundant Print,"{'line': 1485, 'column': 8, 'index': 44107}","  1483 |     Parse.Cloud.afterSave('SaveTriggerUser', function (req) {
  1484 |       if (!req.user || !req.user.id) {
> 1485 |         console.log('No user present on request object for afterSave.');
       |        ^ Redundant Print
  1486 |       }
  1487 |     });
  1488 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 67, 'column': 37, 'index': 2333}","  65 |       serverURL: 'http://localhost:12668/parse',
  66 |       async cloud() {
> 67 |         await new Promise(resolve => setTimeout(resolve, 1000));
     |                                     ^ Sleepy Test
  68 |         Parse.Cloud.beforeSave('Test', () => {
  69 |           throw 'Cannot save.';
  70 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 953, 'column': 10, 'index': 29366}","  951 |       if (!obj.existed()) {
  952 |         return new Promise(resolve => {
> 953 |           setTimeout(function () {
      |          ^ Sleepy Test
  954 |             obj.set('proof', obj.id);
  955 |             obj.save().then(function () {
  956 |               resolve();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 1018, 'column': 8, 'index': 31096}","  1016 |     Parse.Cloud.afterSave('AfterSaveTest2', function () {
  1017 |       return new Promise((resolve, reject) => {
> 1018 |         setTimeout(function () {
       |        ^ Sleepy Test
  1019 |           reject('THIS SHOULD BE IGNORED');
  1020 |         }, 1000);
  1021 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 1039, 'column': 8, 'index': 31617}","  1037 |     Parse.Cloud.afterDelete('AfterDeleteTest2', function (req) {
  1038 |       return new Promise(resolve => {
> 1039 |         setTimeout(function () {
       |        ^ Sleepy Test
  1040 |           const obj = new Parse.Object('AfterDeleteTestProof');
  1041 |           obj.set('proof', req.object.id);
  1042 |           obj.save().then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 1072, 'column': 8, 'index': 32671}","  1070 |     Parse.Cloud.afterDelete('AfterDeleteTest2', function (req) {
  1071 |       return new Promise(resolve => {
> 1072 |         setTimeout(function () {
       |        ^ Sleepy Test
  1073 |           const obj = new Parse.Object('AfterDeleteTestProof');
  1074 |           obj.set('proof', req.object.id);
  1075 |           obj.save().then(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 2162, 'column': 41, 'index': 64966}","  2160 |           };
  2161 |           while (!(await checkJobStatus())) {
> 2162 |             await new Promise(resolve => setTimeout(resolve, 100));
       |                                         ^ Sleepy Test
  2163 |           }
  2164 |         })
  2165 |         .then(done)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 2219, 'column': 41, 'index': 66653}","  2217 |           };
  2218 |           while (!(await checkJobStatus())) {
> 2219 |             await new Promise(resolve => setTimeout(resolve, 100));
       |                                         ^ Sleepy Test
  2220 |           }
  2221 |         })
  2222 |         .then(done)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 2248, 'column': 41, 'index': 67682}","  2246 |           };
  2247 |           while (!(await checkJobStatus())) {
> 2248 |             await new Promise(resolve => setTimeout(resolve, 100));
       |                                         ^ Sleepy Test
  2249 |           }
  2250 |         })
  2251 |         .then(done)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 2287, 'column': 41, 'index': 68945}","  2285 |           };
  2286 |           while (!(await checkJobStatus())) {
> 2287 |             await new Promise(resolve => setTimeout(resolve, 100));
       |                                         ^ Sleepy Test
  2288 |           }
  2289 |         })
  2290 |         .then(done)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 2318, 'column': 41, 'index': 69964}","  2316 |           };
  2317 |           while (!(await checkJobStatus())) {
> 2318 |             await new Promise(resolve => setTimeout(resolve, 100));
       |                                         ^ Sleepy Test
  2319 |           }
  2320 |         })
  2321 |         .then(done)"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 2333, 'column': 39, 'index': 70470}","  2331 |       while (status !== 'failed') {
  2332 |         if (jobStatus) {
> 2333 |           await new Promise(resolve => setTimeout(resolve, 10));
       |                                       ^ Sleepy Test
  2334 |         }
  2335 |         jobStatus = await Parse.Cloud.getJobStatus(job);
  2336 |         status = jobStatus.get('status');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Sleepy Test,"{'line': 3102, 'column': 8, 'index': 93647}","  3100 |     Parse.Cloud.afterFind('MyObject', req => {
  3101 |       return new Promise(resolve => {
> 3102 |         setTimeout(function () {
       |        ^ Sleepy Test
  3103 |           for (let i = 0; i < req.objects.length; i++) {
  3104 |             req.objects[i].set('secretField', '###');
  3105 |           }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 51}","  49 |   });
  50 |
> 51 |   it('cloud code must be valid type', async () => {
     |  ^ Unknown Test
  52 |     spyOn(console, 'error').and.callFake(() => { });
  53 |     await expectAsync(reconfigureServer({ cloud: true })).toBeRejectedWith(
  54 |       ""argument 'cloud' must either be a string or a function"""
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 137}","  135 |   });
  136 |
> 137 |   it('basic beforeSave rejection', function (done) {
      |  ^ Unknown Test
  138 |     Parse.Cloud.beforeSave('BeforeSaveFail', function () {
  139 |       throw new Error('You shall not pass!');
  140 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 4, 'line': 333}","  331 |     });
  332 |
> 333 |     it('should return OBJECT_NOT_FOUND on get() for unauthorized user', async () => {
      |    ^ Unknown Test
  334 |       const q = new Parse.Query('SecretDoc');
  335 |       await expectAsync(
  336 |         q.get(secret.id, { sessionToken: userA.getSessionToken() })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 1015}","  1013 |   });
  1014 |
> 1015 |   it('test afterSave rejecting promise', function (done) {
       |  ^ Unknown Test
  1016 |     Parse.Cloud.afterSave('AfterSaveTest2', function () {
  1017 |       return new Promise((resolve, reject) => {
  1018 |         setTimeout(function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 1432}","  1430 |   });
  1431 |
> 1432 |   it('test beforeSave unchanged success', function (done) {
       |  ^ Unknown Test
  1433 |     Parse.Cloud.beforeSave('BeforeSaveUnchanged', function () {
  1434 |       return;
  1435 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 1450}","  1448 |   });
  1449 |
> 1450 |   it('test beforeDelete success', function (done) {
       |  ^ Unknown Test
  1451 |     Parse.Cloud.beforeDelete('BeforeDeleteTest', function () {
  1452 |       return;
  1453 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 1474}","  1472 |   });
  1473 |
> 1474 |   it('test save triggers get user', async done => {
       |  ^ Unknown Test
  1475 |     Parse.Cloud.beforeSave('SaveTriggerUser', function (req) {
  1476 |       if (req.user && req.user.id) {
  1477 |         return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 1553}","  1551 |   });
  1552 |
> 1553 |   it('test cloud function parameter validation success', done => {
       |  ^ Unknown Test
  1554 |     // Register a function with validation
  1555 |     Parse.Cloud.define(
  1556 |       'functionWithParameterValidation',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 2130}","  2128 |    * will not prevent a successful save response from being returned
  2129 |    */
> 2130 |   it('should succeed on afterSave exception', done => {
       |  ^ Unknown Test
  2131 |     Parse.Cloud.afterSave('AfterSaveTestClass', function () {
  2132 |       throw 'Exception';
  2133 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 4, 'line': 2294}","  2292 |     });
  2293 |
> 2294 |     it('should set the failure on the job', done => {
       |    ^ Unknown Test
  2295 |       Parse.Cloud.job('myJob', () => {
  2296 |         return Promise.reject('Something went wrong');
  2297 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.spec.js,Unknown Test,"{'column': 2, 'line': 3073}","  3071 |   });
  3072 |
> 3073 |   it('should handle failures', done => {
       |  ^ Unknown Test
  3074 |     Parse.Cloud.afterFind('MyObject', () => {
  3075 |       throw new Parse.Error(Parse.Error.SCRIPT_FAILED, 'It should fail');
  3076 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Conditional Test Logic,"{'line': 1670, 'column': 4, 'index': 44472}","  1668 |       },
  1669 |     ];
> 1670 |     for (const field of fields) {
       |    ^ Conditional Test Logic
  1671 |       try {
  1672 |         Parse.Cloud.define('myFunction', () => {}, {
  1673 |           [field.field]: field.value,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Conditional Test Logic,"{'line': 1708, 'column': 4, 'index': 45553}","  1706 |       },
  1707 |     ];
> 1708 |     for (const field of fields) {
       |    ^ Conditional Test Logic
  1709 |       try {
  1710 |         Parse.Cloud.define('myFunction', () => {}, {
  1711 |           fields: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1232, 'column': 4, 'index': 32068}","  1230 |     obj.set('foo', 'far');
  1231 |     await obj.save();
> 1232 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1233 |     obj.set('foo', 'yolo');
  1234 |     await obj.save();
  1235 |     expect(obj.get('foo')).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1232, 'column': 4, 'index': 32068}","  1230 |     obj.set('foo', 'far');
  1231 |     await obj.save();
> 1232 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1233 |     obj.set('foo', 'yolo');
  1234 |     await obj.save();
  1235 |     expect(obj.get('foo')).toBe('bar');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1235, 'column': 4, 'index': 32158}","  1233 |     obj.set('foo', 'yolo');
  1234 |     await obj.save();
> 1235 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1236 |     done();
  1237 |   });
  1238 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1235, 'column': 4, 'index': 32158}","  1233 |     obj.set('foo', 'yolo');
  1234 |     await obj.save();
> 1235 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1236 |     done();
  1237 |   });
  1238 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1249, 'column': 4, 'index': 32486}","  1247 |     const obj = new Parse.Object('BeforeSave');
  1248 |     await obj.save();
> 1249 |     expect(obj.get('foo')).toBe('bar');
       |    ^ Duplicate Assert
  1250 |     obj.set('foo', 'yolo');
  1251 |     await obj.save();
  1252 |     expect(obj.get('foo')).toBe('yolo');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1252, 'column': 4, 'index': 32576}","  1250 |     obj.set('foo', 'yolo');
  1251 |     await obj.save();
> 1252 |     expect(obj.get('foo')).toBe('yolo');
       |    ^ Duplicate Assert
  1253 |     done();
  1254 |   });
  1255 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1719, 'column': 8, 'index': 45892}","  1717 |         fail(`Expected error registering invalid Cloud Function validation ${field.field}.`);
  1718 |       } catch (e) {
> 1719 |         expect(e).toBe(field.error);
       |        ^ Duplicate Assert
  1720 |       }
  1721 |       try {
  1722 |         Parse.Cloud.define('myFunction', () => {}, {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1719, 'column': 8, 'index': 45892}","  1717 |         fail(`Expected error registering invalid Cloud Function validation ${field.field}.`);
  1718 |       } catch (e) {
> 1719 |         expect(e).toBe(field.error);
       |        ^ Duplicate Assert
  1720 |       }
  1721 |       try {
  1722 |         Parse.Cloud.define('myFunction', () => {}, {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1731, 'column': 8, 'index': 46247}","  1729 |         fail(`Expected error registering invalid Cloud Function validation ${field.field}.`);
  1730 |       } catch (e) {
> 1731 |         expect(e).toBe(field.error);
       |        ^ Duplicate Assert
  1732 |       }
  1733 |     }
  1734 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Duplicate Assert,"{'line': 1731, 'column': 8, 'index': 46247}","  1729 |         fail(`Expected error registering invalid Cloud Function validation ${field.field}.`);
  1730 |       } catch (e) {
> 1731 |         expect(e).toBe(field.error);
       |        ^ Duplicate Assert
  1732 |       }
  1733 |     }
  1734 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 22, 'column': 4, 'index': 485}","  20 |       () => {}
  21 |     );
> 22 |     try {
     |    ^ Exception Handling
  23 |       const result = await Parse.Cloud.run('myFunction', {});
  24 |       expect(result).toBe('myFunc');
  25 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 38, 'column': 8, 'index': 838}","  36 |       },
  37 |       () => {
> 38 |         throw 'error';
     |        ^ Exception Handling
  39 |       }
  40 |     );
  41 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 41, 'column': 4, 'index': 872}","  39 |       }
  40 |     );
> 41 |     try {
     |    ^ Exception Handling
  42 |       await Parse.Cloud.run('myFunction');
  43 |       fail('cloud function should have failed.');
  44 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 57, 'column': 8, 'index': 1243}","  55 |       },
  56 |       () => {
> 57 |         throw new Parse.Error(Parse.Error.SCRIPT_FAILED, 'It should fail');
     |        ^ Exception Handling
  58 |       }
  59 |     );
  60 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 60, 'column': 4, 'index': 1330}","  58 |       }
  59 |     );
> 60 |     try {
     |    ^ Exception Handling
  61 |       await Parse.Cloud.run('myFunction');
  62 |       fail('should have validation error');
  63 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 77, 'column': 8, 'index': 1756}","  75 |       },
  76 |       () => {
> 77 |         throw new Parse.Error(Parse.Error.SCRIPT_FAILED);
     |        ^ Exception Handling
  78 |       }
  79 |     );
  80 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 80, 'column': 4, 'index': 1825}","  78 |       }
  79 |     );
> 80 |     try {
     |    ^ Exception Handling
  81 |       await Parse.Cloud.run('myFunction');
  82 |       fail('should have validation error');
  83 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 100, 'column': 8, 'index': 2306}","   98 |           setTimeout(resolve, 1000);
   99 |         });
> 100 |         throw 'async error';
      |        ^ Exception Handling
  101 |       }
  102 |     );
  103 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 103, 'column': 4, 'index': 2346}","  101 |       }
  102 |     );
> 103 |     try {
      |    ^ Exception Handling
  104 |       await Parse.Cloud.run('myFunction');
  105 |       fail('should have validation error');
  106 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 146, 'column': 4, 'index': 3460}","  144 |       }
  145 |     );
> 146 |     try {
      |    ^ Exception Handling
  147 |       await Parse.Cloud.run('hello1', {});
  148 |       fail('function should have failed.');
  149 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 578, 'column': 14, 'index': 13689}","  576 |           data: {
  577 |             options: () => {
> 578 |               throw 'validation failed.';
      |              ^ Exception Handling
  579 |             },
  580 |           },
  581 |         },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 606, 'column': 14, 'index': 14358}","  604 |           data: {
  605 |             options: () => {
> 606 |               throw null;
      |              ^ Exception Handling
  607 |             },
  608 |           },
  609 |         },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 668, 'column': 8, 'index': 15972}","  666 |       'BeforeSave',
  667 |       () => {
> 668 |         throw 'before save should have resolved using masterKey.';
      |        ^ Exception Handling
  669 |       },
  670 |       {
  671 |         skipWithMasterKey: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 685, 'column': 8, 'index': 16417}","  683 |       'beforeFind',
  684 |       () => {
> 685 |         throw 'before find should have resolved using masterKey.';
      |        ^ Exception Handling
  686 |       },
  687 |       {
  688 |         skipWithMasterKey: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 707, 'column': 8, 'index': 17017}","  705 |       'beforeFind',
  706 |       () => {
> 707 |         throw 'before find should have resolved using masterKey.';
      |        ^ Exception Handling
  708 |       },
  709 |       {
  710 |         skipWithMasterKey: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 725, 'column': 8, 'index': 17475}","  723 |       Parse.File,
  724 |       () => {
> 725 |         throw 'beforeSaveFile should have resolved using master key.';
      |        ^ Exception Handling
  726 |       },
  727 |       {
  728 |         skipWithMasterKey: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 773, 'column': 8, 'index': 18929}","  771 |       'BeforeSave',
  772 |       () => {
> 773 |         throw 'beforeSaveFile should have resolved using master key.';
      |        ^ Exception Handling
  774 |       },
  775 |       {
  776 |         fields: ['foo'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 783, 'column': 4, 'index': 19168}","  781 |
  782 |     const obj = new Parse.Object('BeforeSave');
> 783 |     try {
      |    ^ Exception Handling
  784 |       await obj.save(null, { useMasterKey: true });
  785 |       fail('function should have failed.');
  786 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 797, 'column': 8, 'index': 19632}","  795 |       'BeforeSave',
  796 |       () => {
> 797 |         throw 'beforeSaveFile should have resolved using master key.';
      |        ^ Exception Handling
  798 |       },
  799 |       {
  800 |         fields: ['foo'],"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 808, 'column': 4, 'index': 19898}","  806 |     const obj = new Parse.Object('BeforeSave');
  807 |     obj.set('foo', 'bar');
> 808 |     try {
      |    ^ Exception Handling
  809 |       await obj.save(null, { useMasterKey: true });
  810 |       done();
  811 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 837, 'column': 4, 'index': 20797}","  835 |     const obj = new Parse.Object('BeforeSaveFail');
  836 |     obj.set('foo', 'bar');
> 837 |     try {
      |    ^ Exception Handling
  838 |       await obj.save(null, { sessionToken: user.getSessionToken() });
  839 |       fail('should not have been able to save without userkey');
  840 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 853, 'column': 4, 'index': 21410}","  851 |     const obj = new Parse.Object('BeforeSaveFail');
  852 |     obj.set('foo', 'bar');
> 853 |     try {
      |    ^ Exception Handling
  854 |       await obj.save();
  855 |       fail('should not have been able to save without user');
  856 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 892, 'column': 4, 'index': 22412}","  890 |     await user.signUp();
  891 |     expect(user.get('admin')).toBe(false);
> 892 |     try {
      |    ^ Exception Handling
  893 |       await Parse.Cloud.run('secureFunction');
  894 |       fail('function should only be available to admin users');
  895 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 933, 'column': 4, 'index': 23517}","  931 |     await user.signUp();
  932 |     expect(user.get('accType')).toBe('normal');
> 933 |     try {
      |    ^ Exception Handling
  934 |       await Parse.Cloud.run('secureFunction');
  935 |       fail('function should only be available to admin users');
  936 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1009, 'column': 4, 'index': 25574}","  1007 |     );
  1008 |     const user = await Parse.User.signUp('testuser', 'p@ssword');
> 1009 |     try {
       |    ^ Exception Handling
  1010 |       await Parse.Cloud.run('cloudFunction');
  1011 |       fail('cloud validator should have failed.');
  1012 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1036, 'column': 4, 'index': 26388}","  1034 |     );
  1035 |     const user = await Parse.User.signUp('testuser', 'p@ssword');
> 1036 |     try {
       |    ^ Exception Handling
  1037 |       await Parse.Cloud.run('cloudFunction');
  1038 |       fail('cloud validator should have failed.');
  1039 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1069, 'column': 4, 'index': 27376}","  1067 |     );
  1068 |     const user = await Parse.User.signUp('testuser', 'p@ssword');
> 1069 |     try {
       |    ^ Exception Handling
  1070 |       await Parse.Cloud.run('cloudFunction');
  1071 |       fail('cloud validator should have failed.');
  1072 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1098, 'column': 4, 'index': 28239}","  1096 |     );
  1097 |     const user = await Parse.User.signUp('testuser', 'p@ssword');
> 1098 |     try {
       |    ^ Exception Handling
  1099 |       await Parse.Cloud.run('cloudFunction');
  1100 |       fail('cloud validator should have failed.');
  1101 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1127, 'column': 4, 'index': 29089}","  1125 |       }
  1126 |     );
> 1127 |     try {
       |    ^ Exception Handling
  1128 |       await Parse.Cloud.run('cloudFunction');
  1129 |       fail('cloud validator should have failed.');
  1130 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1261, 'column': 4, 'index': 32840}","  1259 |     const MyObject = Parse.Object.extend('MyObject');
  1260 |     const myObject = new MyObject();
> 1261 |     try {
       |    ^ Exception Handling
  1262 |       await myObject.save();
  1263 |       done();
  1264 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1274, 'column': 4, 'index': 33181}","  1272 |     const MyObject = Parse.Object.extend('MyObject');
  1273 |     const myObject = new MyObject();
> 1274 |     try {
       |    ^ Exception Handling
  1275 |       await myObject.save();
  1276 |       fail('cloud function should have failed.');
  1277 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1294, 'column': 4, 'index': 33621}","  1292 |     const MyObject = Parse.Object.extend('MyObject');
  1293 |     const myObject = new MyObject();
> 1294 |     try {
       |    ^ Exception Handling
  1295 |       await myObject.save();
  1296 |     } catch (e) {
  1297 |       fail('before save should not have failed.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1324, 'column': 4, 'index': 34341}","  1322 |     const myObject = new MyObject();
  1323 |     await myObject.save();
> 1324 |     try {
       |    ^ Exception Handling
  1325 |       await myObject.destroy();
  1326 |       done();
  1327 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1344, 'column': 4, 'index': 34793}","  1342 |     const myObject = new MyObject();
  1343 |     await myObject.save();
> 1344 |     try {
       |    ^ Exception Handling
  1345 |       await myObject.destroy();
  1346 |       fail('cloud function should have failed.');
  1347 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1365, 'column': 4, 'index': 35267}","  1363 |     const myObject = new MyObject();
  1364 |     await myObject.save();
> 1365 |     try {
       |    ^ Exception Handling
  1366 |       await myObject.destroy();
  1367 |     } catch (e) {
  1368 |       fail('after delete should not have failed.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1384, 'column': 4, 'index': 35702}","  1382 |     const myObject = new MyObject();
  1383 |     await myObject.save();
> 1384 |     try {
       |    ^ Exception Handling
  1385 |       await myObject.destroy();
  1386 |       fail('cloud function should have failed.');
  1387 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1395, 'column': 4, 'index': 36008}","  1393 |   it('validate beforeFind', async done => {
  1394 |     Parse.Cloud.beforeFind('MyObject', () => {}, validatorSuccess);
> 1395 |     try {
       |    ^ Exception Handling
  1396 |       const MyObject = Parse.Object.extend('MyObject');
  1397 |       const myObjectQuery = new Parse.Query(MyObject);
  1398 |       await myObjectQuery.find();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1406, 'column': 4, 'index': 36371}","  1404 |   it('validate beforeFind fail', async done => {
  1405 |     Parse.Cloud.beforeFind('MyObject', () => {}, validatorFail);
> 1406 |     try {
       |    ^ Exception Handling
  1407 |       const MyObject = Parse.Object.extend('MyObject');
  1408 |       const myObjectQuery = new Parse.Query(MyObject);
  1409 |       await myObjectQuery.find();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1423, 'column': 4, 'index': 36907}","  1421 |     const myObject = new MyObject();
  1422 |     await myObject.save();
> 1423 |     try {
       |    ^ Exception Handling
  1424 |       const myObjectQuery = new Parse.Query(MyObject);
  1425 |       await myObjectQuery.find();
  1426 |       done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1438, 'column': 4, 'index': 37332}","  1436 |     const myObject = new MyObject();
  1437 |     await myObject.save();
> 1438 |     try {
       |    ^ Exception Handling
  1439 |       const myObjectQuery = new Parse.Query(MyObject);
  1440 |       await myObjectQuery.find();
  1441 |       fail('cloud function should have failed.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1459, 'column': 4, 'index': 38000}","  1457 |   it('validate beforeSaveFile fail', async done => {
  1458 |     Parse.Cloud.beforeSave(Parse.File, () => {}, validatorFail);
> 1459 |     try {
       |    ^ Exception Handling
  1460 |       const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
  1461 |       await file.save({ useMasterKey: true });
  1462 |       fail('cloud function should have failed.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1480, 'column': 4, 'index': 38696}","  1478 |   it('validate afterSaveFile fail', async done => {
  1479 |     Parse.Cloud.afterSave(Parse.File, () => {}, validatorFail);
> 1480 |     try {
       |    ^ Exception Handling
  1481 |       const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
  1482 |       await file.save({ useMasterKey: true });
  1483 |       fail('cloud function should have failed.');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1501, 'column': 4, 'index': 39362}","  1499 |   it('validate beforeDeleteFile fail', async done => {
  1500 |     Parse.Cloud.beforeDelete(Parse.File, () => {}, validatorFail);
> 1501 |     try {
       |    ^ Exception Handling
  1502 |       const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
  1503 |       await file.save();
  1504 |       await file.destroy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1523, 'column': 4, 'index': 40030}","  1521 |   it('validate afterDeleteFile fail', async done => {
  1522 |     Parse.Cloud.afterDelete(Parse.File, () => {}, validatorFail);
> 1523 |     try {
       |    ^ Exception Handling
  1524 |       const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');
  1525 |       await file.save();
  1526 |       await file.destroy();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1575, 'column': 8, 'index': 41837}","  1573 |       () => {},
  1574 |       () => {
> 1575 |         throw 'error';
       |        ^ Exception Handling
  1576 |       }
  1577 |     );
  1578 |     try {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1578, 'column': 4, 'index': 41871}","  1576 |       }
  1577 |     );
> 1578 |     try {
       |    ^ Exception Handling
  1579 |       await Parse.Cloud.run('myFunction');
  1580 |     } catch (e) {
  1581 |       expect(e.code).toBe(Parse.Error.VALIDATION_ERROR);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1671, 'column': 6, 'index': 44508}","  1669 |     ];
  1670 |     for (const field of fields) {
> 1671 |       try {
       |      ^ Exception Handling
  1672 |         Parse.Cloud.define('myFunction', () => {}, {
  1673 |           [field.field]: field.value,
  1674 |         });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1709, 'column': 6, 'index': 45589}","  1707 |     ];
  1708 |     for (const field of fields) {
> 1709 |       try {
       |      ^ Exception Handling
  1710 |         Parse.Cloud.define('myFunction', () => {}, {
  1711 |           fields: {
  1712 |             name: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1721, 'column': 6, 'index': 45935}","  1719 |         expect(e).toBe(field.error);
  1720 |       }
> 1721 |       try {
       |      ^ Exception Handling
  1722 |         Parse.Cloud.define('myFunction', () => {}, {
  1723 |           requireUserKeys: {
  1724 |             name: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1758, 'column': 4, 'index': 46818}","  1756 |       }
  1757 |     );
> 1758 |     try {
       |    ^ Exception Handling
  1759 |       await Parse.Cloud.run('hello', { data: 'd' });
  1760 |       fail('validation should have failed');
  1761 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Exception Handling,"{'line': 1803, 'column': 4, 'index': 48117}","  1801 |     await user.signUp();
  1802 |     expect(user.get('accType')).toBe('normal');
> 1803 |     try {
       |    ^ Exception Handling
  1804 |       await Parse.Cloud.run('secureFunction');
  1805 |       fail('function should only be available to admin users');
  1806 |     } catch (error) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Sleepy Test,"{'line': 98, 'column': 10, 'index': 2259}","   96 |       async () => {
   97 |         await new Promise(resolve => {
>  98 |           setTimeout(resolve, 1000);
      |          ^ Sleepy Test
   99 |         });
  100 |         throw 'async error';
  101 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Sleepy Test,"{'line': 1313, 'column': 4, 'index': 34048}","  1311 |     const myObject = new MyObject();
  1312 |     await myObject.save();
> 1313 |     setTimeout(() => {
       |    ^ Sleepy Test
  1314 |       done();
  1315 |     }, 1000);
  1316 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Sleepy Test,"{'line': 1749, 'column': 16, 'index': 46641}","  1747 |             options: async val => {
  1748 |               await new Promise(resolve => {
> 1749 |                 setTimeout(resolve, 500);
       |                ^ Sleepy Test
  1750 |               });
  1751 |               return val === 'f';
  1752 |             },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Sleepy Test,"{'line': 1788, 'column': 16, 'index': 47705}","  1786 |             options: async val => {
  1787 |               await new Promise(resolve => {
> 1788 |                 setTimeout(resolve, 500);
       |                ^ Sleepy Test
  1789 |               });
  1790 |               return ['admin', 'admin2'].includes(val);
  1791 |             },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 400}","  398 |   });
  399 |
> 400 |   it('set params not-required options', done => {
      |  ^ Unknown Test
  401 |     Parse.Cloud.define(
  402 |       'hello',
  403 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 427}","  425 |   });
  426 |
> 427 |   it('set params not-required no-options', done => {
      |  ^ Unknown Test
  428 |     Parse.Cloud.define(
  429 |       'hello',
  430 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 793}","  791 |   });
  792 |
> 793 |   it('beforeSave validateMasterKey and skipWithMasterKey success', async function (done) {
      |  ^ Unknown Test
  794 |     Parse.Cloud.beforeSave(
  795 |       'BeforeSave',
  796 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1164}","  1162 |   });
  1163 |
> 1164 |   it('basic beforeSave master', async function (done) {
       |  ^ Unknown Test
  1165 |     Parse.Cloud.beforeSave('BeforeSaveFail', () => {}, {
  1166 |       requireUser: true,
  1167 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1256}","  1254 |   });
  1255 |
> 1256 |   it('validate beforeSave', async done => {
       |  ^ Unknown Test
  1257 |     Parse.Cloud.beforeSave('MyObject', () => {}, validatorSuccess);
  1258 |
  1259 |     const MyObject = Parse.Object.extend('MyObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1283}","  1281 |   });
  1282 |
> 1283 |   it('validate afterSave', async done => {
       |  ^ Unknown Test
  1284 |     Parse.Cloud.afterSave(
  1285 |       'MyObject',
  1286 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1301}","  1299 |   });
  1300 |
> 1301 |   it('validate afterSave fail', async done => {
       |  ^ Unknown Test
  1302 |     Parse.Cloud.afterSave(
  1303 |       'MyObject',
  1304 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1318}","  1316 |   });
  1317 |
> 1318 |   it('validate beforeDelete', async done => {
       |  ^ Unknown Test
  1319 |     Parse.Cloud.beforeDelete('MyObject', () => {}, validatorSuccess);
  1320 |
  1321 |     const MyObject = Parse.Object.extend('MyObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1353}","  1351 |   });
  1352 |
> 1353 |   it('validate afterDelete', async done => {
       |  ^ Unknown Test
  1354 |     Parse.Cloud.afterDelete(
  1355 |       'MyObject',
  1356 |       () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1393}","  1391 |   });
  1392 |
> 1393 |   it('validate beforeFind', async done => {
       |  ^ Unknown Test
  1394 |     Parse.Cloud.beforeFind('MyObject', () => {}, validatorSuccess);
  1395 |     try {
  1396 |       const MyObject = Parse.Object.extend('MyObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1417}","  1415 |   });
  1416 |
> 1417 |   it('validate afterFind', async done => {
       |  ^ Unknown Test
  1418 |     Parse.Cloud.afterFind('MyObject', () => {}, validatorSuccess);
  1419 |
  1420 |     const MyObject = Parse.Object.extend('MyObject');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1490}","  1488 |   });
  1489 |
> 1490 |   it('validate beforeDeleteFile', async done => {
       |  ^ Unknown Test
  1491 |     Parse.Cloud.beforeDelete(Parse.File, () => {}, validatorSuccess);
  1492 |
  1493 |     const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1512}","  1510 |   });
  1511 |
> 1512 |   it('validate afterDeleteFile', async done => {
       |  ^ Unknown Test
  1513 |     Parse.Cloud.afterDelete(Parse.File, () => {}, validatorSuccess);
  1514 |
  1515 |     const file = new Parse.File('popeye.txt', [1, 2, 3], 'text/plain');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CloudCode.Validator.spec.js,Unknown Test,"{'column': 2, 'line': 1586}","  1584 |   });
  1585 |
> 1586 |   it('does not log on valid config', () => {
       |  ^ Unknown Test
  1587 |     Parse.Cloud.define('myFunction', () => {}, {
  1588 |       requireUser: true,
  1589 |       requireMaster: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 9, 'column': 27, 'index': 350}","   7 |     const client = new Client(1, parseWebSocket);
   8 |
>  9 |     expect(client.id).toBe(1);
     |                           ^ Magic Number
  10 |     expect(client.parseWebSocket).toBe(parseWebSocket);
  11 |     expect(client.subscriptionInfos.size).toBe(0);
  12 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 11, 'column': 47, 'index': 457}","   9 |     expect(client.id).toBe(1);
  10 |     expect(client.parseWebSocket).toBe(parseWebSocket);
> 11 |     expect(client.subscriptionInfos.size).toBe(0);
     |                                               ^ Magic Number
  12 |   });
  13 |
  14 |   it('can push response', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 33, 'column': 34, 'index': 1108}","  31 |     expect(messageJSON.op).toBe('error');
  32 |     expect(messageJSON.error).toBe('error');
> 33 |     expect(messageJSON.code).toBe(1);
     |                                  ^ Magic Number
  34 |     expect(messageJSON.reconnect).toBe(true);
  35 |   });
  36 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 47, 'column': 47, 'index': 1511}","  45 |     client.addSubscriptionInfo(1, subscriptionInfo);
  46 |
> 47 |     expect(client.subscriptionInfos.size).toBe(1);
     |                                               ^ Magic Number
  48 |     expect(client.subscriptionInfos.get(1)).toBe(subscriptionInfo);
  49 |   });
  50 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 76, 'column': 47, 'index': 2406}","  74 |     client.deleteSubscriptionInfo(1);
  75 |
> 76 |     expect(client.subscriptionInfos.size).toBe(0);
     |                                               ^ Magic Number
  77 |   });
  78 |
  79 |   it('can generate ParseObject JSON with null selected field', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 162, 'column': 38, 'index': 4988}","  160 |     const messageJSON = JSON.parse(lastCall.args[0]);
  161 |     expect(messageJSON.op).toBe('connected');
> 162 |     expect(messageJSON.clientId).toBe(1);
      |                                      ^ Magic Number
  163 |   });
  164 |
  165 |   it('can push subscribe response', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 175, 'column': 38, 'index': 5399}","  173 |     const messageJSON = JSON.parse(lastCall.args[0]);
  174 |     expect(messageJSON.op).toBe('subscribed');
> 175 |     expect(messageJSON.clientId).toBe(1);
      |                                      ^ Magic Number
  176 |     expect(messageJSON.requestId).toBe(2);
  177 |   });
  178 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 176, 'column': 39, 'index': 5442}","  174 |     expect(messageJSON.op).toBe('subscribed');
  175 |     expect(messageJSON.clientId).toBe(1);
> 176 |     expect(messageJSON.requestId).toBe(2);
      |                                       ^ Magic Number
  177 |   });
  178 |
  179 |   it('can push unsubscribe response', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 189, 'column': 38, 'index': 5859}","  187 |     const messageJSON = JSON.parse(lastCall.args[0]);
  188 |     expect(messageJSON.op).toBe('unsubscribed');
> 189 |     expect(messageJSON.clientId).toBe(1);
      |                                      ^ Magic Number
  190 |     expect(messageJSON.requestId).toBe(2);
  191 |   });
  192 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 190, 'column': 39, 'index': 5902}","  188 |     expect(messageJSON.op).toBe('unsubscribed');
  189 |     expect(messageJSON.clientId).toBe(1);
> 190 |     expect(messageJSON.requestId).toBe(2);
      |                                       ^ Magic Number
  191 |   });
  192 |
  193 |   it('can push create response', function () {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 212, 'column': 38, 'index': 6555}","  210 |     const messageJSON = JSON.parse(lastCall.args[0]);
  211 |     expect(messageJSON.op).toBe('create');
> 212 |     expect(messageJSON.clientId).toBe(1);
      |                                      ^ Magic Number
  213 |     expect(messageJSON.requestId).toBe(2);
  214 |     expect(messageJSON.object).toEqual(parseObjectJSON);
  215 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 213, 'column': 39, 'index': 6598}","  211 |     expect(messageJSON.op).toBe('create');
  212 |     expect(messageJSON.clientId).toBe(1);
> 213 |     expect(messageJSON.requestId).toBe(2);
      |                                       ^ Magic Number
  214 |     expect(messageJSON.object).toEqual(parseObjectJSON);
  215 |   });
  216 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 236, 'column': 38, 'index': 7305}","  234 |     const messageJSON = JSON.parse(lastCall.args[0]);
  235 |     expect(messageJSON.op).toBe('enter');
> 236 |     expect(messageJSON.clientId).toBe(1);
      |                                      ^ Magic Number
  237 |     expect(messageJSON.requestId).toBe(2);
  238 |     expect(messageJSON.object).toEqual(parseObjectJSON);
  239 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 237, 'column': 39, 'index': 7348}","  235 |     expect(messageJSON.op).toBe('enter');
  236 |     expect(messageJSON.clientId).toBe(1);
> 237 |     expect(messageJSON.requestId).toBe(2);
      |                                       ^ Magic Number
  238 |     expect(messageJSON.object).toEqual(parseObjectJSON);
  239 |   });
  240 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 260, 'column': 38, 'index': 8058}","  258 |     const messageJSON = JSON.parse(lastCall.args[0]);
  259 |     expect(messageJSON.op).toBe('update');
> 260 |     expect(messageJSON.clientId).toBe(1);
      |                                      ^ Magic Number
  261 |     expect(messageJSON.requestId).toBe(2);
  262 |     expect(messageJSON.object).toEqual(parseObjectJSON);
  263 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 261, 'column': 39, 'index': 8101}","  259 |     expect(messageJSON.op).toBe('update');
  260 |     expect(messageJSON.clientId).toBe(1);
> 261 |     expect(messageJSON.requestId).toBe(2);
      |                                       ^ Magic Number
  262 |     expect(messageJSON.object).toEqual(parseObjectJSON);
  263 |   });
  264 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 284, 'column': 38, 'index': 8808}","  282 |     const messageJSON = JSON.parse(lastCall.args[0]);
  283 |     expect(messageJSON.op).toBe('leave');
> 284 |     expect(messageJSON.clientId).toBe(1);
      |                                      ^ Magic Number
  285 |     expect(messageJSON.requestId).toBe(2);
  286 |     expect(messageJSON.object).toEqual(parseObjectJSON);
  287 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Client.spec.js,Magic Number,"{'line': 285, 'column': 39, 'index': 8851}","  283 |     expect(messageJSON.op).toBe('leave');
  284 |     expect(messageJSON.clientId).toBe(1);
> 285 |     expect(messageJSON.requestId).toBe(2);
      |                                       ^ Magic Number
  286 |     expect(messageJSON.object).toEqual(parseObjectJSON);
  287 |   });
  288 | });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CacheController.spec.js,Conditional Test Logic,"{'line': 30, 'column': 19, 'index': 807}","  28 |   });
  29 |
> 30 |   ['role', 'user'].forEach(cacheName => {
     |                   ^ Conditional Test Logic
  31 |     it('should prefix ' + cacheName + ' cache', () => {
  32 |       const cache = new CacheController(FakeCacheAdapter, FakeAppID)[cacheName];
  33 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CacheController.spec.js,Duplicate Assert,"{'line': 52, 'column': 4, 'index': 1612}","  50 |
  51 |     cache.clear();
> 52 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(1);
     |    ^ Duplicate Assert
  53 |
  54 |     cache.user.clear();
  55 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CacheController.spec.js,Duplicate Assert,"{'line': 55, 'column': 4, 'index': 1698}","  53 |
  54 |     cache.user.clear();
> 55 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(2);
     |    ^ Duplicate Assert
  56 |
  57 |     cache.role.clear();
  58 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CacheController.spec.js,Duplicate Assert,"{'line': 58, 'column': 4, 'index': 1784}","  56 |
  57 |     cache.role.clear();
> 58 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(3);
     |    ^ Duplicate Assert
  59 |   });
  60 |
  61 |   it('should handle cache rejections', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CacheController.spec.js,Magic Number,"{'line': 52, 'column': 57, 'index': 1665}","  50 |
  51 |     cache.clear();
> 52 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(1);
     |                                                         ^ Magic Number
  53 |
  54 |     cache.user.clear();
  55 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(2);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CacheController.spec.js,Magic Number,"{'line': 55, 'column': 57, 'index': 1751}","  53 |
  54 |     cache.user.clear();
> 55 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(2);
     |                                                         ^ Magic Number
  56 |
  57 |     cache.role.clear();
  58 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(3);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CacheController.spec.js,Magic Number,"{'line': 58, 'column': 57, 'index': 1837}","  56 |
  57 |     cache.role.clear();
> 58 |     expect(FakeCacheAdapter.clear.calls.count()).toEqual(3);
     |                                                         ^ Magic Number
  59 |   });
  60 |
  61 |   it('should handle cache rejections', done => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CacheController.spec.js,Unknown Test,"{'column': 2, 'line': 61}","  59 |   });
  60 |
> 61 |   it('should handle cache rejections', done => {
     |  ^ Unknown Test
  62 |     FakeCacheAdapter.get = () => Promise.reject();
  63 |
  64 |     const cache = new CacheController(FakeCacheAdapter, FakeAppID);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 18, 'column': 6, 'index': 501}","  16 |     action: function (value) {
  17 |       const intValue = parseInt(value);
> 18 |       if (!Number.isInteger(intValue)) {
     |      ^ Conditional Test Logic
  19 |         throw 'arg2 is invalid';
  20 |       }
  21 |       return intValue;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 171, 'column': 4, 'index': 5114}","  169 | describe('definitions', () => {
  170 |   it('should have valid types', () => {
> 171 |     for (const key in definitions) {
      |    ^ Conditional Test Logic
  172 |       const definition = definitions[key];
  173 |       expect(typeof definition).toBe('object');
  174 |       if (typeof definition.env !== 'undefined') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 174, 'column': 6, 'index': 5244}","  172 |       const definition = definitions[key];
  173 |       expect(typeof definition).toBe('object');
> 174 |       if (typeof definition.env !== 'undefined') {
      |      ^ Conditional Test Logic
  175 |         expect(typeof definition.env).toBe('string');
  176 |       }
  177 |       expect(typeof definition.help).toBe('string');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 178, 'column': 6, 'index': 5410}","  176 |       }
  177 |       expect(typeof definition.help).toBe('string');
> 178 |       if (typeof definition.required !== 'undefined') {
      |      ^ Conditional Test Logic
  179 |         expect(typeof definition.required).toBe('boolean');
  180 |       }
  181 |       if (typeof definition.action !== 'undefined') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 181, 'column': 6, 'index': 5534}","  179 |         expect(typeof definition.required).toBe('boolean');
  180 |       }
> 181 |       if (typeof definition.action !== 'undefined') {
      |      ^ Conditional Test Logic
  182 |         expect(typeof definition.action).toBe('function');
  183 |       }
  184 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 196, 'column': 4, 'index': 5905}","  194 | describe('LiveQuery definitions', () => {
  195 |   it('should have valid types', () => {
> 196 |     for (const key in liveQueryDefinitions) {
      |    ^ Conditional Test Logic
  197 |       const definition = liveQueryDefinitions[key];
  198 |       expect(typeof definition).toBe('object');
  199 |       if (typeof definition.env !== 'undefined') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 199, 'column': 6, 'index': 6053}","  197 |       const definition = liveQueryDefinitions[key];
  198 |       expect(typeof definition).toBe('object');
> 199 |       if (typeof definition.env !== 'undefined') {
      |      ^ Conditional Test Logic
  200 |         expect(typeof definition.env).toBe('string');
  201 |       }
  202 |       expect(typeof definition.help).toBe('string', `help for ${key} should be a string`);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 203, 'column': 6, 'index': 6257}","  201 |       }
  202 |       expect(typeof definition.help).toBe('string', `help for ${key} should be a string`);
> 203 |       if (typeof definition.required !== 'undefined') {
      |      ^ Conditional Test Logic
  204 |         expect(typeof definition.required).toBe('boolean');
  205 |       }
  206 |       if (typeof definition.action !== 'undefined') {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 206, 'column': 6, 'index': 6381}","  204 |         expect(typeof definition.required).toBe('boolean');
  205 |       }
> 206 |       if (typeof definition.action !== 'undefined') {
      |      ^ Conditional Test Logic
  207 |         expect(typeof definition.action).toBe('function');
  208 |       }
  209 |     }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 222, 'column': 6, 'index': 6842}","  220 |       data = data.toString();
  221 |       aggregatedData.push(data);
> 222 |       if (requiredData.every(required => aggregatedData.some(aggregated => aggregated.includes(required)))) {
      |      ^ Conditional Test Logic
  223 |         done();
  224 |       }
  225 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 231, 'column': 6, 'index': 7110}","  229 |     childProcess.stderr.on('data', data => {
  230 |       data = data.toString();
> 231 |       if (!data.includes('[DEP0040] DeprecationWarning')) {
      |      ^ Conditional Test Logic
  232 |         done.fail(data);
  233 |       }
  234 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Conditional Test Logic,"{'line': 248, 'column': 4, 'index': 7407}","  246 |
  247 |   afterEach(done => {
> 248 |     if (childProcess) {
      |    ^ Conditional Test Logic
  249 |       childProcess.on('close', () => {
  250 |         childProcess = undefined;
  251 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Magic Number,"{'line': 63, 'column': 35, 'index': 1566}","  61 |     expect(commander.arg0).toEqual('arg0Value');
  62 |     expect(commander.arg1).toEqual('arg1Value');
> 63 |     expect(commander.arg2).toEqual(2);
     |                                   ^ Magic Number
  64 |     expect(commander.arg3).toEqual('some');
  65 |     expect(commander.arg4).toEqual('arg4Value');
  66 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Magic Number,"{'line': 78, 'column': 35, 'index': 2063}","  76 |     expect(commander.arg0).toEqual('arg0ENVValue');
  77 |     expect(commander.arg1).toEqual('arg1ENVValue');
> 78 |     expect(commander.arg2).toEqual(3);
     |                                   ^ Magic Number
  79 |     expect(commander.arg4).toEqual('arg4Value');
  80 |     done();
  81 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Magic Number,"{'line': 93, 'column': 35, 'index': 2605}","  91 |     expect(commander.arg0).toEqual('arg0Value');
  92 |     expect(commander.arg1).toEqual('arg1ENVValue');
> 93 |     expect(commander.arg2).toEqual(4);
     |                                   ^ Magic Number
  94 |     expect(commander.arg4).toEqual('');
  95 |   });
  96 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Magic Number,"{'line': 120, 'column': 30, 'index': 3463}","  118 |     );
  119 |     const options = commander.getOptions();
> 120 |     expect(options.arg2).toBe(8888);
      |                              ^ Magic Number
  121 |     expect(options.arg3).toBe('hello'); //config value
  122 |     expect(options.arg4).toBe('/1');
  123 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/CLI.spec.js,Magic Number,"{'line': 154, 'column': 30, 'index': 4626}","  152 |     const options = commander.getOptions();
  153 |     expect(options.arg1).toBe('my_app');
> 154 |     expect(options.arg2).toBe(8888);
      |                              ^ Magic Number
  155 |     expect(options.arg3).toBe('hello'); //config value
  156 |     expect(options.arg4).toBe('/1');
  157 |     done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Conditional Test Logic,"{'line': 125, 'column': 6, 'index': 3773}","  123 |     spyOn(Auth, 'findUsersWithAuthData').and.callFake((...params) => {
  124 |       // First call is triggered during authData validation
> 125 |       if (i === 0) {
      |      ^ Conditional Test Logic
  126 |         i++;
  127 |         return originalFn(...params);
  128 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Conditional Test Logic,"{'line': 357, 'column': 4, 'index': 13790}","  355 |     const authData = user.get('authData').modernAdapter3;
  356 |     expect(authData).toEqual({ foo: 'bar' });
> 357 |     for (const call of afterSpy.calls.all()) {
      |    ^ Conditional Test Logic
  358 |       const args = call.args[2];
  359 |       if (args.user) {
  360 |         user._objCount = args.user._objCount;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Conditional Test Logic,"{'line': 359, 'column': 6, 'index': 13872}","  357 |     for (const call of afterSpy.calls.all()) {
  358 |       const args = call.args[2];
> 359 |       if (args.user) {
      |      ^ Conditional Test Logic
  360 |         user._objCount = args.user._objCount;
  361 |         break;
  362 |       }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 275, 'column': 4, 'index': 10134}","  273 |     await user.save({ authData: { modernAdapter: { id: 'modernAdapter' } } });
  274 |
> 275 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  276 |     const user2 = new Parse.User();
  277 |     await user2.save({ authData: { modernAdapter: { id: 'modernAdapter' } } });
  278 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 280, 'column': 4, 'index': 10384}","  278 |
  279 |     expect(modernAdapter.validateUpdate).toHaveBeenCalledTimes(0);
> 280 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  281 |     expect(modernAdapter.validateLogin).toHaveBeenCalledTimes(1);
  282 |     const call = modernAdapter.validateLogin.calls.argsFor(0);
  283 |     expect(call[0]).toEqual({ id: 'modernAdapter' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 291, 'column': 4, 'index': 10989}","  289 |     expect(call[2].user).toBeUndefined();
  290 |     expect(call[2].original.id).toEqual(user2.id);
> 291 |     expect(call[2].object.id).toEqual(user2.id);
      |    ^ Duplicate Assert
  292 |     expect(call[2].object.id).toEqual(user.id);
  293 |     expect(call.length).toEqual(3);
  294 |     expect(user2.getSessionToken()).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 292, 'column': 4, 'index': 11038}","  290 |     expect(call[2].original.id).toEqual(user2.id);
  291 |     expect(call[2].object.id).toEqual(user2.id);
> 292 |     expect(call[2].object.id).toEqual(user.id);
      |    ^ Duplicate Assert
  293 |     expect(call.length).toEqual(3);
  294 |     expect(user2.getSessionToken()).toBeDefined();
  295 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 306, 'column': 4, 'index': 11600}","  304 |
  305 |     await user.save({ authData: { modernAdapter: { id: 'modernAdapter' } } });
> 306 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  307 |
  308 |     // Save same data
  309 |     await user.save("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 320, 'column': 4, 'index': 11989}","  318 |     );
  319 |
> 320 |     expect(modernAdapter.validateUpdate).toHaveBeenCalledTimes(0);
      |    ^ Duplicate Assert
  321 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
  322 |     expect(modernAdapter.validateLogin).toHaveBeenCalledTimes(0);
  323 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 321, 'column': 4, 'index': 12056}","  319 |
  320 |     expect(modernAdapter.validateUpdate).toHaveBeenCalledTimes(0);
> 321 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  322 |     expect(modernAdapter.validateLogin).toHaveBeenCalledTimes(0);
  323 |
  324 |     // Change authData"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 322, 'column': 4, 'index': 12122}","  320 |     expect(modernAdapter.validateUpdate).toHaveBeenCalledTimes(0);
  321 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
> 322 |     expect(modernAdapter.validateLogin).toHaveBeenCalledTimes(0);
      |    ^ Duplicate Assert
  323 |
  324 |     // Change authData
  325 |     await user.save("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 330, 'column': 4, 'index': 12353}","  328 |     );
  329 |
> 330 |     expect(modernAdapter.validateUpdate).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  331 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
  332 |     expect(modernAdapter.validateLogin).toHaveBeenCalledTimes(0);
  333 |     const call = modernAdapter.validateUpdate.calls.argsFor(0);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 331, 'column': 4, 'index': 12420}","  329 |
  330 |     expect(modernAdapter.validateUpdate).toHaveBeenCalledTimes(1);
> 331 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  332 |     expect(modernAdapter.validateLogin).toHaveBeenCalledTimes(0);
  333 |     const call = modernAdapter.validateUpdate.calls.argsFor(0);
  334 |     expect(call[0]).toEqual({ id: 'modernAdapter2' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 332, 'column': 4, 'index': 12486}","  330 |     expect(modernAdapter.validateUpdate).toHaveBeenCalledTimes(1);
  331 |     expect(modernAdapter.validateSetUp).toHaveBeenCalledTimes(1);
> 332 |     expect(modernAdapter.validateLogin).toHaveBeenCalledTimes(0);
      |    ^ Duplicate Assert
  333 |     const call = modernAdapter.validateUpdate.calls.argsFor(0);
  334 |     expect(call[0]).toEqual({ id: 'modernAdapter2' });
  335 |     expect(call[1]).toEqual(modernAdapter);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 457, 'column': 4, 'index': 17228}","  455 |     });
  456 |
> 457 |     expect(baseAdapter2.validateAuthData).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  458 |     expect(baseAdapter2.validateAppId).toHaveBeenCalledTimes(1);
  459 |
  460 |     const user2 = new Parse.User();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 467, 'column': 4, 'index': 17501}","  465 |     });
  466 |
> 467 |     expect(baseAdapter2.validateAuthData).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  468 |
  469 |     const user3 = new Parse.User();
  470 |     await user3.save({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 477, 'column': 4, 'index': 17748}","  475 |     });
  476 |
> 477 |     expect(baseAdapter2.validateAuthData).toHaveBeenCalledTimes(2);
      |    ^ Duplicate Assert
  478 |   });
  479 |
  480 |   it('should not perform authData validation twice when data mutated', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 495, 'column': 4, 'index': 18237}","  493 |     });
  494 |
> 495 |     expect(baseAdapter.validateAuthData).toHaveBeenCalledTimes(1);
      |    ^ Duplicate Assert
  496 |
  497 |     const user2 = new Parse.User();
  498 |     await user2.save({"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 504, 'column': 4, 'index': 18465}","  502 |     });
  503 |
> 504 |     expect(baseAdapter.validateAuthData).toHaveBeenCalledTimes(2);
      |    ^ Duplicate Assert
  505 |   });
  506 |
  507 |   it('should require additional provider if configured', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 529, 'column': 4, 'index': 19121}","  527 |       })
  528 |     ).toBeRejectedWithError('Missing additional authData additionalAdapter');
> 529 |     expect(user2.getSessionToken()).toBeUndefined();
      |    ^ Duplicate Assert
  530 |
  531 |     await user2.save({
  532 |       authData: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 538, 'column': 4, 'index': 19322}","  536 |     });
  537 |
> 538 |     expect(user2.getSessionToken()).toBeDefined();
      |    ^ Duplicate Assert
  539 |   });
  540 |
  541 |   it('should skip additional provider if used provider is solo', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 706, 'column': 6, 'index': 23964}","  704 |         },
  705 |       });
> 706 |       expect(baseAdapter.validateAuthData).toHaveBeenCalledTimes(1);
      |      ^ Duplicate Assert
  707 |
  708 |       expect(user.id).toBeDefined();
  709 |       expect(user.getSessionToken()).toBeDefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 720, 'column': 6, 'index': 24351}","  718 |       );
  719 |
> 720 |       expect(baseAdapter.validateAuthData).toHaveBeenCalledTimes(1);
      |      ^ Duplicate Assert
  721 |     });
  722 |
  723 |     it('should not re-validate the baseAdapter when master key is used and authData has not changed', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 893, 'column': 4, 'index': 30053}","  891 |       })
  892 |     ).toBeRejectedWithError('Invalid challenge data: yolo');
> 893 |     expect(logger.error).toHaveBeenCalledWith(
      |    ^ Duplicate Assert
  894 |       `Failed running auth step challenge for challengeAdapter for user undefined with Error: {""message"":""Invalid challenge data: yolo"",""code"":${Parse.Error.SCRIPT_FAILED}}`,
  895 |       {
  896 |         authenticationStep: 'challenge',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 912, 'column': 4, 'index': 30916}","  910 |       new Parse.Error(Parse.Error.SCRIPT_FAILED, 'You cannot signup with that setup data.')
  911 |     );
> 912 |     expect(logger.error).toHaveBeenCalledWith(
      |    ^ Duplicate Assert
  913 |       `Failed running auth step validateSetUp for modernAdapter for user undefined with Error: {""message"":""You cannot signup with that setup data."",""code"":${Parse.Error.SCRIPT_FAILED}}`,
  914 |       {
  915 |         authenticationStep: 'validateSetUp',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 939, 'column': 4, 'index': 31978}","  937 |     );
  938 |
> 939 |     expect(logger.error).toHaveBeenCalledWith(
      |    ^ Duplicate Assert
  940 |       `Failed running auth step validateUpdate for modernAdapter for user ${user.id} with Error: {""message"":""You cannot update with that update data."",""code"":${Parse.Error.SCRIPT_FAILED}}`,
  941 |       {
  942 |         authenticationStep: 'validateUpdate',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 966, 'column': 4, 'index': 33060}","  964 |       new Parse.Error(Parse.Error.SCRIPT_FAILED, 'You cannot login with that login data.')
  965 |     );
> 966 |     expect(logger.error).toHaveBeenCalledWith(
      |    ^ Duplicate Assert
  967 |       `Failed running auth step validateLogin for modernAdapter for user ${user.id} with Error: {""message"":""You cannot login with that login data."",""code"":${Parse.Error.SCRIPT_FAILED}}`,
  968 |       {
  969 |         authenticationStep: 'validateLogin',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 1300, 'column': 4, 'index': 44099}","  1298 |     });
  1299 |     await user.save({ authData: { adapterA: { id: 'testA' } } });
> 1300 |     expect(user.get('authData')).toEqual({ adapterA: { id: 'testA' } });
       |    ^ Duplicate Assert
  1301 |     await user.save({ authData: { adapterA: null, adapterB: { id: 'test' } } });
  1302 |     await user.fetch({ useMasterKey: true });
  1303 |     expect(user.get('authData')).toEqual({ adapterB: { id: 'test' } });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Duplicate Assert,"{'line': 1303, 'column': 4, 'index': 44299}","  1301 |     await user.save({ authData: { adapterA: null, adapterB: { id: 'test' } } });
  1302 |     await user.fetch({ useMasterKey: true });
> 1303 |     expect(user.get('authData')).toEqual({ adapterB: { id: 'test' } });
       |    ^ Duplicate Assert
  1304 |   });
  1305 | });
  1306 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 180, 'column': 37, 'index': 6066}","  178 |     expect(firstCall[2].user).toBeUndefined();
  179 |     expect(firstCall[2].isChallenge).toBeUndefined();
> 180 |     expect(firstCall.length).toEqual(3);
      |                                     ^ Magic Number
  181 |
  182 |     await request({
  183 |       headers: headers,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 203, 'column': 38, 'index': 6979}","  201 |     expect(secondCall[2].isChallenge).toBeUndefined();
  202 |     expect(secondCall[2].user).toBeUndefined();
> 203 |     expect(secondCall.length).toEqual(3);
      |                                      ^ Magic Number
  204 |   });
  205 |
  206 |   it('should trigger correctly validateSetUp', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 231, 'column': 32, 'index': 8302}","  229 |     expect(call[2].original).toBeUndefined();
  230 |     expect(call[2].triggerName).toBe('validateSetUp');
> 231 |     expect(call.length).toEqual(3);
      |                                ^ Magic Number
  232 |     expect(user.getSessionToken()).toBeDefined();
  233 |
  234 |     await user.save("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 254, 'column': 33, 'index': 9411}","  252 |     expect(call2[2].object.id).toEqual(user.id);
  253 |     expect(call2[2].triggerName).toBe('validateSetUp');
> 254 |     expect(call2.length).toEqual(3);
      |                                 ^ Magic Number
  255 |
  256 |     const user2 = new Parse.User();
  257 |     user2.id = user.id;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 293, 'column': 32, 'index': 11114}","  291 |     expect(call[2].object.id).toEqual(user2.id);
  292 |     expect(call[2].object.id).toEqual(user.id);
> 293 |     expect(call.length).toEqual(3);
      |                                ^ Magic Number
  294 |     expect(user2.getSessionToken()).toBeDefined();
  295 |   });
  296 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 344, 'column': 32, 'index': 13167}","  342 |     expect(call[2].original.id).toEqual(user.id);
  343 |     expect(call[2].user.id).toEqual(user.id);
> 344 |     expect(call.length).toEqual(3);
      |                                ^ Magic Number
  345 |     expect(user.getSessionToken()).toBeDefined();
  346 |   });
  347 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 830, 'column': 37, 'index': 27695}","  828 |     expect(firstCall[2].original.id).toEqual(user.id);
  829 |     expect(firstCall[2].user.id).toEqual(user.id);
> 830 |     expect(firstCall.length).toEqual(3);
      |                                     ^ Magic Number
  831 |
  832 |     await user.save({ authData: { baseAdapter2: payload } }, { useMasterKey: true });
  833 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 844, 'column': 38, 'index': 28390}","  842 |     expect(secondCall[2].object.id).toEqual(user.id);
  843 |     expect(secondCall[2].original.id).toEqual(user.id);
> 844 |     expect(secondCall.length).toEqual(3);
      |                                      ^ Magic Number
  845 |   });
  846 |
  847 |   it('should return custom errors', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 1040, 'column': 41, 'index': 35589}","  1038 |     expect(challengeCall[3].user).toBeUndefined();
  1039 |     expect(challengeCall[3].isChallenge).toBeTruthy();
> 1040 |     expect(challengeCall.length).toEqual(4);
       |                                         ^ Magic Number
  1041 |   });
  1042 |
  1043 |   it('should return empty challenge data response if challenged provider does not exists', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 1138, 'column': 41, 'index': 38671}","  1136 |     expect(challengeCall[3].object.id).toEqual(user.id);
  1137 |     expect(challengeCall[3].original.id).toEqual(user.id);
> 1138 |     expect(challengeCall.length).toEqual(4);
       |                                         ^ Magic Number
  1139 |   });
  1140 |
  1141 |   it('should return challenge with authData created user', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 1224, 'column': 41, 'index': 41531}","  1222 |     expect(challengeCall[3].object.id).toEqual(user.id);
  1223 |     expect(challengeCall[3].original.id).toEqual(user.id);
> 1224 |     expect(challengeCall.length).toEqual(4);
       |                                         ^ Magic Number
  1225 |   });
  1226 |
  1227 |   it('should validate provided authData and prevent guess id attack', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Magic Number,"{'line': 1281, 'column': 40, 'index': 43529}","  1279 |     expect(validateCall[2].object.id).toEqual(user.id);
  1280 |     expect(validateCall[2].original.id).toEqual(user.id);
> 1281 |     expect(validateCall.length).toEqual(3);
       |                                        ^ Magic Number
  1282 |   });
  1283 |
  1284 |   it('should work with multiple adapters', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Unknown Test,"{'column': 2, 'line': 142}","  140 |   });
  141 |
> 142 |   it('should ensure no duplicate auth data id during authData validation in case of more than one result', async () => {
      |  ^ Unknown Test
  143 |     await reconfigureServer({
  144 |       auth: { baseAdapter },
  145 |       cloud: () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Unknown Test,"{'column': 2, 'line': 372}","  370 |   });
  371 |
> 372 |   it('should throw if policy does not match one of default/solo/additional', async () => {
      |  ^ Unknown Test
  373 |     const adapterWithBadPolicy = {
  374 |       validateAppId: () => Promise.resolve(),
  375 |       validateAuthData: () => Promise.resolve(),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdaptersV2.spec.js,Unknown Test,"{'column': 2, 'line': 387}","  385 |   });
  386 |
> 387 |   it('should throw if no triggers found', async () => {
      |  ^ Unknown Test
  388 |     await reconfigureServer({ auth: { wrongAdapter } });
  389 |     const user = new Parse.User();
  390 |     await expectAsync("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Conditional Test Logic,"{'line': 22, 'column': 8, 'index': 701}","  20 |
  21 |       authenticate: function (options) {
> 22 |         if (this.shouldError) {
     |        ^ Conditional Test Logic
  23 |           options.error(this, 'An error occurred');
  24 |         } else if (this.shouldCancel) {
  25 |           options.error(this, null);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Conditional Test Logic,"{'line': 24, 'column': 15, 'index': 792}","  22 |         if (this.shouldError) {
  23 |           options.error(this, 'An error occurred');
> 24 |         } else if (this.shouldCancel) {
     |               ^ Conditional Test Logic
  25 |           options.error(this, null);
  26 |         } else {
  27 |           options.success(this, this.authData);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Conditional Test Logic,"{'line': 31, 'column': 8, 'index': 997}","  29 |       },
  30 |       restoreAuthentication: function (authData) {
> 31 |         if (!authData) {
     |        ^ Conditional Test Logic
  32 |           this.synchronizedUserId = null;
  33 |           this.synchronizedAuthToken = null;
  34 |           this.synchronizedExpiration = null;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Conditional Test Logic,"{'line': 83, 'column': 8, 'index': 2377}","  81 |     return request(options)
  82 |       .then(response => {
> 83 |         if (callback) {
     |        ^ Conditional Test Logic
  84 |           callback(null, response, response.data);
  85 |         }
  86 |         return {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Conditional Test Logic,"{'line': 92, 'column': 8, 'index': 2579}","  90 |       })
  91 |       .catch(error => {
> 92 |         if (callback) {
     |        ^ Conditional Test Logic
  93 |           callback(error);
  94 |         }
  95 |         throw error;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Conditional Test Logic,"{'line': 111, 'column': 10, 'index': 3142}","  109 |       q.first({ useMasterKey: true })
  110 |         .then(res => {
> 111 |           if (!res) {
      |          ^ Conditional Test Logic
  112 |             fail('should not fail fetching the session');
  113 |             done();
  114 |             return;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Conditional Test Logic,"{'line': 262, 'column': 4, 'index': 8870}","  260 |   function validateAuthenticationAdapter(authAdapter) {
  261 |     expect(authAdapter).not.toBeUndefined();
> 262 |     if (!authAdapter) {
      |    ^ Conditional Test Logic
  263 |       return;
  264 |     }
  265 |     expect(typeof authAdapter.validateAuthData).toBe('function');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Conditional Test Logic,"{'line': 279, 'column': 8, 'index': 9322}","  277 |       },
  278 |       validateAuthData: function (authData) {
> 279 |         if (authData.id == validAuthData.id && authData.token == validAuthData.token) {
      |        ^ Conditional Test Logic
  280 |           return Promise.resolve();
  281 |         }
  282 |         return Promise.reject();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 104, 'column': 6, 'index': 2855}","  102 |       const b = body;
  103 |       ok(b.sessionToken);
> 104 |       expect(b.objectId).not.toBeNull();
      |      ^ Duplicate Assert
  105 |       expect(b.objectId).not.toBeUndefined();
  106 |       const sessionToken = b.sessionToken;
  107 |       const q = new Parse.Query('_Session');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 105, 'column': 6, 'index': 2896}","  103 |       ok(b.sessionToken);
  104 |       expect(b.objectId).not.toBeNull();
> 105 |       expect(b.objectId).not.toBeUndefined();
      |      ^ Duplicate Assert
  106 |       const sessionToken = b.sessionToken;
  107 |       const q = new Parse.Query('_Session');
  108 |       q.equalTo('sessionToken', sessionToken);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 129, 'column': 6, 'index': 3616}","  127 |     let objectId;
  128 |     createOAuthUser((error, response, body) => {
> 129 |       expect(error).toBe(null);
      |      ^ Duplicate Assert
  130 |       const b = body;
  131 |       expect(b.objectId).not.toBeNull();
  132 |       expect(b.objectId).not.toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 129, 'column': 6, 'index': 3616}","  127 |     let objectId;
  128 |     createOAuthUser((error, response, body) => {
> 129 |       expect(error).toBe(null);
      |      ^ Duplicate Assert
  130 |       const b = body;
  131 |       expect(b.objectId).not.toBeNull();
  132 |       expect(b.objectId).not.toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 131, 'column': 6, 'index': 3670}","  129 |       expect(error).toBe(null);
  130 |       const b = body;
> 131 |       expect(b.objectId).not.toBeNull();
      |      ^ Duplicate Assert
  132 |       expect(b.objectId).not.toBeUndefined();
  133 |       objectId = b.objectId;
  134 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 131, 'column': 6, 'index': 3670}","  129 |       expect(error).toBe(null);
  130 |       const b = body;
> 131 |       expect(b.objectId).not.toBeNull();
      |      ^ Duplicate Assert
  132 |       expect(b.objectId).not.toBeUndefined();
  133 |       objectId = b.objectId;
  134 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 132, 'column': 6, 'index': 3711}","  130 |       const b = body;
  131 |       expect(b.objectId).not.toBeNull();
> 132 |       expect(b.objectId).not.toBeUndefined();
      |      ^ Duplicate Assert
  133 |       objectId = b.objectId;
  134 |
  135 |       createOAuthUser((error, response, body) => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 132, 'column': 6, 'index': 3711}","  130 |       const b = body;
  131 |       expect(b.objectId).not.toBeNull();
> 132 |       expect(b.objectId).not.toBeUndefined();
      |      ^ Duplicate Assert
  133 |       objectId = b.objectId;
  134 |
  135 |       createOAuthUser((error, response, body) => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 136, 'column': 8, 'index': 3840}","  134 |
  135 |       createOAuthUser((error, response, body) => {
> 136 |         expect(error).toBe(null);
      |        ^ Duplicate Assert
  137 |         const b = body;
  138 |         expect(b.objectId).not.toBeNull();
  139 |         expect(b.objectId).not.toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 136, 'column': 8, 'index': 3840}","  134 |
  135 |       createOAuthUser((error, response, body) => {
> 136 |         expect(error).toBe(null);
      |        ^ Duplicate Assert
  137 |         const b = body;
  138 |         expect(b.objectId).not.toBeNull();
  139 |         expect(b.objectId).not.toBeUndefined();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 138, 'column': 8, 'index': 3898}","  136 |         expect(error).toBe(null);
  137 |         const b = body;
> 138 |         expect(b.objectId).not.toBeNull();
      |        ^ Duplicate Assert
  139 |         expect(b.objectId).not.toBeUndefined();
  140 |         expect(b.objectId).toBe(objectId);
  141 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 138, 'column': 8, 'index': 3898}","  136 |         expect(error).toBe(null);
  137 |         const b = body;
> 138 |         expect(b.objectId).not.toBeNull();
      |        ^ Duplicate Assert
  139 |         expect(b.objectId).not.toBeUndefined();
  140 |         expect(b.objectId).toBe(objectId);
  141 |         done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 139, 'column': 8, 'index': 3941}","  137 |         const b = body;
  138 |         expect(b.objectId).not.toBeNull();
> 139 |         expect(b.objectId).not.toBeUndefined();
      |        ^ Duplicate Assert
  140 |         expect(b.objectId).toBe(objectId);
  141 |         done();
  142 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 139, 'column': 8, 'index': 3941}","  137 |         const b = body;
  138 |         expect(b.objectId).not.toBeNull();
> 139 |         expect(b.objectId).not.toBeUndefined();
      |        ^ Duplicate Assert
  140 |         expect(b.objectId).toBe(objectId);
  141 |         done();
  142 |       });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 140, 'column': 8, 'index': 3989}","  138 |         expect(b.objectId).not.toBeNull();
  139 |         expect(b.objectId).not.toBeUndefined();
> 140 |         expect(b.objectId).toBe(objectId);
      |        ^ Duplicate Assert
  141 |         done();
  142 |       });
  143 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 183, 'column': 4, 'index': 5502}","  181 |       sessionToken: user2.getSessionToken(),
  182 |     });
> 183 |     expect(user.id).toEqual(user2.id);
      |    ^ Duplicate Assert
  184 |     expect(user.id).toEqual(user3.id);
  185 |   });
  186 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 184, 'column': 4, 'index': 5541}","  182 |     });
  183 |     expect(user.id).toEqual(user2.id);
> 184 |     expect(user.id).toEqual(user3.id);
      |    ^ Duplicate Assert
  185 |   });
  186 |
  187 |   it('should support sync/async validateAppId', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 239, 'column': 4, 'index': 7938}","  237 |     );
  238 |     expect(res.length).toBe(1);
> 239 |     expect(res[0]._auth_data_myoauth).toBeUndefined();
      |    ^ Duplicate Assert
  240 |     expect(res[0]._auth_data_myoauth).not.toBeNull();
  241 |
  242 |     await model._linkWith('myoauth');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 240, 'column': 4, 'index': 7993}","  238 |     expect(res.length).toBe(1);
  239 |     expect(res[0]._auth_data_myoauth).toBeUndefined();
> 240 |     expect(res[0]._auth_data_myoauth).not.toBeNull();
      |    ^ Duplicate Assert
  241 |
  242 |     await model._linkWith('myoauth');
  243 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 1738, 'column': 4, 'index': 56138}","  1736 |     await user.save({ authData: { mfa: { mobile: '+11111111111' } } }, { sessionToken });
  1737 |     await user.fetch({ sessionToken });
> 1738 |     expect(user.get('authData')).toEqual({ mfa: { status: 'disabled' } });
       |    ^ Duplicate Assert
  1739 |     expect(spy).toHaveBeenCalledWith(code, '+11111111111');
  1740 |     await user.fetch({ useMasterKey: true });
  1741 |     const authData = user.get('authData').mfa?.pending;"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Duplicate Assert,"{'line': 1748, 'column': 4, 'index': 56671}","  1746 |     await user.save({ authData: { mfa: { mobile, token: code } } }, { sessionToken });
  1747 |     await user.fetch({ sessionToken });
> 1748 |     expect(user.get('authData')).toEqual({ mfa: { status: 'enabled' } });
       |    ^ Duplicate Assert
  1749 |   });
  1750 |
  1751 |   it('future logins require SMS code', async () => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 486, 'column': 4, 'index': 15470}","  484 |
  485 |   it('should throw error with missing id_token', async () => {
> 486 |     try {
      |    ^ Exception Handling
  487 |       await google.validateAuthData({}, {});
  488 |       fail();
  489 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 495, 'column': 4, 'index': 15695}","  493 |
  494 |   it('should not decode invalid id_token', async () => {
> 495 |     try {
      |    ^ Exception Handling
  496 |       await google.validateAuthData({ id: 'the_user_id', id_token: 'the_token' }, {});
  497 |       fail();
  498 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 544, 'column': 4, 'index': 17490}","  542 |     spyOn(jwt, 'verify').and.callFake(() => fakeClaim);
  543 |
> 544 |     try {
      |    ^ Exception Handling
  545 |       await google.validateAuthData(
  546 |         { id: 'the_user_id', id_token: 'the_token' },
  547 |         { clientId: 'secret' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 610, 'column': 4, 'index': 19576}","  608 |       id: 'fakeid',
  609 |     };
> 610 |     try {
      |    ^ Exception Handling
  611 |       await keycloak.validateAuthData(authData);
  612 |       fail();
  613 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 622, 'column': 4, 'index': 19879}","  620 |       access_token: 'sometoken',
  621 |     };
> 622 |     try {
      |    ^ Exception Handling
  623 |       await keycloak.validateAuthData(authData);
  624 |       fail();
  625 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 641, 'column': 4, 'index': 20379}","  639 |     };
  640 |     const { adapter, providerOptions } = authenticationLoader.loadAuthAdapter('keycloak', options);
> 641 |     try {
      |    ^ Exception Handling
  642 |       await adapter.validateAuthData(authData, providerOptions);
  643 |       fail();
  644 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 668, 'column': 4, 'index': 21129}","  666 |     };
  667 |     const { adapter, providerOptions } = authenticationLoader.loadAuthAdapter('keycloak', options);
> 668 |     try {
      |    ^ Exception Handling
  669 |       await adapter.validateAuthData(authData, providerOptions);
  670 |       fail();
  671 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 695, 'column': 4, 'index': 21923}","  693 |     };
  694 |     const { adapter, providerOptions } = authenticationLoader.loadAuthAdapter('keycloak', options);
> 695 |     try {
      |    ^ Exception Handling
  696 |       await adapter.validateAuthData(authData, providerOptions);
  697 |       fail();
  698 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 720, 'column': 4, 'index': 22603}","  718 |     };
  719 |     const { adapter, providerOptions } = authenticationLoader.loadAuthAdapter('keycloak', options);
> 720 |     try {
      |    ^ Exception Handling
  721 |       await adapter.validateAuthData(authData, providerOptions);
  722 |       fail();
  723 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 753, 'column': 4, 'index': 23455}","  751 |     };
  752 |     const { adapter, providerOptions } = authenticationLoader.loadAuthAdapter('keycloak', options);
> 753 |     try {
      |    ^ Exception Handling
  754 |       await adapter.validateAuthData(authData, providerOptions);
  755 |       fail();
  756 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 786, 'column': 4, 'index': 24305}","  784 |     };
  785 |     const { adapter, providerOptions } = authenticationLoader.loadAuthAdapter('keycloak', options);
> 786 |     try {
      |    ^ Exception Handling
  787 |       await adapter.validateAuthData(authData, providerOptions);
  788 |       fail();
  789 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 836, 'column': 4, 'index': 25741}","  834 |
  835 |   it('(using client id as string) should throw error with missing id_token', async () => {
> 836 |     try {
      |    ^ Exception Handling
  837 |       await apple.validateAuthData({}, { clientId: 'secret' });
  838 |       fail();
  839 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 845, 'column': 4, 'index': 26018}","  843 |
  844 |   it('(using client id as array) should throw error with missing id_token', async () => {
> 845 |     try {
      |    ^ Exception Handling
  846 |       await apple.validateAuthData({}, { clientId: ['secret'] });
  847 |       fail();
  848 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 854, 'column': 4, 'index': 26264}","  852 |
  853 |   it('should not decode invalid id_token', async () => {
> 854 |     try {
      |    ^ Exception Handling
  855 |       await apple.validateAuthData(
  856 |         { id: 'the_user_id', token: 'the_token' },
  857 |         { clientId: 'secret' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 867, 'column': 4, 'index': 26681}","  865 |   it('should throw error if public key used to encode token is not available', async () => {
  866 |     const fakeDecodedToken = { header: { kid: '789', alg: 'RS256' } };
> 867 |     try {
      |    ^ Exception Handling
  868 |       spyOn(authUtils, 'getHeaderFromToken').and.callFake(() => fakeDecodedToken.header);
  869 |
  870 |       await apple.validateAuthData("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 909, 'column': 4, 'index': 28301}","  907 |     spyOn(authUtils, 'getSigningKey').and.resolveTo(fakeSigningKey);
  908 |
> 909 |     try {
      |    ^ Exception Handling
  910 |       await apple.validateAuthData(
  911 |         { id: 'the_user_id', token: 'the_token' },
  912 |         { clientId: 'secret' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 921, 'column': 4, 'index': 28614}","  919 |
  920 |   it('(using client id as array) should not verify invalid id_token', async () => {
> 921 |     try {
      |    ^ Exception Handling
  922 |       await apple.validateAuthData(
  923 |         { id: 'the_user_id', token: 'the_token' },
  924 |         { clientId: ['secret'] }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1003, 'column': 4, 'index': 31754}","  1001 |     spyOn(jwt, 'verify').and.callFake(() => fakeClaim);
  1002 |
> 1003 |     try {
       |    ^ Exception Handling
  1004 |       await apple.validateAuthData(
  1005 |         { id: 'the_user_id', token: 'the_token' },
  1006 |         { clientId: 'secret' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1056, 'column': 4, 'index': 33779}","  1054 |     spyOn(jwt, 'verify').and.callFake(() => fakeClaim);
  1055 |
> 1056 |     try {
       |    ^ Exception Handling
  1057 |       await apple.validateAuthData(
  1058 |         {
  1059 |           id: 'INSERT ID HERE',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1126, 'column': 4, 'index': 36243}","  1124 |     spyOn(jwt, 'verify').and.callFake(() => fakeClaim);
  1125 |
> 1126 |     try {
       |    ^ Exception Handling
  1127 |       await apple.validateAuthData(
  1128 |         { id: 'the_user_id', token: 'the_token' },
  1129 |         { clientId: 'secret' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1156, 'column': 4, 'index': 37055}","  1154 |
  1155 |     spyOn(httpsRequest, 'get').and.callFake(() => Promise.resolve({ sub: 'invalidID' }));
> 1156 |     try {
       |    ^ Exception Handling
  1157 |       await adapter.validateAuthData(authData);
  1158 |       fail();
  1159 |     } catch (e) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1191, 'column': 4, 'index': 38220}","  1189 |
  1190 |   it('should not decode invalid id_token', async () => {
> 1191 |     try {
       |    ^ Exception Handling
  1192 |       await facebook.validateAuthData(
  1193 |         { id: 'the_user_id', token: 'the_token' },
  1194 |         { clientId: 'secret' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1206, 'column': 4, 'index': 38651}","  1204 |       header: { kid: '789', alg: 'RS256' },
  1205 |     };
> 1206 |     try {
       |    ^ Exception Handling
  1207 |       spyOn(authUtils, 'getHeaderFromToken').and.callFake(() => fakeDecodedToken.header);
  1208 |
  1209 |       await facebook.validateAuthData("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1248, 'column': 4, 'index': 40326}","  1246 |     spyOn(authUtils, 'getSigningKey').and.resolveTo(fakeSigningKey);
  1247 |
> 1248 |     try {
       |    ^ Exception Handling
  1249 |       await facebook.validateAuthData(
  1250 |         { id: 'the_user_id', token: 'the_token' },
  1251 |         { clientId: 'secret' }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1260, 'column': 4, 'index': 40642}","  1258 |
  1259 |   it('(using client id as array) should not verify invalid id_token', async () => {
> 1260 |     try {
       |    ^ Exception Handling
  1261 |       await facebook.validateAuthData(
  1262 |         { id: 'the_user_id', token: 'the_token' },
  1263 |         { clientId: ['secret'] }"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1395, 'column': 4, 'index': 45984}","  1393 |     spyOn(jwt, 'verify').and.callFake(() => fakeClaim);
  1394 |
> 1395 |     try {
       |    ^ Exception Handling
  1396 |       await facebook.validateAuthData(
  1397 |         {
  1398 |           id: 'INSERT ID HERE',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Exception Handling,"{'line': 1695, 'column': 8, 'index': 55040}","  1693 |         }),
  1694 |       }).catch(e => {
> 1695 |         throw e.data;
       |        ^ Exception Handling
  1696 |       })
  1697 |     ).toBeRejectedWith({ code: Parse.Error.SCRIPT_FAILED, error: 'Invalid MFA token' });
  1698 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Magic Number,"{'line': 161, 'column': 31, 'index': 4603}","  159 |       })
  160 |       .then(fail, ({ data }) => {
> 161 |         expect(data.code).toBe(208);
      |                               ^ Magic Number
  162 |         expect(data.error).toBe('this auth is already used');
  163 |         done();
  164 |       })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Magic Number,"{'line': 238, 'column': 28, 'index': 7930}","  236 |       {}
  237 |     );
> 238 |     expect(res.length).toBe(1);
      |                            ^ Magic Number
  239 |     expect(res[0]._auth_data_myoauth).toBeUndefined();
  240 |     expect(res[0]._auth_data_myoauth).not.toBeNull();
  241 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Magic Number,"{'line': 1524, 'column': 60, 'index': 49981}","  1522 |     expect(response.mfa).toBeDefined();
  1523 |     expect(response.mfa.recovery).toBeDefined();
> 1524 |     expect(response.mfa.recovery.split(',').length).toEqual(2);
       |                                                            ^ Magic Number
  1525 |     await user.fetch();
  1526 |     expect(user.get('authData').mfa).toEqual({ status: 'enabled' });
  1527 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Unknown Test,"{'column': 2, 'line': 311}","  309 |   });
  310 |
> 311 |   it('properly loads custom adapter module object', done => {
      |  ^ Unknown Test
  312 |     const authenticationHandler = authenticationLoader({
  313 |       customAuthentication: path.resolve('./spec/support/CustomAuth.js'),
  314 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Unknown Test,"{'column': 2, 'line': 336}","  334 |   });
  335 |
> 336 |   it('properly loads custom adapter module object (again)', done => {
      |  ^ Unknown Test
  337 |     const authenticationHandler = authenticationLoader({
  338 |       customAuthentication: {
  339 |         module: path.resolve('./spec/support/CustomAuthFunction.js'),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Unknown Test,"{'column': 2, 'line': 403}","  401 |   });
  402 |
> 403 |   it('should throw error when Facebook request appId is wrong data type', async () => {
      |  ^ Unknown Test
  404 |     const httpsRequest = require('../lib/Adapters/Auth/httpsRequest');
  405 |     spyOn(httpsRequest, 'get').and.callFake(() => {
  406 |       return Promise.resolve({ id: 'a' });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Unknown Test,"{'column': 2, 'line': 463}","  461 |   });
  462 |
> 463 |   it('can disable provider', async () => {
      |  ^ Unknown Test
  464 |     await reconfigureServer({
  465 |       auth: {
  466 |         myoauth: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Unknown Test,"{'column': 2, 'line': 1645}","  1643 |   });
  1644 |
> 1645 |   it('future logins require TOTP token', async () => {
       |  ^ Unknown Test
  1646 |     const user = await Parse.User.signUp('username', 'password');
  1647 |     const OTPAuth = require('otpauth');
  1648 |     const secret = new OTPAuth.Secret();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AuthenticationAdapters.spec.js,Unknown Test,"{'column': 2, 'line': 1665}","  1663 |   });
  1664 |
> 1665 |   it('future logins reject incorrect TOTP token', async () => {
       |  ^ Unknown Test
  1666 |     const user = await Parse.User.signUp('username', 'password');
  1667 |     const OTPAuth = require('otpauth');
  1668 |     const secret = new OTPAuth.Secret();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Conditional Test Logic,"{'line': 160, 'column': 6, 'index': 4753}","  158 |       });
  159 |       const roles = [];
> 160 |       for (let i = 0; i < rolesNumber; i++) {
      |      ^ Conditional Test Logic
  161 |         const acl = new Parse.ACL();
  162 |         const role = new Parse.Role('roleloadtest' + i, acl);
  163 |         role.getUsers().add([user]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Conditional Test Logic,"{'line': 184, 'column': 6, 'index': 5615}","  182 |       });
  183 |       const roles = [];
> 184 |       for (let i = 0; i < rolesNumber; i++) {
      |      ^ Conditional Test Logic
  185 |         const acl = new Parse.ACL();
  186 |         const role = new Parse.Role('roleloadtest' + i, acl);
  187 |         role.getUsers().add([user]);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Conditional Test Logic,"{'line': 217, 'column': 6, 'index': 6773}","  215 |       });
  216 |       const roles = [];
> 217 |       for (let i = 0; i < rolesNumber; i += 1) {
      |      ^ Conditional Test Logic
  218 |         const acl = new Parse.ACL();
  219 |         const acl2 = new Parse.ACL();
  220 |         const role = new Parse.Role('roleloadtest' + i, acl);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Duplicate Assert,"{'line': 52, 'column': 10, 'index': 1417}","  50 |         .getUserRoles()
  51 |         .then(roles => {
> 52 |           expect(roles).toEqual(currentRoles);
     |          ^ Duplicate Assert
  53 |           return auth.getUserRoles();
  54 |         })
  55 |         .then(() => auth.getUserRoles())"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Duplicate Assert,"{'line': 52, 'column': 10, 'index': 1417}","  50 |         .getUserRoles()
  51 |         .then(roles => {
> 52 |           expect(roles).toEqual(currentRoles);
     |          ^ Duplicate Assert
  53 |           return auth.getUserRoles();
  54 |         })
  55 |         .then(() => auth.getUserRoles())"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Duplicate Assert,"{'line': 64, 'column': 10, 'index': 1941}","  62 |           const firstGet = config.cacheController.role.get.calls.first();
  63 |           expect(firstGet.args[0]).toEqual(currentUserId);
> 64 |           expect(roles).toEqual(currentRoles);
     |          ^ Duplicate Assert
  65 |           done();
  66 |         });
  67 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Duplicate Assert,"{'line': 64, 'column': 10, 'index': 1941}","  62 |           const firstGet = config.cacheController.role.get.calls.first();
  63 |           expect(firstGet.args[0]).toEqual(currentUserId);
> 64 |           expect(roles).toEqual(currentRoles);
     |          ^ Duplicate Assert
  65 |           done();
  66 |         });
  67 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Magic Number,"{'line': 59, 'column': 72, 'index': 1736}","  57 |         .then(roles => {
  58 |           // Should only call the cache adapter once.
> 59 |           expect(config.cacheController.role.get.calls.count()).toEqual(1);
     |                                                                        ^ Magic Number
  60 |           expect(loadRolesSpy.calls.count()).toEqual(1);
  61 |
  62 |           const firstGet = config.cacheController.role.get.calls.first();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Magic Number,"{'line': 60, 'column': 53, 'index': 1793}","  58 |           // Should only call the cache adapter once.
  59 |           expect(config.cacheController.role.get.calls.count()).toEqual(1);
> 60 |           expect(loadRolesSpy.calls.count()).toEqual(1);
     |                                                     ^ Magic Number
  61 |
  62 |           const firstGet = config.cacheController.role.get.calls.first();
  63 |           expect(firstGet.args[0]).toEqual(currentUserId);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Sleepy Test,"{'line': 110, 'column': 33, 'index': 3163}","  108 |     );
  109 |     Parse.Server.cacheController.clear();
> 110 |     await new Promise(resolve => setTimeout(resolve, 1000));
      |                                 ^ Sleepy Test
  111 |     await session.fetch();
  112 |     await new Promise(resolve => setTimeout(resolve, 1000));
  113 |     await session.fetch();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Auth.spec.js,Sleepy Test,"{'line': 112, 'column': 33, 'index': 3251}","  110 |     await new Promise(resolve => setTimeout(resolve, 1000));
  111 |     await session.fetch();
> 112 |     await new Promise(resolve => setTimeout(resolve, 1000));
      |                                 ^ Sleepy Test
  113 |     await session.fetch();
  114 |     expect(session.get('expiresAt') > expiry).toBeTrue();
  115 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Duplicate Assert,"{'line': 220, 'column': 8, 'index': 5940}","  218 |     ).then(() => {
  219 |       Parse._request('GET', 'push_audiences', {}, { useMasterKey: true }).then(results => {
> 220 |         expect(results.results.length).toEqual(1);
      |        ^ Duplicate Assert
  221 |         expect(results.results[0].name).toEqual('My Audience');
  222 |         expect(results.results[0].query.deviceType).toEqual('ios');
  223 |         Parse._request("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Duplicate Assert,"{'line': 229, 'column': 10, 'index': 6300}","  227 |           { useMasterKey: true }
  228 |         ).then(results => {
> 229 |           expect(results.name).toEqual('My Audience');
      |          ^ Duplicate Assert
  230 |           expect(results.query.deviceType).toEqual('ios');
  231 |           Parse._request(
  232 |             'PUT',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Duplicate Assert,"{'line': 230, 'column': 10, 'index': 6355}","  228 |         ).then(results => {
  229 |           expect(results.name).toEqual('My Audience');
> 230 |           expect(results.query.deviceType).toEqual('ios');
      |          ^ Duplicate Assert
  231 |           Parse._request(
  232 |             'PUT',
  233 |             `push_audiences/${results.objectId}`,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Duplicate Assert,"{'line': 230, 'column': 10, 'index': 6355}","  228 |         ).then(results => {
  229 |           expect(results.name).toEqual('My Audience');
> 230 |           expect(results.query.deviceType).toEqual('ios');
      |          ^ Duplicate Assert
  231 |           Parse._request(
  232 |             'PUT',
  233 |             `push_audiences/${results.objectId}`,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Duplicate Assert,"{'line': 243, 'column': 14, 'index': 6800}","  241 |               { useMasterKey: true }
  242 |             ).then(results => {
> 243 |               expect(results.name).toEqual('My Audience 2');
      |              ^ Duplicate Assert
  244 |               expect(results.query.deviceType).toEqual('ios');
  245 |               Parse._request(
  246 |                 'DELETE',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Duplicate Assert,"{'line': 244, 'column': 14, 'index': 6861}","  242 |             ).then(results => {
  243 |               expect(results.name).toEqual('My Audience 2');
> 244 |               expect(results.query.deviceType).toEqual('ios');
      |              ^ Duplicate Assert
  245 |               Parse._request(
  246 |                 'DELETE',
  247 |                 `push_audiences/${results.objectId}`,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Duplicate Assert,"{'line': 244, 'column': 14, 'index': 6861}","  242 |             ).then(results => {
  243 |               expect(results.name).toEqual('My Audience 2');
> 244 |               expect(results.query.deviceType).toEqual('ios');
      |              ^ Duplicate Assert
  245 |               Parse._request(
  246 |                 'DELETE',
  247 |                 `push_audiences/${results.objectId}`,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Duplicate Assert,"{'line': 253, 'column': 20, 'index': 7249}","  251 |                 Parse._request('GET', 'push_audiences', {}, { useMasterKey: true }).then(
  252 |                   results => {
> 253 |                     expect(results.results.length).toEqual(0);
      |                    ^ Duplicate Assert
  254 |                     done();
  255 |                   }
  256 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Exception Handling,"{'line': 409, 'column': 4, 'index': 11614}","  407 |       publicServerURL: 'http://localhost:8378/1',
  408 |     });
> 409 |     try {
      |    ^ Exception Handling
  410 |       await request({
  411 |         method: 'POST',
  412 |         url: 'http://localhost:8378/1/classes/_Audience',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Magic Number,"{'line': 41, 'column': 39, 'index': 1225}","  39 |       .then(res => {
  40 |         const results = res.response.results;
> 41 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  42 |         done();
  43 |       })
  44 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Magic Number,"{'line': 83, 'column': 39, 'index': 2292}","  81 |       .then(res => {
  82 |         const results = res.response.results;
> 83 |         expect(results.length).toEqual(1);
     |                                       ^ Magic Number
  84 |         done();
  85 |       })
  86 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Magic Number,"{'line': 124, 'column': 48, 'index': 3313}","  122 |       .then(res => {
  123 |         const response = res.response;
> 124 |         expect(response.results.length).toEqual(0);
      |                                                ^ Magic Number
  125 |         done();
  126 |       })
  127 |       .catch(err => {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Magic Number,"{'line': 220, 'column': 47, 'index': 5979}","  218 |     ).then(() => {
  219 |       Parse._request('GET', 'push_audiences', {}, { useMasterKey: true }).then(results => {
> 220 |         expect(results.results.length).toEqual(1);
      |                                               ^ Magic Number
  221 |         expect(results.results[0].name).toEqual('My Audience');
  222 |         expect(results.results[0].query.deviceType).toEqual('ios');
  223 |         Parse._request("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Magic Number,"{'line': 253, 'column': 59, 'index': 7288}","  251 |                 Parse._request('GET', 'push_audiences', {}, { useMasterKey: true }).then(
  252 |                   results => {
> 253 |                     expect(results.results.length).toEqual(0);
      |                                                           ^ Magic Number
  254 |                     done();
  255 |                   }
  256 |                 );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Magic Number,"{'line': 392, 'column': 49, 'index': 11190}","  390 |       )
  391 |         .then(results => {
> 392 |           expect(results.results.length).toEqual(1);
      |                                                 ^ Magic Number
  393 |           const audience = results.results[0];
  394 |           expect(audience.name).toEqual('neverUsed');
  395 |           done();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Magic Number,"{'line': 422, 'column': 31, 'index': 12028}","  420 |       expect(true).toBeFalsy();
  421 |     } catch (e) {
> 422 |       expect(e.data.code).toBe(107);
      |                               ^ Magic Number
  423 |       expect(e.data.error).toBe('Could not add field lorem');
  424 |     }
  425 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AudienceRouter.spec.js,Redundant Assertion,"{'column': 6, 'line': 420}","  418 |         },
  419 |       });
> 420 |       expect(true).toBeFalsy();
      |      ^ Redundant Assertion
  421 |     } catch (e) {
  422 |       expect(e.data.code).toBe(107);
  423 |       expect(e.data.error).toBe('Could not add field lorem');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AdapterLoader.spec.js,Conditional Test Logic,"{'line': 89, 'column': 6, 'index': 2908}","  87 |   it('should fail loading an improperly configured adapter', done => {
  88 |     const Adapter = function (options) {
> 89 |       if (!options.foo) {
     |      ^ Conditional Test Logic
  90 |         throw 'foo is required for that adapter';
  91 |       }
  92 |     };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AdapterLoader.spec.js,Exception Handling,"{'line': 90, 'column': 8, 'index': 2936}","  88 |     const Adapter = function (options) {
  89 |       if (!options.foo) {
> 90 |         throw 'foo is required for that adapter';
     |        ^ Exception Handling
  91 |       }
  92 |     };
  93 |     const adapterOptions = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AdaptableController.spec.js,Duplicate Assert,"{'line': 15, 'column': 4, 'index': 674}","  13 |     const adapter = new FilesAdapter();
  14 |     const controller = new FilesController(adapter);
> 15 |     expect(controller.adapter).toBe(adapter);
     |    ^ Duplicate Assert
  16 |     // make sure _adapter is private
  17 |     expect(controller._adapter).toBe(undefined);
  18 |     // Override _adapter is not doing anything"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AdaptableController.spec.js,Duplicate Assert,"{'line': 15, 'column': 4, 'index': 674}","  13 |     const adapter = new FilesAdapter();
  14 |     const controller = new FilesController(adapter);
> 15 |     expect(controller.adapter).toBe(adapter);
     |    ^ Duplicate Assert
  16 |     // make sure _adapter is private
  17 |     expect(controller._adapter).toBe(undefined);
  18 |     // Override _adapter is not doing anything"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AdaptableController.spec.js,Duplicate Assert,"{'line': 20, 'column': 4, 'index': 888}","  18 |     // Override _adapter is not doing anything
  19 |     controller._adapter = 'Hello';
> 20 |     expect(controller.adapter).toBe(adapter);
     |    ^ Duplicate Assert
  21 |     done();
  22 |   });
  23 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AdaptableController.spec.js,Duplicate Assert,"{'line': 20, 'column': 4, 'index': 888}","  18 |     // Override _adapter is not doing anything
  19 |     controller._adapter = 'Hello';
> 20 |     expect(controller.adapter).toBe(adapter);
     |    ^ Duplicate Assert
  21 |     done();
  22 |   });
  23 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 12, 'column': 8, 'index': 404}","  10 |       .then(() => reject('login should have failed'))
  11 |       .catch(err => {
> 12 |         if (err.message === 'Invalid username/password.') {
     |        ^ Conditional Test Logic
  13 |           resolve();
  14 |         } else {
  15 |           reject(err);"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 27, 'column': 10, 'index': 829}","  25 |         .then(() => reject('login should have failed'))
  26 |         .catch(err => {
> 27 |           if (
     |          ^ Conditional Test Logic
  28 |             err.message ===
  29 |             'Your account is locked due to multiple failed login attempts. Please try again after ' +
  30 |               duration +"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 85, 'column': 8, 'index': 2561}","  83 |       })
  84 |       .catch(err => {
> 85 |         if (
     |        ^ Conditional Test Logic
  86 |           err &&
  87 |           err === 'Account lockout duration should be greater than 0 and less than 100000'
  88 |         ) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 112, 'column': 8, 'index': 3300}","  110 |       })
  111 |       .catch(err => {
> 112 |         if (
      |        ^ Conditional Test Logic
  113 |           err &&
  114 |           err === 'Account lockout threshold should be an integer greater than 0 and less than 1000'
  115 |         ) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 139, 'column': 8, 'index': 4010}","  137 |       })
  138 |       .catch(err => {
> 139 |         if (
      |        ^ Conditional Test Logic
  140 |           err &&
  141 |           err === 'Account lockout threshold should be an integer greater than 0 and less than 1000'
  142 |         ) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 166, 'column': 8, 'index': 4723}","  164 |       })
  165 |       .catch(err => {
> 166 |         if (
      |        ^ Conditional Test Logic
  167 |           err &&
  168 |           err === 'Account lockout threshold should be an integer greater than 0 and less than 1000'
  169 |         ) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 193, 'column': 8, 'index': 5429}","  191 |       })
  192 |       .catch(err => {
> 193 |         if (
      |        ^ Conditional Test Logic
  194 |           err &&
  195 |           err === 'Account lockout duration should be greater than 0 and less than 100000'
  196 |         ) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 220, 'column': 8, 'index': 6134}","  218 |       })
  219 |       .catch(err => {
> 220 |         if (
      |        ^ Conditional Test Logic
  221 |           err &&
  222 |           err === 'Account lockout duration should be greater than 0 and less than 100000'
  223 |         ) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 375, 'column': 4, 'index': 10788}","  373 |     const values = [true, false];
  374 |
> 375 |     for (const value of values) {
      |    ^ Conditional Test Logic
  376 |       await expectAsync(setup({ unlockOnPasswordReset: value })).toBeResolved();
  377 |     }
  378 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Conditional Test Logic,"{'line': 383, 'column': 4, 'index': 11027}","  381 |     const values = ['a', 0, {}, [], null];
  382 |
> 383 |     for (const value of values) {
      |    ^ Conditional Test Logic
  384 |       await expectAsync(setup({ unlockOnPasswordReset: value })).toBeRejected();
  385 |     }
  386 |   });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Sleepy Test,"{'line': 326, 'column': 10, 'index': 9513}","  324 |         // allow locked user to login after 3 seconds with a valid userid and password
  325 |         return new Promise((resolve, reject) => {
> 326 |           setTimeout(() => {
      |          ^ Sleepy Test
  327 |             Parse.User.logIn('username4', 'correct password')
  328 |               .then(() => resolve())
  329 |               .catch(err => reject(err));"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 43}","  41 |
  42 | describe('Account Lockout Policy: ', () => {
> 43 |   it('account should not be locked even after failed login attempts if account lockout policy is not set', done => {
     |  ^ Unknown Test
  44 |     reconfigureServer({
  45 |       appName: 'unlimited',
  46 |       publicServerURL: 'http://localhost:1337/1',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 70}","  68 |   });
  69 |
> 70 |   it('throw error if duration is set to an invalid number', done => {
     |  ^ Unknown Test
  71 |     reconfigureServer({
  72 |       appName: 'duration',
  73 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 97}","   95 |   });
   96 |
>  97 |   it('throw error if threshold is set to an invalid number', done => {
      |  ^ Unknown Test
   98 |     reconfigureServer({
   99 |       appName: 'threshold',
  100 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 124}","  122 |   });
  123 |
> 124 |   it('throw error if threshold is < 1', done => {
      |  ^ Unknown Test
  125 |     reconfigureServer({
  126 |       appName: 'threshold',
  127 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 151}","  149 |   });
  150 |
> 151 |   it('throw error if threshold is > 999', done => {
      |  ^ Unknown Test
  152 |     reconfigureServer({
  153 |       appName: 'threshold',
  154 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 178}","  176 |   });
  177 |
> 178 |   it('throw error if duration is <= 0', done => {
      |  ^ Unknown Test
  179 |     reconfigureServer({
  180 |       appName: 'duration',
  181 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 205}","  203 |   });
  204 |
> 205 |   it('throw error if duration is > 99999', done => {
      |  ^ Unknown Test
  206 |     reconfigureServer({
  207 |       appName: 'duration',
  208 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 232}","  230 |   });
  231 |
> 232 |   it('lock account if failed login attempts are above threshold', done => {
      |  ^ Unknown Test
  233 |     reconfigureServer({
  234 |       appName: 'lockout threshold',
  235 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 265}","  263 |   });
  264 |
> 265 |   it('lock account for accountPolicy.duration minutes if failed login attempts are above threshold', done => {
      |  ^ Unknown Test
  266 |     reconfigureServer({
  267 |       appName: 'lockout threshold',
  268 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 302}","  300 |   });
  301 |
> 302 |   it('allow login for locked account after accountPolicy.duration minutes', done => {
      |  ^ Unknown Test
  303 |     reconfigureServer({
  304 |       appName: 'lockout threshold',
  305 |       accountLockout: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 372}","  370 |   }
  371 |
> 372 |   it('accepts valid unlockOnPasswordReset option', async () => {
      |  ^ Unknown Test
  373 |     const values = [true, false];
  374 |
  375 |     for (const value of values) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 380}","  378 |   });
  379 |
> 380 |   it('rejects invalid unlockOnPasswordReset option', async () => {
      |  ^ Unknown Test
  381 |     const values = ['a', 0, {}, [], null];
  382 |
  383 |     for (const value of values) {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 397}","  395 |   });
  396 |
> 397 |   it('allow login for locked account after password reset', async () => {
      |  ^ Unknown Test
  398 |     await setup({ unlockOnPasswordReset: true });
  399 |     const config = Config.get(Parse.applicationId);
  400 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/AccountLockoutPolicy.spec.js,Unknown Test,"{'column': 2, 'line': 432}","  430 |   });
  431 |
> 432 |   it('reject login for locked account after password reset (default)', async () => {
      |  ^ Unknown Test
  433 |     await setup();
  434 |     const config = Config.get(Parse.applicationId);
  435 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/weibo.spec.js,Conditional Test Logic,"{'line': 18, 'column': 6, 'index': 496}","  16 |       ];
  17 |
> 18 |       for (const authData of invalidAuthData) {
     |      ^ Conditional Test Logic
  19 |         await expectAsync(adapter.getAccessTokenFromCode(authData)).toBeRejectedWith(
  20 |           jasmine.objectContaining({
  21 |             message: 'Weibo auth requires code and redirect_uri to be sent.',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/weibo.spec.js,Unknown Test,"{'column': 4, 'line': 11}","   9 |
  10 |   describe('Test configuration errors', function () {
> 11 |     it('should throw error if code or redirect_uri is missing', async function () {
     |    ^ Unknown Test
  12 |       const invalidAuthData = [
  13 |         {},
  14 |         { code: 'validCode' },"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/weibo.spec.js,Unknown Test,"{'column': 4, 'line': 54}","  52 |     });
  53 |
> 54 |     it('should throw error for invalid response', async function () {
     |    ^ Unknown Test
  55 |       mockFetch([
  56 |         {
  57 |           url: 'https://api.weibo.com/oauth2/get_token_info',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/weibo.spec.js,Unknown Test,"{'column': 4, 'line': 101}","   99 |     });
  100 |
> 101 |     it('should throw error for invalid response', async function () {
      |    ^ Unknown Test
  102 |       mockFetch([
  103 |         {
  104 |           url: 'https://api.weibo.com/oauth2/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/weibo.spec.js,Unknown Test,"{'column': 4, 'line': 160}","  158 |     });
  159 |
> 160 |     it('should handle invalid code error gracefully', async function () {
      |    ^ Unknown Test
  161 |       mockFetch([
  162 |         {
  163 |           url: 'https://api.weibo.com/oauth2/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/weibo.spec.js,Unknown Test,"{'column': 4, 'line': 178}","  176 |     });
  177 |
> 178 |     it('should handle error when fetching user data fails', async function () {
      |    ^ Unknown Test
  179 |       mockFetch([
  180 |         {
  181 |           url: 'https://api.weibo.com/oauth2/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/wechat.spec.js,Unknown Test,"{'column': 4, 'line': 32}","  30 |     });
  31 |
> 32 |     it('should throw error for invalid response', async function () {
     |    ^ Unknown Test
  33 |       mockFetch([
  34 |         {
  35 |           url: 'https://api.weixin.qq.com/sns/auth?access_token=invalidToken&openid=undefined',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/wechat.spec.js,Unknown Test,"{'column': 4, 'line': 74}","  72 |     });
  73 |
> 74 |     it('should throw error for invalid response', async function () {
     |    ^ Unknown Test
  75 |       mockFetch([
  76 |         {
  77 |           url: 'https://api.weixin.qq.com/sns/oauth2/access_token?appid=validAppId&secret=validAppSecret&code=invalidCode&grant_type=authorization_code',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/wechat.spec.js,Unknown Test,"{'column': 4, 'line': 134}","  132 |     });
  133 |
> 134 |     it('should handle invalid code error gracefully', async function () {
      |    ^ Unknown Test
  135 |       mockFetch([
  136 |         {
  137 |           url: 'https://api.weixin.qq.com/sns/oauth2/access_token?appid=validAppId&secret=validAppSecret&code=invalidCode&grant_type=authorization_code',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/wechat.spec.js,Unknown Test,"{'column': 4, 'line': 153}","  151 |     });
  152 |
> 153 |     it('should handle error when fetching user data fails', async function () {
      |    ^ Unknown Test
  154 |       mockFetch([
  155 |         {
  156 |           url: 'https://api.weixin.qq.com/sns/oauth2/access_token?appid=validAppId&secret=validAppSecret&code=validCode&grant_type=authorization_code',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/wechat.spec.js,Unknown Test,"{'column': 4, 'line': 208}","  206 |     });
  207 |
> 208 |     it('should reject insecure auth when user id does not match', async function () {
      |    ^ Unknown Test
  209 |       mockFetch([
  210 |         {
  211 |           url: 'https://api.weixin.qq.com/sns/auth?access_token=validAccessToken&openid=incorrectUserId',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/twitter.spec.js,Unknown Test,"{'column': 4, 'line': 32}","  30 |
  31 |   describe('Validate Insecure Auth', function () {
> 32 |     it('should throw an error if oauth_token or oauth_token_secret are missing', async function () {
     |    ^ Unknown Test
  33 |       const authData = { oauth_token: 'validToken' }; // Missing oauth_token_secret
  34 |       await expectAsync(adapter.validateInsecureAuth(authData, validOptions)).toBeRejectedWithError(
  35 |         'Twitter insecure auth requires oauth_token and oauth_token_secret.'"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/twitter.spec.js,Unknown Test,"{'column': 4, 'line': 39}","  37 |     });
  38 |
> 39 |     it('should validate insecure auth successfully when data matches', async function () {
     |    ^ Unknown Test
  40 |       spyOn(adapter, 'request').and.returnValue(
  41 |         Promise.resolve({
  42 |           json: () => Promise.resolve({ id: 'validUserId' }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/twitter.spec.js,Unknown Test,"{'column': 4, 'line': 54}","  52 |     });
  53 |
> 54 |     it('should throw an error when user ID does not match', async function () {
     |    ^ Unknown Test
  55 |       spyOn(adapter, 'request').and.returnValue(
  56 |         Promise.resolve({
  57 |           json: () => Promise.resolve({ id: 'invalidUserId' }),"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/spotify.spec.js,Unknown Test,"{'column': 4, 'line': 32}","  30 |     });
  31 |
> 32 |     it('should throw an error if the API request fails', async () => {
     |    ^ Unknown Test
  33 |       mockFetch([
  34 |         {
  35 |           url: 'https://api.spotify.com/v1/me',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/spotify.spec.js,Unknown Test,"{'column': 4, 'line': 80}","  78 |     });
  79 |
> 80 |     it('should throw an error if authData is missing required fields', async () => {
     |    ^ Unknown Test
  81 |       const authData = {
  82 |         redirect_uri: 'https://your-redirect-uri.com/callback',
  83 |       };"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/spotify.spec.js,Unknown Test,"{'column': 4, 'line': 90}","  88 |     });
  89 |
> 90 |     it('should throw an error if the API request fails', async () => {
     |    ^ Unknown Test
  91 |       mockFetch([
  92 |         {
  93 |           url: 'https://accounts.spotify.com/api/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/qq.spec.js,Unknown Test,"{'column': 4, 'line': 30}","  28 |     });
  29 |
> 30 |     it('should throw an error if the API request fails', async () => {
     |    ^ Unknown Test
  31 |       mockFetch([
  32 |         {
  33 |           url: 'https://graph.qq.com/oauth2.0/me',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/qq.spec.js,Unknown Test,"{'column': 4, 'line': 71}","  69 |     });
  70 |
> 71 |     it('should throw an error if the API request fails', async () => {
     |    ^ Unknown Test
  72 |       mockFetch([
  73 |         {
  74 |           url: 'https://graph.qq.com/oauth2.0/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/qq.spec.js,Unknown Test,"{'column': 4, 'line': 153}","  151 |     });
  152 |
> 153 |     it('should handle error when Qq returns invalid code', async () => {
      |    ^ Unknown Test
  154 |       mockFetch([
  155 |         {
  156 |           url: 'https://graph.qq.com/oauth2.0/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/qq.spec.js,Unknown Test,"{'column': 4, 'line': 172}","  170 |     });
  171 |
> 172 |     it('should handle error when Qq returns invalid user data', async () => {
      |    ^ Unknown Test
  173 |       mockFetch([
  174 |         {
  175 |           url: 'https://graph.qq.com/oauth2.0/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/qq.spec.js,Unknown Test,"{'column': 4, 'line': 202}","  200 |     });
  201 |
> 202 |     it('e2e secure does not support insecure payload', async () => {
      |    ^ Unknown Test
  203 |       mockFetch();
  204 |       const authData = { id: 'mockUserId', access_token: 'mockAccessToken' };
  205 |       await expectAsync(Parse.User.logInWith('qq', { authData })).toBeRejectedWithError("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 20}","  18 |
  19 |   describe('validateAppId', () => {
> 20 |     it('should validate app ID successfully', async () => {
     |    ^ Unknown Test
  21 |       const authData = { access_token: 'validAccessToken' };
  22 |       const mockResponse = {
  23 |         [validOptions.appidField]: 'valid-app-id',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 42}","  40 |     });
  41 |
> 42 |     it('should throw an error if app ID is invalid', async () => {
     |    ^ Unknown Test
  43 |       const authData = { access_token: 'validAccessToken' };
  44 |       const mockResponse = {
  45 |         [validOptions.appidField]: 'invalid-app-id',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 66}","  64 |
  65 |   describe('validateAuthData', () => {
> 66 |     it('should validate auth data successfully', async () => {
     |    ^ Unknown Test
  67 |       const authData = { id: 'user-id', access_token: 'validAccessToken' };
  68 |       const mockResponse = {
  69 |         active: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 89}","  87 |     });
  88 |
> 89 |     it('should throw an error if the token is inactive', async () => {
     |    ^ Unknown Test
  90 |       const authData = { id: 'user-id', access_token: 'validAccessToken' };
  91 |       const mockResponse = { active: false };
  92 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 109}","  107 |     });
  108 |
> 109 |     it('should throw an error if user ID does not match', async () => {
      |    ^ Unknown Test
  110 |       const authData = { id: 'user-id', access_token: 'validAccessToken' };
  111 |       const mockResponse = {
  112 |         active: true,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 164}","  162 |     });
  163 |
> 164 |     it('should throw an error if the response is not ok', async () => {
      |    ^ Unknown Test
  165 |       mockFetch([
  166 |         {
  167 |           url: validOptions.tokenIntrospectionEndpointUrl,"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 222}","  220 |     });
  221 |
> 222 |     it('should reject authentication for inactive token', async () => {
      |    ^ Unknown Test
  223 |       mockFetch([
  224 |         {
  225 |           url: 'https://provider.com/introspect',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 240}","  238 |     });
  239 |
> 240 |     it('should reject authentication for mismatched user ID', async () => {
      |    ^ Unknown Test
  241 |       mockFetch([
  242 |         {
  243 |           url: 'https://provider.com/introspect',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 262}","  260 |     });
  261 |
> 262 |     it('should reject authentication for invalid app ID', async () => {
      |    ^ Unknown Test
  263 |       mockFetch([
  264 |         {
  265 |           url: 'https://provider.com/introspect',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/oauth2.spec.js,Unknown Test,"{'column': 4, 'line': 284}","  282 |     });
  283 |
> 284 |     it('should handle error when token introspection endpoint is missing', async () => {
      |    ^ Unknown Test
  285 |       await reconfigureServer({
  286 |         auth: {
  287 |           mockOauth: {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Conditional Test Logic,"{'line': 19, 'column': 6, 'index': 564}","  17 |       const invalidOptions = [null, undefined, {}, { clientId: 'validClientId' }];
  18 |
> 19 |       for (const options of invalidOptions) {
     |      ^ Conditional Test Logic
  20 |         expect(() => {
  21 |           adapter.validateOptions(options);
  22 |         }).toThrow();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Unknown Test,"{'column': 4, 'line': 60}","  58 |     });
  59 |
> 60 |     it('should throw error for invalid response', async function () {
     |    ^ Unknown Test
  61 |       mockFetch([
  62 |         {
  63 |           url: 'https://graph.microsoft.com/v1.0/me',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Unknown Test,"{'column': 4, 'line': 99}","   97 |     });
   98 |
>  99 |     it('should throw error for invalid response', async function () {
      |    ^ Unknown Test
  100 |       mockFetch([
  101 |         {
  102 |           url: 'https://login.microsoftonline.com/common/oauth2/v2.0/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Unknown Test,"{'column': 4, 'line': 127}","  125 |     });
  126 |
> 127 |     it('should throw error if user data cannot be fetched', async function () {
      |    ^ Unknown Test
  128 |       spyOn(adapter, 'getAccessTokenFromCode').and.returnValue(Promise.resolve('validToken'));
  129 |       spyOn(adapter, 'getUserFromAccessToken').and.throwError('Microsoft API request failed.');
  130 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Unknown Test,"{'column': 4, 'line': 143}","  141 |     });
  142 |
> 143 |     it('should validate insecure auth and match user id', async function () {
      |    ^ Unknown Test
  144 |       spyOn(adapter, 'getUserFromAccessToken').and.returnValue(
  145 |         Promise.resolve({ id: 'validUserId' })
  146 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Unknown Test,"{'column': 4, 'line': 152}","  150 |     });
  151 |
> 152 |     it('should throw error if insecure auth user id does not match', async function () {
      |    ^ Unknown Test
  153 |       spyOn(adapter, 'getUserFromAccessToken').and.returnValue(
  154 |         Promise.resolve({ id: 'invalidUserId' })
  155 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Unknown Test,"{'column': 4, 'line': 204}","  202 |     });
  203 |
> 204 |     it('should handle invalid code error gracefully', async () => {
      |    ^ Unknown Test
  205 |       mockFetch([
  206 |         {
  207 |           url: 'https://login.microsoftonline.com/common/oauth2/v2.0/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Unknown Test,"{'column': 4, 'line': 220}","  218 |     });
  219 |
> 220 |     it('should handle error when fetching user data fails', async () => {
      |    ^ Unknown Test
  221 |       mockFetch([
  222 |         {
  223 |           url: 'https://login.microsoftonline.com/common/oauth2/v2.0/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/microsoft.spec.js,Unknown Test,"{'column': 4, 'line': 275}","  273 |     });
  274 |
> 275 |     it('should reject insecure auth when user id does not match', async () => {
      |    ^ Unknown Test
  276 |
  277 |       mockFetch([
  278 |         {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Conditional Test Logic,"{'line': 19, 'column': 6, 'index': 560}","  17 |       const invalidOptions = [null, undefined, {}, { clientId: 'validClientId' }];
  18 |
> 19 |       for (const options of invalidOptions) {
     |      ^ Conditional Test Logic
  20 |         expect(() => {
  21 |           adapter.validateOptions(options);
  22 |         }).toThrow();"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Conditional Test Logic,"{'line': 42, 'column': 6, 'index': 1319}","  40 |       const payloads = [{}, { access_token: null }];
  41 |
> 42 |       for (const payload of payloads) {
     |      ^ Conditional Test Logic
  43 |         await expectAsync(adapter.beforeFind(payload)).toBeRejectedWith(
  44 |           new Parse.Error(Parse.Error.OBJECT_NOT_FOUND, 'LinkedIn auth is invalid for this user.')
  45 |         );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Duplicate Assert,"{'line': 239, 'column': 6, 'index': 7483}","  237 |
  238 |       expect(user.id).toBeDefined();
> 239 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  240 |         'https://www.linkedin.com/oauth/v2/accessToken',
  241 |         jasmine.any(Object)
  242 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Duplicate Assert,"{'line': 243, 'column': 6, 'index': 7626}","  241 |         jasmine.any(Object)
  242 |       );
> 243 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  244 |         'https://api.linkedin.com/v2/me',
  245 |         jasmine.any(Object)
  246 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Duplicate Assert,"{'line': 278, 'column': 6, 'index': 8606}","  276 |       );
  277 |
> 278 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  279 |         'https://www.linkedin.com/oauth/v2/accessToken',
  280 |         jasmine.any(Object)
  281 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Duplicate Assert,"{'line': 282, 'column': 6, 'index': 8749}","  280 |         jasmine.any(Object)
  281 |       );
> 282 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  283 |         'https://api.linkedin.com/v2/me',
  284 |         jasmine.any(Object)
  285 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Unknown Test,"{'column': 4, 'line': 37}","  35 |
  36 |   describe('Test beforeFind', function () {
> 37 |     it('should throw error for invalid payload', async function () {
     |    ^ Unknown Test
  38 |       adapter.enableInsecureAuth = true;
  39 |
  40 |       const payloads = [{}, { access_token: null }];"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Unknown Test,"{'column': 4, 'line': 65}","  63 |     });
  64 |
> 65 |     it('should validate insecure auth and match user id', async function () {
     |    ^ Unknown Test
  66 |       adapter.enableInsecureAuth = true;
  67 |       spyOn(adapter, 'getUserFromAccessToken').and.returnValue(
  68 |         Promise.resolve({ id: 'validUserId' })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Unknown Test,"{'column': 4, 'line': 76}","  74 |     });
  75 |
> 76 |     it('should throw error if insecure auth user id does not match', async function () {
     |    ^ Unknown Test
  77 |       adapter.enableInsecureAuth = true;
  78 |       spyOn(adapter, 'getUserFromAccessToken').and.returnValue(
  79 |         Promise.resolve({ id: 'invalidUserId' })"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Unknown Test,"{'column': 4, 'line': 116}","  114 |     });
  115 |
> 116 |     it('should throw error for invalid response', async function () {
      |    ^ Unknown Test
  117 |       mockFetch([
  118 |         {
  119 |           url: 'https://api.linkedin.com/v2/me',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/linkedIn.spec.js,Unknown Test,"{'column': 4, 'line': 156}","  154 |     });
  155 |
> 156 |     it('should throw error for invalid response', async function () {
      |    ^ Unknown Test
  157 |       mockFetch([
  158 |         {
  159 |           url: 'https://www.linkedin.com/oauth/v2/accessToken',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 12}","  10 |
  11 |   describe('getAccessTokenFromCode', function () {
> 12 |     it('should throw an error if code is missing in authData', async function () {
     |    ^ Unknown Test
  13 |       const authData = { redirect_uri: 'http://example.com' };
  14 |
  15 |       await expectAsync(adapter.getAccessTokenFromCode(authData)).toBeRejectedWithError("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 45}","  43 |     });
  44 |
> 45 |     it('should throw an error if response is not ok', async function () {
     |    ^ Unknown Test
  46 |       mockFetch([
  47 |         {
  48 |           url: 'https://api.line.me/oauth2/v2.1/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 67}","  65 |     });
  66 |
> 67 |     it('should throw an error if response contains an error object', async function () {
     |    ^ Unknown Test
  68 |       mockFetch([
  69 |         {
  70 |           url: 'https://api.line.me/oauth2/v2.1/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 120}","  118 |     });
  119 |
> 120 |     it('should throw an error if response is not ok', async function () {
      |    ^ Unknown Test
  121 |       mockFetch([
  122 |         {
  123 |           url: 'https://api.line.me/v2/profile',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 139}","  137 |     });
  138 |
> 139 |     it('should throw an error if user data is invalid', async function () {
      |    ^ Unknown Test
  140 |       mockFetch([
  141 |         {
  142 |           url: 'https://api.line.me/v2/profile',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 208}","  206 |     });
  207 |
> 208 |     it('should handle error when token exchange fails', async function () {
      |    ^ Unknown Test
  209 |       mockFetch([
  210 |         {
  211 |           url: 'https://api.line.me/oauth2/v2.1/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 230}","  228 |     });
  229 |
> 230 |     it('should handle error when user data fetch fails', async function () {
      |    ^ Unknown Test
  231 |       mockFetch([
  232 |         {
  233 |           url: 'https://api.line.me/oauth2/v2.1/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 263}","  261 |     });
  262 |
> 263 |     it('should handle error when user data is invalid', async function () {
      |    ^ Unknown Test
  264 |       mockFetch([
  265 |         {
  266 |           url: 'https://api.line.me/oauth2/v2.1/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/line.spec.js,Unknown Test,"{'column': 4, 'line': 296}","  294 |     });
  295 |
> 296 |     it('should handle error when no code is provided', async function () {
      |    ^ Unknown Test
  297 |       mockFetch();
  298 |
  299 |       const authData = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/instagram.spec.js,Unknown Test,"{'column': 4, 'line': 35}","  33 |     });
  34 |
> 35 |     it('should throw an error if the response contains an error', async function () {
     |    ^ Unknown Test
  36 |       mockFetch([
  37 |         {
  38 |           url: 'https://api.instagram.com/oauth/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/instagram.spec.js,Unknown Test,"{'column': 4, 'line': 82}","  80 |     });
  81 |
> 82 |     it('should throw an error if user ID does not match authData', async function () {
     |    ^ Unknown Test
  83 |       mockFetch([
  84 |         {
  85 |           url: 'https://graph.instagram.com/me?fields=id&access_token=mockAccessToken',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/instagram.spec.js,Unknown Test,"{'column': 4, 'line': 155}","  153 |     });
  154 |
> 155 |     it('should handle error when access token exchange fails', async function () {
      |    ^ Unknown Test
  156 |       mockFetch([
  157 |         {
  158 |           url: 'https://api.instagram.com/oauth/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/instagram.spec.js,Unknown Test,"{'column': 4, 'line': 176}","  174 |     });
  175 |
> 176 |     it('should handle error when user data fetch fails', async function () {
      |    ^ Unknown Test
  177 |       mockFetch([
  178 |         {
  179 |           url: 'https://api.instagram.com/oauth/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/instagram.spec.js,Unknown Test,"{'column': 4, 'line': 209}","  207 |     });
  208 |
> 209 |     it('should handle error when user data is invalid', async function () {
      |    ^ Unknown Test
  210 |       mockFetch([
  211 |         {
  212 |           url: 'https://api.instagram.com/oauth/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/instagram.spec.js,Unknown Test,"{'column': 4, 'line': 245}","  243 |     });
  244 |
> 245 |     it('should handle error when no code or access token is provided', async function () {
      |    ^ Unknown Test
  246 |       mockFetch();
  247 |
  248 |       const authData = {"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Duplicate Assert,"{'line': 214, 'column': 6, 'index': 6079}","  212 |
  213 |       expect(user.id).toBeDefined();
> 214 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  215 |         'https://oauth2.googleapis.com/token',
  216 |         jasmine.any(Object)
  217 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Duplicate Assert,"{'line': 218, 'column': 6, 'index': 6212}","  216 |         jasmine.any(Object)
  217 |       );
> 218 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  219 |         'https://www.googleapis.com/games/v1/players/mockUserId',
  220 |         jasmine.any(Object)
  221 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Duplicate Assert,"{'line': 284, 'column': 6, 'index': 8006}","  282 |       );
  283 |
> 284 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  285 |         'https://oauth2.googleapis.com/token',
  286 |         jasmine.any(Object)
  287 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Duplicate Assert,"{'line': 288, 'column': 6, 'index': 8139}","  286 |         jasmine.any(Object)
  287 |       );
> 288 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  289 |         'https://www.googleapis.com/games/v1/players/mockUserId',
  290 |         jasmine.any(Object)
  291 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Duplicate Assert,"{'line': 330, 'column': 6, 'index': 9282}","  328 |       );
  329 |
> 330 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  331 |         'https://oauth2.googleapis.com/token',
  332 |         jasmine.any(Object)
  333 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Duplicate Assert,"{'line': 334, 'column': 6, 'index': 9415}","  332 |         jasmine.any(Object)
  333 |       );
> 334 |       expect(global.fetch).toHaveBeenCalledWith(
      |      ^ Duplicate Assert
  335 |         'https://www.googleapis.com/games/v1/players/mockUserId',
  336 |         jasmine.any(Object)
  337 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Unknown Test,"{'column': 4, 'line': 35}","  33 |     });
  34 |
> 35 |     it('should throw an error if the response is not ok', async function () {
     |    ^ Unknown Test
  36 |       mockFetch([
  37 |         {
  38 |           url: 'https://oauth2.googleapis.com/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Unknown Test,"{'column': 4, 'line': 55}","  53 |     });
  54 |
> 55 |     it('should throw an error if the response contains an error', async function () {
     |    ^ Unknown Test
  56 |       mockFetch([
  57 |         {
  58 |           url: 'https://oauth2.googleapis.com/token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Unknown Test,"{'column': 4, 'line': 103}","  101 |     });
  102 |
> 103 |     it('should throw an error if the response is not ok', async function () {
      |    ^ Unknown Test
  104 |       mockFetch([
  105 |         {
  106 |           url: 'https://www.googleapis.com/games/v1/players/mockUserId',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Unknown Test,"{'column': 4, 'line': 123}","  121 |     });
  122 |
> 123 |     it('should throw an error if user data is invalid', async function () {
      |    ^ Unknown Test
  124 |       mockFetch([
  125 |         {
  126 |           url: 'https://www.googleapis.com/games/v1/players/mockUserId',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gpgames.spec.js,Unknown Test,"{'column': 4, 'line': 143}","  141 |     });
  142 |
> 143 |     it('should throw an error if playerId does not match the provided user ID', async function () {
      |    ^ Unknown Test
  144 |       mockFetch([
  145 |         {
  146 |           url: 'https://www.googleapis.com/games/v1/players/mockUserId',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/github.spec.js,Unknown Test,"{'column': 4, 'line': 37}","  35 |     });
  36 |
> 37 |     it('should throw an error if the response is not ok', async function () {
     |    ^ Unknown Test
  38 |       mockFetch([
  39 |         {
  40 |           url: 'https://github.com/login/oauth/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/github.spec.js,Unknown Test,"{'column': 4, 'line': 56}","  54 |     });
  55 |
> 56 |     it('should throw an error if the response contains an error', async function () {
     |    ^ Unknown Test
  57 |       mockFetch([
  58 |         {
  59 |           url: 'https://github.com/login/oauth/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/github.spec.js,Unknown Test,"{'column': 4, 'line': 101}","   99 |     });
  100 |
> 101 |     it('should throw an error if the response is not ok', async function () {
      |    ^ Unknown Test
  102 |       mockFetch([
  103 |         {
  104 |           url: 'https://api.github.com/user',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/github.spec.js,Unknown Test,"{'column': 4, 'line': 120}","  118 |     });
  119 |
> 120 |     it('should throw an error if user data is invalid', async function () {
      |    ^ Unknown Test
  121 |       mockFetch([
  122 |         {
  123 |           url: 'https://api.github.com/user',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/github.spec.js,Unknown Test,"{'column': 4, 'line': 185}","  183 |     });
  184 |
> 185 |     it('should handle error when GitHub returns invalid code', async function () {
      |    ^ Unknown Test
  186 |       mockFetch([
  187 |         {
  188 |           url: 'https://github.com/login/oauth/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/github.spec.js,Unknown Test,"{'column': 4, 'line': 204}","  202 |     });
  203 |
> 204 |     it('should handle error when GitHub returns invalid user data', async function () {
      |    ^ Unknown Test
  205 |       mockFetch([
  206 |         {
  207 |           url: 'https://github.com/login/oauth/access_token',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/github.spec.js,Unknown Test,"{'column': 4, 'line': 234}","  232 |     });
  233 |
> 234 |     it('e2e secure does not support insecure payload', async function () {
      |    ^ Unknown Test
  235 |       mockFetch();
  236 |       const authData = { id: 'mockUserId', access_token: 'mockAccessToken123' };
  237 |       await expectAsync(Parse.User.logInWith('github', { authData })).toBeRejectedWithError("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gcenter.spec.js,Conditional Test Logic,"{'line': 49, 'column': 6, 'index': 1655}","  47 |       ];
  48 |
> 49 |       for (const options of invalidOptions) {
     |      ^ Conditional Test Logic
  50 |         expect(() => adapter.validateOptions(options)).withContext(JSON.stringify(options)).toThrow()
  51 |       }
  52 |     });"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gcenter.spec.js,Unknown Test,"{'column': 4, 'line': 61}","  59 |
  60 |   describe('Test payload failing due to missing params or wrong types', function () {
> 61 |     it('should throw error for missing authData fields', async function () {
     |    ^ Unknown Test
  62 |       await expectAsync(adapter.validateAuthData({})).toBeRejectedWithError(
  63 |         'AuthData id is missing.'
  64 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gcenter.spec.js,Unknown Test,"{'column': 4, 'line': 69}","  67 |
  68 |   describe('Test payload fails due to incorrect appId / certificate', function () {
> 69 |     it('should throw error for invalid publicKeyUrl', async function () {
     |    ^ Unknown Test
  70 |       const invalidPublicKeyUrl = 'https://malicious.url.com/key.cer';
  71 |
  72 |       spyOn(adapter, 'fetchCertificate').and.throwError("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gcenter.spec.js,Unknown Test,"{'column': 4, 'line': 81}","  79 |     });
  80 |
> 81 |     it('should throw error for invalid signature verification', async function () {
     |    ^ Unknown Test
  82 |       const fakePublicKey = 'invalid-key';
  83 |       const fakeAuthData = {
  84 |         id: '1234567',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/gcenter.spec.js,Unknown Test,"{'column': 4, 'line': 101}","   99 |
  100 |   describe('Test payload passing', function () {
> 101 |     it('should successfully process valid payload and save auth data', async function () {
      |    ^ Unknown Test
  102 |       const validAuthData = {
  103 |         id: '1234567',
  104 |         publicKeyUrl: 'https://static.gc.apple.com/public-key/gc-prod-4.cer',"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Conditional Test Logic,"{'line': 13, 'column': 6, 'index': 407}","  11 |   class TestAuthCodeAdapter extends BaseAuthCodeAdapter {
  12 |     async getUserFromAccessToken(accessToken) {
> 13 |       if (accessToken === 'validAccessToken') {
     |      ^ Conditional Test Logic
  14 |         return { id: 'validUserId' };
  15 |       }
  16 |       throw new Error('Invalid access token');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Conditional Test Logic,"{'line': 20, 'column': 6, 'index': 600}","  18 |
  19 |     async getAccessTokenFromCode(authData) {
> 20 |       if (authData.code === 'validCode') {
     |      ^ Conditional Test Logic
  21 |         return 'validAccessToken';
  22 |       }
  23 |       throw new Error('Invalid code');"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Unknown Test,"{'column': 4, 'line': 63}","  61 |
  62 |   describe('beforeFind', function () {
> 63 |     it('should throw error if code is missing in secure mode', async function () {
     |    ^ Unknown Test
  64 |       adapter.validateOptions(validOptions);
  65 |       const authData = { access_token: 'validAccessToken' };
  66 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Unknown Test,"{'column': 4, 'line': 72}","  70 |     });
  71 |
> 72 |     it('should throw error if access token is missing in insecure mode', async function () {
     |    ^ Unknown Test
  73 |       adapter.validateOptions({ enableInsecureAuth: true });
  74 |       const authData = {};
  75 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Unknown Test,"{'column': 4, 'line': 81}","  79 |     });
  80 |
> 81 |     it('should throw error if user ID does not match in insecure mode', async function () {
     |    ^ Unknown Test
  82 |       adapter.validateOptions({ enableInsecureAuth: true });
  83 |       const authData = { id: 'invalidUserId', access_token: 'validAccessToken' };
  84 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Unknown Test,"{'column': 4, 'line': 101}","   99 |     });
  100 |
> 101 |     it('should process valid insecure payload', async function () {
      |    ^ Unknown Test
  102 |       adapter.validateOptions({ enableInsecureAuth: true });
  103 |       const authData = { id: 'validUserId', access_token: 'validAccessToken' };
  104 |"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Unknown Test,"{'column': 4, 'line': 110}","  108 |
  109 |   describe('getUserFromAccessToken', function () {
> 110 |     it('should throw error if not implemented in base class', async function () {
      |    ^ Unknown Test
  111 |       const baseAdapter = new BaseAuthCodeAdapter(adapterName);
  112 |
  113 |       await expectAsync(baseAdapter.getUserFromAccessToken('test')).toBeRejectedWithError("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Unknown Test,"{'column': 4, 'line': 123}","  121 |     });
  122 |
> 123 |     it('should throw error for invalid access token', async function () {
      |    ^ Unknown Test
  124 |       await expectAsync(adapter.getUserFromAccessToken('invalidAccessToken', {})).toBeRejectedWithError(
  125 |         'Invalid access token'
  126 |       );"
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Unknown Test,"{'column': 4, 'line': 131}","  129 |
  130 |   describe('getAccessTokenFromCode', function () {
> 131 |     it('should throw error if not implemented in base class', async function () {
      |    ^ Unknown Test
  132 |       const baseAdapter = new BaseAuthCodeAdapter(adapterName);
  133 |
  134 |       await expectAsync(baseAdapter.getAccessTokenFromCode({ code: 'test' })).toBeRejectedWithError("
/Users/gabriel.amaralmercos.com/Desktop/research-javascript-test-smells/repositories/parse-server/spec/Adapters/Auth/BaseCodeAdapter.spec.js,Unknown Test,"{'column': 4, 'line': 144}","  142 |     });
  143 |
> 144 |     it('should throw error for invalid code', async function () {
      |    ^ Unknown Test
  145 |       await expectAsync(adapter.getAccessTokenFromCode({ code: 'invalidCode' })).toBeRejectedWithError(
  146 |         'Invalid code'
  147 |       );"
